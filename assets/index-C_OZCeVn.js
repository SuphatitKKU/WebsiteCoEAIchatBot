(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function P2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ym={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function xE(){if(Mv)return Ul;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Ov;function bE(){return Ov||(Ov=1,ym.exports=xE()),ym.exports}var h=bE(),vm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function wE(){if(Vv)return Ie;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function L(D,se,de){this.props=D,this.context=se,this.refs=Y,this.updater=de||O}L.prototype.isReactComponent={},L.prototype.setState=function(D,se){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,se,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=L.prototype;function B(D,se,de){this.props=D,this.context=se,this.refs=Y,this.updater=de||O}var re=B.prototype=new $;re.constructor=B,H(re,L.prototype),re.isPureReactComponent=!0;var ae=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function I(D,se,de,ue,ye,Oe){return de=Oe.ref,{$$typeof:r,type:D,key:se,ref:de!==void 0?de:null,props:Oe}}function R(D,se){return I(D.type,se,void 0,void 0,void 0,D.props)}function T(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var se={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(de){return se[de]})}var C=/\/+/g;function V(D,se){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):se.toString(36)}function N(){}function ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(se){D.status==="pending"&&(D.status="fulfilled",D.value=se)},function(se){D.status==="pending"&&(D.status="rejected",D.reason=se)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function me(D,se,de,ue,ye){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case r:case e:Ee=!0;break;case _:return Ee=D._init,me(Ee(D._payload),se,de,ue,ye)}}if(Ee)return ye=ye(D),Ee=ue===""?"."+V(D,0):ue,ae(ye)?(de="",Ee!=null&&(de=Ee.replace(C,"$&/")+"/"),me(ye,se,de,"",function(Un){return Un})):ye!=null&&(T(ye)&&(ye=R(ye,de+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(C,"$&/")+"/")+Ee)),se.push(ye)),1;Ee=0;var Ut=ue===""?".":ue+":";if(ae(D))for(var Ye=0;Ye<D.length;Ye++)ue=D[Ye],Oe=Ut+V(ue,Ye),Ee+=me(ue,se,de,Oe,ye);else if(Ye=A(D),typeof Ye=="function")for(D=Ye.call(D),Ye=0;!(ue=D.next()).done;)ue=ue.value,Oe=Ut+V(ue,Ye++),Ee+=me(ue,se,de,Oe,ye);else if(Oe==="object"){if(typeof D.then=="function")return me(ve(D),se,de,ue,ye);throw se=String(D),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(D,se,de){if(D==null)return D;var ue=[],ye=0;return me(D,ue,"","",function(Oe){return se.call(de,Oe,ye++)}),ue}function W(D){if(D._status===-1){var se=D._result;se=se(),se.then(function(de){(D._status===0||D._status===-1)&&(D._status=1,D._result=de)},function(de){(D._status===0||D._status===-1)&&(D._status=2,D._result=de)}),D._status===-1&&(D._status=0,D._result=se)}if(D._status===1)return D._result.default;throw D._result}var oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ae(){}return Ie.Children={map:K,forEach:function(D,se,de){K(D,function(){se.apply(this,arguments)},de)},count:function(D){var se=0;return K(D,function(){se++}),se},toArray:function(D){return K(D,function(se){return se})||[]},only:function(D){if(!T(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=L,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=B,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ie.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cloneElement=function(D,se,de){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ue=H({},D.props),ye=D.key,Oe=void 0;if(se!=null)for(Ee in se.ref!==void 0&&(Oe=void 0),se.key!==void 0&&(ye=""+se.key),se)!ce.call(se,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&se.ref===void 0||(ue[Ee]=se[Ee]);var Ee=arguments.length-2;if(Ee===1)ue.children=de;else if(1<Ee){for(var Ut=Array(Ee),Ye=0;Ye<Ee;Ye++)Ut[Ye]=arguments[Ye+2];ue.children=Ut}return I(D.type,ye,void 0,void 0,Oe,ue)},Ie.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ie.createElement=function(D,se,de){var ue,ye={},Oe=null;if(se!=null)for(ue in se.key!==void 0&&(Oe=""+se.key),se)ce.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ye[ue]=se[ue]);var Ee=arguments.length-2;if(Ee===1)ye.children=de;else if(1<Ee){for(var Ut=Array(Ee),Ye=0;Ye<Ee;Ye++)Ut[Ye]=arguments[Ye+2];ye.children=Ut}if(D&&D.defaultProps)for(ue in Ee=D.defaultProps,Ee)ye[ue]===void 0&&(ye[ue]=Ee[ue]);return I(D,Oe,void 0,void 0,null,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:p,render:D}},Ie.isValidElement=T,Ie.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:W}},Ie.memo=function(D,se){return{$$typeof:y,type:D,compare:se===void 0?null:se}},Ie.startTransition=function(D){var se=ie.T,de={};ie.T=de;try{var ue=D(),ye=ie.S;ye!==null&&ye(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ae,oe)}catch(Oe){oe(Oe)}finally{ie.T=se}},Ie.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ie.use=function(D){return ie.H.use(D)},Ie.useActionState=function(D,se,de){return ie.H.useActionState(D,se,de)},Ie.useCallback=function(D,se){return ie.H.useCallback(D,se)},Ie.useContext=function(D){return ie.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,se){return ie.H.useDeferredValue(D,se)},Ie.useEffect=function(D,se,de){var ue=ie.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(D,se)},Ie.useId=function(){return ie.H.useId()},Ie.useImperativeHandle=function(D,se,de){return ie.H.useImperativeHandle(D,se,de)},Ie.useInsertionEffect=function(D,se){return ie.H.useInsertionEffect(D,se)},Ie.useLayoutEffect=function(D,se){return ie.H.useLayoutEffect(D,se)},Ie.useMemo=function(D,se){return ie.H.useMemo(D,se)},Ie.useOptimistic=function(D,se){return ie.H.useOptimistic(D,se)},Ie.useReducer=function(D,se,de){return ie.H.useReducer(D,se,de)},Ie.useRef=function(D){return ie.H.useRef(D)},Ie.useState=function(D){return ie.H.useState(D)},Ie.useSyncExternalStore=function(D,se,de){return ie.H.useSyncExternalStore(D,se,de)},Ie.useTransition=function(){return ie.H.useTransition()},Ie.version="19.1.1",Ie}var Pv;function gp(){return Pv||(Pv=1,vm.exports=wE()),vm.exports}var M=gp();const Ji=P2(M);var _m={exports:{}},zl={},xm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function EE(){return Lv||(Lv=1,(function(r){function e(K,W){var oe=K.length;K.push(W);e:for(;0<oe;){var Ae=oe-1>>>1,D=K[Ae];if(0<o(D,W))K[Ae]=W,K[oe]=D,oe=Ae;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var W=K[0],oe=K.pop();if(oe!==W){K[0]=oe;e:for(var Ae=0,D=K.length,se=D>>>1;Ae<se;){var de=2*(Ae+1)-1,ue=K[de],ye=de+1,Oe=K[ye];if(0>o(ue,oe))ye<D&&0>o(Oe,ue)?(K[Ae]=Oe,K[ye]=oe,Ae=ye):(K[Ae]=ue,K[de]=oe,Ae=de);else if(ye<D&&0>o(Oe,oe))K[Ae]=Oe,K[ye]=oe,Ae=ye;else break e}}return W}function o(K,W){var oe=K.sortIndex-W.sortIndex;return oe!==0?oe:K.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],_=1,E=null,A=3,O=!1,H=!1,Y=!1,L=!1,$=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ae(K){for(var W=n(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=K)s(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(y)}}function ie(K){if(Y=!1,ae(K),!H)if(n(g)!==null)H=!0,ce||(ce=!0,V());else{var W=n(y);W!==null&&me(ie,W.startTime-K)}}var ce=!1,I=-1,R=5,T=-1;function k(){return L?!0:!(r.unstable_now()-T<R)}function C(){if(L=!1,ce){var K=r.unstable_now();T=K;var W=!0;try{e:{H=!1,Y&&(Y=!1,B(I),I=-1),O=!0;var oe=A;try{t:{for(ae(K),E=n(g);E!==null&&!(E.expirationTime>K&&k());){var Ae=E.callback;if(typeof Ae=="function"){E.callback=null,A=E.priorityLevel;var D=Ae(E.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){E.callback=D,ae(K),W=!0;break t}E===n(g)&&s(g),ae(K)}else s(g);E=n(g)}if(E!==null)W=!0;else{var se=n(y);se!==null&&me(ie,se.startTime-K),W=!1}}break e}finally{E=null,A=oe,O=!1}W=void 0}}finally{W?V():ce=!1}}}var V;if(typeof re=="function")V=function(){re(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ve=N.port2;N.port1.onmessage=C,V=function(){ve.postMessage(null)}}else V=function(){$(C,0)};function me(K,W){I=$(function(){K(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(K){switch(A){case 1:case 2:case 3:var W=3;break;default:W=A}var oe=A;A=W;try{return K()}finally{A=oe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=A;A=K;try{return W()}finally{A=oe}},r.unstable_scheduleCallback=function(K,W,oe){var Ae=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ae+oe:Ae):oe=Ae,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=oe+D,K={id:_++,callback:W,priorityLevel:K,startTime:oe,expirationTime:D,sortIndex:-1},oe>Ae?(K.sortIndex=oe,e(y,K),n(g)===null&&K===n(y)&&(Y?(B(I),I=-1):Y=!0,me(ie,oe-Ae))):(K.sortIndex=D,e(g,K),H||O||(H=!0,ce||(ce=!0,V()))),K},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(K){var W=A;return function(){var oe=A;A=W;try{return K.apply(this,arguments)}finally{A=oe}}}})(bm)),bm}var Uv;function TE(){return Uv||(Uv=1,xm.exports=EE()),xm.exports}var wm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function SE(){if(zv)return Wt;zv=1;var r=gp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},Wt.flushSync=function(g){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=_,s.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:O}):_==="script"&&s.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,_){return f.H.useFormState(g,y,_)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var Bv;function AE(){if(Bv)return wm.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=SE(),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function RE(){if(qv)return zl;qv=1;var r=TE(),e=gp(),n=AE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,w=d.child;w;){if(w===a){b=!0,a=d,l=m;break}if(w===l){b=!0,l=d,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,l=d;break}if(w===l){b=!0,l=m,a=d;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case L:return"Profiler";case Y:return"StrictMode";case ie:return"Suspense";case ce:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case re:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ve(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ve(t(i))}catch{}}return null}var me=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ae=[],D=-1;function se(t){return{current:t}}function de(t){0>D||(t.current=Ae[D],Ae[D]=null,D--)}function ue(t,i){D++,Ae[D]=t.current,t.current=i}var ye=se(null),Oe=se(null),Ee=se(null),Ut=se(null);function Ye(t,i){switch(ue(Ee,i),ue(Oe,t),ue(ye,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?lv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=lv(i),t=cv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(ye),ue(ye,t)}function Un(){de(ye),de(Oe),de(Ee)}function Do(t){t.memoizedState!==null&&ue(Ut,t);var i=ye.current,a=cv(i,t.type);i!==a&&(ue(Oe,t),ue(ye,a))}function fa(t){Oe.current===t&&(de(ye),de(Oe)),Ut.current===t&&(de(Ut),Ml._currentValue=oe)}var ma=Object.prototype.hasOwnProperty,gs=r.unstable_scheduleCallback,pa=r.unstable_cancelCallback,yd=r.unstable_shouldYield,Mo=r.unstable_requestPaint,cn=r.unstable_now,Cc=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,kt=r.unstable_UserBlockingPriority,Cr=r.unstable_NormalPriority,vd=r.unstable_LowPriority,Oo=r.unstable_IdlePriority,_d=r.log,ys=r.unstable_setDisableYieldValue,hi=null,Yt=null;function Sn(t){if(typeof _d=="function"&&ys(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(hi,t)}catch{}}var rn=Math.clz32?Math.clz32:jc,xd=Math.log,Ic=Math.LN2;function jc(t){return t>>>=0,t===0?32:31-(xd(t)/Ic|0)|0}var rr=256,di=4194304;function zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?d=zn(l):(b&=w,b!==0?d=zn(b):a||(a=w&~t,a!==0&&(d=zn(a))))):(w=l&~m,w!==0?d=zn(w):b!==0?d=zn(b):a||(a=l&~t,a!==0&&(d=zn(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function fi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ga(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=rr;return rr<<=1,(rr&4194048)===0&&(rr=256),t}function mi(){var t=di;return di<<=1,(di&62914560)===0&&(di=4194304),t}function ya(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kc(t,i,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,j=t.expirationTimes,F=t.hiddenUpdates;for(a=b&~a;0<a;){var Z=31-rn(a),te=1<<Z;w[Z]=0,j[Z]=-1;var G=F[Z];if(G!==null)for(F[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&pi(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~i))}function pi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-rn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function gi(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-rn(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ir(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function bd(t,i){var a=W.p;try{return W.p=t,i()}finally{W.p=a}}var ir=Math.random().toString(36).slice(2),ft="__reactFiber$"+ir,zt="__reactProps$"+ir,jr="__reactContainer$"+ir,vs="__reactEvents$"+ir,_s="__reactListeners$"+ir,wd="__reactHandles$"+ir,Bn="__reactResources$"+ir,yi="__reactMarker$"+ir;function va(t){delete t[ft],delete t[zt],delete t[vs],delete t[_s],delete t[wd]}function sr(t){var i=t[ft];if(i)return i;for(var a=t.parentNode;a;){if(i=a[jr]||a[ft]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=fv(t);t!==null;){if(a=t[ft])return a;t=fv(t)}return i}t=a,a=t.parentNode}return null}function ar(t){if(t=t[ft]||t[jr]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function vi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[Bn];return i||(i=t[Bn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[yi]=!0}var Dc=new Set,xs={};function or(t,i){lr(t,i),lr(t+"Capture",i)}function lr(t,i){for(xs[t]=i,t=0;t<i.length;t++)Dc.add(i[t])}var bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cr={},_a={};function Ed(t){return ma.call(_a,t)?!0:ma.call(cr,t)?!1:bs.test(t)?_a[t]=!0:(cr[t]=!0,!1)}function ws(t,i,a){if(Ed(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Es(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ts,xa;function kr(t){if(Ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ts=i&&i[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+t+xa}var ba=!1;function wa(t,i){if(!t||ba)return"";ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var G=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){G=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){G=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var j=b.split(`
`),F=w.split(`
`);for(d=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===j.length||d===F.length)for(l=j.length-1,d=F.length-1;1<=l&&0<=d&&j[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(j[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||j[l]!==F[d]){var Z=`
`+j[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{ba=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kr(a):""}function Td(t){switch(t.tag){case 26:case 27:case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return kr("Activity");default:return""}}function qn(t){try{var i="";do i+=Td(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ss(t){var i=xi(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function bi(t){t._valueTracker||(t._valueTracker=Ss(t))}function Qe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=xi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Dr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var As=/[\n"\\]/g;function Dt(t){return t.replace(As,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Uo(t,i,a,l,d,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+at(i)):t.value!==""+at(i)&&(t.value=""+at(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,b,at(i)):a!=null?Bo(t,b,at(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+at(w):t.removeAttribute("name")}function zo(t,i,a,l,d,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+at(a):"",i=i!=null?""+at(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Bo(t,i,a){i==="number"&&Dr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Mc(t,i,a){if(i!=null&&(i=""+at(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+at(a):""}function Oc(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=at(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Mr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&qo(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&qo(t,m,i[m])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return Pc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fo=null;function Go(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,sn=null;function Lc(t){var i=ar(t);if(i&&(t=i.stateNode)){var a=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Uo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[zt]||null;if(!d)throw Error(s(90));Uo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Qe(l)}break e;case"textarea":Mc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wi(t,!!a.multiple,i,!1)}}}var Rs=!1;function Ns(t,i,a){if(Rs)return t(i,a);Rs=!0;try{var l=t(i);return l}finally{if(Rs=!1,(Ei!==null||sn!==null)&&(Ru(),Ei&&(i=Ei,t=sn,sn=Ei=null,Lc(i),t)))for(i=0;i<t.length;i++)Lc(t[i])}}function Ti(t,i){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(an)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Or=!1}var Cn=null,tt=null,Ta=null;function Uc(){if(Ta)return Ta;var t,i=tt,a=i.length,l,d="value"in Cn?Cn.value:Cn.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===d[m-l];l++);return Ta=d.slice(t,1<l?1-l:void 0)}function Cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function $o(){return!1}function Rt(t){function i(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Is:$o,this.isPropagationStopped=$o,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),i}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=Rt(Qt),ks=_({},Qt,{view:0,detail:0}),Ds=Rt(ks),Sa,Ms,ur,Os=_({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&t.type==="mousemove"?(Sa=t.screenX-ur.screenX,Ms=t.screenY-ur.screenY):Ms=Sa=0,ur=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),Vs=Rt(Os),Sd=_({},Os,{dataTransfer:0}),zc=Rt(Sd),Ps=_({},ks,{relatedTarget:0}),Aa=Rt(Ps),Bc=_({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Rt(Bc),Yo=_({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qc=Rt(Yo),Ra=_({},Qt,{data:0}),Qo=Rt(Ra),Hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fc[t])?!!i[t]:!1}function Na(){return Gc}var $c=_({},ks,{key:function(t){if(t.key){var i=Hc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Rt($c),on=_({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Rt(on),Kc=_({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Ai=Rt(Kc),u=_({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Rt(u),x=_({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Rt(x),q=_({},Qt,{newState:0,oldState:0}),X=Rt(q),le=[9,13,27,32],Ne=an&&"CompositionEvent"in window,it=null;an&&"documentMode"in document&&(it=document.documentMode);var Ge=an&&"TextEvent"in window&&!it,pt=an&&(!Ne||it&&8<it&&11>=it),gn=" ",hr=!1;function Fn(t,i){switch(t){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function Wo(t,i){switch(t){case"compositionend":return Gn(i);case"keypress":return i.which!==32?null:(hr=!0,gn);case"textInput":return t=i.data,t===gn&&hr?null:t;default:return null}}function Kb(t,i){if($n)return t==="compositionend"||!Ne&&Fn(t,i)?(t=Uc(),Ta=tt=Cn=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pt&&i.locale!=="ko"?null:i.data;default:return null}}var Yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Yb[t.type]:i==="textarea"}function Eg(t,i,a,l){Ei?sn?sn.push(l):sn=[l]:Ei=l,i=Du(i,"onChange"),0<i.length&&(a=new js("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zo=null,Jo=null;function Qb(t){rv(t,0)}function Yc(t){var i=vi(t);if(Qe(i))return t}function Tg(t,i){if(t==="change")return i}var Sg=!1;if(an){var Ad;if(an){var Rd="oninput"in document;if(!Rd){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Rd=typeof Ag.oninput=="function"}Ad=Rd}else Ad=!1;Sg=Ad&&(!document.documentMode||9<document.documentMode)}function Rg(){Zo&&(Zo.detachEvent("onpropertychange",Ng),Jo=Zo=null)}function Ng(t){if(t.propertyName==="value"&&Yc(Jo)){var i=[];Eg(i,Jo,t,Go(t)),Ns(Qb,i)}}function Xb(t,i,a){t==="focusin"?(Rg(),Zo=i,Jo=a,Zo.attachEvent("onpropertychange",Ng)):t==="focusout"&&Rg()}function Wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yc(Jo)}function Zb(t,i){if(t==="click")return Yc(i)}function Jb(t,i){if(t==="input"||t==="change")return Yc(i)}function ew(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:ew;function el(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ma.call(i,d)||!yn(t[d],i[d]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,i){var a=Cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Dr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Dr(t.document)}return i}function Nd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var tw=an&&"documentMode"in document&&11>=document.documentMode,Ia=null,Cd=null,tl=null,Id=!1;function Dg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Id||Ia==null||Ia!==Dr(l)||(l=Ia,"selectionStart"in l&&Nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Du(Cd,"onSelect"),0<l.length&&(i=new js("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function Ls(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},jd={},Mg={};an&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Us(t){if(jd[t])return jd[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Mg)return jd[t]=i[a];return t}var Og=Us("animationend"),Vg=Us("animationiteration"),Pg=Us("animationstart"),nw=Us("transitionrun"),rw=Us("transitionstart"),iw=Us("transitioncancel"),Lg=Us("transitionend"),Ug=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function Kn(t,i){Ug.set(t,i),or(i,[t])}var zg=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:qn(i)},zg.set(t,i),i)}return{value:t,source:i,stack:qn(i)}}var jn=[],ka=0,Dd=0;function Qc(){for(var t=ka,i=Dd=ka=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var d=jn[i];jn[i++]=null;var m=jn[i];if(jn[i++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&Bg(a,d,m)}}function Xc(t,i,a,l){jn[ka++]=t,jn[ka++]=i,jn[ka++]=a,jn[ka++]=l,Dd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Md(t,i,a,l){return Xc(t,i,a,l),Wc(t)}function Da(t,i){return Xc(t,null,null,i),Wc(t)}function Bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-rn(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),m):null}function Wc(t){if(50<Al)throw Al=0,Bf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function sw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new sw(t,i,a,l)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zc(t,i,a,l,d,m){var b=0;if(l=t,typeof t=="function")Od(t)&&(b=1);else if(typeof t=="string")b=oE(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=vn(31,a,i,d),t.elementType=T,t.lanes=m,t;case H:return zs(a.children,d,m,i);case Y:b=8,d|=24;break;case L:return t=vn(12,a,i,d|2),t.elementType=L,t.lanes=m,t;case ie:return t=vn(13,a,i,d),t.elementType=ie,t.lanes=m,t;case ce:return t=vn(19,a,i,d),t.elementType=ce,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case re:b=10;break e;case B:b=9;break e;case ae:b=11;break e;case I:b=14;break e;case R:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(b,a,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function zs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Vd(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Pd(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Oa=[],Va=0,Jc=null,eu=0,kn=[],Dn=0,Bs=null,Lr=1,Ur="";function qs(t,i){Oa[Va++]=eu,Oa[Va++]=Jc,Jc=t,eu=i}function Hg(t,i,a){kn[Dn++]=Lr,kn[Dn++]=Ur,kn[Dn++]=Bs,Bs=t;var l=Lr;t=Ur;var d=32-rn(l)-1;l&=~(1<<d),a+=1;var m=32-rn(i)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Lr=1<<32-rn(i)+d|a<<d|l,Ur=m+t}else Lr=1<<m|a<<d|l,Ur=t}function Ld(t){t.return!==null&&(qs(t,1),Hg(t,1,0))}function Ud(t){for(;t===Jc;)Jc=Oa[--Va],Oa[Va]=null,eu=Oa[--Va],Oa[Va]=null;for(;t===Bs;)Bs=kn[--Dn],kn[Dn]=null,Ur=kn[--Dn],kn[Dn]=null,Lr=kn[--Dn],kn[Dn]=null}var ln=null,ut=null,He=!1,Hs=null,dr=!1,zd=Error(s(519));function Fs(t){var i=Error(s(418,""));throw il(In(i,t)),zd}function Fg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ft]=t,i[zt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Me(Nl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),zo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),bi(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Oc(i,l.value,l.defaultValue,l.children),bi(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ov(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Mu),i=!0):i=!1,i||Fs(t)}function Gg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:ln=ln.return}}function nl(t){if(t!==ln)return!1;if(!He)return Gg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&ut&&Fs(t),Gg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=Qn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,qi(t.type)?(t=om,om=null,ut=t):ut=i):ut=ln?Qn(t.stateNode.nextSibling):null;return!0}function rl(){ut=ln=null,He=!1}function $g(){var t=Hs;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Hs=null),t}function il(t){Hs===null?Hs=[t]:Hs.push(t)}var Bd=se(null),Gs=null,zr=null;function Ri(t,i,a){ue(Bd,i._currentValue),i._currentValue=a}function Br(t){t._currentValue=Bd.current,de(Bd)}function qd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hd(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var j=0;j<i.length;j++)if(w.context===i[j]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),qd(m.return,a,t),l||(b=null);break e}m=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),qd(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function sl(t,i,a,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=d.type;yn(d.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(d===Ut.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}d=d.return}t!==null&&Hd(i,t,a,l),i.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Gs=t,zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Kg(Gs,t)}function nu(t,i){return Gs===null&&$s(t),Kg(t,i)}function Kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zr===null){if(t===null)throw Error(s(308));zr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zr=zr.next=i;return a}var aw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ow=r.unstable_scheduleCallback,lw=r.unstable_NormalPriority,Nt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new aw,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&ow(lw,function(){t.controller.abort()})}var ol=null,Gd=0,Pa=0,La=null;function cw(t,i){if(ol===null){var a=ol=[];Gd=0,Pa=Yf(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gd++,i.then(Yg,Yg),i}function Yg(){if(--Gd===0&&ol!==null){La!==null&&(La.status="fulfilled");var t=ol;ol=null,Pa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function uw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Qg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&cw(t,i),Qg!==null&&Qg(t,i)};var Ks=se(null);function $d(){var t=Ks.current;return t!==null?t:nt.pooledCache}function ru(t,i){i===null?ue(Ks,Ks.current):ue(Ks,i.pool)}function Xg(){var t=$d();return t===null?null:{parent:Nt._currentValue,pool:t}}var ll=Error(s(460)),Wg=Error(s(474)),iu=Error(s(542)),Kd={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function su(){}function Jg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(su,su),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t0(t),t;default:if(typeof i.status=="string")i.then(su,su);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t0(t),t}throw cl=i,ll}}var cl=null;function e0(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function t0(t){if(t===ll||t===iu)throw Error(s(483))}var Ni=!1;function Yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ci(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Wc(t),Bg(t,null,a),i}return Xc(t,l,i,a),Wc(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gi(t,a)}}function Xd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wd=!1;function hl(){if(Wd){var t=La;if(t!==null)throw t}}function dl(t,i,a,l){Wd=!1;var d=t.updateQueue;Ni=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var j=w,F=j.next;j.next=null,b===null?m=F:b.next=F,b=j;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==b&&(w===null?Z.firstBaseUpdate=F:w.next=F,Z.lastBaseUpdate=j))}if(m!==null){var te=d.baseState;b=0,Z=F=j=null,w=m;do{var G=w.lane&-536870913,Q=G!==w.lane;if(Q?(Ue&G)===G:(l&G)===G){G!==0&&G===Pa&&(Wd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Te=t,xe=w;G=i;var Ze=a;switch(xe.tag){case 1:if(Te=xe.payload,typeof Te=="function"){te=Te.call(Ze,te,G);break e}te=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=xe.payload,G=typeof Te=="function"?Te.call(Ze,te,G):Te,G==null)break e;te=_({},te,G);break e;case 2:Ni=!0}}G=w.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(F=Z=Q,j=te):Z=Z.next=Q,b|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Z===null&&(j=te),d.baseState=j,d.firstBaseUpdate=F,d.lastBaseUpdate=Z,m===null&&(d.shared.lanes=0),Li|=b,t.lanes=b,t.memoizedState=te}}function n0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function r0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)n0(a[t],i)}var Ua=se(null),au=se(0);function i0(t,i){t=Yr,ue(au,t),ue(Ua,i),Yr=t|i.baseLanes}function Zd(){ue(au,Yr),ue(Ua,Ua.current)}function Jd(){Yr=au.current,de(Ua),de(au)}var ji=0,je=null,Xe=null,_t=null,ou=!1,za=!1,Ys=!1,lu=0,fl=0,Ba=null,hw=0;function gt(){throw Error(s(321))}function ef(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function tf(t,i,a,l,d,m){return ji=m,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?B0:q0,Ys=!1,m=a(l,d),Ys=!1,za&&(m=a0(i,a,l,d)),s0(t),m}function s0(t){K.H=mu;var i=Xe!==null&&Xe.next!==null;if(ji=0,_t=Xe=je=null,ou=!1,fl=0,Ba=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&tu(t)&&(Mt=!0))}function a0(t,i,a,l){je=t;var d=0;do{if(za&&(Ba=null),fl=0,za=!1,25<=d)throw Error(s(301));if(d+=1,_t=Xe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=vw,m=i(a,l)}while(za);return m}function dw(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(je.flags|=1024),i}function nf(){var t=lu!==0;return lu=0,t}function rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sf(t){if(ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ou=!1}ji=0,_t=Xe=je=null,za=!1,fl=lu=0,Ba=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?je.memoizedState=_t=t:_t=_t.next=t,_t}function xt(){if(Xe===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=_t===null?je.memoizedState:_t.next;if(i!==null)_t=i,Xe=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?je.memoizedState=_t=t:_t=_t.next=t}return _t}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var i=fl;return fl+=1,Ba===null&&(Ba=[]),t=Jg(Ba,t,i),i=je,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?B0:q0),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===re)return Xt(t)}throw Error(s(438,String(t)))}function of(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=af(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function qr(t,i){return typeof i=="function"?i(t):i}function uu(t){var i=xt();return lf(i,Xe,t)}function lf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var w=b=null,j=null,F=i,Z=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Ue&te)===te:(ji&te)===te){var G=F.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Pa&&(Z=!0);else if((ji&G)===G){F=F.next,G===Pa&&(Z=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(w=j=te,b=m):j=j.next=te,je.lanes|=G,Li|=G;te=F.action,Ys&&a(m,te),m=F.hasEagerState?F.eagerState:a(m,te)}else G={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(w=j=G,b=m):j=j.next=G,je.lanes|=te,Li|=te;F=F.next}while(F!==null&&F!==i);if(j===null?b=m:j.next=w,!yn(m,t.memoizedState)&&(Mt=!0,Z&&(a=La,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=j,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cf(t){var i=xt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);yn(m,i.memoizedState)||(Mt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function o0(t,i,a){var l=je,d=xt(),m=He;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!yn((Xe||d).memoizedState,a);b&&(d.memoizedState=a,Mt=!0),d=d.queue;var w=u0.bind(null,l,d,t);if(pl(2048,8,w,[t]),d.getSnapshot!==i||b||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,qa(9,hu(),c0.bind(null,l,d,a,i),null),nt===null)throw Error(s(349));m||(ji&124)!==0||l0(l,i,a)}return a}function l0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=af(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function c0(t,i,a,l){i.value=a,i.getSnapshot=l,h0(i)&&d0(t)}function u0(t,i,a){return a(function(){h0(i)&&d0(t)})}function h0(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function d0(t){var i=Da(t,2);i!==null&&En(i,t,2)}function uf(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),Ys){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:t},i}function f0(t,i,a,l){return t.baseState=a,lf(t,Xe,typeof l=="function"?l:qr)}function fw(t,i,a,l,d){if(fu(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,m0(i,m)):(m.next=a.next,i.pending=a.next=m)}}function m0(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=K.T,b={};K.T=b;try{var w=a(d,l),j=K.S;j!==null&&j(b,w),p0(t,i,w)}catch(F){hf(t,i,F)}finally{K.T=m}}else try{m=a(d,l),p0(t,i,m)}catch(F){hf(t,i,F)}}function p0(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){g0(t,i,l)},function(l){return hf(t,i,l)}):g0(t,i,a)}function g0(t,i,a){i.status="fulfilled",i.value=a,y0(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,m0(t,a)))}function hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,y0(i),i=i.next;while(i!==l)}t.action=null}function y0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function v0(t,i){return i}function _0(t,i){if(He){var a=nt.formState;if(a!==null){e:{var l=je;if(He){if(ut){t:{for(var d=ut,m=dr;d.nodeType!==8;){if(!m){d=null;break t}if(d=Qn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ut=Qn(d.nextSibling),l=d.data==="F!";break e}}Fs(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:i},a.queue=l,a=L0.bind(null,je,l),l.dispatch=a,l=uf(!1),m=gf.bind(null,je,!1,l.queue),l=un(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=fw.bind(null,je,d,m,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function x0(t){var i=xt();return b0(i,Xe,t)}function b0(t,i,a){if(i=lf(t,i,v0)[0],t=uu(qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(b){throw b===ll?iu:b}else l=i;i=xt();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(je.flags|=2048,qa(9,hu(),mw.bind(null,d,a),null)),[l,m,t]}function mw(t,i){t.action=i}function w0(t){var i=xt(),a=Xe;if(a!==null)return b0(i,a,t);xt(),i=i.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=af(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function hu(){return{destroy:void 0,resource:void 0}}function E0(){return xt().memoizedState}function du(t,i,a,l){var d=un();l=l===void 0?null:l,je.flags|=t,d.memoizedState=qa(1|i,hu(),a,l)}function pl(t,i,a,l){var d=xt();l=l===void 0?null:l;var m=d.memoizedState.inst;Xe!==null&&l!==null&&ef(l,Xe.memoizedState.deps)?d.memoizedState=qa(i,m,a,l):(je.flags|=t,d.memoizedState=qa(1|i,m,a,l))}function T0(t,i){du(8390656,8,t,i)}function S0(t,i){pl(2048,8,t,i)}function A0(t,i){return pl(4,2,t,i)}function R0(t,i){return pl(4,4,t,i)}function N0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function C0(t,i,a){a=a!=null?a.concat([t]):null,pl(4,4,N0.bind(null,i,t),a)}function df(){}function I0(t,i){var a=xt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ef(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function j0(t,i){var a=xt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ef(i,l[1]))return l[0];if(l=t(),Ys){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function ff(t,i,a){return a===void 0||(ji&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=My(),je.lanes|=t,Li|=t,a)}function k0(t,i,a,l){return yn(a,i)?a:Ua.current!==null?(t=ff(t,a,l),yn(t,i)||(Mt=!0),t):(ji&42)===0?(Mt=!0,t.memoizedState=a):(t=My(),je.lanes|=t,Li|=t,i)}function D0(t,i,a,l,d){var m=W.p;W.p=m!==0&&8>m?m:8;var b=K.T,w={};K.T=w,gf(t,!1,i,a);try{var j=d(),F=K.S;if(F!==null&&F(w,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=uw(j,l);gl(t,i,Z,wn(t))}else gl(t,i,l,wn(t))}catch(te){gl(t,i,{then:function(){},status:"rejected",reason:te},wn())}finally{W.p=m,K.T=b}}function pw(){}function mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=M0(t).queue;D0(t,d,i,oe,a===null?pw:function(){return O0(t),a(l)})}function M0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function O0(t){var i=M0(t).next.queue;gl(t,i,{},wn())}function pf(){return Xt(Ml)}function V0(){return xt().memoizedState}function P0(){return xt().memoizedState}function gw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Ci(a);var l=Ii(i,t,a);l!==null&&(En(l,i,a),ul(l,i,a)),i={cache:Fd()},t.payload=i;return}i=i.return}}function yw(t,i,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fu(t)?U0(i,a):(a=Md(t,i,a,l),a!==null&&(En(a,t,l),z0(a,i,l)))}function L0(t,i,a){var l=wn();gl(t,i,a,l)}function gl(t,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(t))U0(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,w=m(b,a);if(d.hasEagerState=!0,d.eagerState=w,yn(w,b))return Xc(t,i,d,0),nt===null&&Qc(),!1}catch{}finally{}if(a=Md(t,i,d,l),a!==null)return En(a,t,l),z0(a,i,l),!0}return!1}function gf(t,i,a,l){if(l={lane:2,revertLane:Yf(),action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(i)throw Error(s(479))}else i=Md(t,a,l,2),i!==null&&En(i,t,2)}function fu(t){var i=t.alternate;return t===je||i!==null&&i===je}function U0(t,i){za=ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function z0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gi(t,a)}}var mu={readContext:Xt,use:cu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},B0={readContext:Xt,use:cu,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:T0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,du(4194308,4,N0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return du(4194308,4,t,i)},useInsertionEffect:function(t,i){du(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(Ys){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var d=a(i);if(Ys){Sn(!0);try{a(i)}finally{Sn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=yw.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=uf(t);var i=t.queue,a=L0.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:df,useDeferredValue:function(t,i){var a=un();return ff(a,t,i)},useTransition:function(){var t=uf(!1);return t=D0.bind(null,je,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,d=un();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ue&124)!==0||l0(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,T0(u0.bind(null,l,m,t),[t]),l.flags|=2048,qa(9,hu(),c0.bind(null,l,m,a,i),null),a},useId:function(){var t=un(),i=nt.identifierPrefix;if(He){var a=Ur,l=Lr;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=lu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=hw++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:pf,useFormState:_0,useActionState:_0,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gf.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:of,useCacheRefresh:function(){return un().memoizedState=gw.bind(null,je)}},q0={readContext:Xt,use:cu,useCallback:I0,useContext:Xt,useEffect:S0,useImperativeHandle:C0,useInsertionEffect:A0,useLayoutEffect:R0,useMemo:j0,useReducer:uu,useRef:E0,useState:function(){return uu(qr)},useDebugValue:df,useDeferredValue:function(t,i){var a=xt();return k0(a,Xe.memoizedState,t,i)},useTransition:function(){var t=uu(qr)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:o0,useId:V0,useHostTransitionStatus:pf,useFormState:x0,useActionState:x0,useOptimistic:function(t,i){var a=xt();return f0(a,Xe,t,i)},useMemoCache:of,useCacheRefresh:P0},vw={readContext:Xt,use:cu,useCallback:I0,useContext:Xt,useEffect:S0,useImperativeHandle:C0,useInsertionEffect:A0,useLayoutEffect:R0,useMemo:j0,useReducer:cf,useRef:E0,useState:function(){return cf(qr)},useDebugValue:df,useDeferredValue:function(t,i){var a=xt();return Xe===null?ff(a,t,i):k0(a,Xe.memoizedState,t,i)},useTransition:function(){var t=cf(qr)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:o0,useId:V0,useHostTransitionStatus:pf,useFormState:w0,useActionState:w0,useOptimistic:function(t,i){var a=xt();return Xe!==null?f0(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:P0},Ha=null,yl=0;function pu(t){var i=yl;return yl+=1,Ha===null&&(Ha=[]),Jg(Ha,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gu(t,i){throw i.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function H0(t){var i=t._init;return i(t._payload)}function F0(t){function i(U,P){if(t){var z=U.deletions;z===null?(U.deletions=[P],U.flags|=16):z.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function d(U,P){return U=Pr(U,P),U.index=0,U.sibling=null,U}function m(U,P,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<P?(U.flags|=67108866,P):z):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,P,z,J){return P===null||P.tag!==6?(P=Vd(z,U.mode,J),P.return=U,P):(P=d(P,z),P.return=U,P)}function j(U,P,z,J){var pe=z.type;return pe===H?Z(U,P,z.props.children,J,z.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&H0(pe)===P.type)?(P=d(P,z.props),vl(P,z),P.return=U,P):(P=Zc(z.type,z.key,z.props,null,U.mode,J),vl(P,z),P.return=U,P)}function F(U,P,z,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Pd(z,U.mode,J),P.return=U,P):(P=d(P,z.children||[]),P.return=U,P)}function Z(U,P,z,J,pe){return P===null||P.tag!==7?(P=zs(z,U.mode,J,pe),P.return=U,P):(P=d(P,z),P.return=U,P)}function te(U,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Vd(""+P,U.mode,z),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return z=Zc(P.type,P.key,P.props,null,U.mode,z),vl(z,P),z.return=U,z;case O:return P=Pd(P,U.mode,z),P.return=U,P;case R:var J=P._init;return P=J(P._payload),te(U,P,z)}if(me(P)||V(P))return P=zs(P,U.mode,z,null),P.return=U,P;if(typeof P.then=="function")return te(U,pu(P),z);if(P.$$typeof===re)return te(U,nu(U,P),z);gu(U,P)}return null}function G(U,P,z,J){var pe=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:w(U,P,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===pe?j(U,P,z,J):null;case O:return z.key===pe?F(U,P,z,J):null;case R:return pe=z._init,z=pe(z._payload),G(U,P,z,J)}if(me(z)||V(z))return pe!==null?null:Z(U,P,z,J,null);if(typeof z.then=="function")return G(U,P,pu(z),J);if(z.$$typeof===re)return G(U,P,nu(U,z),J);gu(U,z)}return null}function Q(U,P,z,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(z)||null,w(P,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return U=U.get(J.key===null?z:J.key)||null,j(P,U,J,pe);case O:return U=U.get(J.key===null?z:J.key)||null,F(P,U,J,pe);case R:var ke=J._init;return J=ke(J._payload),Q(U,P,z,J,pe)}if(me(J)||V(J))return U=U.get(z)||null,Z(P,U,J,pe,null);if(typeof J.then=="function")return Q(U,P,z,pu(J),pe);if(J.$$typeof===re)return Q(U,P,z,nu(P,J),pe);gu(P,J)}return null}function Te(U,P,z,J){for(var pe=null,ke=null,ge=P,be=P=0,Vt=null;ge!==null&&be<z.length;be++){ge.index>be?(Vt=ge,ge=null):Vt=ge.sibling;var qe=G(U,ge,z[be],J);if(qe===null){ge===null&&(ge=Vt);break}t&&ge&&qe.alternate===null&&i(U,ge),P=m(qe,P,be),ke===null?pe=qe:ke.sibling=qe,ke=qe,ge=Vt}if(be===z.length)return a(U,ge),He&&qs(U,be),pe;if(ge===null){for(;be<z.length;be++)ge=te(U,z[be],J),ge!==null&&(P=m(ge,P,be),ke===null?pe=ge:ke.sibling=ge,ke=ge);return He&&qs(U,be),pe}for(ge=l(ge);be<z.length;be++)Vt=Q(ge,U,be,z[be],J),Vt!==null&&(t&&Vt.alternate!==null&&ge.delete(Vt.key===null?be:Vt.key),P=m(Vt,P,be),ke===null?pe=Vt:ke.sibling=Vt,ke=Vt);return t&&ge.forEach(function(Ki){return i(U,Ki)}),He&&qs(U,be),pe}function xe(U,P,z,J){if(z==null)throw Error(s(151));for(var pe=null,ke=null,ge=P,be=P=0,Vt=null,qe=z.next();ge!==null&&!qe.done;be++,qe=z.next()){ge.index>be?(Vt=ge,ge=null):Vt=ge.sibling;var Ki=G(U,ge,qe.value,J);if(Ki===null){ge===null&&(ge=Vt);break}t&&ge&&Ki.alternate===null&&i(U,ge),P=m(Ki,P,be),ke===null?pe=Ki:ke.sibling=Ki,ke=Ki,ge=Vt}if(qe.done)return a(U,ge),He&&qs(U,be),pe;if(ge===null){for(;!qe.done;be++,qe=z.next())qe=te(U,qe.value,J),qe!==null&&(P=m(qe,P,be),ke===null?pe=qe:ke.sibling=qe,ke=qe);return He&&qs(U,be),pe}for(ge=l(ge);!qe.done;be++,qe=z.next())qe=Q(ge,U,be,qe.value,J),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?be:qe.key),P=m(qe,P,be),ke===null?pe=qe:ke.sibling=qe,ke=qe);return t&&ge.forEach(function(_E){return i(U,_E)}),He&&qs(U,be),pe}function Ze(U,P,z,J){if(typeof z=="object"&&z!==null&&z.type===H&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var pe=z.key;P!==null;){if(P.key===pe){if(pe=z.type,pe===H){if(P.tag===7){a(U,P.sibling),J=d(P,z.props.children),J.return=U,U=J;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&H0(pe)===P.type){a(U,P.sibling),J=d(P,z.props),vl(J,z),J.return=U,U=J;break e}a(U,P);break}else i(U,P);P=P.sibling}z.type===H?(J=zs(z.props.children,U.mode,J,z.key),J.return=U,U=J):(J=Zc(z.type,z.key,z.props,null,U.mode,J),vl(J,z),J.return=U,U=J)}return b(U);case O:e:{for(pe=z.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(U,P.sibling),J=d(P,z.children||[]),J.return=U,U=J;break e}else{a(U,P);break}else i(U,P);P=P.sibling}J=Pd(z,U.mode,J),J.return=U,U=J}return b(U);case R:return pe=z._init,z=pe(z._payload),Ze(U,P,z,J)}if(me(z))return Te(U,P,z,J);if(V(z)){if(pe=V(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),xe(U,P,z,J)}if(typeof z.then=="function")return Ze(U,P,pu(z),J);if(z.$$typeof===re)return Ze(U,P,nu(U,z),J);gu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(U,P.sibling),J=d(P,z),J.return=U,U=J):(a(U,P),J=Vd(z,U.mode,J),J.return=U,U=J),b(U)):a(U,P)}return function(U,P,z,J){try{yl=0;var pe=Ze(U,P,z,J);return Ha=null,pe}catch(ge){if(ge===ll||ge===iu)throw ge;var ke=vn(29,ge,null,U.mode);return ke.lanes=J,ke.return=U,ke}finally{}}}var Fa=F0(!0),G0=F0(!1),Mn=se(null),fr=null;function ki(t){var i=t.alternate;ue(Ct,Ct.current&1),ue(Mn,t),fr===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(fr=t)}function $0(t){if(t.tag===22){if(ue(Ct,Ct.current),ue(Mn,t),fr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(fr=t)}}else Di()}function Di(){ue(Ct,Ct.current),ue(Mn,Mn.current)}function Hr(t){de(Mn),fr===t&&(fr=null),de(Ct)}var Ct=se(0);function yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||am(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),d=Ci(l);d.payload=i,a!=null&&(d.callback=a),i=Ii(t,d,l),i!==null&&(En(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),d=Ci(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ii(t,d,l),i!==null&&(En(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Ci(a);l.tag=2,i!=null&&(l.callback=i),i=Ii(t,l,a),i!==null&&(En(i,t,a),ul(i,t,a))}};function K0(t,i,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(d,m):!0}function Y0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&vf.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Q0(t){vu(t)}function X0(t){console.error(t)}function W0(t){vu(t)}function _u(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Z0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _f(t,i,a){return a=Ci(a),a.tag=3,a.payload={element:null},a.callback=function(){_u(t,i)},a}function J0(t){return t=Ci(t),t.tag=3,t}function ey(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){Z0(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Z0(i,a,l),typeof d!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function _w(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&sl(i,a,d,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return fr===null?Hf():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Kd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gf(t,l,d)),!1;case 22:return a.flags|=65536,l===Kd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gf(t,l,d)),!1}throw Error(s(435,a.tag))}return Gf(t,l,d),Hf(),!1}if(He)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==zd&&(t=Error(s(422),{cause:l}),il(In(t,a)))):(l!==zd&&(i=Error(s(423),{cause:l}),il(In(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=In(l,a),d=_f(t.stateNode,l,d),Xd(t,d),ht!==4&&(ht=2)),!1;var m=Error(s(520),{cause:l});if(m=In(m,a),Sl===null?Sl=[m]:Sl.push(m),ht!==4&&(ht=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=_f(a.stateNode,l,t),Xd(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ui===null||!Ui.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=J0(d),ey(d,t,a,l),Xd(a,d),!1}a=a.return}while(a!==null);return!1}var ty=Error(s(461)),Mt=!1;function Bt(t,i,a,l){i.child=t===null?G0(i,null,a,l):Fa(i,t.child,a,l)}function ny(t,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return $s(i),l=tf(t,i,a,b,m,d),w=nf(),t!==null&&!Mt?(rf(t,i,d),Fr(t,i,d)):(He&&w&&Ld(i),i.flags|=1,Bt(t,i,l,d),i.child)}function ry(t,i,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Od(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,iy(t,i,m,l,d)):(t=Zc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Rf(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(b,l)&&t.ref===i.ref)return Fr(t,i,d)}return i.flags|=1,t=Pr(m,l),t.ref=i.ref,t.return=i,i.child=t}function iy(t,i,a,l,d){if(t!==null){var m=t.memoizedProps;if(el(m,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=m,Rf(t,d))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,Fr(t,i,d)}return xf(t,i,a,l,d)}function sy(t,i,a){var l=i.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=i.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return ay(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ru(i,m!==null?m.cachePool:null),m!==null?i0(i,m):Zd(),$0(i);else return i.lanes=i.childLanes=536870912,ay(t,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(ru(i,m.cachePool),i0(i,m),Di(),i.memoizedState=null):(t!==null&&ru(i,null),Zd(),Di());return Bt(t,i,d,a),i.child}function ay(t,i,a,l){var d=$d();return d=d===null?null:{parent:Nt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ru(i,null),Zd(),$0(i),t!==null&&sl(t,i,l,!0),null}function xu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xf(t,i,a,l,d){return $s(i),a=tf(t,i,a,l,void 0,d),l=nf(),t!==null&&!Mt?(rf(t,i,d),Fr(t,i,d)):(He&&l&&Ld(i),i.flags|=1,Bt(t,i,a,d),i.child)}function oy(t,i,a,l,d,m){return $s(i),i.updateQueue=null,a=a0(i,l,a,d),s0(t),l=nf(),t!==null&&!Mt?(rf(t,i,m),Fr(t,i,m)):(He&&l&&Ld(i),i.flags|=1,Bt(t,i,a,m),i.child)}function ly(t,i,a,l,d){if($s(i),i.stateNode===null){var m=Ma,b=a.contextType;typeof b=="object"&&b!==null&&(m=Xt(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Yd(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?Xt(b):Ma,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(yf(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&vf.enqueueReplaceState(m,m.state,null),dl(i,l,m,d),hl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,j=Qs(a,w);m.props=j;var F=m.context,Z=a.contextType;b=Ma,typeof Z=="object"&&Z!==null&&(b=Xt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==b)&&Y0(i,m,l,b),Ni=!1;var G=i.memoizedState;m.state=G,dl(i,l,m,d),hl(),F=i.memoizedState,w||G!==F||Ni?(typeof te=="function"&&(yf(i,a,te,l),F=i.memoizedState),(j=Ni||K0(i,a,j,l,G,F,b))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),m.props=l,m.state=F,m.context=b,l=j):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Qd(t,i),b=i.memoizedProps,Z=Qs(a,b),m.props=Z,te=i.pendingProps,G=m.context,F=a.contextType,j=Ma,typeof F=="object"&&F!==null&&(j=Xt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||G!==j)&&Y0(i,m,l,j),Ni=!1,G=i.memoizedState,m.state=G,dl(i,l,m,d),hl();var Q=i.memoizedState;b!==te||G!==Q||Ni||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof w=="function"&&(yf(i,a,w,l),Q=i.memoizedState),(Z=Ni||K0(i,a,Z,l,G,Q,j)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,j)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=j,l=Z):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,xu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Fa(i,t.child,null,d),i.child=Fa(i,null,a,d)):Bt(t,i,a,d),i.memoizedState=m.state,t=i.child):t=Fr(t,i,d),t}function cy(t,i,a,l){return rl(),i.flags|=256,Bt(t,i,a,l),i.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(t){return{baseLanes:t,cachePool:Xg()}}function Ef(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function uy(t,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(d?ki(i):Di(),He){var w=ut,j;if(j=w){e:{for(j=w,w=dr;j.nodeType!==8;){if(!w){w=null;break e}if(j=Qn(j.nextSibling),j===null){w=null;break e}}w=j}w!==null?(i.memoizedState={dehydrated:w,treeContext:Bs!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},j=vn(18,null,null,0),j.stateNode=w,j.return=i,i.child=j,ln=i,ut=null,j=!0):j=!1}j||Fs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return am(w)?i.lanes=32:i.lanes=536870912,null;Hr(i)}return w=l.children,l=l.fallback,d?(Di(),d=i.mode,w=bu({mode:"hidden",children:w},d),l=zs(l,d,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,d=i.child,d.memoizedState=wf(a),d.childLanes=Ef(t,b,a),i.memoizedState=bf,l):(ki(i),Tf(i,w))}if(j=t.memoizedState,j!==null&&(w=j.dehydrated,w!==null)){if(m)i.flags&256?(ki(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(Di(),i.child=t.child,i.flags|=128,i=null):(Di(),d=l.fallback,w=i.mode,l=bu({mode:"visible",children:l.children},w),d=zs(d,w,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,Fa(i,t.child,null,a),l=i.child,l.memoizedState=wf(a),l.childLanes=Ef(t,b,a),i.memoizedState=bf,i=d);else if(ki(i),am(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(s(419)),l.stack="",l.digest=b,il({value:l,source:null,stack:null}),i=Sf(t,i,a)}else if(Mt||sl(t,i,a,!1),b=(a&t.childLanes)!==0,Mt||b){if(b=nt,b!==null&&(l=a&-a,l=(l&42)!==0?1:Po(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,Da(t,l),En(b,t,l),ty;w.data==="$?"||Hf(),i=Sf(t,i,a)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,ut=Qn(w.nextSibling),ln=i,He=!0,Hs=null,dr=!1,t!==null&&(kn[Dn++]=Lr,kn[Dn++]=Ur,kn[Dn++]=Bs,Lr=t.id,Ur=t.overflow,Bs=i),i=Tf(i,l.children),i.flags|=4096);return i}return d?(Di(),d=l.fallback,w=i.mode,j=t.child,F=j.sibling,l=Pr(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,F!==null?d=Pr(F,d):(d=zs(d,w,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,w=t.child.memoizedState,w===null?w=wf(a):(j=w.cachePool,j!==null?(F=Nt._currentValue,j=j.parent!==F?{parent:F,pool:F}:j):j=Xg(),w={baseLanes:w.baseLanes|a,cachePool:j}),d.memoizedState=w,d.childLanes=Ef(t,b,a),i.memoizedState=bf,l):(ki(i),a=t.child,t=a.sibling,a=Pr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function Tf(t,i){return i=bu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bu(t,i){return t=vn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sf(t,i,a){return Fa(i,t.child,null,a),t=Tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function hy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qd(t.return,i,a)}function Af(t,i,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function dy(t,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;if(Bt(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,a,i);else if(t.tag===19)hy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ue(Ct,l),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&yu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Af(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&yu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Af(i,!0,a,null,m);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Li|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(sl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Pr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function xw(t,i,a){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),Ri(i,Nt,t.memoizedState.cache),rl();break;case 27:case 5:Do(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:Ri(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ki(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(t,i,a):(ki(i),t=Fr(t,i,a),t!==null?t.sibling:null);ki(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(sl(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return dy(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,sy(t,i,a);case 24:Ri(i,Nt,t.memoizedState.cache)}return Fr(t,i,a)}function fy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Rf(t,a)&&(i.flags&128)===0)return Mt=!1,xw(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,He&&(i.flags&1048576)!==0&&Hg(i,eu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Od(l)?(t=Qs(l,t),i.tag=1,i=ly(null,i,l,t,a)):(i.tag=0,i=xf(null,i,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===ae){i.tag=11,i=ny(null,i,l,t,a);break e}else if(d===I){i.tag=14,i=ry(null,i,l,t,a);break e}}throw i=ve(l)||l,Error(s(306,i,""))}}return i;case 0:return xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Qs(l,i.pendingProps),ly(t,i,l,d,a);case 3:e:{if(Ye(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,Qd(t,i),dl(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Ri(i,Nt,l),l!==m.cache&&Hd(i,[Nt],a,!0),hl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=cy(t,i,l,a);break e}else if(l!==d){d=In(Error(s(424)),i),il(d),i=cy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Qn(t.firstChild),ln=i,He=!0,Hs=null,dr=!0,a=G0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===d){i=Fr(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return xu(t,i),t===null?(a=yv(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Ou(Ee.current).createElement(a),l[ft]=i,l[zt]=t,Ht(l,a,t),mt(l),i.stateNode=l):i.memoizedState=yv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Do(i),t===null&&He&&(l=i.stateNode=mv(i.type,i.pendingProps,Ee.current),ln=i,dr=!0,d=ut,qi(i.type)?(om=d,ut=Qn(l.firstChild)):ut=d),Bt(t,i,i.pendingProps.children,a),xu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((d=l=ut)&&(l=Yw(l,i.type,i.pendingProps,dr),l!==null?(i.stateNode=l,ln=i,ut=Qn(l.firstChild),dr=!1,d=!0):d=!1),d||Fs(i)),Do(i),d=i.type,m=i.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,rm(d,m)?l=null:b!==null&&rm(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=tf(t,i,dw,null,null,a),Ml._currentValue=d),xu(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ut)&&(a=Qw(a,i.pendingProps,dr),a!==null?(i.stateNode=a,ln=i,ut=null,t=!0):t=!1),t||Fs(i)),null;case 13:return uy(t,i,a);case 4:return Ye(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fa(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return ny(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ri(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,$s(i),d=Xt(d),l=l(d),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return ry(t,i,i.type,i.pendingProps,a);case 15:return iy(t,i,i.type,i.pendingProps,a);case 19:return dy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=bu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Pr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return sy(t,i,a);case 24:return $s(i),l=Xt(Nt),t===null?(d=$d(),d===null&&(d=nt,m=Fd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},Yd(i),Ri(i,Nt,d)):((t.lanes&a)!==0&&(Qd(t,i),dl(i,null,null,a),hl()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ri(i,Nt,l)):(l=m.cache,Ri(i,Nt,l),l!==d.cache&&Hd(i,[Nt],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gr(t){t.flags|=4}function my(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wv(i)){if(i=Mn.current,i!==null&&((Ue&4194048)===Ue?fr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==fr))throw cl=Kd,Wg;t.flags|=8192}}function wu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?mi():536870912,t.lanes|=i,Ya|=i)}function _l(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function bw(t,i,a){var l=i.pendingProps;switch(Ud(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Br(Nt),Un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(nl(i)?Gr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$g())),ot(i),null;case 26:return a=i.memoizedState,t===null?(Gr(i),a!==null?(ot(i),my(i,a)):(ot(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Gr(i),ot(i),my(i,a)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Gr(i),ot(i),i.flags&=-16777217),null;case 27:fa(i),a=Ee.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=ye.current,nl(i)?Fg(i):(t=mv(d,l,a),i.stateNode=t,Gr(i))}return ot(i),null;case 5:if(fa(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(t=ye.current,nl(i))Fg(i);else{switch(d=Ou(Ee.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[ft]=i,t[zt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gr(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ee.current,nl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=ln,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[ft]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ov(t.nodeValue,a)),t||Fs(i)}else t=Ou(t).createTextNode(l),t[ft]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=nl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[ft]=i}else rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),d=!1}else d=$g(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Hr(i),i):(Hr(i),null)}if(Hr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),wu(i,i.updateQueue),ot(i),null;case 4:return Un(),t===null&&Zf(i.stateNode.containerInfo),ot(i),null;case 10:return Br(i.type),ot(i),null;case 19:if(de(Ct),d=i.memoizedState,d===null)return ot(i),null;if(l=(i.flags&128)!==0,m=d.rendering,m===null)if(l)_l(d,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=yu(t),m!==null){for(i.flags|=128,_l(d,!1),t=m.updateQueue,i.updateQueue=t,wu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qg(a,t),a=a.sibling;return ue(Ct,Ct.current&1|2),i.child}t=t.sibling}d.tail!==null&&cn()>Su&&(i.flags|=128,l=!0,_l(d,!1),i.lanes=4194304)}else{if(!l)if(t=yu(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,wu(i,t),_l(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!He)return ot(i),null}else 2*cn()-d.renderingStartTime>Su&&a!==536870912&&(i.flags|=128,l=!0,_l(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(t=d.last,t!==null?t.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=cn(),i.sibling=null,t=Ct.current,ue(Ct,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return Hr(i),Jd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&wu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&de(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Br(Nt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ww(t,i){switch(Ud(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Br(Nt),Un(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 13:if(Hr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));rl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return de(Ct),null;case 4:return Un(),null;case 10:return Br(i.type),null;case 22:case 23:return Hr(i),Jd(),t!==null&&de(Ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Br(Nt),null;case 25:return null;default:return null}}function py(t,i){switch(Ud(i),i.tag){case 3:Br(Nt),Un();break;case 26:case 27:case 5:fa(i);break;case 4:Un();break;case 13:Hr(i);break;case 19:de(Ct);break;case 10:Br(i.type);break;case 22:case 23:Hr(i),Jd(),t!==null&&de(Ks);break;case 24:Br(Nt)}}function xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(w){Je(i,i.return,w)}}function Mi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=i;var j=a,F=w;try{F()}catch(Z){Je(d,j,Z)}}}l=l.next}while(l!==m)}}catch(Z){Je(i,i.return,Z)}}function gy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{r0(i,a)}catch(l){Je(t,t.return,l)}}}function yy(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Je(t,i,d)}}function mr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Je(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Je(t,i,d)}else a.current=null}function vy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Je(t,t.return,d)}}function Nf(t,i,a){try{var l=t.stateNode;Hw(l,t.type,a,i),l[zt]=i}catch(d){Je(t,t.return,d)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qi(t.type)||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Mu));else if(l!==4&&(l===27&&qi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(If(t,i,a),t=t.sibling;t!==null;)If(t,i,a),t=t.sibling}function Eu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&qi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Eu(t,i,a),t=t.sibling;t!==null;)Eu(t,i,a),t=t.sibling}function xy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Ht(i,l,a),i[ft]=t,i[zt]=a}catch(m){Je(t,t.return,m)}}var $r=!1,yt=!1,jf=!1,by=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Ew(t,i){if(t=t.containerInfo,tm=Bu,t=kg(t),Nd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,w=-1,j=-1,F=0,Z=0,te=t,G=null;t:for(;;){for(var Q;te!==a||d!==0&&te.nodeType!==3||(w=b+d),te!==m||l!==0&&te.nodeType!==3||(j=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Q=te.firstChild)!==null;)G=te,te=Q;for(;;){if(te===t)break t;if(G===a&&++F===d&&(w=b),G===m&&++Z===l&&(j=b),(Q=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Q}a=w===-1||j===-1?null:{start:w,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},Bu=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Te=Qs(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Je(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function wy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(t,a),l&4&&xl(5,a);break;case 1:if(Oi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){Je(a,a.return,b)}else{var d=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(a,a.return,b)}}l&64&&gy(a),l&512&&bl(a,a.return);break;case 3:if(Oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{r0(t,i)}catch(b){Je(a,a.return,b)}}break;case 27:i===null&&l&4&&xy(a);case 26:case 5:Oi(t,a),i===null&&l&4&&vy(a),l&512&&bl(a,a.return);break;case 12:Oi(t,a);break;case 13:Oi(t,a),l&4&&Sy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=kw.bind(null,a),Xw(t,a))));break;case 22:if(l=a.memoizedState!==null||$r,!l){i=i!==null&&i.memoizedState!==null||yt,d=$r;var m=yt;$r=l,(yt=i)&&!m?Vi(t,a,(a.subtreeFlags&8772)!==0):Oi(t,a),$r=d,yt=m}break;case 30:break;default:Oi(t,a)}}function Ey(t){var i=t.alternate;i!==null&&(t.alternate=null,Ey(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,hn=!1;function Kr(t,i,a){for(a=a.child;a!==null;)Ty(t,i,a),a=a.sibling}function Ty(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(hi,a)}catch{}switch(a.tag){case 26:yt||mr(a,i),Kr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||mr(a,i);var l=st,d=hn;qi(a.type)&&(st=a.stateNode,hn=!1),Kr(t,i,a),Il(a.stateNode),st=l,hn=d;break;case 5:yt||mr(a,i);case 6:if(l=st,d=hn,st=null,Kr(t,i,a),st=l,hn=d,st!==null)if(hn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(m){Je(a,i,m)}else try{st.removeChild(a.stateNode)}catch(m){Je(a,i,m)}break;case 18:st!==null&&(hn?(t=st,dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):dv(st,a.stateNode));break;case 4:l=st,d=hn,st=a.stateNode.containerInfo,hn=!0,Kr(t,i,a),st=l,hn=d;break;case 0:case 11:case 14:case 15:yt||Mi(2,a,i),yt||Mi(4,a,i),Kr(t,i,a);break;case 1:yt||(mr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yy(a,i,l)),Kr(t,i,a);break;case 21:Kr(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Kr(t,i,a),yt=l;break;default:Kr(t,i,a)}}function Sy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){Je(i,i.return,a)}}function Tw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new by),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new by),i;default:throw Error(s(435,t.tag))}}function kf(t,i){var a=Tw(t);i.forEach(function(l){var d=Dw.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=i,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(qi(w.type)){st=w.stateNode,hn=!1;break e}break;case 5:st=w.stateNode,hn=!1;break e;case 3:case 4:st=w.stateNode.containerInfo,hn=!0;break e}w=w.return}if(st===null)throw Error(s(160));Ty(m,b,d),st=null,hn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ay(i,t),i=i.sibling}var Yn=null;function Ay(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),xn(t),l&4&&(Mi(3,t,t.return),xl(3,t),Mi(5,t,t.return));break;case 1:_n(i,t),xn(t),l&512&&(yt||a===null||mr(a,a.return)),l&64&&$r&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Yn;if(_n(i,t),xn(t),l&512&&(yt||a===null||mr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[yi]||m[ft]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Ht(m,l,a),m[ft]=t,mt(m),l=m;break e;case"link":var b=xv("link","href",d).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}m=d.createElement(l),Ht(m,l,a),d.head.appendChild(m);break;case"meta":if(b=xv("meta","content",d).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}m=d.createElement(l),Ht(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[ft]=t,mt(m),l=m}t.stateNode=l}else bv(d,t.type,t.stateNode);else t.stateNode=_v(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?bv(d,t.type,t.stateNode):_v(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nf(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),xn(t),l&512&&(yt||a===null||mr(a,a.return)),a!==null&&l&4&&Nf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),xn(t),l&512&&(yt||a===null||mr(a,a.return)),t.flags&32){d=t.stateNode;try{Nn(d,"")}catch(Q){Je(t,t.return,Q)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Nf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(jf=!0);break;case 6:if(_n(i,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){Je(t,t.return,Q)}}break;case 3:if(Lu=null,d=Yn,Yn=Vu(i.containerInfo),_n(i,t),Yn=d,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(i.containerInfo)}catch(Q){Je(t,t.return,Q)}jf&&(jf=!1,Ry(t));break;case 4:l=Yn,Yn=Vu(t.stateNode.containerInfo),_n(i,t),xn(t),Yn=l;break;case 12:_n(i,t),xn(t);break;case 13:_n(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lf=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kf(t,l)));break;case 22:d=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,F=$r,Z=yt;if($r=F||d,yt=Z||j,_n(i,t),yt=Z,$r=F,xn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||j||$r||yt||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){j=a=i;try{if(m=j.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=j.stateNode;var te=j.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){Je(j,j.return,Q)}}}else if(i.tag===6){if(a===null){j=i;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(Q){Je(j,j.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kf(t,a))));break;case 19:_n(i,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kf(t,l)));break;case 30:break;case 21:break;default:_n(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(_y(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=Cf(t);Eu(t,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Nn(b,""),a.flags&=-33);var w=Cf(t);Eu(t,w,b);break;case 3:case 4:var j=a.stateNode.containerInfo,F=Cf(t);If(t,F,j);break;default:throw Error(s(161))}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ry(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Oi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wy(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mi(4,i,i.return),Xs(i);break;case 1:mr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&yy(i,i.return,a),Xs(i);break;case 27:Il(i.stateNode);case 26:case 5:mr(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function Vi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Vi(d,m,a),xl(4,m);break;case 1:if(Vi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=m,d=l.updateQueue,d!==null){var w=l.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)n0(j[d],w)}catch(F){Je(l,l.return,F)}}a&&b&64&&gy(m),bl(m,m.return);break;case 27:xy(m);case 26:case 5:Vi(d,m,a),a&&l===null&&b&4&&vy(m),bl(m,m.return);break;case 12:Vi(d,m,a);break;case 13:Vi(d,m,a),a&&b&4&&Sy(d,m);break;case 22:m.memoizedState===null&&Vi(d,m,a),bl(m,m.return);break;case 30:break;default:Vi(d,m,a)}i=i.sibling}}function Df(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Mf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function pr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ny(t,i,a,l),i=i.sibling}function Ny(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:pr(t,i,a,l),d&2048&&xl(9,i);break;case 1:pr(t,i,a,l);break;case 3:pr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(d&2048){pr(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Je(i,i.return,j)}}else pr(t,i,a,l);break;case 13:pr(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?pr(t,i,a,l):wl(t,i):m._visibility&2?pr(t,i,a,l):(m._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&Df(b,i);break;case 24:pr(t,i,a,l),d&2048&&Mf(i.alternate,i);break;default:pr(t,i,a,l)}}function Ga(t,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,b=i,w=a,j=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:Ga(m,b,w,j,d),xl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Ga(m,b,w,j,d):wl(m,b):(Z._visibility|=2,Ga(m,b,w,j,d)),d&&F&2048&&Df(b.alternate,b);break;case 24:Ga(m,b,w,j,d),d&&F&2048&&Mf(b.alternate,b);break;default:Ga(m,b,w,j,d)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:wl(a,l),d&2048&&Df(l.alternate,l);break;case 24:wl(a,l),d&2048&&Mf(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var El=8192;function $a(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 26:$a(t),t.flags&El&&t.memoizedState!==null&&cE(Yn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var i=Yn;Yn=Vu(t.stateNode.containerInfo),$a(t),Yn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=El,El=16777216,$a(t),El=i):$a(t));break;default:$a(t)}}function Iy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,ky(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Mi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tu(t)):Tl(t);break;default:Tl(t)}}function Tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,ky(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mi(8,i,i.return),Tu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(i));break;default:Tu(i)}t=t.sibling}}function ky(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:Mi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var d=l.sibling,m=l.return;if(Ey(l),l===a){Ot=null;break e}if(d!==null){d.return=m,Ot=d;break e}Ot=m}}}var Sw={getCacheForType:function(t){var i=Xt(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Aw=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,De=null,Ue=0,Ke=0,bn=null,Pi=!1,Ka=!1,Of=!1,Yr=0,ht=0,Li=0,Ws=0,Vf=0,On=0,Ya=0,Sl=null,dn=null,Pf=!1,Lf=0,Su=1/0,Au=null,Ui=null,qt=0,zi=null,Qa=null,Xa=0,Uf=0,zf=null,Dy=null,Al=0,Bf=null;function wn(){if(($e&2)!==0&&Ue!==0)return Ue&-Ue;if(K.T!==null){var t=Pa;return t!==0?t:Yf()}return Ir()}function My(){On===0&&(On=(Ue&536870912)===0||He?Vo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),On}function En(t,i,a){(t===nt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Bi(t,Ue,On,!1)),dt(t,a),(($e&2)===0||t!==nt)&&(t===nt&&(($e&2)===0&&(Ws|=a),ht===4&&Bi(t,Ue,On,!1)),gr(t))}function Oy(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||fi(t,i),d=l?Cw(t,i):Ff(t,i,!0),m=l;do{if(d===0){Ka&&!l&&Bi(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!Rw(a)){d=Ff(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var w=t;d=Sl;var j=w.current.memoizedState.isDehydrated;if(j&&(Wa(w,b).flags|=256),b=Ff(w,b,!1),b!==2){if(Of&&!j){w.errorRecoveryDisabledLanes|=m,Ws|=m,d=4;break e}m=dn,dn=d,m!==null&&(dn===null?dn=m:dn.push.apply(dn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Wa(t,0),Bi(t,i,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Bi(l,i,On,!Pi);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Lf+300-cn(),10<d)){if(Bi(l,i,On,!Pi),An(l,0,!0)!==0)break e;l.timeoutHandle=uv(Vy.bind(null,l,a,dn,Au,Pf,i,On,Ws,Ya,Pi,m,2,-0,0),d);break e}Vy(l,a,dn,Au,Pf,i,On,Ws,Ya,Pi,m,0,-0,0)}}break}while(!0);gr(t)}function Vy(t,i,a,l,d,m,b,w,j,F,Z,te,G,Q){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:lE},Cy(i),te=uE(),te!==null)){t.cancelPendingCommit=te(Hy.bind(null,t,i,m,a,l,d,b,w,j,Z,1,G,Q)),Bi(t,m,b,!F);return}Hy(t,i,m,a,l,d,b,w,j)}function Rw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!yn(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(t,i,a,l){i&=~Vf,i&=~Ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-rn(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&pi(t,a,i)}function Ru(){return($e&6)===0?(Rl(0),!1):!0}function qf(){if(De!==null){if(Ke===0)var t=De.return;else t=De,zr=Gs=null,sf(t),Ha=null,yl=0,t=De;for(;t!==null;)py(t.alternate,t),t=t.return;De=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Gw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qf(),nt=t,De=a=Pr(t.current,null),Ue=i,Ke=0,bn=null,Pi=!1,Ka=fi(t,i),Of=!1,Ya=On=Vf=Ws=Li=ht=0,dn=Sl=null,Pf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-rn(l),m=1<<d;i|=t[d],l&=~m}return Yr=i,Qc(),a}function Py(t,i){je=null,K.H=mu,i===ll||i===iu?(i=e0(),Ke=3):i===Wg?(i=e0(),Ke=4):Ke=i===ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,De===null&&(ht=1,_u(t,In(i,t.current)))}function Ly(){var t=K.H;return K.H=mu,t===null?mu:t}function Uy(){var t=K.A;return K.A=Sw,t}function Hf(){ht=4,Pi||(Ue&4194048)!==Ue&&Mn.current!==null||(Ka=!0),(Li&134217727)===0&&(Ws&134217727)===0||nt===null||Bi(nt,Ue,On,!1)}function Ff(t,i,a){var l=$e;$e|=2;var d=Ly(),m=Uy();(nt!==t||Ue!==i)&&(Au=null,Wa(t,i)),i=!1;var b=ht;e:do try{if(Ke!==0&&De!==null){var w=De,j=bn;switch(Ke){case 8:qf(),b=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var F=Ke;if(Ke=0,bn=null,Za(t,w,j,F),a&&Ka){b=0;break e}break;default:F=Ke,Ke=0,bn=null,Za(t,w,j,F)}}Nw(),b=ht;break}catch(Z){Py(t,Z)}while(!0);return i&&t.shellSuspendCounter++,zr=Gs=null,$e=l,K.H=d,K.A=m,De===null&&(nt=null,Ue=0,Qc()),b}function Nw(){for(;De!==null;)zy(De)}function Cw(t,i){var a=$e;$e|=2;var l=Ly(),d=Uy();nt!==t||Ue!==i?(Au=null,Su=cn()+500,Wa(t,i)):Ka=fi(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var m=bn;t:switch(Ke){case 1:Ke=0,bn=null,Za(t,i,m,1);break;case 2:case 9:if(Zg(m)){Ke=0,bn=null,By(i);break}i=function(){Ke!==2&&Ke!==9||nt!==t||(Ke=7),gr(t)},m.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Zg(m)?(Ke=0,bn=null,By(i)):(Ke=0,bn=null,Za(t,i,m,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var w=De;if(!b||wv(b)){Ke=0,bn=null;var j=w.sibling;if(j!==null)De=j;else{var F=w.return;F!==null?(De=F,Nu(F)):De=null}break t}}Ke=0,bn=null,Za(t,i,m,5);break;case 6:Ke=0,bn=null,Za(t,i,m,6);break;case 8:qf(),ht=6;break e;default:throw Error(s(462))}}Iw();break}catch(Z){Py(t,Z)}while(!0);return zr=Gs=null,K.H=l,K.A=d,$e=a,De!==null?0:(nt=null,Ue=0,Qc(),ht)}function Iw(){for(;De!==null&&!yd();)zy(De)}function zy(t){var i=fy(t.alternate,t,Yr);t.memoizedProps=t.pendingProps,i===null?Nu(t):De=i}function By(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=oy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=oy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:sf(i);default:py(a,i),i=De=qg(i,Yr),i=fy(a,i,Yr)}t.memoizedProps=t.pendingProps,i===null?Nu(t):De=i}function Za(t,i,a,l){zr=Gs=null,sf(i),Ha=null,yl=0;var d=i.return;try{if(_w(t,d,i,a,Ue)){ht=1,_u(t,In(a,t.current)),De=null;return}}catch(m){if(d!==null)throw De=d,m;ht=1,_u(t,In(a,t.current)),De=null;return}i.flags&32768?(He||l===1?t=!0:Ka||(Ue&536870912)!==0?t=!1:(Pi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qy(i,t)):Nu(i)}function Nu(t){var i=t;do{if((i.flags&32768)!==0){qy(i,Pi);return}t=i.return;var a=bw(i.alternate,i,Yr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function qy(t,i){do{var a=ww(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function Hy(t,i,a,l,d,m,b,w,j){t.cancelPendingCommit=null;do Cu();while(qt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Dd,kc(t,a,m,b,w,j),t===nt&&(De=nt=null,Ue=0),Qa=i,zi=t,Xa=a,Uf=m,zf=d,Dy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mw(Cr,function(){return Yy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=W.p,W.p=2,b=$e,$e|=4;try{Ew(t,i,a)}finally{$e=b,W.p=d,K.T=l}}qt=1,Fy(),Gy(),$y()}}function Fy(){if(qt===1){qt=0;var t=zi,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=W.p;W.p=2;var d=$e;$e|=4;try{Ay(i,t);var m=nm,b=kg(t.containerInfo),w=m.focusedElem,j=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&jg(w.ownerDocument.documentElement,w)){if(j!==null&&Nd(w)){var F=j.start,Z=j.end;if(Z===void 0&&(Z=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(Z,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Te=w.textContent.length,xe=Math.min(j.start,Te),Ze=j.end===void 0?xe:Math.min(j.end,Te);!Q.extend&&xe>Ze&&(b=Ze,Ze=xe,xe=b);var U=Ig(w,xe),P=Ig(w,Ze);if(U&&P&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var z=te.createRange();z.setStart(U.node,U.offset),Q.removeAllRanges(),xe>Ze?(Q.addRange(z),Q.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),Q.addRange(z))}}}}for(te=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Bu=!!tm,nm=tm=null}finally{$e=d,W.p=l,K.T=a}}t.current=i,qt=2}}function Gy(){if(qt===2){qt=0;var t=zi,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=W.p;W.p=2;var d=$e;$e|=4;try{wy(t,i.alternate,i)}finally{$e=d,W.p=l,K.T=a}}qt=3}}function $y(){if(qt===4||qt===3){qt=0,Mo();var t=zi,i=Qa,a=Xa,l=Dy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Qa=zi=null,Ky(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ui=null),Lo(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(hi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,d=W.p,W.p=2,K.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{K.T=i,W.p=d}}(Xa&3)!==0&&Cu(),gr(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Bf?Al++:(Al=0,Bf=t):Al=0,Rl(0)}}function Ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Cu(t){return Fy(),Gy(),$y(),Yy()}function Yy(){if(qt!==5)return!1;var t=zi,i=Uf;Uf=0;var a=Lo(Xa),l=K.T,d=W.p;try{W.p=32>a?32:a,K.T=null,a=zf,zf=null;var m=zi,b=Xa;if(qt=0,Qa=zi=null,Xa=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,jy(m.current),Ny(m,m.current,b,a),$e=w,Rl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(hi,m)}catch{}return!0}finally{W.p=d,K.T=l,Ky(t,i)}}function Qy(t,i,a){i=In(a,i),i=_f(t.stateNode,i,2),t=Ii(t,i,2),t!==null&&(dt(t,2),gr(t))}function Je(t,i,a){if(t.tag===3)Qy(t,t,a);else for(;i!==null;){if(i.tag===3){Qy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){t=In(a,t),a=J0(2),l=Ii(i,a,2),l!==null&&(ey(a,l,i,t),dt(l,2),gr(l));break}}i=i.return}}function Gf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Aw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Of=!0,d.add(a),t=jw.bind(null,t,i,a),i.then(t,t))}function jw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ue&a)===a&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>cn()-Lf?($e&2)===0&&Wa(t,0):Vf|=a,Ya===Ue&&(Ya=0)),gr(t)}function Xy(t,i){i===0&&(i=mi()),t=Da(t,i),t!==null&&(dt(t,i),gr(t))}function kw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Xy(t,a)}function Dw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Xy(t,a)}function Mw(t,i){return gs(t,i)}var Iu=null,Ja=null,$f=!1,ju=!1,Kf=!1,Zs=0;function gr(t){t!==Ja&&t.next===null&&(Ja===null?Iu=Ja=t:Ja=Ja.next=t),ju=!0,$f||($f=!0,Vw())}function Rl(t,i){if(!Kf&&ju){Kf=!0;do for(var a=!1,l=Iu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-rn(42|t)+1)-1,m&=d&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,ev(l,m))}else m=Ue,m=An(l,l===nt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||fi(l,m)||(a=!0,ev(l,m));l=l.next}while(a);Kf=!1}}function Ow(){Wy()}function Wy(){ju=$f=!1;var t=0;Zs!==0&&(Fw()&&(t=Zs),Zs=0);for(var i=cn(),a=null,l=Iu;l!==null;){var d=l.next,m=Zy(l,i);m===0?(l.next=null,a===null?Iu=d:a.next=d,d===null&&(Ja=a)):(a=l,(t!==0||(m&3)!==0)&&(ju=!0)),l=d}Rl(t)}function Zy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-rn(m),w=1<<b,j=d[b];j===-1?((w&a)===0||(w&l)!==0)&&(d[b]=ga(w,i)):j<=i&&(t.expiredLanes|=w),m&=~w}if(i=nt,a=Ue,a=An(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&pa(l),Lo(a)){case 2:case 8:a=kt;break;case 32:a=Cr;break;case 268435456:a=Oo;break;default:a=Cr}return l=Jy.bind(null,t),a=gs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&pa(l),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,i){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=Ue;return l=An(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Oy(t,l,i),Zy(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Jy.bind(null,t):null)}function ev(t,i){if(Cu())return null;Oy(t,i,!0)}function Vw(){$w(function(){($e&6)!==0?gs(At,Ow):Wy()})}function Yf(){return Zs===0&&(Zs=Vo()),Zs}function tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function nv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Pw(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=tv((d[zt]||null).action),b=l.submitter;b&&(i=(i=b[zt]||null)?tv(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var w=new js("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var j=b?nv(d,b):new FormData(d);mf(a,{pending:!0,data:j,method:d.method,action:m},null,j)}}else typeof m=="function"&&(w.preventDefault(),j=b?nv(d,b):new FormData(d),mf(a,{pending:!0,data:j,method:d.method,action:m},m,j))},currentTarget:d}]})}}for(var Qf=0;Qf<kd.length;Qf++){var Xf=kd[Qf],Lw=Xf.toLowerCase(),Uw=Xf[0].toUpperCase()+Xf.slice(1);Kn(Lw,"on"+Uw)}Kn(Og,"onAnimationEnd"),Kn(Vg,"onAnimationIteration"),Kn(Pg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(nw,"onTransitionRun"),Kn(rw,"onTransitionStart"),Kn(iw,"onTransitionCancel"),Kn(Lg,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function rv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var w=l[b],j=w.instance,F=w.currentTarget;if(w=w.listener,j!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=F;try{m(d)}catch(Z){vu(Z)}d.currentTarget=null,m=j}else for(b=0;b<l.length;b++){if(w=l[b],j=w.instance,F=w.currentTarget,w=w.listener,j!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=F;try{m(d)}catch(Z){vu(Z)}d.currentTarget=null,m=j}}}}function Me(t,i){var a=i[vs];a===void 0&&(a=i[vs]=new Set);var l=t+"__bubble";a.has(l)||(iv(i,t,2,!1),a.add(l))}function Wf(t,i,a){var l=0;i&&(l|=4),iv(a,t,l,i)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[ku]){t[ku]=!0,Dc.forEach(function(a){a!=="selectionchange"&&(zw.has(a)||Wf(a,!1,t),Wf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ku]||(i[ku]=!0,Wf("selectionchange",!1,i))}}function iv(t,i,a,l){switch(Nv(i)){case 2:var d=fE;break;case 8:d=mE;break;default:d=dm}a=d.bind(null,i,a,t),d=void 0,!Or||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Jf(t,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=l.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=sr(w),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){l=m=b;continue e}w=w.parentNode}}l=l.return}Ns(function(){var F=m,Z=Go(a),te=[];e:{var G=Ug.get(t);if(G!==void 0){var Q=js,Te=t;switch(t){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":Q=Ca;break;case"focusin":Te="focus",Q=Aa;break;case"focusout":Te="blur",Q=Aa;break;case"beforeblur":case"afterblur":Q=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ai;break;case Og:case Vg:case Pg:Q=Ko;break;case Lg:Q=v;break;case"scroll":case"scrollend":Q=Ds;break;case"wheel":Q=S;break;case"copy":case"cut":case"paste":Q=qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Xo;break;case"toggle":case"beforetoggle":Q=X}var xe=(i&4)!==0,Ze=!xe&&(t==="scroll"||t==="scrollend"),U=xe?G!==null?G+"Capture":null:G;xe=[];for(var P=F,z;P!==null;){var J=P;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||U===null||(J=Ti(P,U),J!=null&&xe.push(Cl(P,J,z))),Ze)break;P=P.return}0<xe.length&&(G=new Q(G,Te,null,a,Z),te.push({event:G,listeners:xe}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Fo&&(Te=a.relatedTarget||a.fromElement)&&(sr(Te)||Te[jr]))break e;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Te=a.relatedTarget||a.toElement,Q=F,Te=Te?sr(Te):null,Te!==null&&(Ze=c(Te),xe=Te.tag,Te!==Ze||xe!==5&&xe!==27&&xe!==6)&&(Te=null)):(Q=null,Te=F),Q!==Te)){if(xe=Vs,J="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Xo,J="onPointerLeave",U="onPointerEnter",P="pointer"),Ze=Q==null?G:vi(Q),z=Te==null?G:vi(Te),G=new xe(J,P+"leave",Q,a,Z),G.target=Ze,G.relatedTarget=z,J=null,sr(Z)===F&&(xe=new xe(U,P+"enter",Te,a,Z),xe.target=z,xe.relatedTarget=Ze,J=xe),Ze=J,Q&&Te)t:{for(xe=Q,U=Te,P=0,z=xe;z;z=eo(z))P++;for(z=0,J=U;J;J=eo(J))z++;for(;0<P-z;)xe=eo(xe),P--;for(;0<z-P;)U=eo(U),z--;for(;P--;){if(xe===U||U!==null&&xe===U.alternate)break t;xe=eo(xe),U=eo(U)}xe=null}else xe=null;Q!==null&&sv(te,G,Q,xe,!1),Te!==null&&Ze!==null&&sv(te,Ze,Te,xe,!0)}}e:{if(G=F?vi(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var pe=Tg;else if(wg(G))if(Sg)pe=Jb;else{pe=Wb;var ke=Xb}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ea(F.elementType)&&(pe=Tg):pe=Zb;if(pe&&(pe=pe(t,F))){Eg(te,pe,a,Z);break e}ke&&ke(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Bo(G,"number",G.value)}switch(ke=F?vi(F):window,t){case"focusin":(wg(ke)||ke.contentEditable==="true")&&(Ia=ke,Cd=F,tl=null);break;case"focusout":tl=Cd=Ia=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Dg(te,a,Z);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Dg(te,a,Z)}var ge;if(Ne)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else $n?Fn(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(pt&&a.locale!=="ko"&&($n||be!=="onCompositionStart"?be==="onCompositionEnd"&&$n&&(ge=Uc()):(Cn=Z,tt="value"in Cn?Cn.value:Cn.textContent,$n=!0)),ke=Du(F,be),0<ke.length&&(be=new Qo(be,t,null,a,Z),te.push({event:be,listeners:ke}),ge?be.data=ge:(ge=Gn(a),ge!==null&&(be.data=ge)))),(ge=Ge?Wo(t,a):Kb(t,a))&&(be=Du(F,"onBeforeInput"),0<be.length&&(ke=new Qo("onBeforeInput","beforeinput",null,a,Z),te.push({event:ke,listeners:be}),ke.data=ge)),Pw(te,t,F,a,Z)}rv(te,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Du(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ti(t,a),d!=null&&l.unshift(Cl(t,d,m)),d=Ti(t,i),d!=null&&l.push(Cl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,i,a,l,d){for(var m=i._reactName,b=[];a!==null&&a!==l;){var w=a,j=w.alternate,F=w.stateNode;if(w=w.tag,j!==null&&j===l)break;w!==5&&w!==26&&w!==27||F===null||(j=F,d?(F=Ti(a,m),F!=null&&b.unshift(Cl(a,F,j))):d||(F=Ti(a,m),F!=null&&b.push(Cl(a,F,j)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var Bw=/\r\n?/g,qw=/\u0000|\uFFFD/g;function av(t){return(typeof t=="string"?t:""+t).replace(Bw,`
`).replace(qw,"")}function ov(t,i){return i=av(i),av(t)===i}function Mu(){}function We(t,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":Es(t,"class",l);break;case"tabIndex":Es(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(t,a,l);break;case"style":Ho(t,l,m);break;case"data":if(i!=="object"){Es(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",d.name,d,null),We(t,i,"formEncType",d.formEncType,d,null),We(t,i,"formMethod",d.formMethod,d,null),We(t,i,"formTarget",d.formTarget,d,null)):(We(t,i,"encType",d.encType,d,null),We(t,i,"method",d.method,d,null),We(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ws(t,"popover",l);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ws(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vc.get(a)||a,ws(t,a,l))}}function em(t,i,a,l,d,m){switch(a){case"style":Ho(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=t[zt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ws(t,a,l)}}}function Ht(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,m,b,a,null)}}d&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var w=m=b=d=null,j=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":b=Z;break;case"checked":j=Z;break;case"defaultChecked":F=Z;break;case"value":m=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:We(t,i,l,Z,a,null)}}zo(t,m,w,j,F,b,d,!1),bi(t);return;case"select":Me("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:We(t,i,d,w,a,null)}i=m,a=b,t.multiple=!!l,i!=null?wi(t,!!l,i,!1):a!=null&&wi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,i,b,w,a,null)}Oc(t,l,d,m),bi(t);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,j,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Me(Nl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,F,l,a,null)}return;default:if(Ea(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&em(t,i,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(t,i,w,l,a,null))}function Hw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,w=null,j=null,F=null,Z=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=te;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,te)}}for(var G in l){var Q=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Q!=null||te!=null))switch(G){case"type":m=Q;break;case"name":d=Q;break;case"checked":F=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==te&&We(t,i,G,Q,l,te)}}Uo(t,b,w,j,F,Z,m,d);return;case"select":Q=b=w=G=null;for(m in a)if(j=a[m],a.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":Q=j;default:l.hasOwnProperty(m)||We(t,i,m,null,l,j)}for(d in l)if(m=l[d],j=a[d],l.hasOwnProperty(d)&&(m!=null||j!=null))switch(d){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==j&&We(t,i,d,m,l,j)}i=w,a=b,l=Q,G!=null?wi(t,!!a,G,!1):!!l!=!!a&&(i!=null?wi(t,!!a,i,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,i,w,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":G=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&We(t,i,b,d,l,m)}Mc(t,G,Q);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:We(t,i,Te,null,l,G)}for(j in l)if(G=l[j],Q=a[j],l.hasOwnProperty(j)&&G!==Q&&(G!=null||Q!=null))switch(j){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(t,i,j,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)G=a[xe],a.hasOwnProperty(xe)&&G!=null&&!l.hasOwnProperty(xe)&&We(t,i,xe,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:We(t,i,F,G,l,Q)}return;default:if(Ea(i)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&em(t,i,Ze,void 0,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||em(t,i,Z,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,G);for(te in l)G=l[te],Q=a[te],!l.hasOwnProperty(te)||G===Q||G==null&&Q==null||We(t,i,te,G,l,Q)}var tm=null,nm=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function lv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function Fw(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(Kw)}:uv;function Kw(t){setTimeout(function(){throw t})}function qi(t){return t==="head"}function dv(t,i){var a=i,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Il(b.documentElement),a&2&&Il(b.body),a&4)for(a=b.head,Il(a),b=a.firstChild;b;){var w=b.nextSibling,j=b.nodeName;b[yi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(d===0){t.removeChild(m),Ll(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Ll(i)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Yw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Qw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Xw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var om=null;function fv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function mv(t,i,a){switch(i=Ou(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var Vn=new Map,pv=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qr=W.d;W.d={f:Ww,r:Zw,D:Jw,C:eE,L:tE,m:nE,X:iE,S:rE,M:sE};function Ww(){var t=Qr.f(),i=Ru();return t||i}function Zw(t){var i=ar(t);i!==null&&i.tag===5&&i.type==="form"?O0(i):Qr.r(t)}var to=typeof document>"u"?null:document;function gv(t,i,a){var l=to;if(l&&typeof i=="string"&&i){var d=Dt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),pv.has(d)||(pv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Ht(i,"link",t),mt(i),l.head.appendChild(i)))}}function Jw(t){Qr.D(t),gv("dns-prefetch",t,null)}function eE(t,i){Qr.C(t,i),gv("preconnect",t,i)}function tE(t,i,a){Qr.L(t,i,a);var l=to;if(l&&t&&i){var d='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Dt(a.imageSizes)+'"]')):d+='[href="'+Dt(t)+'"]';var m=d;switch(i){case"style":m=no(t);break;case"script":m=ro(t)}Vn.has(m)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(jl(m))||i==="script"&&l.querySelector(kl(m))||(i=l.createElement("link"),Ht(i,"link",t),mt(i),l.head.appendChild(i)))}}function nE(t,i){Qr.m(t,i);var a=to;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ro(t)}if(!Vn.has(m)&&(t=_({rel:"modulepreload",href:t},i),Vn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(m)))return}l=a.createElement("link"),Ht(l,"link",t),mt(l),a.head.appendChild(l)}}}function rE(t,i,a){Qr.S(t,i,a);var l=to;if(l&&t){var d=_i(l).hoistableStyles,m=no(t);i=i||"default";var b=d.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(jl(m)))w.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(m))&&lm(t,a);var j=b=l.createElement("link");mt(j),Ht(j,"link",t),j._p=new Promise(function(F,Z){j.onload=F,j.onerror=Z}),j.addEventListener("load",function(){w.loading|=1}),j.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Pu(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(m,b)}}}function iE(t,i){Qr.X(t,i);var a=to;if(a&&t){var l=_i(a).hoistableScripts,d=ro(t),m=l.get(d);m||(m=a.querySelector(kl(d)),m||(t=_({src:t,async:!0},i),(i=Vn.get(d))&&cm(t,i),m=a.createElement("script"),mt(m),Ht(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function sE(t,i){Qr.M(t,i);var a=to;if(a&&t){var l=_i(a).hoistableScripts,d=ro(t),m=l.get(d);m||(m=a.querySelector(kl(d)),m||(t=_({src:t,async:!0,type:"module"},i),(i=Vn.get(d))&&cm(t,i),m=a.createElement("script"),mt(m),Ht(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function yv(t,i,a,l){var d=(d=Ee.current)?Vu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=_i(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var m=_i(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(jl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),m||aE(d,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=_i(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+Dt(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function vv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function aE(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),mt(i),t.head.appendChild(i))}function ro(t){return'[src="'+Dt(t)+'"]'}function kl(t){return"script[async]"+t}function _v(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Ht(l,"style",d),Pu(l,a.precedence,t),i.instance=l;case"stylesheet":d=no(a.href);var m=t.querySelector(jl(d));if(m)return i.state.loading|=4,i.instance=m,mt(m),m;l=vv(a),(d=Vn.get(d))&&lm(l,d),m=(t.ownerDocument||t).createElement("link"),mt(m);var b=m;return b._p=new Promise(function(w,j){b.onload=w,b.onerror=j}),Ht(m,"link",l),i.state.loading|=4,Pu(m,a.precedence,t),i.instance=m;case"script":return m=ro(a.src),(d=t.querySelector(kl(m)))?(i.instance=d,mt(d),d):(l=a,(d=Vn.get(m))&&(l=_({},a),cm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),mt(d),Ht(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pu(l,a.precedence,t));return i.instance}function Pu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===i)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lu=null;function xv(t,i,a){if(Lu===null){var l=new Map,d=Lu=new Map;d.set(a,l)}else d=Lu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[yi]||m[ft]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=t+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function bv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function oE(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function lE(){}function cE(t,i,a){if(Dl===null)throw Error(s(475));var l=Dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=no(a.href),m=t.querySelector(jl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uu.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,mt(m);return}m=t.ownerDocument||t,a=vv(a),(d=Vn.get(d))&&lm(a,d),m=m.createElement("link"),mt(m);var b=m;b._p=new Promise(function(w,j){b.onload=w,b.onerror=j}),Ht(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Uu.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function uE(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&um(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&um(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function um(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,i.forEach(hE,t),zu=null,Uu.call(t))}function hE(t,i){if(!(i.state.loading&4)){var a=zu.get(t);if(a)var l=a.get(null);else{a=new Map,zu.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=i.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Uu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:re,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function dE(t,i,a,l,d,m,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ev(t,i,a,l,d,m,b,w,j,F,Z,te){return t=new dE(t,i,a,b,w,j,F,te),i=1,m===!0&&(i|=24),m=vn(3,null,null,i),t.current=m,m.stateNode=t,i=Fd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Yd(m),t}function Tv(t){return t?(t=Ma,t):Ma}function Sv(t,i,a,l,d,m){d=Tv(d),l.context===null?l.context=d:l.pendingContext=d,l=Ci(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ii(t,l,i),a!==null&&(En(a,t,i),ul(a,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hm(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function Rv(t){if(t.tag===13){var i=Da(t,67108864);i!==null&&En(i,t,67108864),hm(t,67108864)}}var Bu=!0;function fE(t,i,a,l){var d=K.T;K.T=null;var m=W.p;try{W.p=2,dm(t,i,a,l)}finally{W.p=m,K.T=d}}function mE(t,i,a,l){var d=K.T;K.T=null;var m=W.p;try{W.p=8,dm(t,i,a,l)}finally{W.p=m,K.T=d}}function dm(t,i,a,l){if(Bu){var d=fm(l);if(d===null)Jf(t,i,l,qu,a),Cv(t,l);else if(gE(d,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<pE.indexOf(t)){for(;d!==null;){var m=ar(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=zn(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var j=1<<31-rn(b);w.entanglements[1]|=j,b&=~j}gr(m),($e&6)===0&&(Su=cn()+500,Rl(0))}}break;case 13:w=Da(m,2),w!==null&&En(w,m,2),Ru(),hm(m,2)}if(m=fm(l),m===null&&Jf(t,i,l,qu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Jf(t,i,l,null,a)}}function fm(t){return t=Go(t),mm(t)}var qu=null;function mm(t){if(qu=null,t=sr(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qu=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case At:return 2;case kt:return 8;case Cr:case vd:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var pm=!1,Hi=null,Fi=null,Gi=null,Ol=new Map,Vl=new Map,$i=[],pE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Pl(t,i,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=ar(i),i!==null&&Rv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function gE(t,i,a,l,d){switch(i){case"focusin":return Hi=Pl(Hi,t,i,a,l,d),!0;case"dragenter":return Fi=Pl(Fi,t,i,a,l,d),!0;case"mouseover":return Gi=Pl(Gi,t,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ol.set(m,Pl(Ol.get(m)||null,t,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Vl.set(m,Pl(Vl.get(m)||null,t,i,a,l,d)),!0}return!1}function Iv(t){var i=sr(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,bd(t.priority,function(){if(a.tag===13){var l=wn();l=Po(l);var d=Da(a,l);d!==null&&En(d,a,l),hm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=ar(a),i!==null&&Rv(i),t.blockedOn=a,!1;i.shift()}return!0}function jv(t,i,a){Hu(t)&&a.delete(i)}function yE(){pm=!1,Hi!==null&&Hu(Hi)&&(Hi=null),Fi!==null&&Hu(Fi)&&(Fi=null),Gi!==null&&Hu(Gi)&&(Gi=null),Ol.forEach(jv),Vl.forEach(jv)}function Fu(t,i){t.blockedOn===i&&(t.blockedOn=null,pm||(pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yE)))}var Gu=null;function kv(t){Gu!==t&&(Gu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var m=ar(a);m!==null&&(t.splice(i,3),i-=3,mf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ll(t){function i(j){return Fu(j,t)}Hi!==null&&Fu(Hi,t),Fi!==null&&Fu(Fi,t),Gi!==null&&Fu(Gi,t),Ol.forEach(i),Vl.forEach(i);for(var a=0;a<$i.length;a++){var l=$i[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$i.length&&(a=$i[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&$i.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[zt]||null;if(typeof m=="function")b||kv(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[zt]||null)w=b.formAction;else if(mm(d)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),kv(a)}}}function gm(t){this._internalRoot=t}$u.prototype.render=gm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();Sv(a,l,t,i,null,null)},$u.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),Ru(),i[jr]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ir();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$i.length&&i!==0&&i<$i[a].priority;a++);$i.splice(a,0,t),a===0&&Iv(t)}};var Dv=e.version;if(Dv!=="19.1.1")throw Error(s(527,Dv,"19.1.1"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var vE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{hi=Ku.inject(vE),Yt=Ku}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=Q0,m=X0,b=W0,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Ev(t,1,!1,null,null,a,l,d,m,b,w,null),t[jr]=i.current,Zf(t),new gm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",m=Q0,b=X0,w=W0,j=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=Ev(t,1,!0,i,a??null,l,d,m,b,w,j,F),i.context=Tv(null),a=i.current,l=wn(),l=Po(l),d=Ci(l),d.callback=null,Ii(a,d,l),a=l,i.current.lanes=a,dt(i,a),gr(i),t[jr]=i.current,Zf(t),new $u(i)},zl.version="19.1.1",zl}var Hv;function NE(){if(Hv)return _m.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=RE(),_m.exports}var CE=NE();const IE=P2(CE);/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fv="popstate";function jE(r={}){function e(o,c){let{pathname:f="/",search:p="",hash:g=""}=la(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Um("",{pathname:f,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:tc(c))}function s(o,c){tr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return DE(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kE(){return Math.random().toString(36).substring(2,10)}function Gv(r,e){return{usr:r.state,key:r.key,idx:e}}function Um(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||s||kE()}}function tc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function la(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function DE(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,p="POP",g=null,y=_();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function _(){return(f.state||{idx:null}).idx}function E(){p="POP";let L=_(),$=L==null?null:L-y;y=L,g&&g({action:p,location:Y.location,delta:$})}function A(L,$){p="PUSH";let B=Um(Y.location,L,$);n&&n(B,L),y=_()+1;let re=Gv(B,y),ae=Y.createHref(B);try{f.pushState(re,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ae)}c&&g&&g({action:p,location:Y.location,delta:1})}function O(L,$){p="REPLACE";let B=Um(Y.location,L,$);n&&n(B,L),y=_();let re=Gv(B,y),ae=Y.createHref(B);f.replaceState(re,"",ae),c&&g&&g({action:p,location:Y.location,delta:0})}function H(L){return ME(L)}let Y={get action(){return p},get location(){return r(o,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,E),g=L,()=>{o.removeEventListener(Fv,E),g=null}},createHref(L){return e(o,L)},createURL:H,encodeLocation(L){let $=H(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:O,go(L){return f.go(L)}};return Y}function ME(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:tc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function L2(r,e,n="/"){return OE(r,e,n,!1)}function OE(r,e,n,s){let o=typeof e=="string"?la(e):e,c=ni(o.pathname||"/",n);if(c==null)return null;let f=U2(r);VE(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=KE(c);p=GE(f[g],y,s)}return p}function U2(r,e=[],n=[],s="",o=!1){let c=(f,p,g=o,y)=>{let _={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&g)return;lt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let E=ei([s,_.relativePath]),A=n.concat(_);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),U2(f.children,e,A,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:HE(E,f.index),routesMeta:A})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let g of z2(f.path))c(f,p,!0,g)}),e}function z2(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=z2(s.join("/")),p=[];return p.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function VE(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:FE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var PE=/^:[\w-]+$/,LE=3,UE=2,zE=1,BE=10,qE=-2,$v=r=>r==="*";function HE(r,e){let n=r.split("/"),s=n.length;return n.some($v)&&(s+=qE),e&&(s+=UE),n.filter(o=>!$v(o)).reduce((o,c)=>o+(PE.test(c)?LE:c===""?zE:BE),s)}function FE(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function GE(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,_=c==="/"?e:e.slice(c.length)||"/",E=mh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),A=g.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=mh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:ei([c,E.pathname]),pathnameBase:WE(ei([c,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(c=ei([c,E.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=$E(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:E},A)=>{if(_==="*"){let H=p[A]||"";f=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const O=p[A];return E&&!O?y[_]=void 0:y[_]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function $E(r,e=!1,n=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function KE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ni(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function YE(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?la(r):r;return{pathname:n?n.startsWith("/")?n:QE(n,e):e,search:ZE(s),hash:JE(o)}}function QE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B2(r){let e=XE(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function q2(r,e,n,s=!1){let o;typeof r=="string"?o=la(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=n;else{let E=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}p=E>=0?e[E]:"/"}let g=YE(o,p),y=f&&f!=="/"&&f.endsWith("/"),_=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var ei=r=>r.join("/").replace(/\/\/+/g,"/"),WE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function eT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var H2=["POST","PUT","PATCH","DELETE"];new Set(H2);var tT=["GET",...H2];new Set(tT);var Eo=M.createContext(null);Eo.displayName="DataRouter";var qh=M.createContext(null);qh.displayName="DataRouterState";M.createContext(!1);var F2=M.createContext({isTransitioning:!1});F2.displayName="ViewTransition";var nT=M.createContext(new Map);nT.displayName="Fetchers";var rT=M.createContext(null);rT.displayName="Await";var Ar=M.createContext(null);Ar.displayName="Navigation";var fc=M.createContext(null);fc.displayName="Location";var ci=M.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var yp=M.createContext(null);yp.displayName="RouteError";function iT(r,{relative:e}={}){lt(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Ar),{hash:o,pathname:c,search:f}=pc(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ei([n,c])),s.createHref({pathname:p,search:f,hash:o})}function mc(){return M.useContext(fc)!=null}function ui(){return lt(mc(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(fc).location}var G2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $2(r){M.useContext(Ar).static||M.useLayoutEffect(r)}function sT(){let{isDataRoute:r}=M.useContext(ci);return r?vT():aT()}function aT(){lt(mc(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(Eo),{basename:e,navigator:n}=M.useContext(Ar),{matches:s}=M.useContext(ci),{pathname:o}=ui(),c=JSON.stringify(B2(s)),f=M.useRef(!1);return $2(()=>{f.current=!0}),M.useCallback((g,y={})=>{if(tr(f.current,G2),!f.current)return;if(typeof g=="number"){n.go(g);return}let _=q2(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ei([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,c,o,r])}M.createContext(null);function pc(r,{relative:e}={}){let{matches:n}=M.useContext(ci),{pathname:s}=ui(),o=JSON.stringify(B2(n));return M.useMemo(()=>q2(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function oT(r,e){return K2(r,e)}function K2(r,e,n,s,o){lt(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(Ar),{matches:f}=M.useContext(ci),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",E=p&&p.route;{let B=E&&E.path||"";Y2(y,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let A=ui(),O;if(e){let B=typeof e=="string"?la(e):e;lt(_==="/"||B.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),O=B}else O=A;let H=O.pathname||"/",Y=H;if(_!=="/"){let B=_.replace(/^\//,"").split("/");Y="/"+H.replace(/^\//,"").split("/").slice(B.length).join("/")}let L=L2(r,{pathname:Y});tr(E||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),tr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=dT(L&&L.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:ei([_,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:ei([_,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),f,n,s,o);return e&&$?M.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function lT(){let r=yT(),e=eT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,f)}var cT=M.createElement(lT,null),uT=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?M.createElement(ci.Provider,{value:this.props.routeContext},M.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hT({routeContext:r,match:e,children:n}){let s=M.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ci.Provider,{value:r},n)}function dT(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,f=n?.errors;if(f!=null){let y=c.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);lt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:E,errors:A}=n,O=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||O){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,_,E)=>{let A,O=!1,H=null,Y=null;n&&(A=f&&_.route.id?f[_.route.id]:void 0,H=_.route.errorElement||cT,p&&(g<0&&E===0?(Y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,Y=null):g===E&&(O=!0,Y=_.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,E+1)),$=()=>{let B;return A?B=H:O?B=Y:_.route.Component?B=M.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=y,M.createElement(hT,{match:_,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:B})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?M.createElement(uT,{location:n.location,revalidation:n.revalidation,component:H,error:A,children:$(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):$()},null)}function vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fT(r){let e=M.useContext(Eo);return lt(e,vp(r)),e}function mT(r){let e=M.useContext(qh);return lt(e,vp(r)),e}function pT(r){let e=M.useContext(ci);return lt(e,vp(r)),e}function _p(r){let e=pT(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function gT(){return _p("useRouteId")}function yT(){let r=M.useContext(yp),e=mT("useRouteError"),n=_p("useRouteError");return r!==void 0?r:e.errors?.[n]}function vT(){let{router:r}=fT("useNavigate"),e=_p("useNavigate"),n=M.useRef(!1);return $2(()=>{n.current=!0}),M.useCallback(async(o,c={})=>{tr(n.current,G2),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Kv={};function Y2(r,e,n){!e&&!Kv[r]&&(Kv[r]=!0,tr(!1,n))}M.memo(_T);function _T({routes:r,future:e,state:n,unstable_onError:s}){return K2(r,void 0,n,s,e)}function Xr(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xT({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){lt(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof n=="string"&&(n=la(n));let{pathname:g="/",search:y="",hash:_="",state:E=null,key:A="default"}=n,O=M.useMemo(()=>{let H=ni(g,f);return H==null?null:{location:{pathname:H,search:y,hash:_,state:E,key:A},navigationType:s}},[f,g,y,_,E,A,s]);return tr(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:M.createElement(Ar.Provider,{value:p},M.createElement(fc.Provider,{children:e,value:O}))}function bT({children:r,location:e}){return oT(zm(r),e)}function zm(r,e=[]){let n=[];return M.Children.forEach(r,(s,o)=>{if(!M.isValidElement(s))return;let c=[...e,o];if(s.type===M.Fragment){n.push.apply(n,zm(s.props.children,c));return}lt(s.type===Xr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,c)),n.push(f)}),n}var nh="get",rh="application/x-www-form-urlencoded";function Hh(r){return r!=null&&typeof r.tagName=="string"}function wT(r){return Hh(r)&&r.tagName.toLowerCase()==="button"}function ET(r){return Hh(r)&&r.tagName.toLowerCase()==="form"}function TT(r){return Hh(r)&&r.tagName.toLowerCase()==="input"}function ST(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function AT(r,e){return r.button===0&&(!e||e==="_self")&&!ST(r)}var Yu=null;function RT(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var NT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!NT.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):r}function CT(r,e){let n,s,o,c,f;if(ET(r)){let p=r.getAttribute("action");s=p?ni(p,e):null,n=r.getAttribute("method")||nh,o=Tm(r.getAttribute("enctype"))||rh,c=new FormData(r)}else if(wT(r)||TT(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?ni(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||nh,o=Tm(r.getAttribute("formenctype"))||Tm(p.getAttribute("enctype"))||rh,c=new FormData(p,r),!RT()){let{name:y,type:_,value:E}=r;if(_==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,E)}}else{if(Hh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=rh,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function IT(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ni(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DT(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await jT(c,n);return f.links?f.links():[]}return[]}));return PT(s.flat(1).filter(kT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(r,e,n,s,o,c){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function MT(r,e,{includeHydrateFallback:n}={}){return OT(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function OT(r){return[...new Set(r)]}function VT(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function PT(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(VT(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function Q2(){let r=M.useContext(Eo);return xp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function LT(){let r=M.useContext(qh);return xp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bp=M.createContext(void 0);bp.displayName="FrameworkContext";function X2(){let r=M.useContext(bp);return xp(r,"You must render this element inside a <HydratedRouter> element"),r}function UT(r,e){let n=M.useContext(bp),[s,o]=M.useState(!1),[c,f]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,A=M.useRef(null);M.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=$=>{$.forEach(B=>{f(B.isIntersecting)})},L=new IntersectionObserver(Y,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),M.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let O=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:Bl(p,O),onBlur:Bl(g,H),onMouseEnter:Bl(y,O),onMouseLeave:Bl(_,H),onTouchStart:Bl(E,O)}]:[!1,A,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function zT({page:r,...e}){let{router:n}=Q2(),s=M.useMemo(()=>L2(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?M.createElement(qT,{page:r,matches:s,...e}):null}function BT(r){let{manifest:e,routeModules:n}=X2(),[s,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return DT(r,e,n).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,n]),s}function qT({page:r,matches:e,...n}){let s=ui(),{manifest:o,routeModules:c}=X2(),{basename:f}=Q2(),{loaderData:p,matches:g}=LT(),y=M.useMemo(()=>Yv(r,e,g,o,s,"data"),[r,e,g,o,s]),_=M.useMemo(()=>Yv(r,e,g,o,s,"assets"),[r,e,g,o,s]),E=M.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,Y=!1;if(e.forEach($=>{let B=o.routes[$.route.id];!B||!B.hasLoader||(!y.some(re=>re.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||B.hasClientLoader?Y=!0:H.add($.route.id))}),H.size===0)return[];let L=IT(r,f,"data");return Y&&H.size>0&&L.searchParams.set("_routes",e.filter($=>H.has($.route.id)).map($=>$.route.id).join(",")),[L.pathname+L.search]},[f,p,s,o,y,e,r,c]),A=M.useMemo(()=>MT(_,o),[_,o]),O=BT(_);return M.createElement(M.Fragment,null,E.map(H=>M.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),A.map(H=>M.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),O.map(({key:H,link:Y})=>M.createElement("link",{key:H,nonce:n.nonce,...Y})))}function HT(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W2&&(window.__reactRouterVersion="7.9.2")}catch{}function FT({basename:r,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=jE({window:n,v5Compat:!0}));let o=s.current,[c,f]=M.useState({action:o.action,location:o.location}),p=M.useCallback(g=>{M.startTransition(()=>f(g))},[f]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.createElement(xT,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:p,target:g,to:y,preventScrollReset:_,viewTransition:E,...A},O){let{basename:H}=M.useContext(Ar),Y=typeof y=="string"&&Z2.test(y),L,$=!1;if(typeof y=="string"&&Y&&(L=y,W2))try{let T=new URL(window.location.href),k=y.startsWith("//")?new URL(T.protocol+y):new URL(y),C=ni(k.pathname,H);k.origin===T.origin&&C!=null?y=C+k.search+k.hash:$=!0}catch{tr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=iT(y,{relative:o}),[re,ae,ie]=UT(s,A),ce=YT(y,{replace:f,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:E});function I(T){e&&e(T),T.defaultPrevented||ce(T)}let R=M.createElement("a",{...A,...ie,href:L||B,onClick:$||c?e:I,ref:HT(O,ae),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return re&&!Y?M.createElement(M.Fragment,null,R,M.createElement(zT,{page:B})):R});It.displayName="Link";var GT=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:p,children:g,...y},_){let E=pc(f,{relative:y.relative}),A=ui(),O=M.useContext(qh),{navigator:H,basename:Y}=M.useContext(Ar),L=O!=null&&JT(E)&&p===!0,$=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,B=A.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(B=B.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&Y&&(re=ni(re,Y)||re);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=B===$||!o&&B.startsWith($)&&B.charAt(ae)==="/",ce=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),I={isActive:ie,isPending:ce,isTransitioning:L},R=ie?e:void 0,T;typeof s=="function"?T=s(I):T=[s,ie?"active":null,ce?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(I):c;return M.createElement(It,{...y,"aria-current":R,className:T,ref:_,style:k,to:f,viewTransition:p},typeof g=="function"?g(I):g)});GT.displayName="NavLink";var $T=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:f=nh,action:p,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:E,...A},O)=>{let H=WT(),Y=ZT(p,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&Z2.test(p),B=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let ae=re.nativeEvent.submitter,ie=ae?.getAttribute("formmethod")||f;H(ae||re.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:c,relative:y,preventScrollReset:_,viewTransition:E})};return M.createElement("form",{ref:O,method:L,action:Y,onSubmit:s?g:B,...A,"data-discover":!$&&r==="render"?"true":void 0})});$T.displayName="Form";function KT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J2(r){let e=M.useContext(Eo);return lt(e,KT(r)),e}function YT(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=sT(),g=ui(),y=pc(r,{relative:c});return M.useCallback(_=>{if(AT(_,e)){_.preventDefault();let E=n!==void 0?n:tc(g)===tc(y);p(r,{replace:E,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[g,p,y,n,s,e,r,o,c,f])}var QT=0,XT=()=>`__${String(++QT)}__`;function WT(){let{router:r}=J2("useSubmit"),{basename:e}=M.useContext(Ar),n=gT();return M.useCallback(async(s,o={})=>{let{action:c,method:f,encType:p,formData:g,body:y}=CT(s,e);if(o.navigate===!1){let _=o.fetcherKey||XT();await r.fetch(_,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function ZT(r,{relative:e}={}){let{basename:n}=M.useContext(Ar),s=M.useContext(ci);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...pc(r||".",{relative:e})},f=ui();if(r==null){c.search=f.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let _=p.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ei([n,c.pathname])),tc(c)}function JT(r,{relative:e}={}){let n=M.useContext(F2);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=J2("useViewTransitionState"),o=pc(r,{relative:e});if(!n.isTransitioning)return!1;let c=ni(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ni(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,c)!=null}const eS="/codme/assets/Logo-CAkruFtu.png",tS="/codme/assets/blur_bg-1-CSoOZOH3.png",nS="/codme/assets/Hero_arduino-DwUUAWH5.png",rS="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Menu_Alt_02'%3e%3cpath%20id='Vector'%20d='M11%2017H19M5%2012H19M11%207H19'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",iS="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Close_LG'%3e%3cpath%20id='Vector'%20d='M21%2021L12%2012M12%2012L3%203M12%2012L21.0001%203M12%2012L3%2021.0001'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",sS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2017.211%2017.211'%20xml:space='preserve'%20fill='%239a1518'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cg%3e%3cpath%20style='fill:%239a1518;'%20d='M14.148,7.781l-5.579,3.327L3.097,7.781l-0.455,2.841c0.002-0.004,0.006-0.007,0.011-0.013%20c-0.065,0.109-0.102,0.222-0.102,0.337c0,1.003,4.418,4.094,5.821,4.094c1.404,0,6.323-3.091,6.323-4.094%20c0-0.109-0.036-0.214-0.092-0.532L14.148,7.781z'/%3e%3cpath%20style='fill:%239a1518;'%20d='M17.211,4.873L8.635,2.17l-7.66,2.443C0.867,4.63,0.765,4.658,0.684,4.706l0,0l0,0%20c-0.098,0.058-0.165,0.142-0.17,0.266C0.473,5.468,0,11.17,0,11.17l0.514,1.708l0.477-1.708L0.789,5.294l7.823,4.813L17.211,4.873%20z%20M8.015,5.118H0.783l0.756-0.413h6.385C8.007,4.56,8.203,4.458,8.431,4.458c0.304,0,0.55,0.181,0.55,0.403%20c0,0.223-0.246,0.404-0.55,0.404C8.261,5.267,8.115,5.207,8.015,5.118z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",aS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.063%2021.7917C10.3894%2022.1483%2011%2021.9534%2011%2021.4699V4C10%203%208.91255%202.57151%207.78361%202.32246C5.78311%201.88113%204.0024%201.97693%202.91265%202.11876C1.70543%202.27587%201%203.34931%201%204.40561V17.5662C1%2018.9895%202.18834%2020.1115%203.56807%2020.066C4.71011%2020.0284%206.2952%2020.0688%207.73105%2020.4158C8.82596%2020.6803%209.52237%2021.2009%2010.063%2021.7917Z'%20fill='%239a1518'/%3e%3cpath%20d='M13.937%2021.7917C13.6106%2022.1483%2013%2021.9534%2013%2021.4699V4C14%203%2015.0874%202.57151%2016.2164%202.32246C18.2169%201.88113%2019.9976%201.97693%2021.0873%202.11876C22.2946%202.27587%2023%203.34931%2023%204.40561V17.5662C23%2018.9895%2021.8117%2020.1115%2020.4319%2020.066C19.2899%2020.0284%2017.7048%2020.0688%2016.269%2020.4158C15.174%2020.6803%2014.4776%2021.2009%2013.937%2021.7917Z'%20fill='%239a1518'/%3e%3c/g%3e%3c/svg%3e",oS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-1%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3emegaphone%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-206.000000,%20-310.000000)'%20fill='%239a1518'%3e%3cpath%20d='M224,330%20L227,330%20L227,316%20L224,316%20L224,330%20Z%20M236,310%20L229,314.667%20L229,331.333%20L236,336%20C237.104,336%20238,335.104%20238,334%20L238,312%20C238,310.896%20237.104,310%20236,310%20L236,310%20Z%20M206,323%20C206,326.733%20208.561,329.148%20212.019,329.81%20L212,330%20L212,338%20C212,339.104%20212.896,340%20214,340%20L217,340%20C218.104,340%20219,339.104%20219,338%20L219,330%20L222,330%20L222,316%20L214,316%20C209.582,316%20206,318.582%20206,323%20L206,323%20Z'%20id='megaphone'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",lS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-4%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3elocation%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-106.000000,%20-413.000000)'%20fill='%239a1518'%3e%3cpath%20d='M118,422%20C116.343,422%20115,423.343%20115,425%20C115,426.657%20116.343,428%20118,428%20C119.657,428%20121,426.657%20121,425%20C121,423.343%20119.657,422%20118,422%20L118,422%20Z%20M118,430%20C115.239,430%20113,427.762%20113,425%20C113,422.238%20115.239,420%20118,420%20C120.761,420%20123,422.238%20123,425%20C123,427.762%20120.761,430%20118,430%20L118,430%20Z%20M118,413%20C111.373,413%20106,418.373%20106,425%20C106,430.018%20116.005,445.011%20118,445%20C119.964,445.011%20130,429.95%20130,425%20C130,418.373%20124.627,413%20118,413%20L118,413%20Z'%20id='location'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",cS="/codme/assets/official-logo-CJy_pXel.png",tn={official_logo:cS,location:lS,megaphone:oS,book_open:aS,graduation_hat:sS,logo:eS,bgImage1:tS,hero_img:nS,menu_icon:rS,close_icon:iS},uS=()=>{const[r,e]=M.useState(!1),n=ui(),s=o=>n.pathname===o;return h.jsxs("div",{className:`flex justify-between items-center px-4 sm:px-12 lg:px-24 xl:px-40 py-4
                 sticky top-0 z-50 backdrop-blur-xl bg-white/20 border border-white/30
                 shadow-[0_4px_30px_rgba(0,0,0,0.1)]
                 before:content-[""] before:absolute before:inset-0
                 before:bg-gradient-to-br before:from-white/40 before:to-transparent
                 before:pointer-events-none relative`,children:[h.jsx(It,{to:"/",className:"flex-shrink-0",children:h.jsx("img",{src:tn.logo,className:"w-28 sm:w-32 md:w-36 lg:w-40 relative z-10 cursor-pointer",alt:"Logo"})}),h.jsxs("div",{className:"hidden lg:flex items-center gap-6 lg:gap-8 text-gray-700 text-base lg:text-lg",children:[h.jsx(It,{to:"/",className:`hover:text-primary transition-colors ${s("/")?"text-primary font-semibold":""}`,children:"หน้าหลัก"}),h.jsx(It,{to:"/admission",className:`hover:text-primary transition-colors ${s("/admission")?"text-primary font-semibold":""}`,children:"เกณฑ์การรับเข้า"}),h.jsx(It,{to:"/course",className:`hover:text-primary transition-colors ${s("/course")?"text-primary font-semibold":""}`,children:"ข้อมูลหลักสูตร"}),h.jsx(It,{to:"/activity",className:`hover:text-primary transition-colors ${s("/activity")?"text-primary font-semibold":""}`,children:"แนะแนว&กิจกรรม"}),h.jsx(It,{to:"/contact",className:`hover:text-primary transition-colors ${s("/contact")?"text-primary font-semibold":""}`,children:"ติดต่อ"})]}),h.jsxs("div",{className:`fixed top-0 bottom-0 right-0 z-50
          ${r?"w-72":"w-0"}
          overflow-hidden transition-all duration-300 ease-in-out
          bg-primary text-white min-h-screen flex flex-col pt-16
          lg:hidden`,children:[h.jsx("img",{src:tn.close_icon,alt:"Close",className:"w-6 absolute right-4 top-4 cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1)}),h.jsxs("div",{className:"flex flex-col gap-6 px-8 py-8",children:[h.jsx(It,{to:"/",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/")?"font-semibold text-white":"text-white/90"}`,children:"หน้าหลัก"}),h.jsx(It,{to:"/admission",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/admission")?"font-semibold text-white":"text-white/90"}`,children:"เกณฑ์การรับเข้า"}),h.jsx(It,{to:"/course",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/course")?"font-semibold text-white":"text-white/90"}`,children:"ข้อมูลหลักสูตร"}),h.jsx(It,{to:"/activity",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/activity")?"font-semibold text-white":"text-white/90"}`,children:"แนะแนว&กิจกรรม"}),h.jsx(It,{to:"/contact",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/contact")?"font-semibold text-white":"text-white/90"}`,children:"ติดต่อ"}),h.jsx(It,{to:"/feedback",onClick:()=>e(!1),className:`flex items-center justify-center gap-2
                       bg-white text-primary px-6 py-3 rounded-full mt-6
                       cursor-pointer hover:scale-105 transition-all
                       font-semibold text-base shadow-lg`,children:"ข้อเสนอแนะ →"})]})]}),h.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[h.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-black/10 rounded-lg transition-colors lg:hidden","aria-label":"Open menu",children:h.jsx("img",{src:tn.menu_icon,alt:"Menu",className:"w-6 h-6"})}),h.jsx(It,{to:"/feedback",className:`hidden lg:flex items-center gap-2
                     bg-primary text-white px-4 py-2 lg:px-6 lg:py-3 rounded-full
                     cursor-pointer hover:scale-105 hover:bg-primary/90 
                     transition-all font-medium text-sm lg:text-base
                     shadow-lg hover:shadow-xl`,children:"ข้อเสนอแนะ →"})]})]})};var e_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qv=Ji.createContext&&Ji.createContext(e_),hS=["attr","size","title"];function dS(r,e){if(r==null)return{};var n=fS(r,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function fS(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},ph.apply(this,arguments)}function Xv(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function gh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xv(Object(n),!0).forEach(function(s){mS(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function mS(r,e,n){return e=pS(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function pS(r){var e=gS(r,"string");return typeof e=="symbol"?e:e+""}function gS(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function t_(r){return r&&r.map((e,n)=>Ji.createElement(e.tag,gh({key:n},e.attr),t_(e.child)))}function yS(r){return e=>Ji.createElement(vS,ph({attr:gh({},r.attr)},e),t_(r.child))}function vS(r){var e=n=>{var{attr:s,size:o,title:c}=r,f=dS(r,hS),p=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),Ji.createElement("svg",ph({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:gh(gh({color:r.color||n.color},n.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Ji.createElement("title",null,c),r.children)};return Qv!==void 0?Ji.createElement(Qv.Consumer,null,n=>e(n)):e(e_)}function _S(r){return yS({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}const xS=()=>h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
          @media (min-width: 1600px) {
            .footer-desktop {
              margin-top: -120px;
            }
          }
        `}),h.jsxs("footer",{className:"bg-gray-100 py-6 px-4 mt-10 footer-desktop",children:[h.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 mt-5",children:[h.jsxs("div",{className:"col-span-1",children:[h.jsx("div",{className:"flex items-center mb-4",children:h.jsx("img",{src:tn.logo,alt:"โลโก้มหาวิทยาลัยขอนแก่น",className:"w-32 sm:w-40 relative z-10"})}),h.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"แหล่งรวมข้อมูลและความรู้ด้านวิศวกรรมคอมพิวเตอร์และวิศวกรรมสื่อดิจิตอล มหาวิทยาลัยขอนแก่น เพื่อการเรียนรู้และพัฒนาในยุคเทคโนโลยี"}),h.jsxs("nav",{className:"flex space-x-4",children:[h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"หน้าแรก"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"เกณฑ์การรับเข้า"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"ข้อมูลหลักสูตร"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"แนะแนว&กิจกรรม"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"ติดต่อเรา"})]})]}),h.jsxs("div",{className:"col-span-1 flex flex-col items-start",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"ติดตามข่าวสาร"}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"ติดตามเราในโซเชียลมีเดียเพื่อรับข้อมูลข่าวสารและความรู้ใหม่ๆ ด้านเทคโนโลยีและวิศวกรรม"}),h.jsx("div",{className:"flex space-x-4",children:h.jsx("a",{href:"#",className:"text-gray-600 hover:[color:#9a1518] transition-colors",children:h.jsx(_S,{size:20})})})]})]}),h.jsx("hr",{className:"my-8 border-gray-300"}),h.jsx("div",{className:"max-w-7xl mx-auto flex justify-center text-sm text-gray-600",children:h.jsx("p",{children:"ลิขสิทธิ์ 2568 © วิศวกรรมคอมพิวเตอร์และสื่อดิจิตอล มหาวิทยาลัยขอนแก่น - สงวนสิทธิ์ทุกประการ"})})]})]}),bS={BASE_URL:"/codme/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"/codme/",VITE_GEMINI_API_KEY:""},wS=()=>{const[r,e]=M.useState(!1),[n,s]=M.useState(!1),[o,c]=M.useState([]),[f,p]=M.useState(""),[g,y]=M.useState(!1),[_,E]=M.useState(!1),[A,O]=M.useState(""),[H,Y]=M.useState(""),L=M.useRef(null),$=M.useRef(!1),B=M.useRef(!1),re=M.useRef(!1),ae=async(C,V)=>{try{console.log("Fetching course data from:",C);const N=await fetch(C);if(!N.ok)throw new Error(`HTTP error! status: ${N.status} from ${C}`);const ve=await N.text();console.log(`✅ Successfully loaded data from ${C}`),V(ve)}catch(N){console.error(`❌ Error loading course knowledge from ${C}:`,N)}},ie=M.useCallback(C=>{const N=C.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").split(`
`);let ve=!1,me=[];for(let K of N)if(K.trim().startsWith("*")&&!K.trim().startsWith("**")){ve||(me.push('<ul class="list-disc list-inside space-y-1 mt-2">'),ve=!0);const W=K.trim().substring(1).trim();me.push(`<li>${W}</li>`)}else ve&&(me.push("</ul>"),ve=!1),K.trim()&&me.push(`<p class="mb-2">${K}</p>`);return ve&&me.push("</ul>"),me.join("")},[]);M.useEffect(()=>{re.current||(re.current=!0,console.log("🔍 Checking API Key..."),console.log("📋 All environment variables:",bS),console.error("❌ GEMINI_API_KEY is not defined!"),console.error("⚠️ Chatbot will not work without API key!"),console.log("💡 If deploying to GitHub Pages, make sure to:"),console.log("   1. Add VITE_GEMINI_API_KEY to GitHub Secrets"),console.log("   2. Update GitHub Actions workflow to inject the secret"))},[]),M.useEffect(()=>{if(!B.current){B.current=!0;const C="/codme/";ae(`${C}data/course_coe.txt`,O),ae(`${C}data/course_dme.txt`,Y)}},[]),M.useEffect(()=>{$.current||(c([{sender:"ai",text:"สวัสดีครับ! ฉันคือผู้ช่วยอัจฉริยะของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล มหาวิทยาลัยขอนแก่น พร้อมให้คำปรึกษาเกี่ยวกับหลักสูตรและวิชาเรียนต่างๆ มีอะไรให้ช่วยไหมครับ?"}]),$.current=!0)},[]),M.useEffect(()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight)},[o]);const ce=()=>{r?(e(!1),setTimeout(()=>s(!1),300)):(s(!0),setTimeout(()=>e(!0),10))},I=M.useCallback(async(C,V)=>{if(C.trim()){console.error("❌ Cannot send message: API Key is not defined"),c(N=>[...N,{sender:"user",text:C},{sender:"ai",text:`❌ เกิดข้อผิดพลาด: ไม่พบ API Key ของ Gemini

กรุณาตรวจสอบการตั้งค่า environment variables (VITE_GEMINI_API_KEY)

หากคุณกำลัง deploy บน GitHub Pages ให้ตรวจสอบว่าได้เพิ่ม Secret ใน GitHub Actions แล้ว`}]);return}},[A,H]),R=()=>{f.trim()&&!g&&I(f,o)},T=C=>{C.key==="Enter"&&(C.preventDefault(),R())},k=o.length===1&&o[0].sender==="ai";return{isOpen:r,isVisible:n,messages:o,inputMessage:f,isLoading:g,chatContentRef:L,toggleChat:ce,setInputMessage:p,handleSendMessage:R,handleKeyPress:T,formatAIResponse:ie,showInitialWelcomeUI:k,setMessages:c,showPetitionAlert:_,setShowPetitionAlert:E}},n_=({sender:r,text:e,formatAIResponse:n})=>h.jsx("div",{className:`flex ${r==="user"?"justify-end":"justify-start"} animate-fadeIn`,children:h.jsx("div",{className:`max-w-[80%] p-2 rounded-xl shadow-lg transition-all duration-200 hover:shadow-xl text-sm ${r==="user"?"bg-gradient-to-br from-[#9a1518] to-[#c41e22] text-white rounded-br-sm":"bg-white/80 backdrop-blur-sm text-gray-800 border border-white/50 rounded-bl-sm"}`,dangerouslySetInnerHTML:{__html:r==="ai"?n(e):e}})}),r_=({setInputMessage:r})=>h.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 px-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"mt-3 w-20 h-20 bg-gradient-to-br from-[#9a1518] to-[#c41e22] rounded-2xl flex items-center justify-center shadow-xl rotate-6 hover:rotate-12 transition-transform duration-300",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),h.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-green-400 rounded-full border-3 border-white animate-pulse"})]}),h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h4",{className:"text-xl font-bold text-gray-800",children:"ยินดีต้อนรับ! 👋"}),h.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed max-w-xs",children:["ฉันคือผู้ช่วยอัจฉริยะของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล",h.jsx("br",{}),h.jsx("span",{className:"text-[#9a1518] font-semibold",children:"มหาวิทยาลัยขอนแก่น"})]})]}),h.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[h.jsx("p",{className:"text-xs text-gray-500 text-center font-medium",children:"คำถามแนะนำ:"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("button",{onClick:()=>r("วิชาเลือกสำหรับคนที่ชอบเขียนเว็บมีอะไรบ้าง"),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:"💻 วิชาเลือกสำหรับคนที่ชอบเขียนเว็บ"}),h.jsx("button",{onClick:()=>r("หลักสูตรของคณะมีอะไรบ้าง"),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:"📚 หลักสูตรของคณะมีอะไรบ้าง"})]})]})]}),ES=({isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O})=>{const H="bg-[#9a1518]",Y="hover:bg-[#7e1214]";return e?h.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-96 md:w-[420px] lg:w-[460px]
                    h-[380px] md:h-[430px] lg:h-[480px] // ขนาดคงที่
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    hidden sm:flex`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[A&&h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[h.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:"🔔 แจ้งเตือน: การยื่นคำร้อง"}),h.jsx("p",{className:"text-gray-700 text-base",children:"เนื่องจากการดำเนินการต้องใช้เวลา **กรุณาตรวจสอบกำหนดเวลายื่นคำร้องตามที่ท่านประสงค์**"}),h.jsx("div",{className:"flex justify-end mt-4",children:h.jsx("button",{onClick:()=>O(!1),className:`${H} ${Y} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:"รับทราบ"})})]})}),h.jsxs("div",{className:`p-3 flex justify-between items-center ${H} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[h.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[h.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),h.jsx("p",{className:"text-xs text-white/80",children:"พร้อมให้คำปรึกษาตลอด 24 ชม."})]})]}),h.jsx("button",{onClick:f,"aria-label":"ปิดหน้าต่างแชท",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),h.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[E?h.jsx(r_,{setInputMessage:p}):n.map((L,$)=>h.jsx(n_,{sender:L.sender,text:L.text,formatAIResponse:_},$)),o&&h.jsx("div",{className:"flex justify-start animate-fadeIn",children:h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),h.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",placeholder:"พิมพ์ข้อความของคุณที่นี่...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:L=>p(L.target.value),onKeyPress:y,disabled:o,"aria-label":"ช่องป้อนข้อความแชท"}),h.jsx("button",{onClick:g,className:`${H} ${Y} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"ส่งข้อความ",children:o?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},TS=({isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O})=>{const H="bg-[#9a1518]",Y="hover:bg-[#7e1214]";return e?h.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-[calc(100vw-3rem)] // Full width minus margin on mobile
                    h-[calc(100vh-150px)] // Adjusted height for mobile, e.g., slightly shorter than full screen
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    sm:hidden`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[A&&h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[h.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:"🔔 แจ้งเตือน: การยื่นคำร้อง"}),h.jsx("p",{className:"text-gray-700 text-base",children:"เนื่องจากการดำเนินการต้องใช้เวลา **กรุณาตรวจสอบกำหนดเวลายื่นคำร้องตามที่ท่านประสงค์**"}),h.jsx("div",{className:"flex justify-end mt-4",children:h.jsx("button",{onClick:()=>O(!1),className:`${H} ${Y} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:"รับทราบ"})})]})}),h.jsxs("div",{className:`p-3 flex justify-between items-center ${H} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[h.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[h.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),h.jsx("p",{className:"text-xs text-white/80",children:"พร้อมให้คำปรึกษาตลอด 24 ชม."})]})]}),h.jsx("button",{onClick:f,"aria-label":"ปิดหน้าต่างแชท",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),h.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[E?h.jsx(r_,{setInputMessage:p}):n.map((L,$)=>h.jsx(n_,{sender:L.sender,text:L.text,formatAIResponse:_},$)),o&&h.jsx("div",{className:"flex justify-start animate-fadeIn",children:h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),h.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",placeholder:"พิมพ์ข้อความของคุณที่นี่...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:L=>p(L.target.value),onKeyPress:y,disabled:o,"aria-label":"ช่องป้อนข้อความแชท"}),h.jsx("button",{onClick:g,className:`${H} ${Y} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"ส่งข้อความ",children:o?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},SS=()=>{const{isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O}=wS(),H="bg-[#9a1518]",Y="hover:bg-[#7e1214]",L="focus:ring-[#9a1518]",$={isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O};return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:f,"aria-label":r?"ปิดหน้าต่างแชท":"เปิดหน้าต่างแชท",className:`fixed bottom-6 right-6 ${H} ${Y} text-white p-4 rounded-full shadow-2xl z-50 focus:outline-none focus:ring-4 ${L} focus:ring-opacity-50 transition-all duration-300 hover:scale-110 active:scale-95 hover:shadow-[0_0_30px_rgba(154,21,24,0.5)]`,children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform duration-300 ${r?"rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r?h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"}):h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&h.jsx(ES,{...$}),e&&h.jsx(TS,{...$}),h.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }

        /* Custom Scrollbar */
        *::-webkit-scrollbar {
          width: 6px;
        }

        *::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb {
          background: rgba(154, 21, 24, 0.5);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb:hover {
          background: rgba(154, 21, 24, 0.7);
        }
      `})]})},AS=()=>h.jsxs("div",{id:"hero",className:`flex flex-col items-center gap-6 py-15 px-4 sm:px-12 lg:px-24
    xl:px-40 text-center w-full overflow-hidden text-gray-700 relative`,children:[h.jsxs("h1",{className:"font-medium xl:leading-[70px] max-w-5xl relative z-20 text-black",children:[h.jsx("span",{className:"text-lg sm:text-xl md:text-2xl xl:text-3xl font-regular",children:"ศูนย์ข้อมูลและคำปรึกษาออนไลน์"})," ",h.jsx("br",{}),h.jsx("span",{className:"text-4xl sm:text-4xl md:text-4xl lg:text-5xl xl:text-6xl font-medium block sm:inline",children:"วิศวกรรมคอมพิวเตอร์และสื่อดิจิทัล"}),h.jsx("span",{className:"hidden sm:inline",children:" "}),h.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl xl:text-5xl bg-gradient-to-r from-[#dc2626] to-[#7d1315] bg-clip-text text-transparent font-medium",children:"มหาวิทยาลัยขอนแก่น"})]}),h.jsx("p",{className:"text-sm sm:text-lg font-regular text-gray-500 max-w-4/5 sm:max-w-lg pb-3 -mt-5 relative z-20",children:"พัฒนาความรู้ ฝึกฝนทักษะ และเติบโตไปพร้อมกับเทคโนโลยีสมัยใหม่"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("img",{src:tn.hero_img,alt:"",className:"w-full max-w-6xl rounded-4xl relative z-10"}),h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute w-[1000px] h-[1000px] z-0 pointer-events-none",style:{top:"-350px",right:"-330px"}})]})]});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Wv=r=>{const e=NS(r);return e.charAt(0).toUpperCase()+e.slice(1)},i_=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),CS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=M.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...p},g)=>M.createElement("svg",{ref:g,...IS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:i_("lucide",o),...!c&&!CS(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,_])=>M.createElement(y,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(r,e)=>{const n=M.forwardRef(({className:s,...o},c)=>M.createElement(jS,{ref:c,iconNode:e,className:i_(`lucide-${RS(Wv(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Wv(r),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DS=Be("arrow-right",kS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],s_=Be("book-open",MS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yh=Be("calendar",OS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nc=Be("chevron-left",VS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LS=Be("chevron-right",PS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wp=Be("circle-alert",US);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BS=Be("circle-check-big",zS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],HS=Be("circle-x",qS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GS=Be("clock",FS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KS=Be("eye",$S);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],QS=Be("facebook",YS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],WS=Be("file-text",XS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],JS=Be("funnel",ZS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zv=Be("globe",eA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],a_=Be("info",tA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],$l=Be("loader",nA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iA=Be("log-out",rA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bm=Be("mail",sA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oA=Be("map-pin",aA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cA=Be("menu",lA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lo=Be("message-square",uA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],o_=Be("newspaper",hA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],fA=Be("phone",dA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jv=Be("plus",mA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gA=Be("refresh-cw",pA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vA=Be("save",yA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xA=Be("square-pen",_A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],e1=Be("star",bA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vh=Be("trash-2",wA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TA=Be("trending-up",EA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AA=Be("triangle-alert",SA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],l_=Be("upload",RA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_h=Be("user",NA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xh=Be("x",CA),Ep=({title:r,desc:e})=>h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("h2",{className:"text-3xl sm:text-5xl font-medium text-center",children:r}),h.jsx("p",{className:"max-w-lg text-center text-gray-500 mt-5 font-regular",children:e})]}),IA=`
@keyframes liquid-gradient-animation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.liquid-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    overflow: hidden;
    transform-style: preserve-3d;
}

.liquid-overlay {
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.1) 0%,
        rgba(255, 255, 255, 0.05) 20%,
        transparent 50%,
        rgba(255, 255, 255, 0.05) 80%,
        rgba(255, 255, 255, 0.1) 100%
    );
    background-size: 200% 200%;
    animation: liquid-gradient-animation 15s ease infinite;
    opacity: 0.7;
    pointer-events: none;
    z-index: 0;
    filter: blur(5px);
    transition: opacity 0.3s ease;
}

.liquid-glass:hover .liquid-overlay {
    opacity: 0.9;
}

.liquid-glass::before,
.liquid-glass::after {
    content: '';
    position: absolute;
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
}

.liquid-glass::before {
    inset: 0;
    background: radial-gradient(
        circle at top left,
        rgba(255, 255, 255, 0.3) 0%,
        transparent 30%
    );
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::before {
    opacity: 1;
}

.liquid-glass::after {
    inset: 1px;
    background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%
    );
    opacity: 0.5;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::after {
    opacity: 0.7;
}

.liquid-glass h3 {
    color: #000000 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass:hover h3 {
    color: #111111 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.9);
}

.liquid-glass p {
    color: #333333 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.6);
}

.liquid-glass:hover p {
    color: #000000 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px) saturate(150%);
    -webkit-backdrop-filter: blur(10px) saturate(150%);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    color: #000000;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.2) 0%,
        transparent 50%,
        rgba(255, 255, 255, 0.1) 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
}

.liquid-glass-button:hover::before {
    opacity: 0.3;
}

.liquid-glass-button:hover {
    background: linear-gradient(
        135deg,
        rgba(154, 21, 24, 0.8) 0%,
        rgba(154, 21, 24, 0.9) 50%,
        rgba(120, 16, 19, 0.8) 100%
    );
    box-shadow: 0 6px 20px rgba(154, 21, 24, 0.4);
    transform: translateY(-1px);
    border-color: rgba(154, 21, 24, 0.6) !important;
    color: white !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
`,jA=({news:r})=>{const[e,n]=M.useState(!1),s=o=>({กิจกรรม:"bg-blue-100 text-blue-700",ความสำเร็จ:"bg-green-100 text-green-700",ประกาศ:"bg-red-100 text-red-700",อบรม:"bg-purple-100 text-purple-700",ความร่วมมือ:"bg-yellow-100 text-yellow-700",สัมมนา:"bg-indigo-100 text-indigo-700",ทุนวิจัย:"bg-pink-100 text-pink-700",กิจกรรมอาสา:"bg-teal-100 text-teal-700",ทั่วไป:"bg-gray-100 text-gray-700"})[o]||"bg-gray-100 text-gray-700";return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:IA}}),h.jsxs("div",{className:`
                    group relative overflow-hidden rounded-2xl
                    transition-all duration-500 ease-out
                    hover:scale-[1.02] active:scale-[1.02]
                    flex flex-col
                    cursor-pointer
                    liquid-glass
                    shadow-lg hover:shadow-2xl
                    bg-gradient-to-br from-blue-50 to-purple-50
                `,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{minHeight:"450px"},children:[h.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),h.jsx("div",{className:`
                        absolute inset-0 rounded-2xl
                        border-2 border-transparent
                        group-hover:border-red-400/60 group-active:border-red-400/60
                        transition-all duration-500
                        pointer-events-none
                    `}),h.jsxs("div",{className:"w-full h-48 sm:h-56 overflow-hidden relative rounded-t-2xl",children:[h.jsx("img",{src:r?.image||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=400&h=300&fit=crop",alt:r?.title||"ข่าวสาร",className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 ease-in-out"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-white/10 opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),r?.category&&h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold shadow-lg ${s(r.category)}`,children:r.category})})]}),h.jsxs("div",{className:"p-6 flex flex-col flex-grow relative z-10",children:[(r?.date||r?.author)&&h.jsxs("div",{className:"flex items-center gap-3 mb-3 text-xs text-gray-600 flex-wrap",children:[r?.date&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),h.jsx("span",{children:r.date})]}),r?.author&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),h.jsx("span",{children:r.author})]})]}),h.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-2",children:r?.title||"ข่าวสารล่าสุด"}),h.jsx("p",{className:"text-base mb-4 flex-grow line-clamp-3",children:r?.excerpt||"รายละเอียดข่าวสาร..."}),h.jsx("div",{className:"mt-auto pt-4",children:h.jsxs("div",{className:`
                                inline-flex items-center gap-2 px-4 py-2 rounded-lg
                                font-medium text-sm
                                liquid-glass-button
                                border border-white/30
                                hover:border-red-600/60
                                transition-all duration-300
                                group/button
                            `,children:["อ่านเพิ่มเติม",h.jsx("span",{className:"transform group-hover/button:translate-x-1 transition-transform duration-300",children:"→"})]})})]})]})]})},kA=()=>{};var t1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,_=c>>2,E=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,O=y&63;g||(O=64,f||(A=64)),s.push(n[_],n[E],n[A],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(c_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):DA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new MA;const A=c<<2|p>>4;if(s.push(A),y!==64){const O=p<<4&240|y>>2;if(s.push(O),E!==64){const H=y<<6&192|E;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(r){const e=c_(r);return u_.encodeByteArray(e,!0)},bh=function(r){return OA(r).replace(/\./g,"")},h_=function(r){try{return u_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=()=>VA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof t1>"u")return;const r=t1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&h_(r[1]);return e&&JSON.parse(e)},Fh=()=>{try{return kA()||PA()||LA()||UA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d_=r=>Fh()?.emulatorHosts?.[r],Tp=r=>{const e=d_(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},f_=()=>Fh()?.config,m_=r=>Fh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gh(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const Kl={};function BA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function qA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let n1=!1;function $h(r,e){if(typeof window>"u"||typeof document>"u"||!fs(window.location.host)||Kl[r]===e||Kl[r]||n1)return;Kl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=BA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{n1=!0,f()},A}function _(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=qA(s),O=n("text"),H=document.getElementById(O)||document.createElement("span"),Y=n("learnmore"),L=document.getElementById(Y)||document.createElement("a"),$=n("preprendIcon"),B=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;p(re),_(L,Y);const ae=y();g(B,$),re.append(B,H,L,ae),document.body.appendChild(re)}c?(H.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function FA(){const r=Fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YA(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QA(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="FirebaseError";class Rr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZA,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?JA(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Rr(o,p,s)}}function JA(r,e){return r.replace(eR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eR=/\{\$([^}]+)}/g;function tR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ia(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(r1(c)&&r1(f)){if(!ia(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function r1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nR(r,e){const n=new rR(r,e);return n.subscribe.bind(n)}class rR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r){return r&&r._delegate?r._delegate:r}class ri{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(r){return r===ea?void 0:r}function oR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const cR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},uR=Ve.INFO,hR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},dR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=hR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=dR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const fR=(r,e)=>e.some(n=>r instanceof n);let i1,s1;function mR(){return i1||(i1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g_=new WeakMap,qm=new WeakMap,y_=new WeakMap,Am=new WeakMap,Ap=new WeakMap;function gR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&g_.set(n,r)}).catch(()=>{}),Ap.set(e,r),e}function yR(r){if(qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});qm.set(r,e)}let Hm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||y_.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vR(r){Hm=r(Hm)}function _R(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rm(this),e,...n);return y_.set(s,e.sort?e.sort():[e]),es(s)}:pR().includes(r)?function(...e){return r.apply(Rm(this),e),es(g_.get(this))}:function(...e){return es(r.apply(Rm(this),e))}}function xR(r){return typeof r=="function"?_R(r):(r instanceof IDBTransaction&&yR(r),fR(r,mR())?new Proxy(r,Hm):r)}function es(r){if(r instanceof IDBRequest)return gR(r);if(Am.has(r))return Am.get(r);const e=xR(r);return e!==r&&(Am.set(r,e),Ap.set(e,r)),e}const Rm=r=>Ap.get(r);function bR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),p=es(f);return s&&f.addEventListener("upgradeneeded",g=>{s(es(f.result),g.oldVersion,g.newVersion,es(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const wR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],Nm=new Map;function a1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ER.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wR.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Nm.set(e,c),c}vR(r=>({...r,get:(e,n,s)=>a1(e,n)||r.get(e,n,s),has:(e,n)=>!!a1(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SR(r){return r.getComponent()?.type==="VERSION"}const Fm="@firebase/app",o1="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Sp("@firebase/app"),AR="@firebase/app-compat",RR="@firebase/analytics-compat",NR="@firebase/analytics",CR="@firebase/app-check-compat",IR="@firebase/app-check",jR="@firebase/auth",kR="@firebase/auth-compat",DR="@firebase/database",MR="@firebase/data-connect",OR="@firebase/database-compat",VR="@firebase/functions",PR="@firebase/functions-compat",LR="@firebase/installations",UR="@firebase/installations-compat",zR="@firebase/messaging",BR="@firebase/messaging-compat",qR="@firebase/performance",HR="@firebase/performance-compat",FR="@firebase/remote-config",GR="@firebase/remote-config-compat",$R="@firebase/storage",KR="@firebase/storage-compat",YR="@firebase/firestore",QR="@firebase/ai",XR="@firebase/firestore-compat",WR="firebase",ZR="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",JR={[Fm]:"fire-core",[AR]:"fire-core-compat",[NR]:"fire-analytics",[RR]:"fire-analytics-compat",[IR]:"fire-app-check",[CR]:"fire-app-check-compat",[jR]:"fire-auth",[kR]:"fire-auth-compat",[DR]:"fire-rtdb",[MR]:"fire-data-connect",[OR]:"fire-rtdb-compat",[VR]:"fire-fn",[PR]:"fire-fn-compat",[LR]:"fire-iid",[UR]:"fire-iid-compat",[zR]:"fire-fcm",[BR]:"fire-fcm-compat",[qR]:"fire-perf",[HR]:"fire-perf-compat",[FR]:"fire-rc",[GR]:"fire-rc-compat",[$R]:"fire-gcs",[KR]:"fire-gcs-compat",[YR]:"fire-fst",[XR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,e3=new Map,$m=new Map;function l1(r,e){try{r.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ss(r){const e=r.name;if($m.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const n of wh.values())l1(n,r);for(const n of e3.values())l1(n,r);return!0}function vc(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new gc("app","Firebase",t3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=ZR;function v_(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Gm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=f_()),!n)throw ts.create("no-options");const c=wh.get(o);if(c){if(ia(n,c.options)&&ia(s,c.config))return c;throw ts.create("duplicate-app",{appName:o})}const f=new lR(o);for(const g of $m.values())f.addComponent(g);const p=new n3(n,s,f);return wh.set(o,p),p}function Kh(r=Gm){const e=wh.get(r);if(!e&&r===Gm&&f_())return v_();if(!e)throw ts.create("no-app",{appName:r});return e}function Ln(r,e,n){let s=JR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(f.join(" "));return}ss(new ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="firebase-heartbeat-database",i3=1,rc="firebase-heartbeat-store";let Cm=null;function __(){return Cm||(Cm=bR(r3,i3,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function s3(r){try{const n=(await __()).transaction(rc),s=await n.objectStore(rc).get(x_(r));return await n.done,s}catch(e){if(e instanceof Rr)ii.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}}async function c1(r,e){try{const s=(await __()).transaction(rc,"readwrite");await s.objectStore(rc).put(e,x_(r)),await s.done}catch(n){if(n instanceof Rr)ii.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});ii.warn(s.message)}}}function x_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=1024,o3=30;class l3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>o3){const o=h3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u1(),{heartbeatsToSend:n,unsentEntries:s}=c3(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ii.warn(e),""}}}function u1(){return new Date().toISOString().substring(0,10)}function c3(r,e=a3){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),h1(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),h1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class u3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function h1(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function h3(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(r){ss(new ri("platform-logger",e=>new TR(e),"PRIVATE")),ss(new ri("heartbeat",e=>new l3(e),"PRIVATE")),Ln(Fm,o1,r),Ln(Fm,o1,"esm2020"),Ln("fire-js","")}d3("");var d1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,b_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function T(){}T.prototype=R.prototype,I.F=R.prototype,I.prototype=new T,I.prototype.constructor=I,I.D=function(k,C,V){for(var N=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)N[ve-2]=arguments[ve];return R.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,T){T||(T=0);const k=Array(16);if(typeof R=="string")for(var C=0;C<16;++C)k[C]=R.charCodeAt(T++)|R.charCodeAt(T++)<<8|R.charCodeAt(T++)<<16|R.charCodeAt(T++)<<24;else for(C=0;C<16;++C)k[C]=R[T++]|R[T++]<<8|R[T++]<<16|R[T++]<<24;R=I.g[0],T=I.g[1],C=I.g[2];let V=I.g[3],N;N=R+(V^T&(C^V))+k[0]+3614090360&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+k[1]+3905402710&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+k[2]+606105819&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+k[3]+3250441966&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(V^T&(C^V))+k[4]+4118548399&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+k[5]+1200080426&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+k[6]+2821735955&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+k[7]+4249261313&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(V^T&(C^V))+k[8]+1770035416&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+k[9]+2336552879&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+k[10]+4294925233&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+k[11]+2304563134&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(V^T&(C^V))+k[12]+1804603682&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+k[13]+4254626195&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+k[14]+2792965006&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+k[15]+1236535329&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(C^V&(T^C))+k[1]+4129170786&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+k[6]+3225465664&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+k[11]+643717713&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+k[0]+3921069994&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(C^V&(T^C))+k[5]+3593408605&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+k[10]+38016083&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+k[15]+3634488961&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+k[4]+3889429448&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(C^V&(T^C))+k[9]+568446438&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+k[14]+3275163606&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+k[3]+4107603335&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+k[8]+1163531501&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(C^V&(T^C))+k[13]+2850285829&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+k[2]+4243563512&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+k[7]+1735328473&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+k[12]+2368359562&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(T^C^V)+k[5]+4294588738&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+k[8]+2272392833&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+k[11]+1839030562&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+k[14]+4259657740&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(T^C^V)+k[1]+2763975236&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+k[4]+1272893353&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+k[7]+4139469664&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+k[10]+3200236656&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(T^C^V)+k[13]+681279174&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+k[0]+3936430074&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+k[3]+3572445317&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+k[6]+76029189&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(T^C^V)+k[9]+3654602809&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+k[12]+3873151461&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+k[15]+530742520&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+k[2]+3299628645&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(C^(T|~V))+k[0]+4096336452&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+k[7]+1126891415&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+k[14]+2878612391&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+k[5]+4237533241&4294967295,T=C+(N<<21&4294967295|N>>>11),N=R+(C^(T|~V))+k[12]+1700485571&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+k[3]+2399980690&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+k[10]+4293915773&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+k[1]+2240044497&4294967295,T=C+(N<<21&4294967295|N>>>11),N=R+(C^(T|~V))+k[8]+1873313359&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+k[15]+4264355552&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+k[6]+2734768916&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+k[13]+1309151649&4294967295,T=C+(N<<21&4294967295|N>>>11),N=R+(C^(T|~V))+k[4]+4149444226&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+k[11]+3174756917&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+k[2]+718787259&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const T=R-this.blockSize,k=this.C;let C=this.h,V=0;for(;V<R;){if(C==0)for(;V<=T;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(k[C++]=I.charCodeAt(V++),C==this.blockSize){o(this,k),C=0;break}}else for(;V<R;)if(k[C++]=I[V++],C==this.blockSize){o(this,k),C=0;break}}this.h=C,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var T=I.length-8;T<I.length;++T)I[T]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,T=0;T<4;++T)for(let k=0;k<32;k+=8)I[R++]=this.g[T]>>>k&255;return I};function c(I,R){var T=p;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=R(I)}function f(I,R){this.h=R;const T=[];let k=!0;for(let C=I.length-1;C>=0;C--){const V=I[C]|0;k&&V==R||(T[C]=V,k=!1)}this.g=T}var p={};function g(I){return-128<=I&&I<128?c(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return L(y(-I));const R=[];let T=1;for(let k=0;I>=T;k++)R[k]=I/T|0,T*=4294967296;return new f(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return L(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=y(Math.pow(R,8));let k=E;for(let V=0;V<I.length;V+=8){var C=Math.min(8,I.length-V);const N=parseInt(I.substring(V,V+C),R);C<8?(C=y(Math.pow(R,C)),k=k.j(C).add(y(N))):(k=k.j(T),k=k.add(y(N)))}return k}var E=g(0),A=g(1),O=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-L(this).m();let I=0,R=1;for(let T=0;T<this.g.length;T++){const k=this.i(T);I+=(k>=0?k:4294967296+k)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(Y(this))return"-"+L(this).toString(I);const R=y(Math.pow(I,6));var T=this;let k="";for(;;){const C=ae(T,R).g;T=$(T,C.j(R));let V=((T.g.length>0?T.g[0]:T.h)>>>0).toString(I);if(T=C,H(T))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=$(this,I),Y(I)?-1:H(I)?0:1};function L(I){const R=I.g.length,T=[];for(let k=0;k<R;k++)T[k]=~I.g[k];return new f(T,~I.h).add(A)}r.abs=function(){return Y(this)?L(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),T=[];let k=0;for(let C=0;C<=R;C++){let V=k+(this.i(C)&65535)+(I.i(C)&65535),N=(V>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);k=N>>>16,V&=65535,N&=65535,T[C]=N<<16|V}return new f(T,T[T.length-1]&-2147483648?-1:0)};function $(I,R){return I.add(L(R))}r.j=function(I){if(H(this)||H(I))return E;if(Y(this))return Y(I)?L(this).j(L(I)):L(L(this).j(I));if(Y(I))return L(this.j(L(I)));if(this.l(O)<0&&I.l(O)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,T=[];for(var k=0;k<2*R;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(let C=0;C<I.g.length;C++){const V=this.i(k)>>>16,N=this.i(k)&65535,ve=I.i(C)>>>16,me=I.i(C)&65535;T[2*k+2*C]+=N*me,B(T,2*k+2*C),T[2*k+2*C+1]+=V*me,B(T,2*k+2*C+1),T[2*k+2*C+1]+=N*ve,B(T,2*k+2*C+1),T[2*k+2*C+2]+=V*ve,B(T,2*k+2*C+2)}for(I=0;I<R;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=R;I<2*R;I++)T[I]=0;return new f(T,0)};function B(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function re(I,R){this.g=I,this.h=R}function ae(I,R){if(H(R))throw Error("division by zero");if(H(I))return new re(E,E);if(Y(I))return R=ae(L(I),R),new re(L(R.g),L(R.h));if(Y(R))return R=ae(I,L(R)),new re(L(R.g),R.h);if(I.g.length>30){if(Y(I)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var T=A,k=R;k.l(I)<=0;)T=ie(T),k=ie(k);var C=ce(T,1),V=ce(k,1);for(k=ce(k,2),T=ce(T,2);!H(k);){var N=V.add(k);N.l(I)<=0&&(C=C.add(T),V=N),k=ce(k,1),T=ce(T,1)}return R=$(I,C.j(R)),new re(C,R)}for(C=E;I.l(R)>=0;){for(T=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=y(T),N=V.j(R);Y(N)||N.l(I)>0;)T-=k,V=y(T),N=V.j(R);H(V)&&(V=A),C=C.add(V),I=$(I,N)}return new re(C,I)}r.B=function(I){return ae(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let k=0;k<R;k++)T[k]=this.i(k)&I.i(k);return new f(T,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let k=0;k<R;k++)T[k]=this.i(k)|I.i(k);return new f(T,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let k=0;k<R;k++)T[k]=this.i(k)^I.i(k);return new f(T,this.h^I.h)};function ie(I){const R=I.g.length+1,T=[];for(let k=0;k<R;k++)T[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(T,I.h)}function ce(I,R){const T=R>>5;R%=32;const k=I.g.length-T,C=[];for(let V=0;V<k;V++)C[V]=R>0?I.i(V+T)>>>R|I.i(V+T+1)<<32-R:I.i(V+T);return new f(C,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,b_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,ns=f}).apply(typeof d1<"u"?d1:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w_,ql,E_,ih,Km,T_,S_,A_;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var v=0;v<u.length;++v){var x=u[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var x=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in x))break e;x=x[q]}u=u[u.length-1],S=x[u],v=v(S),v!=S&&v!=null&&e(x,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var x=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&x.push([S,v[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,x){return u.call.apply(u.bind,arguments)}function y(u,v,x){return y=g,y.apply(null,arguments)}function _(u,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,v){function x(){}x.prototype=v.prototype,u.Z=v.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(S,q,X){for(var le=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)le[Ne-2]=arguments[Ne];return v.prototype[q].apply(S,le)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const v=u.length;if(v>0){const x=Array(v);for(let S=0;S<v;S++)x[S]=u[S];return x}return[]}function H(u,v){for(let S=1;S<arguments.length;S++){const q=arguments[S];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=u.length||0;const X=q.length||0;u.length=x+X;for(let le=0;le<X;le++)u[x+le]=q[le]}else u.push(q)}}class Y{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(u){f.setTimeout(()=>{throw u},0)}function $(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,x){const S=re.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new Y(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ce=!1,I=new B,R=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(T)}};function T(){for(var u;u=$();){try{u.h.call(u.g)}catch(x){L(x)}var v=re;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ce=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};f.addEventListener("test",x,v),f.removeEventListener("test",x,v)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ve(u,v){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(ve,C),ve.prototype.init=function(u,v){const x=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(x=="mouseover"?v=u.fromElement:x=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),K=0;function W(u,v,x,S,q){this.listener=u,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=q,this.key=++K,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u,v,x){for(const S in u)v.call(x,u[S],S,u)}function D(u,v){for(const x in u)v.call(void 0,u[x],x,u)}function se(u){const v={};for(const x in u)v[x]=u[x];return v}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,v){let x,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(x in S)u[x]=S[x];for(let X=0;X<de.length;X++)x=de[X],Object.prototype.hasOwnProperty.call(S,x)&&(u[x]=S[x])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,v,x,S,q){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const le=Ee(u,v,S,q);return le>-1?(v=u[le],x||(v.fa=!1)):(v=new W(v,this.src,X,!!S,q),v.fa=x,u.push(v)),v};function Oe(u,v){const x=v.type;if(x in u.g){var S=u.g[x],q=Array.prototype.indexOf.call(S,v,void 0),X;(X=q>=0)&&Array.prototype.splice.call(S,q,1),X&&(oe(v),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Ee(u,v,x,S){for(let q=0;q<u.length;++q){const X=u[q];if(!X.da&&X.listener==v&&X.capture==!!x&&X.ha==S)return q}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ye={};function Un(u,v,x,S,q){if(Array.isArray(v)){for(let X=0;X<v.length;X++)Un(u,v[X],x,S,q);return null}return x=Cc(x),u&&u[me]?u.J(v,x,p(S)?!!S.capture:!1,q):Do(u,v,x,!1,S,q)}function Do(u,v,x,S,q,X){if(!v)throw Error("Invalid event type");const le=p(q)?!!q.capture:!!q;let Ne=Mo(u);if(Ne||(u[Ut]=Ne=new ye(u)),x=Ne.add(v,x,S,le,X),x.proxy)return x;if(S=fa(),x.proxy=S,S.src=u,S.listener=x,u.addEventListener)V||(q=le),q===void 0&&(q=!1),u.addEventListener(v.toString(),S,q);else if(u.attachEvent)u.attachEvent(pa(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function fa(){function u(x){return v.call(u.src,u.listener,x)}const v=yd;return u}function ma(u,v,x,S,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)ma(u,v[X],x,S,q);else S=p(S)?!!S.capture:!!S,x=Cc(x),u&&u[me]?(u=u.i,X=String(v).toString(),X in u.g&&(v=u.g[X],x=Ee(v,x,S,q),x>-1&&(oe(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete u.g[X],u.h--)))):u&&(u=Mo(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ee(v,x,S,q)),(x=u>-1?v[u]:null)&&gs(x))}function gs(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[me])Oe(v.i,u);else{var x=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(x,S,u.capture):v.detachEvent?v.detachEvent(pa(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=Mo(v))?(Oe(x,u),x.h==0&&(x.src=null,v[Ut]=null)):oe(u)}}}function pa(u){return u in Ye?Ye[u]:Ye[u]="on"+u}function yd(u,v){if(u.da)u=!0;else{v=new ve(v,this);const x=u.listener,S=u.ha||u.src;u.fa&&gs(u),u=x.call(S,v)}return u}function Mo(u){return u=u[Ut],u instanceof ye?u:null}var cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cc(u){return typeof u=="function"?u:(u[cn]||(u[cn]=function(v){return u.handleEvent(v)}),u[cn])}function At(){k.call(this),this.i=new ye(this),this.M=this,this.G=null}E(At,k),At.prototype[me]=!0,At.prototype.removeEventListener=function(u,v,x,S){ma(this,u,v,x,S)};function kt(u,v){var x,S=u.G;if(S)for(x=[];S;S=S.G)x.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new C(v,u);else if(v instanceof C)v.target=v.target||u;else{var q=v;v=new C(S,u),ue(v,q)}q=!0;let X,le;if(x)for(le=x.length-1;le>=0;le--)X=v.g=x[le],q=Cr(X,S,!0,v)&&q;if(X=v.g=u,q=Cr(X,S,!0,v)&&q,q=Cr(X,S,!1,v)&&q,x)for(le=0;le<x.length;le++)X=v.g=x[le],q=Cr(X,S,!1,v)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const x=u.g[v];for(let S=0;S<x.length;S++)oe(x[S]);delete u.g[v],u.h--}}this.G=null},At.prototype.J=function(u,v,x,S){return this.i.add(String(u),v,!1,x,S)},At.prototype.K=function(u,v,x,S){return this.i.add(String(u),v,!0,x,S)};function Cr(u,v,x,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let X=0;X<v.length;++X){const le=v[X];if(le&&!le.da&&le.capture==x){const Ne=le.listener,it=le.ha||le.src;le.fa&&Oe(u.i,le),q=Ne.call(it,S)!==!1&&q}}return q&&!S.defaultPrevented}function vd(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(u,v||0)}function Oo(u){u.g=vd(()=>{u.g=null,u.i&&(u.i=!1,Oo(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class _d extends k{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(u){k.call(this),this.h=u,this.g={}}E(ys,k);var hi=[];function Yt(u){Ae(u.g,function(v,x){this.g.hasOwnProperty(x)&&gs(v)},u),u.g={}}ys.prototype.N=function(){ys.Z.N.call(this),Yt(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=f.JSON.stringify,rn=f.JSON.parse,xd=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ic(){}function jc(){}var rr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function di(){C.call(this,"d")}E(di,C);function zn(){C.call(this,"c")}E(zn,C);var An={},fi=null;function ga(){return fi=fi||new At}An.Ia="serverreachability";function Vo(u){C.call(this,An.Ia,u)}E(Vo,C);function mi(u){const v=ga();kt(v,new Vo(v))}An.STAT_EVENT="statevent";function ya(u,v){C.call(this,An.STAT_EVENT,u),this.stat=v}E(ya,C);function dt(u){const v=ga();kt(v,new ya(v,u))}An.Ja="timingevent";function kc(u,v){C.call(this,An.Ja,u),this.size=v}E(kc,C);function pi(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},v)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function Po(u,v,x,S,q,X){u.info(function(){if(u.g)if(X){var le="",Ne=X.split("&");for(let Ge=0;Ge<Ne.length;Ge++){var it=Ne[Ge].split("=");if(it.length>1){const pt=it[0];it=it[1];const gn=pt.split("_");le=gn.length>=2&&gn[1]=="type"?le+(pt+"="+it+"&"):le+(pt+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+x+`
`+le})}function Lo(u,v,x,S,q,X,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+x+`
`+X+" "+le})}function Ir(u,v,x,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+ir(u,x)+(S?" "+S:"")})}function bd(u,v){u.info(function(){return"TIMEOUT: "+v})}gi.prototype.info=function(){};function ir(u,v){if(!u.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var x=X[u];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return Sn(X)}catch{return v}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jr;function vs(){}E(vs,Ic),vs.prototype.g=function(){return new XMLHttpRequest},jr=new vs;function _s(u){return encodeURIComponent(String(u))}function wd(u){var v=1;u=u.split(":");const x=[];for(;v>0&&u.length;)x.push(u.shift()),v--;return u.length&&x.push(u.join(":")),x}function Bn(u,v,x,S){this.j=u,this.i=v,this.l=x,this.S=S||1,this.V=new ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var va={},sr={};function ar(u,v,x){u.M=1,u.A=Dr(at(v)),u.u=x,u.R=!0,vi(u,null)}function vi(u,v){u.F=Date.now(),xs(u),u.B=at(u.A);var x=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Vc(x.i,"t",S),u.C=0,x=u.j.L,u.h=new yi,u.g=Na(u.j,x?v:null,!u.u),u.P>0&&(u.O=new _d(y(u.Y,u,u.g),u.P)),v=u.V,x=u.g,S=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(hi[0]=q.toString()),q=hi);for(let X=0;X<q.length;X++){const le=Un(x,q[X],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.J?se(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),mi(),Po(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const v=this.O;v&&Qt(u)==3?v.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Qt(this.g),it=this.g.ya(),Ge=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||js(this.g)))){this.K||Ne!=4||it==7||(it==8||Ge<=0?mi(3):mi(2)),lr(this);var v=this.g.ca();this.X=v;var x=_i(this);if(this.o=v==200,Lo(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var X=S;break t}}X=null}if(u=X)Ir(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_a(this,u);else{this.o=!1,this.m=3,dt(12),cr(this),bs(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<x.length;)if(pt=Dc(this,x),pt==sr){Ne==4&&(this.m=4,dt(14),u=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==va){this.m=4,dt(15),Ir(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Ir(this.i,this.l,pt,null),_a(this,pt);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||x.length!=0||this.h.h||(this.m=1,dt(16),u=!1),this.o=this.o&&u,!u)Ir(this.i,this.l,x,"[Invalid Chunked Response]"),cr(this),bs(this);else if(x.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Yo(le),le.P=!0,dt(11))}}else Ir(this.i,this.l,x,null),_a(this,x);Ne==4&&cr(this),this.o&&!this.K&&(Ne==4?Qo(this.j,this):(this.o=!1,xs(this)))}else ks(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),cr(this),bs(this)}}}catch{}finally{}};function _i(u){if(!mt(u))return u.g.la();const v=js(u.g);if(v==="")return"";let x="";const S=v.length,q=Qt(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cr(u),bs(u),"";u.h.i=new f.TextDecoder}for(let X=0;X<S;X++)u.h.h=!0,x+=u.h.i.decode(v[X],{stream:!(q&&X==S-1)});return v.length=0,u.h.g+=x,u.C=0,u.h.g}function mt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Dc(u,v){var x=u.C,S=v.indexOf(`
`,x);return S==-1?sr:(x=Number(v.substring(x,S)),isNaN(x)?va:(S+=1,S+x>v.length?sr:(v=v.slice(S,S+x),u.C=S+x,v)))}Bn.prototype.cancel=function(){this.K=!0,cr(this)};function xs(u){u.T=Date.now()+u.H,or(u,u.H)}function or(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(y(u.aa,u),v)}function lr(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(bd(this.i,this.B),this.M!=2&&(mi(),dt(17)),cr(this),this.m=2,bs(this)):or(this,this.T-u)};function bs(u){u.j.I==0||u.K||Qo(u.j,u)}function cr(u){lr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Yt(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function _a(u,v){try{var x=u.j;if(x.I!=0&&(x.g==u||Ts(x.h,u))){if(!u.L&&Ts(x.h,u)&&x.I==3){try{var S=x.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Ra(x),ur(x);else break e;Ko(x),dt(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=pi(y(x.Va,x),6e3));Rn(x.h)<=1&&x.ta&&(x.ta=void 0)}else Vr(x,11)}else if((u.L||x.g==u)&&Ra(x),!N(v))for(q=x.Ba.g.parse(v),v=0;v<q.length;v++){let Ge=q[v];const pt=Ge[0];if(!(pt<=x.K))if(x.K=pt,Ge=Ge[1],x.I==2)if(Ge[0]=="c"){x.M=Ge[1],x.ba=Ge[2];const gn=Ge[3];gn!=null&&(x.ka=gn,x.j.info("VER="+x.ka));const hr=Ge[4];hr!=null&&(x.za=hr,x.j.info("SVER="+x.za));const Fn=Ge[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(S=1.5*Fn,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const Gn=u.g;if(Gn){const $n=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var X=S.h;X.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(xa(X,X.h),X.h=null))}if(S.G){const Wo=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(S.wa=Wo,Qe(S.J,S.G,Wo))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var le=u;if(S.na=Gc(S,S.L?S.ba:null,S.W),le.L){kr(S.h,le);var Ne=le,it=S.O;it&&(Ne.H=it),Ne.D&&(lr(Ne),xs(Ne)),S.g=le}else Bc(S);x.i.length>0&&Vs(x)}else Ge[0]!="stop"&&Ge[0]!="close"||Vr(x,7);else x.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Vr(x,7):Ms(x):Ge[0]!="noop"&&x.l&&x.l.qa(Ge),x.A=0)}}mi(4)}catch{}}var Ed=class{constructor(u,v){this.g=u,this.map=v}};function ws(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Es(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rn(u){return u.h?1:u.g?u.g.size:0}function Ts(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function xa(u,v){u.g?u.g.add(v):u.h=v}function kr(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}ws.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ba(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const x of u.g.values())v=v.concat(x.G);return v}return O(u.i)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Td(u,v){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const S=u[x].indexOf("=");let q,X=null;S>=0?(q=u[x].substring(0,S),X=u[x].substring(S+1)):q=u[x],v(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function qn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof qn?(this.l=u.l,xi(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,bi(this,Pc(u.i)),this.m=u.m):u&&(v=String(u).match(wa))?(this.l=!1,xi(this,v[1]||"",!0),this.o=As(v[2]||""),this.g=As(v[3]||"",!0),Ss(this,v[4]),this.h=As(v[5]||"",!0),bi(this,v[6]||"",!0),this.m=As(v[7]||"")):(this.l=!1,this.i=new Nn(null,this.l))}qn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Dt(v,zo,!0),":");var x=this.g;return(x||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Dt(v,zo,!0),"@"),u.push(_s(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Dt(x,x.charAt(0)=="/"?wi:Bo,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Dt(x,Oc)),u.join("")},qn.prototype.resolve=function(u){const v=at(this);let x=!!u.j;x?xi(v,u.j):x=!!u.o,x?v.o=u.o:x=!!u.g,x?v.g=u.g:x=u.u!=null;var S=u.h;if(x)Ss(v,u.u);else if(x=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=v.h.lastIndexOf("/");q!=-1&&(S=v.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let le=0;le<q.length;){const Ne=q[le++];Ne=="."?S&&le==q.length&&X.push(""):Ne==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),S&&le==q.length&&X.push("")):(X.push(Ne),S=!0)}S=X.join("/")}else S=q}return x?v.h=S:x=u.i.toString()!=="",x?bi(v,Pc(u.i)):x=!!u.m,x&&(v.m=u.m),v};function at(u){return new qn(u)}function xi(u,v,x){u.j=x?As(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function bi(u,v,x){v instanceof Nn?(u.i=v,Fo(u.i,u.l)):(x||(v=Dt(v,Mc)),u.i=new Nn(v,u.l))}function Qe(u,v,x){u.i.set(v,x)}function Dr(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function As(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dt(u,v,x){return typeof u=="string"?(u=encodeURI(u).replace(v,Uo),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Uo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zo=/[#\/\?@]/g,Bo=/[#\?:]/g,wi=/[#\?]/g,Mc=/[#\?@]/g,Oc=/#/g;function Nn(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Mr(u){u.g||(u.g=new Map,u.h=0,u.i&&Td(u.i,function(v,x){u.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}r=Nn.prototype,r.add=function(u,v){Mr(this),this.i=null,u=Hn(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(v),this.h+=1,this};function qo(u,v){Mr(u),v=Hn(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ho(u,v){return Mr(u),v=Hn(u,v),u.g.has(v)}r.forEach=function(u,v){Mr(this),this.g.forEach(function(x,S){x.forEach(function(q){u.call(v,q,S,this)},this)},this)};function Ea(u,v){Mr(u);let x=[];if(typeof v=="string")Ho(u,v)&&(x=x.concat(u.g.get(Hn(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)x=x.concat(u[v]);return x}r.set=function(u,v){return Mr(this),this.i=null,u=Hn(this,u),Ho(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=Ea(this,u),u.length>0?String(u[0]):v):v};function Vc(u,v,x){qo(u,v),x.length>0&&(u.i=null,u.g.set(Hn(u,v),O(x)),u.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var x=v[S];const q=_s(x);x=Ea(this,x);for(let X=0;X<x.length;X++){let le=q;x[X]!==""&&(le+="="+_s(x[X])),u.push(le)}}return this.i=u.join("&")};function Pc(u){const v=new Nn;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Hn(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Fo(u,v){v&&!u.j&&(Mr(u),u.i=null,u.g.forEach(function(x,S){const q=S.toLowerCase();S!=q&&(qo(this,S),Vc(this,q,x))},u)),u.j=v}function Go(u,v){const x=new gi;if(f.Image){const S=new Image;S.onload=_(sn,x,"TestLoadImage: loaded",!0,v,S),S.onerror=_(sn,x,"TestLoadImage: error",!1,v,S),S.onabort=_(sn,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=_(sn,x,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function Ei(u,v){const x=new gi,S=new AbortController,q=setTimeout(()=>{S.abort(),sn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(X=>{clearTimeout(q),X.ok?sn(x,"TestPingServer: ok",!0,v):sn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),sn(x,"TestPingServer: error",!1,v)})}function sn(u,v,x,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(x)}catch{}}function Lc(){this.g=new xd}function Rs(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Rs,Ic),Rs.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(u,v){At.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ns,At),r=Ns.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Or(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,an(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ti(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ti(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?an(this):Or(this),this.readyState==3&&Ti(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,an(this))},r.Na=function(u){this.g&&(this.response=u,an(this))},r.ga=function(){this.g&&an(this)};function an(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Or(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=v.next();return u.join(`\r
`)};function Or(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Si(u){let v="";return Ae(u,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function Cn(u,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Si(x),typeof u=="string"?x!=null&&_s(x):Qe(u,v,x))}function tt(u){At.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(tt,At);var Ta=/^https?$/i,Uc=["POST","PUT"];r=tt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jr.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(X){Cs(this,X);return}if(u=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)x.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())x.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Uc,v,void 0)>=0)||S||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of x)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){Cs(this,X)}};function Cs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Is(u),Rt(u)}function Is(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,kt(this,"complete"),kt(this,"abort"),Rt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rt(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$o(this):this.Xa())},r.Xa=function(){$o(this)};function $o(u){if(u.h&&typeof c<"u"){if(u.v&&Qt(u)==4)setTimeout(u.Ca.bind(u),0);else if(kt(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=X===0){let le=String(u.D).match(wa)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),S=!Ta.test(le?le.toLowerCase():"")}x=S}if(x)kt(u,"complete"),kt(u,"success");else{u.o=6;try{var q=Qt(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Is(u)}}finally{Rt(u)}}}}function Rt(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,v||kt(u,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),rn(v)}};function js(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(u){const v={};u=(u.g&&Qt(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var x=wd(u[S]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=v[q]||[];v[q]=X,X.push(x)}D(v,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(u,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||v}function Sa(u){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ds("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ds("baseRetryDelayMs",5e3,u),this.Za=Ds("retryDelaySeedMs",1e4,u),this.Ta=Ds("forwardChannelMaxRetries",2,u),this.va=Ds("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ws(u&&u.concurrentRequestLimit),this.Ba=new Lc,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sa.prototype,r.ka=8,r.I=1,r.connect=function(u,v,x,S){dt(0),this.W=u,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=Gc(this,null,this.W),Vs(this)};function Ms(u){if(Os(u),u.I==3){var v=u.V++,x=at(u.J);if(Qe(x,"SID",u.M),Qe(x,"RID",v),Qe(x,"TYPE","terminate"),Ps(u,x),v=new Bn(u,u.j,v),v.M=2,v.A=Dr(at(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=v.A,x=!0),x||(v.g=Na(v.j,null),v.g.ea(v.A)),v.F=Date.now(),xs(v)}Fc(u)}function ur(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function Os(u){ur(u),u.v&&(f.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Vs(u){if(!Es(u.h)&&!u.m){u.m=!0;var v=u.Ea;ie||R(),ce||(ie(),ce=!0),I.add(v,u),u.D=0}}function Sd(u,v){return Rn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(y(u.Ea,u,v),Hc(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Bn(this,this.j,u);let X=this.o;if(this.U&&(X?(X=se(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Aa(this,q,v),x=at(this.J),Qe(x,"RID",u),Qe(x,"CVER",22),this.G&&Qe(x,"X-HTTP-Session-Id",this.G),Ps(this,x),X&&(this.R?v="headers="+_s(Si(X))+"&"+v:this.u&&Cn(x,this.u,X)),xa(this.h,q),this.Ra&&Qe(x,"TYPE","init"),this.S?(Qe(x,"$req",v),Qe(x,"SID","null"),q.U=!0,ar(q,x,null)):ar(q,x,v),this.I=2}}else this.I==3&&(u?zc(this,u):this.i.length==0||Es(this.h)||zc(this))};function zc(u,v){var x;v?x=v.l:x=u.V++;const S=at(u.J);Qe(S,"SID",u.M),Qe(S,"RID",x),Qe(S,"AID",u.K),Ps(u,S),u.u&&u.o&&Cn(S,u.u,u.o),x=new Bn(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Aa(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xa(u.h,x),ar(x,S,v)}function Ps(u,v){u.H&&Ae(u.H,function(x,S){Qe(v,S,x)}),u.l&&Ae({},function(x,S){Qe(v,S,x)})}function Aa(u,v,x){x=Math.min(u.i.length,x);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var q=u.i;let Ne=-1;for(;;){const it=["count="+x];Ne==-1?x>0?(Ne=q[0].g,it.push("ofs="+Ne)):Ne=0:it.push("ofs="+Ne);let Ge=!0;for(let pt=0;pt<x;pt++){var X=q[pt].g;const gn=q[pt].map;if(X-=Ne,X<0)Ne=Math.max(0,q[pt].g-100),Ge=!1;else try{X="req"+X+"_"||"";try{var le=gn instanceof Map?gn:Object.entries(gn);for(const[hr,Fn]of le){let Gn=Fn;p(Fn)&&(Gn=Sn(Fn)),it.push(X+hr+"="+encodeURIComponent(Gn))}}catch(hr){throw it.push(X+"type="+encodeURIComponent("_badmap")),hr}}catch{S&&S(gn)}}if(Ge){le=it.join("&");break e}}le=void 0}return u=u.i.splice(0,x),v.G=u,le}function Bc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ie||R(),ce||(ie(),ce=!0),I.add(v,u),u.A=0}}function Ko(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(y(u.Da,u),Hc(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),ur(this),qc(this))};function Yo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function qc(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=at(u.na);Qe(v,"RID","rpc"),Qe(v,"SID",u.M),Qe(v,"AID",u.K),Qe(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(v,"TO",u.ia),Qe(v,"TYPE","xmlhttp"),Ps(u,v),u.u&&u.o&&Cn(v,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Dr(at(v)),x.u=null,x.R=!0,vi(x,u)}r.Va=function(){this.C!=null&&(this.C=null,ur(this),Ko(this),dt(19))};function Ra(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Qo(u,v){var x=null;if(u.g==v){Ra(u),Yo(u),u.g=null;var S=2}else if(Ts(u.h,v))x=v.G,kr(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var q=u.D;S=ga(),kt(S,new kc(S,x)),Vs(u)}else Bc(u);else if(q=v.m,q==3||q==0&&v.X>0||!(S==1&&Sd(u,v)||S==2&&Ko(u)))switch(x&&x.length>0&&(v=u.h,v.i=v.i.concat(x)),q){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function Hc(u,v){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*v}function Vr(u,v){if(u.j.info("Error code "+v),v==2){var x=y(u.bb,u),S=u.Ua;const q=!S;S=new qn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||xi(S,"https"),Dr(S),q?Go(S.toString(),x):Ei(S.toString(),x)}else dt(2);u.I=0,u.l&&u.l.pa(v),Fc(u),Os(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Fc(u){if(u.I=0,u.ja=[],u.l){const v=ba(u.h);(v.length!=0||u.i.length!=0)&&(H(u.ja,v),H(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function Gc(u,v,x){var S=x instanceof qn?at(x):new qn(x);if(S.g!="")v&&(S.g=v+"."+S.g),Ss(S,S.u);else{var q=f.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const X=new qn(null);S&&xi(X,S),v&&(X.g=v),q&&Ss(X,q),x&&(X.h=x),S=X}return x=u.G,v=u.wa,x&&v&&Qe(S,x,v),Qe(S,"VER",u.ka),Ps(u,S),S}function Na(u,v,x){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new tt(new Rs({ab:x})):new tt(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}r=$c.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ca(){}Ca.prototype.g=function(u,v){return new on(u,v)};function on(u,v){At.call(this),this.g=new Sa(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!N(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Ai(this)}E(on,At),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ms(this.g)},on.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=Sn(u),u=x);v.i.push(new Ed(v.Ya++,u)),v.I==3&&Vs(v)},on.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,on.Z.N.call(this)};function Xo(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const x in v){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(Xo,di);function Kc(){zn.call(this),this.status=1}E(Kc,zn);function Ai(u){this.g=u}E(Ai,$c),Ai.prototype.ra=function(){kt(this.g,"a")},Ai.prototype.qa=function(u){kt(this.g,new Xo(u))},Ai.prototype.pa=function(u){kt(this.g,new Kc)},Ai.prototype.oa=function(){kt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,A_=function(){return new Ca},S_=function(){return ga()},T_=An,Km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,ih=ft,zt.COMPLETE="complete",E_=zt,jc.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",At.prototype.listen=At.prototype.J,ql=jc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,w_=tt}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const f1="@firebase/firestore",m1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Sp("@firebase/firestore");function io(){return sa.logLevel}function fe(r,...e){if(sa.logLevel<=Ve.DEBUG){const n=e.map(Rp);sa.debug(`Firestore (${To}): ${r}`,...n)}}function si(r,...e){if(sa.logLevel<=Ve.ERROR){const n=e.map(Rp);sa.error(`Firestore (${To}): ${r}`,...n)}}function go(r,...e){if(sa.logLevel<=Ve.WARN){const n=e.map(Rp);sa.warn(`Firestore (${To}): ${r}`,...n)}}function Rp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,R_(r,s,n)}function R_(r,e,n){let s=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw si(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||R_(e,o,s)}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class m3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class p3{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ti,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ti)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new N_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class g3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new g3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_3(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Ym(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Im(o)===Im(c)?Pe(o,c):Im(o)?1:-1}return Pe(r.length,e.length)}const x3=55296,b3=57343;function Im(r){const e=r.charCodeAt(0);return e>=x3&&e<=b3}function yo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__name__";class yr{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=yr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const s=yr.isNumericId(e),o=yr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yr.extractNumericId(e).compare(yr.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class rt extends yr{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const w3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends yr{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return w3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g1}static keyField(){return new $t([g1])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(r,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function E3(r,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function y1(r){if(!_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v1(r){if(_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function I_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function ai(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e){const n={typeString:r};return e&&(n.value=e),n}function _c(r,e){if(!I_(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=-62135596800,x1=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*x1);return new et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_1)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x1}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Et("string",et._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function T3(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new et(n+1,0):new et(n,s));return new as(o,_e.empty(),e)}function S3(r){return new as(r.readTime,r.key,ic)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Re.min(),_e.empty(),ic)}static max(){return new as(Re.max(),_e.empty(),ic)}}function A3(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==R3)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&n()}),(g=>s(g)))})),f=!0,c===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{f[y]=_,++p,p===c&&s(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function C3(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function Xh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function I3(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="";function j3(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=b1(e)),e=k3(r.get(n),e);return b1(e)}function k3(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case j_:n+="";break;default:n+=c}}return n}function b1(r){return r+j_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function k_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E1(this.data.getIterator())}getIteratorFrom(e){return new E1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class E1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new jt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new D_("Invalid base64 string: "+c):c}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=D3.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="server_timestamp",O_="__type__",V_="__previous_value__",P_="__local_write_time__";function Ip(r){return(r?.mapValue?.fields||{})[O_]?.stringValue===M_}function Wh(r){const e=r.mapValue.fields[V_];return Ip(e)?Wh(e):e}function sc(r){const e=os(r.mapValue.fields[P_].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,s,o,c,f,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Th="(default)";class ac{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__type__",O3="__max__",Wu={mapValue:{}},U_="__vector__",Sh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ip(r)?4:P3(r)?9007199254740991:V3(r)?10:11:we(28295,{value:r})}function Er(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return sc(r).isEqual(sc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=os(o.timestampValue),p=os(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return ls(o.bytesValue).isEqual(ls(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=vt(o.doubleValue),p=vt(c.doubleValue);return f===p?Eh(f)===Eh(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(w1(f)!==w1(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Er(f[g],p[g])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function oc(r,e){return(r.values||[]).find((n=>Er(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=vt(c.integerValue||c.doubleValue),g=vt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return T1(r.timestampValue,e.timestampValue);case 4:return T1(sc(r),sc(e));case 5:return Ym(r.stringValue,e.stringValue);case 6:return(function(c,f){const p=ls(c),g=ls(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Pe(p[y],g[y]);if(_!==0)return _}return Pe(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=Pe(vt(c.latitude),vt(f.latitude));return p!==0?p:Pe(vt(c.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return S1(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},g=f.fields||{},y=p[Sh]?.arrayValue,_=g[Sh]?.arrayValue,E=Pe(y?.values?.length||0,_?.values?.length||0);return E!==0?E:S1(y,_)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Wu.mapValue&&f===Wu.mapValue)return 0;if(c===Wu.mapValue)return 1;if(f===Wu.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=f.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const A=Ym(g[E],_[E]);if(A!==0)return A;const O=vo(p[g[E]],y[_[E]]);if(O!==0)return O}return Pe(g.length,_.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function T1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=os(r),s=os(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function S1(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=vo(n[o],s[o]);if(c)return c}return Pe(n.length,s.length)}function _o(r){return Qm(r)}function Qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Qm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function sh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+sh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((c,f)=>{o+=c.length+sh(f)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function A1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function R1(r){return!!r&&"nullValue"in r}function N1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function V3(r){return(r?.mapValue?.fields||{})[L_]?.stringValue===U_}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ms(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function P3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===O3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Yl(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ms(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new pn(Yl(this.value))}}function z_(r){const e=[];return ms(r.fields,((n,s)=>{const o=new $t([n]);if(ah(s)){const c=z_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,c,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Re.min(),Re.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Re.min(),Re.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function C1(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function I1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Er(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function L3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{}class wt extends B_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new z3(e,n,s):n==="array-contains"?new H3(e,s):n==="in"?new F3(e,s):n==="not-in"?new G3(e,s):n==="array-contains-any"?new $3(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new B3(e,s):new q3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends B_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nr(e,n)}matches(e){return q_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q_(r){return r.op==="and"}function H_(r){return U3(r)&&q_(r)}function U3(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function Wm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(H_(r))return r.filters.map((e=>Wm(e))).join(",");{const e=r.filters.map((n=>Wm(n))).join(",");return`${r.op}(${e})`}}function F_(r,e){return r instanceof wt?(function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)})(r,e):r instanceof nr?(function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,p)=>c&&F_(f,o.filters[p])),!0):!1})(r,e):void we(19439)}function G_(r){return r instanceof wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof nr?(function(n){return n.op.toString()+" {"+n.getFilters().map(G_).join(" ,")+"}"})(r):"Filter"}class z3 extends wt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class B3 extends wt{constructor(e,n){super(e,"in",n),this.keys=$_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class q3 extends wt{constructor(e,n){super(e,"not-in",n),this.keys=$_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $_(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class H3 extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&oc(n.arrayValue,this.value)}}class F3 extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class G3 extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class $3 extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>oc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n=null,s=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function j1(r,e=null,n=[],s=[],o=null,c=null,f=null){return new K3(r,e,n,s,o,c,f)}function kp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Wm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Dp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!L3(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!F_(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!I1(r.startAt,e.startAt)&&I1(r.endAt,e.endAt)}function Zm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y3(r,e,n,s,o,c,f,p){return new Ro(r,e,n,s,o,c,f,p)}function Mp(r){return new Ro(r)}function k1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function K_(r){return r.collectionGroup!==null}function Ql(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new jt($t.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lc(c,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new lc($t.keyField(),s))}return e.Ie}function vr(r){const e=Ce(r);return e.Ee||(e.Ee=Q3(e,Ql(r))),e.Ee}function Q3(r,e){if(r.limitType==="F")return j1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lc(o.field,c)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return j1(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Jm(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Zh(r,e){return Dp(vr(r),vr(e))&&r.limitType===e.limitType}function Y_(r){return`${kp(vr(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>G_(o))).join(", ")}]`),Xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(vr(r))}; limitType=${r.limitType})`}function Jh(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Ql(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=C1(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,p,g){const y=C1(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Ql(s),o))})(r,e)}function X3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q_(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const c=W3(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function W3(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,f,p){const g=f.data.field(c),y=p.data.field(c);return g!==null&&y!==null?vo(g,y):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return k_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new ct(_e.comparator);function oi(){return Z3}const X_=new ct(_e.comparator);function Hl(...r){let e=X_;for(const n of r)e=e.insert(n.key,n);return e}function W_(r){let e=X_;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ta(){return Xl()}function Z_(){return Xl()}function Xl(){return new ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const J3=new ct(_e.comparator),eN=new jt(_e.comparator);function Le(...r){let e=eN;for(const n of r)e=e.add(n);return e}const tN=new jt(Pe);function nN(){return tN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function J_(r){return{integerValue:""+r}}function rN(r,e){return I3(e)?J_(e):Op(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this._=void 0}}function iN(r,e,n){return r instanceof cc?(function(o,c){const f={fields:{[O_]:{stringValue:M_},[P_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ip(c)&&(c=Wh(c)),c&&(f.fields[V_]=c),{mapValue:f}})(n,e):r instanceof uc?tx(r,e):r instanceof hc?nx(r,e):(function(o,c){const f=ex(o,c),p=D1(f)+D1(o.Ae);return Xm(f)&&Xm(o.Ae)?J_(p):Op(o.serializer,p)})(r,e)}function sN(r,e,n){return r instanceof uc?tx(r,e):r instanceof hc?nx(r,e):n}function ex(r,e){return r instanceof Rh?(function(s){return Xm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class cc extends ed{}class uc extends ed{constructor(e){super(),this.elements=e}}function tx(r,e){const n=rx(e);for(const s of r.elements)n.some((o=>Er(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hc extends ed{constructor(e){super(),this.elements=e}}function nx(r,e){let n=rx(e);for(const s of r.elements)n=n.filter((o=>!Er(o,s)));return{arrayValue:{values:n}}}class Rh extends ed{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function D1(r){return vt(r.integerValue||r.doubleValue)}function rx(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.field=e,this.transform=n}}function oN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof uc&&o instanceof uc||s instanceof hc&&o instanceof hc?yo(s.elements,o.elements,Er):s instanceof Rh&&o instanceof Rh?Er(s.Ae,o.Ae):s instanceof cc&&o instanceof cc})(r.transform,e.transform)}class lN{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class td{}function ix(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vp(r.key,Jn.none()):new xc(r.key,r.data,Jn.none());{const n=r.data,s=pn.empty();let o=new jt($t.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new ps(r.key,s,new Tn(o.toArray()),Jn.none())}}function cN(r,e,n){r instanceof xc?(function(o,c,f){const p=o.value.clone(),g=O1(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof ps?(function(o,c,f){if(!oh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=O1(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(sx(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Wl(r,e,n,s){return r instanceof xc?(function(c,f,p,g){if(!oh(c.precondition,f))return p;const y=c.value.clone(),_=V1(c.fieldTransforms,g,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ps?(function(c,f,p,g){if(!oh(c.precondition,f))return p;const y=V1(c.fieldTransforms,g,f),_=f.data;return _.setAll(sx(c)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(c,f,p){return oh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function uN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=ex(s.transform,o||null);c!=null&&(n===null&&(n=pn.empty()),n.set(s.field,c))}return n||null}function M1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((c,f)=>oN(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xc extends td{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends td{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sx(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function O1(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=e.data.field(c.field);s.set(c.field,sN(f,p,n[o]))}return s}function V1(r,e,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,iN(c,f,e))}return s}class Vp extends td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hN extends td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&cN(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Z_();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=ix(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>M1(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>M1(n,s)))}}class Pp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return J3})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Pp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,ze;function pN(r){switch(r){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function ax(r){if(r===void 0)return si("GRPC error has no .code"),ee.UNKNOWN;switch(r){case bt.OK:return ee.OK;case bt.CANCELLED:return ee.CANCELLED;case bt.UNKNOWN:return ee.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ee.INTERNAL;case bt.UNAVAILABLE:return ee.UNAVAILABLE;case bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case bt.NOT_FOUND:return ee.NOT_FOUND;case bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case bt.ABORTED:return ee.ABORTED;case bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case bt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:r})}}(ze=bt||(bt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new ns([4294967295,4294967295],0);function P1(r){const e=gN().encode(r),n=new b_;return n.update(e),new Uint8Array(n.digest())}function L1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,c],0)]}class Lp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(yN)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=P1(e),[s,o]=L1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Lp(c,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=P1(e),[s,o]=L1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new nd(Re.min(),o,new ct(Pe),oi(),Le())}}class bc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bc(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class ox{constructor(e,n){this.targetId=e,this.Ce=n}}class lx{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class U1{constructor(){this.ve=0,this.Fe=z1(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:c})}})),new bc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=z1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vN{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.Je=Zu(),this.He=Zu(),this.Ye=new ct(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Zm(c))if(s===0){const f=new _e(c.path);this.et(n,f,en.newNoDocument(f,Re.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=ls(s).toUint8Array()}catch(g){if(g instanceof D_)return go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Lp(f,o,c)}catch(g){return go(g instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&Zm(p.target)){const g=new _e(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,en.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Le();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new nd(e,n,this.Ye,this.je,s);return this.je=oi(),this.Je=Zu(),this.He=Zu(),this.Ye=new ct(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new U1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new ct(_e.comparator)}function z1(){return new ct(_e.comparator)}const _N={asc:"ASCENDING",desc:"DESCENDING"},xN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bN={and:"AND",or:"OR"};class wN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(r,e){return r.useProto3Json||Xh(e)?e:{value:e}}function Nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EN(r,e){return Nh(r,e.toTimestamp())}function _r(r){return Fe(!!r,49232),Re.fromTimestamp((function(n){const s=os(n);return new et(s.seconds,s.nanos)})(r))}function Up(r,e){return np(r,e).canonicalString()}function np(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ux(r){const e=rt.fromString(r);return Fe(px(e),10190,{key:e.toString()}),e}function rp(r,e){return Up(r.databaseId,e.path)}function jm(r,e){const n=ux(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(dx(n))}function hx(r,e){return Up(r.databaseId,e)}function TN(r){const e=ux(r);return e.length===4?rt.emptyPath():dx(e)}function ip(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dx(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function B1(r,e,n){return{name:rp(r,e),fields:n.value.mapValue.fields}}function SN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),Kt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Kt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const _=y.code===void 0?ee.UNKNOWN:ax(y.code);return new he(_,y.message||"")})(f);n=new lx(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(r,s.document.name),c=_r(s.document.updateTime),f=s.document.createTime?_r(s.document.createTime):Re.min(),p=new pn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(o,c,f,p),y=s.targetIds||[],_=s.removedTargetIds||[];n=new lh(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(r,s.document),c=s.readTime?_r(s.readTime):Re.min(),f=en.newNoDocument(o,c),p=s.removedTargetIds||[];n=new lh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(r,s.document),c=s.removedTargetIds||[];n=new lh([],c,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new mN(o,c),p=s.targetId;n=new ox(p,f)}}return n}function AN(r,e){let n;if(e instanceof xc)n={update:B1(r,e.key,e.value)};else if(e instanceof Vp)n={delete:rp(r,e.key)};else if(e instanceof ps)n={update:B1(r,e.key,e.data),updateMask:ON(e.fieldMask)};else{if(!(e instanceof hN))return we(16599,{Vt:e.type});n={verify:rp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const p=f.transform;if(p instanceof cc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:EN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(r,e.precondition)),n}function RN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,c){let f=o.updateTime?_r(o.updateTime):_r(c);return f.isEqual(Re.min())&&(f=_r(c)),new lN(f,o.transformResults||[])})(n,e)))):[]}function NN(r,e){return{documents:[hx(r,e.path)]}}function CN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hx(r,o);const c=(function(y){if(y.length!==0)return mx(nr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((_=>(function(A){return{field:ao(A.field),direction:kN(A.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=tp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function IN(r){let e=TN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(E){const A=fx(E);return A instanceof nr&&H_(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((A=>(function(H){return new lc(oo(H.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,Xh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(E){const A=!!E.before,O=E.values||[];return new Ah(O,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const A=!E.before,O=E.values||[];return new Ah(O,A)})(n.endAt)),Y3(e,o,f,c,p,"F",g,y)}function jN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(n.unaryFilter.field);return wt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return wt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return nr.create(n.compositeFilter.filters.map((s=>fx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function kN(r){return _N[r]}function DN(r){return xN[r]}function MN(r){return bN[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return $t.fromServerFormat(r.fieldPath)}function mx(r){return r instanceof wt?(function(n){if(n.op==="=="){if(N1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(R1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(R1(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:DN(n.op),value:n.value}}})(r):r instanceof nr?(function(n){const s=n.getFilters().map((o=>mx(o)));return s.length===1?s[0]:{compositeFilter:{op:MN(n.op),filters:s}}})(r):we(54877,{filter:r})}function ON(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function px(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,s,o,c=Re.min(),f=Re.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.yt=e}}function PN(r){const e=IN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Cn=new UN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(as.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class UN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(rt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gx=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(gx,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="LruGarbageCollector",zN=1048576;function F1([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class BN{constructor(e){this.Ir=e,this.buffer=new jt(F1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();F1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(H1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?fe(H1,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class HN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Qh.ce);const s=new BN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(q1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,f,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),io()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function FN(r,e){return new HN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Wl(s.mutation,o,Tn.empty(),et.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let f=Hl();return c.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let c=oi();const f=Xl(),p=(function(){return Xl()})();return n.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ps)?c=c.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),Wl(_.mutation,y,_.mutation.getFieldMask(),et.now())):f.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>f.set(y,_))),n.forEach(((y,_)=>p.set(y,new $N(_,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ct(((f,p)=>f-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=s.get(g)||Tn.empty();_=p.applyToLocalView(y,_),s.set(g,_);const E=(o.get(p.batchId)||Le()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,E=Z_();_.forEach((A=>{if(!c.has(A)){const O=ix(n.get(A),s.get(A));O!==null&&E.set(A,O),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ne.resolve(ta());let p=ic,g=c;return f.next((y=>ne.forEach(y,((_,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Le()))).next((_=>({batchId:p,changes:W_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(E,A){return new Ro(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((E,A)=>{f=f.insert(E,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((f=>{c.forEach(((g,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,en.newInvalidDocument(_)))}));let p=Hl();return f.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&Wl(_.mutation,y,Tn.empty(),et.now()),Jh(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:PN(o.bundledQuery),readTime:_r(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.overlays=new ct(_e.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ta();return ne.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ta(),c=n.length+1,f=new _e(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ct(((y,_)=>y-_));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let _=c.get(y.largestBatchId);_===null&&(_=ta(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=ta(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return ne.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new fN(n,s));let c=this.qr.get(n);c===void 0&&(c=Le(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Qr=new jt(Pt.$r),this.Ur=new jt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new rt([])),s=new Pt(n,e),o=new Pt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new rt([])),s=new Pt(n,e),o=new Pt(n,e+1);let c=Le();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Pt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dN(c,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Pt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Pe);return n.forEach((o=>{const c=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const f=new Pt(new _e(c),0);let p=new jt(Pe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const c=new Pt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.ri=e,this.docs=(function(){return new ct(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=oi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=oi();const f=n.path,p=new _e(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||A3(S3(_),s)<=0||(o.has(_.key)||Jh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new JN(this)}getSize(e){return ne.resolve(this.size)}}class JN extends GN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.persistence=e,this.si=new ua((n=>kp(n)),Dp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new zp,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new XN,this.referenceDelegate=e(this),this.Pi=new e5(this),this.indexManager=new LN,this.remoteDocumentCache=(function(o){return new ZN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new VN(n),this.Ii=new YN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new WN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new t5(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class t5 extends N3{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new zp,this.Vi=null}static mi(e){return new Bp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new ua((s=>j3(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=FN(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,c.removeEntry(f,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QA()?8:C3(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new n5;return this.Ss(e,n,f).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(io()<=Ve.DEBUG&&fe("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):ne.resolve())}ys(e,n){if(k1(n))return ne.resolve(null);let s=vr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ep(n,null,"F"),s=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Le(...c);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,ep(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return k1(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,o)?ne.resolve(null):(io()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,f,n,T3(o,ic)).next((p=>p)))}))}Ds(e,n){let s=new jt(Q_(e));return n.forEach(((o,c)=>{Jh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="LocalStore",i5=3e8;class s5{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Pe),this.xs=new ua((c=>kp(c)),Dp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function a5(r,e,n,s){return new s5(r,e,n,s)}async function vx(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],p=[];let g=Le();for(const y of o){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function o5(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const E=y.batch,A=E.keys();let O=ne.resolve();return A.forEach((H=>{O=O.next((()=>_.getEntry(g,H))).next((Y=>{const L=y.docVersions.get(H);Fe(L!==null,48541),Y.version.compareTo(L)<0&&(E.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),_.addEntry(Y)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function _x(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function l5(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,E)=>{const A=o.get(E);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,E))));let O=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(Kt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(E,O),(function(Y,L,$){return Y.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=i5?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,O,_)&&p.push(n.Pi.updateTargetData(c,O))}));let g=oi(),y=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(c5(c,f,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Re.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return ne.waitFor(p).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function c5(r,e,n){let s=Le(),o=Le();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=oi();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):fe(Hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function u5(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function h5(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Zi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function sp(r,e,n){const s=Ce(r),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;fe(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function G1(r,e,n){const s=Ce(r);let o=Re.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,_){const E=Ce(g),A=E.xs.get(_);return A!==void 0?ne.resolve(E.Ms.get(A)):E.Pi.getTargetData(y,_)})(s,f,vr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?c:Le()))).next((p=>(d5(s,X3(e),p),{documents:p,Qs:c})))))}function d5(r,e,n){let s=r.Os.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class $1{constructor(){this.activeTargetIds=nN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f5{constructor(){this.Mo=new $1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="ConnectivityMonitor";class Y1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(K1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(K1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function ap(){return Ju===null?Ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",p5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const f=ap(),p=this.zo(e,n.toUriEncodedString());fe(km,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),_=fs(y);return this.Jo(e,p,g,s,_).then((E=>(fe(km,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw go(km,`RPC '${e}' ${f} failed with error: `,E,"url: ",p,"request:",s),E}))}Ho(e,n,s,o,c,f){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=p5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class v5 extends g5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const f=ap();return new Promise(((p,g)=>{const y=new w_;y.setWithCredentials(!0),y.listenOnce(E_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ih.NO_ERROR:const E=y.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),p(E);break;case ih.TIMEOUT:fe(Zt,`RPC '${e}' ${f} timed out`),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const A=y.getStatus();if(fe(Zt,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const H=O?.error;if(H&&H.status&&H.message){const Y=(function($){const B=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(B)>=0?B:ee.UNKNOWN})(H.status);g(new he(Y,H.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(Zt,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);fe(Zt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=ap(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=A_(),p=S_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=c.join("");fe(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const E=f.createWebChannel(_,g);this.I_(E);let A=!1,O=!1;const H=new y5({Yo:L=>{O?fe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(fe(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),fe(Zt,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),Y=(L,$,B)=>{L.listen($,(re=>{try{B(re)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return Y(E,ql.EventType.OPEN,(()=>{O||(fe(Zt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),Y(E,ql.EventType.CLOSE,(()=>{O||(O=!0,fe(Zt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(E))})),Y(E,ql.EventType.ERROR,(L=>{O||(O=!0,go(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),H.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(E,ql.EventType.MESSAGE,(L=>{if(!O){const $=L.data[0];Fe(!!$,16349);const B=$,re=B?.error||B[0]?.error;if(re){fe(Zt,`RPC '${e}' stream ${o} received error:`,re);const ae=re.status;let ie=(function(R){const T=bt[R];if(T!==void 0)return ax(T)})(ae),ce=re.message;ie===void 0&&(ie=ee.INTERNAL,ce="Unknown error status: "+ae+" with message "+re.message),O=!0,H.a_(new he(ie,ce)),E.close()}else fe(Zt,`RPC '${e}' stream ${o} received:`,$),H.u_($)}})),Y(p,T_.STAT_EVENT,(L=>{L.stat===Km.PROXY?fe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Km.NOPROXY&&fe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(r){return new wN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="PersistentStream";class bx{constructor(e,n,s,o,c,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Q1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(Q1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _5 extends bx{constructor(e,n,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SN(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?_r(f.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(c,f){let p;const g=f.target;if(p=Zm(g)?{documents:NN(c,g)}:{query:CN(c,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=cx(c,f.resumeToken);const y=tp(c,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){p.readTime=Nh(c,f.snapshotVersion.toTimestamp());const y=tp(c,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=jN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class x5 extends bx{constructor(e,n,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RN(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>AN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{}class w5 extends b5{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,np(n,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,np(n,s),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class E5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(si(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class T5{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ha(this)&&(fe(aa,"Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.Ea.add(4),await wc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await id(y)})(this))}))})),this.Ra=new E5(s,o)}}async function id(r){if(ha(r))for(const e of r.da)await e(!0)}async function wc(r){for(const e of r.da)await e(!1)}function wx(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?$p(n):No(n).O_()&&Gp(n,e))}function Fp(r,e){const n=Ce(r),s=No(n);n.Ia.delete(e),s.O_()&&Ex(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function Gp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Y_(e)}function Ex(r,e){r.Va.Ue(e),No(r).Z_(e)}function $p(r){r.Va=new vN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Ra.ua()}function Kp(r){return ha(r)&&!No(r).x_()&&r.Ia.size>0}function ha(r){return Ce(r).Ea.size===0}function Tx(r){r.Va=void 0}async function S5(r){r.Ra.set("Online")}async function A5(r){r.Ia.forEach(((e,n)=>{Gp(r,e)}))}async function R5(r,e){Tx(r),Kp(r)?(r.Ra.ha(e),$p(r)):r.Ra.set("Unknown")}async function N5(r,e,n){if(r.Ra.set("Online"),e instanceof lx&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){fe(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof lh?r.Va.Ze(e):e instanceof ox?r.Va.st(e):r.Va.tt(e),!n.isEqual(Re.min()))try{const s=await _x(r.localStore);n.compareTo(s)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(Kt.EMPTY_BYTE_STRING,_.snapshotVersion)),Ex(c,g);const E=new Zi(_.target,g,y,_.sequenceNumber);Gp(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){fe(aa,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,n){if(!Ao(e))throw e;r.Ea.add(1),await wc(r),r.Ra.set("Offline"),n||(n=()=>_x(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await id(r)}))}function Sx(r,e){return e().catch((n=>Ih(r,n,e)))}async function sd(r){const e=Ce(r),n=us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;C5(e);)try{const o=await u5(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,I5(e,o)}catch(o){await Ih(e,o)}Ax(e)&&Rx(e)}function C5(r){return ha(r)&&r.Ta.length<10}function I5(r,e){r.Ta.push(e);const n=us(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Ax(r){return ha(r)&&!us(r).x_()&&r.Ta.length>0}function Rx(r){us(r).start()}async function j5(r){us(r).ra()}async function k5(r){const e=us(r);for(const n of r.Ta)e.ea(n.mutations)}async function D5(r,e,n){const s=r.Ta.shift(),o=Pp.from(s,e,n);await Sx(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await sd(r)}async function M5(r,e){e&&us(r).X_&&await(async function(s,o){if((function(f){return pN(f)&&f!==ee.ABORTED})(o.code)){const c=s.Ta.shift();us(s).B_(),await Sx(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await sd(s)}})(r,e),Ax(r)&&Rx(r)}async function X1(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),fe(aa,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await wc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await id(n)}async function O5(r,e){const n=Ce(r);e?(n.Ea.delete(2),await id(n)):e||(n.Ea.add(2),await wc(n),n.Ra.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const c=Ce(n);return c.sa(),new _5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:S5.bind(null,r),t_:A5.bind(null,r),r_:R5.bind(null,r),H_:N5.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Kp(r)?$p(r):r.Ra.set("Unknown")):(await r.ma.stop(),Tx(r))}))),r.ma}function us(r){return r.fa||(r.fa=(function(n,s,o){const c=Ce(n);return c.sa(),new x5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:j5.bind(null,r),r_:M5.bind(null,r),ta:k5.bind(null,r),na:D5.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await sd(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const f=Date.now()+s,p=new Yp(e,n,f,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(r,e){if(si("AsyncQueue",`${e}: ${r}`),Ao(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.ga=new ct(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bo{constructor(e,n,s,o,c,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new bo(e,n,co.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class P5{constructor(){this.queries=Z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),c=o.queries;o.queries=Z1(),c.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Z1(){return new ua((r=>Y_(r)),Zh)}async function Nx(r,e){const n=Ce(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new V5,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Qp(f,`Initialization of query '${so(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Xp(n)}async function Cx(r,e){const n=Ce(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function L5(r,e){const n=Ce(r);let s=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Xp(n)}function U5(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Xp(r){r.Ca.forEach((e=>{e.next()}))}var op,J1;(J1=op||(op={})).Ma="default",J1.Cache="cache";class Ix{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.key=e}}class kx{constructor(e){this.key=e}}class z5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=Q_(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new W1,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const A=o.get(_),O=Jh(this.query,E)?E:null,H=!!A&&this.mutatedKeys.has(A.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;A&&O?A.data.isEqual(O.data)?H!==Y&&(s.track({type:3,doc:O}),L=!0):this.su(A,O)||(s.track({type:2,doc:O}),L=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!A&&O?(s.track({type:0,doc:O}),L=!0):A&&!O&&(s.track({type:1,doc:A}),L=!0,(g||y)&&(p=!0)),L&&(O?(f=f.add(O),c=Y?c.add(_):c.delete(_)):(f=f.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,E)=>(function(O,H){const Y=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:L})}};return Y(O)-Y(H)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new bo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new kx(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new jx(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wp="SyncEngine";class B5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class q5{constructor(e){this.key=e,this.hu=!1}}class H5{constructor(e,n,s,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((p=>Y_(p)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(_e.comparator),this.Au=new Map,this.Ru=new zp,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F5(r,e,n=!0){const s=Lx(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Dx(s,e,n,!0),o}async function G5(r,e){const n=Lx(r);await Dx(n,e,!0,!1)}async function Dx(r,e,n,s){const o=await h5(r.localStore,vr(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await $5(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wx(r.remoteStore,o),p}async function $5(r,e,n,s,o){r.pu=(E,A,O)=>(async function(Y,L,$,B){let re=L.view.ru($);re.Cs&&(re=await G1(Y.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,re))));const ae=B&&B.targetChanges.get(L.targetId),ie=B&&B.targetMismatches.get(L.targetId)!=null,ce=L.view.applyChanges(re,Y.isPrimaryClient,ae,ie);return t2(Y,L.targetId,ce.au),ce.snapshot})(r,E,A,O);const c=await G1(r.localStore,e,!0),f=new z5(e,c.Qs),p=f.ru(c.documents),g=bc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);t2(r,n,y.au);const _=new B5(e,n,f);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function K5(r,e,n){const s=Ce(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!Zh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fp(s.remoteStore,o.targetId),lp(s,o.targetId)})).catch(So)):(lp(s,o.targetId),await sp(s.localStore,o.targetId,!0))}async function Y5(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(n.remoteStore,s.targetId))}async function Q5(r,e,n){const s=n4(r);try{const o=await(function(f,p){const g=Ce(f),y=et.now(),_=p.reduce(((O,H)=>O.add(H.key)),Le());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let H=oi(),Y=Le();return g.Ns.getEntries(O,_).next((L=>{H=L,H.forEach((($,B)=>{B.isValidDocument()||(Y=Y.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,H))).next((L=>{E=L;const $=[];for(const B of p){const re=uN(B,E.get(B.key).overlayedDocument);re!=null&&$.push(new ps(B.key,re,z_(re.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,$,p)})).next((L=>{A=L;const $=L.applyToLocalDocumentSet(E,Y);return g.documentOverlayCache.saveOverlays(O,L.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:W_(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Pe)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Ec(s,o.changes),await sd(s.remoteStore)}catch(o){const c=Qp(o,"Failed to persist write");n.reject(c)}}async function Mx(r,e){const n=Ce(r);try{const s=await l5(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await Ec(n,s,e)}catch(s){await So(s)}}function e2(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Ce(f);g.onlineState=p;let y=!1;g.queries.forEach(((_,E)=>{for(const A of E.Sa)A.va(p)&&(y=!0)})),y&&Xp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function X5(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new ct(_e.comparator);f=f.insert(c,en.newNoDocument(c,Re.min()));const p=Le().add(c),g=new nd(Re.min(),new Map,new ct(Pe),f,p);await Mx(s,g),s.du=s.du.remove(c),s.Au.delete(e),Zp(s)}else await sp(s.localStore,e,!1).then((()=>lp(s,e,n))).catch(So)}async function W5(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await o5(n.localStore,e);Vx(n,s,null),Ox(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ec(n,o)}catch(o){await So(o)}}async function Z5(r,e,n){const s=Ce(r);try{const o=await(function(f,p){const g=Ce(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Fe(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);Vx(s,e,n),Ox(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ec(s,o)}catch(o){await So(o)}}function Ox(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Vx(r,e,n){const s=Ce(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Px(r,s)}))}function Px(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Fp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Zp(r))}function t2(r,e,n){for(const s of n)s instanceof jx?(r.Ru.addReference(s.key,e),J5(r,s)):s instanceof kx?(fe(Wp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Px(r,s.key)):we(19791,{wu:s})}function J5(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe(Wp,"New document in limbo: "+n),r.Eu.add(s),Zp(r))}function Zp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new q5(n)),r.du=r.du.insert(n,s),wx(r.remoteStore,new Zi(vr(Mp(n.path)),s,"TargetPurposeLimboResolution",Qh.ce))}}async function Ec(r,e,n){const s=Ce(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=qp.As(g.targetId,y);c.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const _=Ce(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(A=>ne.forEach(A.Es,(O=>_.persistence.referenceDelegate.addReference(E,A.targetId,O))).next((()=>ne.forEach(A.ds,(O=>_.persistence.referenceDelegate.removeReference(E,A.targetId,O)))))))))}catch(E){if(!Ao(E))throw E;fe(Hp,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const O=_.Ms.get(A),H=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(H);_.Ms=_.Ms.insert(A,Y)}}})(s.localStore,c))}async function e4(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){fe(Wp,"User change. New user:",e.toKey());const s=await vx(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(ee.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ec(n,s.Ls)}}function t4(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Lx(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X5.bind(null,e),e.Pu.H_=L5.bind(null,e.eventManager),e.Pu.yu=U5.bind(null,e.eventManager),e}function n4(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z5.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return a5(this.persistence,new r5,e.initialUser,this.serializer)}Cu(e){return new yx(Bp.mi,this.serializer)}Du(e){return new f5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class r4 extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new yx((s=>Ch.mi(s,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>e2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=e4.bind(null,this.syncEngine),await O5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P5})()}createDatastore(e){const n=rd(e.databaseInfo.databaseId),s=(function(c){return new v5(c)})(e.databaseInfo);return(function(c,f,p,g){return new w5(c,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,f,p){return new T5(s,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>e2(this.syncEngine,n,0)),(function(){return Y1.v()?new Y1:new m5})())}createSyncEngine(e,n){return(function(o,c,f,p,g,y,_){const E=new H5(o,c,f,p,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);fe(aa,"RemoteStore shutting down."),s.Ea.add(5),await wc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class i4{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{fe(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await vx(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function n2(r,e){r.asyncQueue.verifyOperationInProgress();const n=await s4(r);fe(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>X1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>X1(e.remoteStore,o))),r._onlineComponents=e}async function s4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(hs,"Using user provided OfflineComponentProvider");try{await Mm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Mm(r,new jh)}}else fe(hs,"Using default OfflineComponentProvider"),await Mm(r,new r4(void 0));return r._offlineComponents}async function zx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(hs,"Using user provided OnlineComponentProvider"),await n2(r,r._uninitializedComponentsProvider._online)):(fe(hs,"Using default OnlineComponentProvider"),await n2(r,new cp))),r._onlineComponents}function a4(r){return zx(r).then((e=>e.syncEngine))}async function Bx(r){const e=await zx(r),n=e.eventManager;return n.onListen=F5.bind(null,e.syncEngine),n.onUnlisten=K5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y5.bind(null,e.syncEngine),n}function o4(r,e,n={}){const s=new ti;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const _=new Ux({next:A=>{_.Nu(),f.enqueueAndForget((()=>Cx(c,E)));const O=A.docs.has(p);!O&&A.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&g&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new Ix(Mp(p.path),_,{includeMetadataChanges:!0,qa:!0});return Nx(c,E)})(await Bx(r),r.asyncQueue,e,n,s))),s.promise}function l4(r,e,n={}){const s=new ti;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const _=new Ux({next:A=>{_.Nu(),f.enqueueAndForget((()=>Cx(c,E))),A.fromCache&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new Ix(p,_,{includeMetadataChanges:!0,qa:!0});return Nx(c,E)})(await Bx(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firestore.googleapis.com",i2=!0;class s2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hx,this.ssl=i2}else this.host=e.host,this.ssl=e.ssl??i2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ad{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new f3;switch(s.type){case"firstParty":return new y3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=r2.get(n);s&&(fe("ComponentProvider","Removing Datastore"),r2.delete(n),s.terminate())})(this),Promise.resolve()}}function c4(r,e,n,s={}){r=ai(r,ad);const o=fs(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Gh(`https://${p}`),$h("Firestore",!0)),c.host!==Hx&&c.host!==p&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!ia(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=Jt.MOCK_USER;else{y=p_(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Jt(E)}r._authCredentials=new m3(new N_(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_c(n,Tt._jsonSchema))return new Tt(e,s||null,new _e(rt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Et("string",Tt._jsonSchemaVersion),referencePath:Et("string")};class rs extends da{constructor(e,n,s){super(e,n,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new _e(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Xn(r,e,...n){if(r=St(r),C_("collection","path",e),r instanceof ad){const s=rt.fromString(e,...n);return v1(s),new rs(r,null,s)}{if(!(r instanceof Tt||r instanceof rs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return v1(s),new rs(r.firestore,null,s)}}function ds(r,e,...n){if(r=St(r),arguments.length===1&&(e=Np.newId()),C_("doc","path",e),r instanceof ad){const s=rt.fromString(e,...n);return y1(s),new Tt(r,null,new _e(s))}{if(!(r instanceof Tt||r instanceof rs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return y1(s),new Tt(r.firestore,r instanceof rs?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="AsyncQueue";class o2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xx(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&fe(a2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;fe(a2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,si("INTERNAL UNHANDLED ERROR: ",l2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:l2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function l2(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Co extends ad{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new o2,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o2(e),this._firestoreClient=void 0,await e}}}function u4(r,e){const n=typeof r=="object"?r:Kh(),s=typeof r=="string"?r:Th,o=vc(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Tp("firestore");c&&c4(o,...c)}return o}function Jp(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||h4(r),r._firestoreClient}function h4(r){const e=r._freezeSettings(),n=(function(o,c,f,p){return new M3(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new i4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Kt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Et("string",Pn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(_c(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:Et("string",xr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new br(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:Et("string",br._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^__.*__$/;class f4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class Fx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class eg{constructor(e,n,s,o,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gx(this.Ac)&&d4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rd(e)}Cc(e,n,s,o=!1){return new eg({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(r){const e=r._freezeSettings(),n=rd(r._databaseId);return new m4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function p4(r,e,n,s,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",f,s);const p=$x(s,f);let g,y;if(c.merge)g=new Tn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const A=up(e,E,n);if(!f.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Yx(_,A)||_.push(A)}g=new Tn(_),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new f4(new pn(p),g,y)}class cd extends ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}class ng extends ld{_toFieldTransform(e){return new aN(e.path,new cc)}isEqual(e){return e instanceof ng}}function g4(r,e,n,s){const o=r.Cc(1,e,n);rg("Data must be an object, but it was:",o,s);const c=[],f=pn.empty();ms(s,((g,y)=>{const _=ig(e,g,n);y=St(y);const E=o.yc(_);if(y instanceof cd)c.push(_);else{const A=Tc(y,E);A!=null&&(c.push(_),f.set(_,A))}}));const p=new Tn(c);return new Fx(f,p,o.fieldTransforms)}function y4(r,e,n,s,o,c){const f=r.Cc(1,e,n),p=[up(e,s,n)],g=[o];if(c.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(up(e,c[A])),g.push(c[A+1]);const y=[],_=pn.empty();for(let A=p.length-1;A>=0;--A)if(!Yx(y,p[A])){const O=p[A];let H=g[A];H=St(H);const Y=f.yc(O);if(H instanceof cd)y.push(O);else{const L=Tc(H,Y);L!=null&&(y.push(O),_.set(O,L))}}const E=new Tn(y);return new Fx(_,E,f.fieldTransforms)}function v4(r,e,n,s=!1){return Tc(n,r.Cc(s?4:3,e))}function Tc(r,e){if(Kx(r=St(r)))return rg("Unsupported field value:",e,r),$x(r,e);if(r instanceof ld)return(function(s,o){if(!Gx(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const p of s){let g=Tc(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=et.fromDate(s);return{timestampValue:Nh(o.serializer,c)}}if(s instanceof et){const c=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,c)}}if(s instanceof xr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:cx(o.serializer,s._byteString)};if(s instanceof Tt){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof br)return(function(f,p){return{mapValue:{fields:{[L_]:{stringValue:U_},[Sh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Op(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Yh(s)}`)})(r,e)}function $x(r,e){const n={};return k_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(r,((s,o)=>{const c=Tc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Kx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof xr||r instanceof Pn||r instanceof Tt||r instanceof ld||r instanceof br)}function rg(r,e,n){if(!Kx(n)||!I_(n)){const s=Yh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function up(r,e,n){if((e=St(e))instanceof od)return e._internalPath;if(typeof e=="string")return ig(r,e);throw kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const _4=new RegExp("[~\\*/\\[\\]]");function ig(r,e,n){if(e.search(_4)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new od(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function kh(r,e,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new he(ee.INVALID_ARGUMENT,p+r+g)}function Yx(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x4 extends Qx{data(){return super.data()}}function ud(r,e){return typeof e=="string"?ig(r,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class Xx extends sg{}function ag(r,e,...n){let s=[];e instanceof sg&&s.push(e),s=s.concat(n),(function(c){const f=c.filter((g=>g instanceof og)).length,p=c.filter((g=>g instanceof hd)).length;if(f>1||f>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class hd extends Xx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hd(e,n,s)}_apply(e){const n=this._parse(e);return Wx(e._query,n),new da(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=tg(e.firestore);return(function(c,f,p,g,y,_,E){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){u2(E,_);const H=[];for(const Y of E)H.push(c2(g,c,Y));A={arrayValue:{values:H}}}else A=c2(g,c,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||u2(E,_),A=v4(p,f,E,_==="in"||_==="not-in");return wt.create(y,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function w4(r,e,n){const s=e,o=ud("where",r);return hd._create(o,s,n)}class og extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)Wx(f,g),f=Jm(f,g)})(e._query,n),new da(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends Xx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(c,f)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new Ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function cg(r,e="asc"){const n=e,s=ud("orderBy",r);return lg._create(s,n)}function c2(r,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K_(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return A1(r,new _e(s))}if(n instanceof Tt)return A1(r,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function u2(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wx(r,e){const n=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class E4{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ms(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Sh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new br(n)}convertGeoPoint(e){return new xr(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=os(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Fe(px(s),9688,{name:e});const o=new ac(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(n)||si(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends Qx{constructor(e,n,s,o,c,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ud("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Et("string",ra._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class ch extends ra{data(e={}){return super.data(e)}}class uo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new ch(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new ch(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),_=f.indexOf(p.doc.key)),{type:S4(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(r){r=ai(r,Tt);const e=ai(r.firestore,Co);return o4(Jp(e),r._key).then((n=>R4(e,r,n)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Et("string",uo._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class Zx extends E4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function ho(r){r=ai(r,da);const e=ai(r.firestore,Co),n=Jp(e),s=new Zx(e);return b4(r._query),l4(n,r._query).then((o=>new uo(e,s,r,o)))}function Jx(r,e,n,...s){r=ai(r,Tt);const o=ai(r.firestore,Co),c=tg(o);let f;return f=typeof(e=St(e))=="string"||e instanceof od?y4(c,"updateDoc",r._key,e,n,s):g4(c,"updateDoc",r._key,e),ug(o,[f.toMutation(r._key,Jn.exists(!0))])}function Dh(r){return ug(ai(r.firestore,Co),[new Vp(r._key,Jn.none())])}function Zl(r,e){const n=ai(r.firestore,Co),s=ds(r),o=T4(r.converter,e);return ug(n,[p4(tg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function ug(r,e){return(function(s,o){const c=new ti;return s.asyncQueue.enqueueAndForget((async()=>Q5(await a4(s),o,c))),c.promise})(Jp(r),e)}function R4(r,e,n){const s=n.docs.get(e._key),o=new Zx(r);return new ra(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function N4(){return new ng("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(ca),ss(new ri("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new Co(new p3(s.getProvider("auth-internal")),new v3(f,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(y.options.projectId,_)})(f,o),f);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ln(f1,m1,e),Ln(f1,m1,"esm2020")})();var C4="firebase",I4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(C4,I4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firebasestorage.googleapis.com",j4="storageBucket",k4=120*1e3,D4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Rr{constructor(e,n,s=0){super(Om(e),`Firebase Storage: ${n} (${Om(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function Om(r){return"storage/"+r}function M4(){const r="An unknown error occurred, please check the error payload for server response.";return new Nr(Tr.UNKNOWN,r)}function O4(){return new Nr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V4(){return new Nr(Tr.CANCELED,"User canceled the upload/download.")}function P4(r){return new Nr(Tr.INVALID_URL,"Invalid URL '"+r+"'.")}function L4(r){return new Nr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function h2(r){return new Nr(Tr.INVALID_ARGUMENT,r)}function tb(){return new Nr(Tr.APP_DELETED,"The Firebase app was deleted.")}function U4(r){return new Nr(Tr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(s.path==="")return s;throw L4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${E}/${_}/b/${o}/o${A}`,"i"),H={bucket:1,path:3},Y=n===eb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",$=new RegExp(`^https?://${Y}/${o}/${L}`,"i"),re=[{regex:p,indices:g,postModify:c},{regex:O,indices:H,postModify:y},{regex:$,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<re.length;ae++){const ie=re[ae],ce=ie.regex.exec(e);if(ce){const I=ce[ie.indices.bucket];let R=ce[ie.indices.path];R||(R=""),s=new Wn(I,R),ie.postModify(s);break}}if(s==null)throw P4(e);return s}}class z4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(r,e,n){let s=1,o=null,c=null,f=!1,p=0;function g(){return p===2}let y=!1;function _(...L){y||(y=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,r(O,g())},L)}function A(){c&&clearTimeout(c)}function O(L,...$){if(y){A();return}if(L){A(),_.call(null,L,...$);return}if(g()||f){A(),_.call(null,L,...$);return}s<64&&(s*=2);let re;p===1?(p=2,re=0):re=(s+Math.random())*1e3,E(re)}let H=!1;function Y(L){H||(H=!0,A(),!y&&(o!==null?(L||(p=2),clearTimeout(o),E(0)):L||(p=1)))}return E(0),c=setTimeout(()=>{f=!0,Y(!0)},n),Y}function q4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(r){return r!==void 0}function d2(r,e,n,s){if(s<e)throw h2(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw h2(`Invalid value for '${r}'. Expected ${n} or less.`)}function F4(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Mh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Mh||(Mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,s,o,c,f,p,g,y,_,E,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,Y)=>{this.resolve_=H,this.reject_=Y,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new eh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===Mh.NO_ERROR,g=c.getStatus();if(!p||G4(g,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===Mh.ABORT;s(!1,new eh(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new eh(y,c))})},n=(s,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());H4(g)?c(g):c()}catch(g){f(g)}else if(p!==null){const g=M4();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?tb():V4();f(g)}else{const g=O4();f(g)}};this.canceled_?n(!1,new eh(!1,null,!0)):this.backoffId_=B4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function K4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Y4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function X4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function W4(r,e,n,s,o,c,f=!0,p=!1){const g=F4(r.urlParams),y=r.url+g,_=Object.assign({},r.headers);return Q4(_,e),K4(_,n),Y4(_,c),X4(_,s),new $4(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function J4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oh(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J4(this._location.path)}get storage(){return this._service}get parent(){const e=Z4(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new Oh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw U4(e)}}function f2(r,e){const n=e?.[j4];return n==null?null:Wn.makeFromBucketSpec(n,r)}function eC(r,e,n,s={}){r.host=`${e}:${n}`;const o=fs(e);o&&(Gh(`https://${r.host}/b`),$h("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:p_(c,r.app.options.projectId))}class tC{constructor(e,n,s,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=eb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k4,this._maxUploadRetryTime=D4,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=f2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=f2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oh(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new z4(tb());{const f=W4(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const m2="@firebase/storage",p2="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="storage";function nC(r=Kh(),e){r=St(r);const s=vc(r,nb).getImmediate({identifier:e}),o=Tp("storage");return o&&rC(s,...o),s}function rC(r,e,n,s={}){eC(r,e,n,s)}function iC(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new tC(n,s,o,e,ca)}function sC(){ss(new ri(nb,iC,"PUBLIC").setMultipleInstances(!0)),Ln(m2,p2,""),Ln(m2,p2,"esm2020")}sC();function rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=rb,ib=new gc("auth","Firebase",rb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Sp("@firebase/auth");function oC(r,...e){Vh.logLevel<=Ve.WARN&&Vh.warn(`Auth (${ca}): ${r}`,...e)}function uh(r,...e){Vh.logLevel<=Ve.ERROR&&Vh.error(`Auth (${ca}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,...e){throw dg(r,...e)}function er(r,...e){return dg(r,...e)}function hg(r,e,n){const s={...aC(),[e]:n};return new gc("auth","Firebase",s).create(e,{appName:r.name})}function is(r){return hg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sb(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Sr(r,"argument-error"),hg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ib.create(r,...e)}function Se(r,e,...n){if(!r)throw dg(e,...n)}function Zr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function li(r,e){r||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){return typeof self<"u"&&self.location?.href||""}function lC(){return g2()==="http:"||g2()==="https:"}function g2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||$A()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=HA()||KA()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r,e){li(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fC=new Sc(3e4,6e4);function mg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Io(r,e,n,s,o={}){return ob(r,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const p=yc({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return GA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&fs(r.emulatorConfig.host)&&(y.credentials="include"),ab.fetch()(await lb(r,r.config.apiHost,n,p),y)})}async function ob(r,e,n){r._canInitEmulator=!1;const s={...hC,...e};try{const o=new pC(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw th(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw th(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw th(r,"user-disabled",f);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw hg(r,_,y);Sr(r,_)}}catch(o){if(o instanceof Rr)throw o;Sr(r,"network-request-failed",{message:String(o)})}}async function mC(r,e,n,s,o={}){const c=await Io(r,e,n,s,o);return"mfaPendingCredential"in c&&Sr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function lb(r,e,n,s){const o=`${e}${n}?${s}`,c=r,f=c.config.emulator?fg(r.config,o):`${r.config.apiScheme}://${o}`;return dC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class pC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(er(this.auth,"network-request-failed")),fC.get())})}}function th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=er(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,e){return Io(r,"POST","/v1/accounts:delete",e)}async function Ph(r,e){return Io(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yC(r,e=!1){const n=St(r),s=await n.getIdToken(e),o=pg(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:Jl(Vm(o.auth_time)),issuedAtTime:Jl(Vm(o.iat)),expirationTime:Jl(Vm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vm(r){return Number(r)*1e3}function pg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=h_(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function y2(r){const e=pg(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Rr&&vC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r){const e=r.auth,n=await r.getIdToken(),s=await dc(r,Ph(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?cb(o.providerUserInfo):[],f=bC(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function xC(r){const e=St(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e){const n=await ob(r,{},async()=>{const s=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await lb(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&fs(r.emulatorConfig.host)&&(g.credentials="include"),ab.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EC(r,e){return Io(r,"POST","/v2/accounts:revokeToken",mg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=y2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await wC(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new fo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yC(this,e)}reload(){return xC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await dc(this,gC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:H,stsTokenManager:Y}=n;Se(E&&Y,e,"internal-error");const L=fo.fromJSON(this.name,Y);Se(typeof E=="string",e,"internal-error"),Yi(s,e.name),Yi(o,e.name),Se(typeof A=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),Yi(c,e.name),Yi(f,e.name),Yi(p,e.name),Yi(g,e.name),Yi(y,e.name),Yi(_,e.name);const $=new Zn({uid:E,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:_});return H&&Array.isArray(H)&&($.providerData=H.map(B=>({...B}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const c=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?cb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,p=new fo;p.updateFromIdToken(s);const g=new Zn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Map;function Jr(r){li(r instanceof Function,"Expected a class definition");let e=v2.get(r);return e?(li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,v2.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ub.type="NONE";const _2=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,c),this.fullPersistenceKey=hh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(Jr(_2),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Jr(_2);const f=hh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(f);if(_){let E;if(typeof _=="string"){const A=await Ph(e,{idToken:_}).catch(()=>{});if(!A)break;E=await Zn._fromGetAccountInfoResponse(e,A,_)}else E=Zn._fromJSON(e,_);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new mo(c,e,s):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new mo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gb(e))return"Blackberry";if(yb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||fb(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function hb(r=nn()){return/firefox\//i.test(r)}function db(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fb(r=nn()){return/crios\//i.test(r)}function mb(r=nn()){return/iemobile/i.test(r)}function pb(r=nn()){return/android/i.test(r)}function gb(r=nn()){return/blackberry/i.test(r)}function yb(r=nn()){return/webos/i.test(r)}function gg(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TC(r=nn()){return gg(r)&&!!window.navigator?.standalone}function SC(){return YA()&&document.documentMode===10}function vb(r=nn()){return gg(r)||pb(r)||yb(r)||gb(r)||/windows phone/i.test(r)||mb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(r,e=[]){let n;switch(r){case"Browser":n=x2(nn());break;case"Worker":n=`${x2(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,p)=>{try{const g=e(c);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,e={}){return Io(r,"GET","/v2/passwordPolicy",mg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=6;class CC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b2(this),this.idTokenSubscription=new b2(this),this.beforeStateQueue=new AC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(is(this));const n=e?St(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RC(this),n=new CC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jo(r){return St(r)}class b2{constructor(e){this.auth=e,this.observer=null,this.addObserver=nR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jC(r){yg=r}function kC(r){return yg.loadJS(r)}function DC(){return yg.gapiScript}function MC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r,e){const n=vc(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ia(c,e??{}))return o;Sr(o,"already-initialized")}return n.initialize({options:e})}function VC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Jr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function PC(r,e,n){const s=jo(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=xb(e),{host:f,port:p}=LC(e),g=p===null?"":`:${p}`,y={url:`${c}//${f}${g}/`},_=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ia(y,s.config.emulator)&&ia(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,fs(f)?(Gh(`${c}//${f}${g}`),$h("Auth",!0)):UC()}function xb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LC(r){const e=xb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:w2(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:w2(f)}}}function w2(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return mC(r,"POST","/v1/accounts:signInWithIdp",mg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="http://localhost";class oa extends bb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const f=new oa(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:zC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ac{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Ac{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ac{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wi.credential(n,s)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await Zn._fromIdTokenResponse(e,s,o),f=E2(s);return new wo({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=E2(s);return new wo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function E2(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Rr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Uh(e,n,s,o)}}function wb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,c,e,s):c})}async function BC(r,e,n=!1){const s=await dc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return wo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(r,e,n=!1){const{auth:s}=r;if(mn(s.app))return Promise.reject(is(s));const o="reauthenticate";try{const c=await dc(r,wb(s,o,e,r),n);Se(c.idToken,s,"internal-error");const f=pg(c.idToken);Se(f,s,"internal-error");const{sub:p}=f;return Se(r.uid===p,s,"user-mismatch"),wo._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Sr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(r,e,n=!1){if(mn(r.app))return Promise.reject(is(r));const s="signIn",o=await wb(r,s,e),c=await wo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}function FC(r,e,n,s){return St(r).onIdTokenChanged(e,n,s)}function GC(r,e,n){return St(r).beforeAuthStateChanged(e,n)}function $C(r,e,n,s){return St(r).onAuthStateChanged(e,n,s)}function KC(r){return St(r).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=1e3,QC=10;class Tb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);SC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tb.type="LOCAL";const XC=Tb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sb.type="SESSION";const Ab=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new fd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,c)),g=await WC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const y=vg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function JC(r){wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tI(){return navigator?.serviceWorker?.controller||null}function nI(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firebaseLocalStorageDb",rI=1,Bh="firebaseLocalStorage",Cb="fbase_key";class Rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(r,e){return r.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function iI(){const r=indexedDB.deleteDatabase(Nb);return new Rc(r).toPromise()}function fp(){const r=indexedDB.open(Nb,rI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bh,{keyPath:Cb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await iI(),e(await fp()))})})}async function T2(r,e,n){const s=md(r,!0).put({[Cb]:e,value:n});return new Rc(s).toPromise()}async function sI(r,e){const n=md(r,!1).get(e),s=await new Rc(n).toPromise();return s===void 0?null:s.value}function S2(r,e){const n=md(r,!0).delete(e);return new Rc(n).toPromise()}const aI=800,oI=3;class Ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(nI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new ZC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await T2(e,zh,"1"),await S2(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>T2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=md(o,!1).getAll();return new Rc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ib.type="LOCAL";const lI=Ib;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r,e){return e?Jr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends bb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cI(r){return HC(r.auth,new xg(r),r.bypassAuthState)}function uI(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),qC(n,new xg(r),r.bypassAuthState)}async function hI(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),BC(n,new xg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cI;case"linkViaPopup":case"linkViaRedirect":return hI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:Sr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Sc(2e3,1e4);async function fI(r,e,n){if(mn(r.app))return Promise.reject(er(r,"operation-not-supported-in-this-environment"));const s=jo(r);sb(r,e,dd);const o=_g(s,n);return new na(s,"signInViaPopup",e,o).executeNotNull()}class na extends jb{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dI.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="pendingRedirect",dh=new Map;class pI extends jb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const s=await gI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gI(r,e){const n=Db(e),s=kb(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function yI(r,e){return kb(r)._set(Db(e),"true")}function vI(r,e){dh.set(r._key(),e)}function kb(r){return Jr(r._redirectPersistence)}function Db(r){return hh(mI,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r,e,n){return xI(r,e,n)}async function xI(r,e,n){if(mn(r.app))return Promise.reject(is(r));const s=jo(r);sb(r,e,dd),await s._initializationPromise;const o=_g(s,n);return await yI(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function bI(r,e){return await jo(r)._initializationPromise,Mb(r,e,!1)}async function Mb(r,e,n=!1){if(mn(r.app))return Promise.reject(is(r));const s=jo(r),o=_g(s,e),f=await new pI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=600*1e3;class EI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ob(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wI&&this.cachedEventUids.clear(),this.cachedEventUids.has(A2(e))}saveEventToCache(e){this.cachedEventUids.add(A2(e)),this.lastProcessedEventTime=Date.now()}}function A2(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ob({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function TI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e={}){return Io(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function NI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await SI(r);for(const n of e)try{if(CI(n))return}catch{}Sr(r,"unauthorized-domain")}function CI(r){const e=hp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!RI.test(n))return!1;if(AI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Sc(3e4,6e4);function R2(){const r=wr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jI(r){return new Promise((e,n)=>{function s(){R2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R2(),n(er(r,"network-request-failed"))},timeout:II.get()})}if(wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wr().gapi?.load)s();else{const o=MC("iframefcb");return wr()[o]=()=>{gapi.load?s():n(er(r,"network-request-failed"))},kC(`${DC()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw fh=null,e})}let fh=null;function kI(r){return fh=fh||jI(r),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Sc(5e3,15e3),MI="__/auth/iframe",OI="emulator/auth/iframe",VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?fg(e,OI):`https://${r.config.authDomain}/${MI}`,s={apiKey:e.apiKey,appName:r.name,v:ca},o=PI.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${yc(s).slice(1)}`}async function UI(r){const e=await kI(r),n=wr().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:LI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=er(r,"network-request-failed"),p=wr().setTimeout(()=>{c(f)},DI.get());function g(){wr().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BI=500,qI=600,HI="_blank",FI="http://localhost";class N2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GI(r,e,n,s=BI,o=qI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...zI,width:s.toString(),height:o.toString(),top:c,left:f},y=nn().toLowerCase();n&&(p=fb(y)?HI:n),hb(y)&&(e=e||FI,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[O,H])=>`${A}${O}=${H},`,"");if(TC(y)&&p!=="_self")return $I(e||"",p),new N2(null);const E=window.open(e||"",p,_);Se(E,r,"popup-blocked");try{E.focus()}catch{}return new N2(E)}function $I(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__/auth/handler",YI="emulator/auth/handler",QI=encodeURIComponent("fac");async function C2(r,e,n,s,o,c){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ca,eventId:o};if(e instanceof dd){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",tR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof Ac){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await r._getAppCheckToken(),y=g?`#${QI}=${encodeURIComponent(g)}`:"";return`${XI(r)}?${yc(p).slice(1)}${y}`}function XI({config:r}){return r.emulator?fg(r,YI):`https://${r.authDomain}/${KI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class WI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=Mb,this._overrideRedirectResult=vI}async _openPopup(e,n,s,o){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C2(e,n,s,hp(),o);return GI(e,c,vg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await C2(e,n,s,hp(),o);return JC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(li(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UI(e),s=new EI(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{const c=o?.[0]?.[Pm];c!==void 0&&n(!!c),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vb()||db()||gg()}}const ZI=WI;var I2="@firebase/auth",j2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t6(r){ss(new ri("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_b(r)},y=new IC(s,o,c,g);return VC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ss(new ri("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(s=>new JI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(I2,j2,e6(r)),Ln(I2,j2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=300,r6=m_("authIdTokenMaxAge")||n6;let k2=null;const i6=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>r6)return;const o=n?.token;k2!==o&&(k2=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function s6(r=Kh()){const e=vc(r,"auth");if(e.isInitialized())return e.getImmediate();const n=OC(r,{popupRedirectResolver:ZI,persistence:[lI,XC,Ab]}),s=m_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=i6(c.toString());GC(n,f,()=>f(n.currentUser)),FC(n,p=>f(p))}}const o=d_("auth");return o&&PC(n,`http://${o}`),n}function a6(){return document.getElementsByTagName("head")?.[0]??document}jC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=er("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",a6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t6("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,mn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="us-central1";class l6{constructor(e,n,s,o,c=mp,f=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new o6(e,n,s,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(c);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=mp}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function c6(r,e,n){const s=fs(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Gh(r.emulatorOrigin+"/backends"),$h("Functions",!0))}const D2="@firebase/functions",M2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="auth-internal",h6="app-check-internal",d6="messaging-internal";function f6(r){const e=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(u6),f=n.getProvider(d6),p=n.getProvider(h6);return new l6(o,c,f,p,s)};ss(new ri(Vb,e,"PUBLIC").setMultipleInstances(!0)),Ln(D2,M2,r),Ln(D2,M2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(r=Kh(),e=mp){const s=vc(St(r),Vb).getImmediate({identifier:e}),o=Tp("functions");return o&&p6(s,...o),s}function p6(r,e,n){c6(St(r),e,n)}f6();const g6={apiKey:"AIzaSyDo7pLpmv04Eyk3K-fBZtUvKIZLCcqot1o",authDomain:"codme-cb7b4.firebaseapp.com",projectId:"codme-cb7b4",storageBucket:"codme-cb7b4.firebasestorage.app",messagingSenderId:"167915856115",appId:"1:167915856115:web:96cc761a1524122ab6d786",measurementId:"G-QK16ETLM16"},pd=v_(g6),Lt=u4(pd);nC(pd);const ec=s6(pd),pp=new Wr;m6(pd);const ko="news",Pb=(r,e=150)=>r.length<=e?r:r.substring(0,e).trim()+"...",gd=r=>{const e=r.toDate(),n={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("th-TH",n)},Lb=async()=>{try{const r=ag(Xn(Lt,ko),w4("status","==","published"),cg("createdAt","desc")),e=await ho(r),n=[];return e.forEach(s=>{const o=s.data();n.push({id:s.id,...o,date:gd(o.createdAt),fullContent:o.content})}),n}catch(r){throw console.error("Error fetching published news:",r),r}},y6=async()=>{try{const r=ag(Xn(Lt,ko),cg("createdAt","desc")),e=await ho(r),n=[];return e.forEach(s=>{const o=s.data();n.push({id:s.id,...o,date:gd(o.createdAt)})}),n}catch(r){throw console.error("Error fetching all news:",r),r}},v6=async r=>{try{const e=ds(Lt,ko,r),n=await A4(e);if(n.exists()){const s=n.data();return{id:n.id,...s,date:gd(s.createdAt)}}else throw new Error("News not found")}catch(e){throw console.error("Error fetching news by ID:",e),e}},_6=async r=>{try{const e=et.now(),n={title:r.title,content:r.content,excerpt:Pb(r.content),image:r.image||null,author:r.author||"ฝ่ายประชาสัมพันธ์",category:r.category||"ทั่วไป",status:r.status||"draft",createdAt:e,updatedAt:e};return{id:(await Zl(Xn(Lt,ko),n)).id,...n,date:gd(e)}}catch(e){throw console.error("Error creating news:",e),e}},x6=async(r,e)=>{try{const n=ds(Lt,ko,r),s={...e,excerpt:e.content?Pb(e.content):void 0,updatedAt:et.now()};return Object.keys(s).forEach(o=>s[o]===void 0&&delete s[o]),await Jx(n,s),await v6(r)}catch(n){throw console.error("Error updating news:",n),n}},b6=async r=>{try{const e=ds(Lt,ko,r);return await Dh(e),{success:!0,id:r}}catch(e){throw console.error("Error deleting news:",e),e}},w6=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{s(!0);const f=(await Lb()).slice(0,3);e(f)}catch(c){console.error("Error loading news:",c),e([])}finally{s(!1)}})()},[]),h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
                    /* Mobile (default) */
                    .news-responsive {
                        margin-top: -130px;
                    }

                    /* Notebook - ประมาณ 1024px - 1599px */
                    @media (min-width: 1024px) and (max-width: 1599px) {
                        .news-responsive {
                            margin-top: -130px;
                        }
                    }

                    /* Desktop - 1600px ขึ้นไป */
                    @media (min-width: 1600px) {
                        .news-responsive {
                            margin-top: -430px;
                        }
                    }
                `}),h.jsxs("div",{className:"relative news-responsive",children:[h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",right:"-130px"}}),h.jsx("div",{id:"News",className:"relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:h.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[h.jsxs("div",{className:"text-center max-w-4xl",children:[h.jsx(Ep,{title:"ข่าวประชาสัมพันธ์",desc:"ติดตามข่าวสารและกิจกรรมต่างๆ ของคณะวิศวกรรมคอมพิวเตอร์และวิศวกรรมสื่อดิจิตอล มหาวิทยาลัยขอนแก่น"}),h.jsx(It,{to:"/activity",children:h.jsx("button",{className:"mt-6 px-5 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white text-sm font-semibold rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-300",children:"ดูข่าวทั้งหมด →"})})]}),n?h.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[h.jsx($l,{className:"animate-spin mb-4",size:48,color:"#dc2626"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"กำลังโหลดข่าวล่าสุด..."})]}):r.length>0?h.jsx(h.Fragment,{children:h.jsx("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((o,c)=>h.jsx(It,{to:"/activity",className:"block",children:h.jsx(jA,{news:o})},o.id||c))})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"ยังไม่มีข่าวสารในขณะนี้"}),h.jsx(It,{to:"/activity",children:h.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300",children:"ไปหน้าข่าวสาร"})})]})]})})]})]})},E6=({service:r})=>{const[e,n]=M.useState(!1);return h.jsxs("div",{className:`
        group relative overflow-hidden rounded-2xl p-6
        transition-all duration-500 ease-out
        hover:scale-[1.02] active:scale-[1.02]
        flex items-center gap-6
        min-h-[160px] w-full
        cursor-pointer
        liquid-glass
      `,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[h.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),h.jsx("div",{className:`
          absolute inset-0 rounded-2xl
          border-2 border-transparent
          group-hover:border-red-400/60 group-active:border-red-400/60
          transition-all duration-500
          pointer-events-none
        `}),h.jsx("div",{className:`
          flex-shrink-0 w-16 h-16 rounded-xl 
          flex items-center justify-center
          group-hover:scale-105 group-active:scale-105
          transition-all duration-300 ease-out
          relative z-10
        `,children:r?.icon?h.jsx("img",{src:r.icon,alt:r.title,className:"w-8 h-8 object-contain filter drop-shadow-lg"}):h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-red-600 rounded-lg"})}),h.jsxs("div",{className:"relative z-10 flex-1 min-w-0",children:[h.jsx("h3",{className:"text-lg font-bold mb-2 truncate text-black",children:r?.title||"Service Title"}),h.jsx("p",{className:"leading-relaxed line-clamp-2 font-medium text-sm text-black",children:r?.description||"Service description goes here with details about what this service offers."})]})]})},T6=()=>{const r=[{title:"เกณฑ์การรับเข้า",description:"อธิบายคุณสมบัติและขั้นตอนการสมัครสำหรับผู้สนใจเข้าศึกษา",icon:tn.graduation_hat,link:"/admission"},{title:"ข้อมูลหลักสูตร",description:"แนะนำรายละเอียดหลักสูตร โครงสร้างรายวิชา และโอกาสทางอาชีพหลังสำเร็จการศึกษา",icon:tn.book_open,link:"/course"},{title:"แนะแนว & กิจกรรม",description:"ให้คำปรึกษาด้านการเรียน พร้อมกิจกรรมเสริมสร้างทักษะและประสบการณ์นอกห้องเรียน",icon:tn.megaphone,link:"/activity"},{title:"ติดต่อ",description:"รวมช่องทางการติดต่อสถาบัน เช่น ที่อยู่ เบอร์โทร อีเมล และช่องทางออนไลน์",icon:tn.location,link:"/contact"}];return h.jsxs("div",{className:"relative py-20",children:[h.jsx("style",{children:`
                .services-wrapper {
                    margin-top: -130px; /* mobile default */
                }

                @media (min-width: 640px) {
                    .services-wrapper {
                        margin-top: -40px; /* tablet */
                    }
                }

                @media (min-width: 1024px) {
                    .services-wrapper {
                        margin-top: -64px; /* laptop */
                    }
                }
            `}),h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",left:"-130px"}}),h.jsx("div",{id:"services",className:"services-wrapper relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:h.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[h.jsx("div",{className:"text-center max-w-4xl",children:h.jsx(Ep,{title:"ข้อมูลการศึกษา",desc:"รวมข้อมูลสำคัญสำหรับผู้สนใจ ตั้งแต่เกณฑ์การรับเข้า หลักสูตร กิจกรรม ไปจนถึงช่องทางการติดต่อสถาบัน"})}),h.jsx("div",{className:"w-full max-w-7xl mx-auto",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 place-items-center md:place-items-stretch",children:r.map((e,n)=>h.jsx(It,{to:e.link,className:"w-full max-w-lg md:max-w-none block",children:h.jsx(E6,{service:e,index:n})},n))})})]})})]})},S6=[{title:"วิศวกรรมศาสตรบัณฑิต (วิศวกรรมคอมพิวเตอร์)",engTitle:"Bachelor of Engineering (Computer Engineering)",campus:"ขอนแก่น",fee:"20,000 บาท/เทอม",seats:{r1:32,r2:38,r3:34,r4:"ยังไม่เปิดรับสมัคร"}},{title:"วิศวกรรมศาสตรบัณฑิต (วิศวกรรมสื่อดิจิทัล) หลักสูตรนานาชาติ",engTitle:"Bachelor of Engineering (Digital Media Engineering) International Program",campus:"ขอนแก่น",fee:"50,000 บาท/เทอม",seats:{r1:21,r2:10,r3:20,r4:"ยังไม่เปิดรับสมัคร"}}],A6={0:{1:[{title:"วิศวกรรมคอมพิวเตอร์ โครงการผู้มีศักยภาพสูง",seats:24,sections:{base:"รับผู้สมัครที่จบจาก รร. หลักสูตรแกนกลาง, นานาชาติ, อาชีวะ และ GED ไม่รับหลักสูตรตามอัธยาศัย คะแนน GPAX ต่ำสุด 3.00",detail:"เป็นผู้ที่กำลังศึกษาอยู่ในชั้น ม.6 หรือเทียบเท่า (ปวช.) หรือผู้ที่มีคะแนน GED",criteria:"พิจารณาคุณภาพผลงาน + สัมภาษณ์ (ถ้ามี)",extra:"มีผลงานทางวิชาการด้านวิทยาศาสตร์ คณิตศาสตร์ หรือคอมพิวเตอร์ ในระดับจังหวัด ภูมิภาค ชาติ หรือนานาชาติ"}},{title:"วิศวกรรมคอมพิวเตอร์ โครงการรับนักเรียนจากโรงเรียนที่มีศักยภาพสูง",seats:8,sections:{base:"ต้องเป็นโรงเรียนเครือข่ายที่ภาควิชากำหนด",detail:"แนบหนังสือรับรอง/ผลงานที่เกี่ยวข้อง",criteria:"คัดเลือกตามเกณฑ์โครงการ",extra:"ประสานครูแนะแนวเพื่อเอกสาร"}}],2:[{title:"วิศวกรรมคอมพิวเตอร์ โควตาภาคตะวันออกเฉียงเหนือ",seats:38,sections:{base:"เฉพาะโรงเรียนในพื้นที่ภาคตะวันออกเฉียงเหนือ",detail:"GPAX ≥ 3.00 และแนบผลสอบวิชาสามัญ/วิชาเฉพาะตามประกาศ",criteria:"เรียงตามคะแนนรวมตามสูตรที่ประกาศ",extra:"รายละเอียดอื่น ๆ เป็นไปตามประกาศมหาวิทยาลัย"}}],3:[{title:"วิศวกรรมคอมพิวเตอร์",seats:34,sections:{base:"รับผ่านระบบกลาง TCAS",detail:"องค์ประกอบ: GPAX, GAT/PAT, วิชาสามัญ",criteria:"ผ่านขั้นต่ำและเรียงคะแนนรวม",extra:"สูตรคะแนนระบุในประกาศรับสมัคร"}}]},1:{1:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โครงการรับนักเรียนจากโรงเรียนที่มีศักยภาพสูง",seats:4,sections:{base:"โชว์เคสงานสื่อดิจิทัล (PDF/ลิงก์)",detail:"แนะนำแนบวิดีโอ/รีล/สตอรี่บอร์ดประกอบ",criteria:"สัมภาษณ์อธิบายแนวคิด (EN/TH)",extra:"แนบลิงก์ผลงานออนไลน์ได้"}},{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โครงการผู้มีศักยภาพสูง",seats:20,sections:{base:"ยื่นผลงานภาพนิ่ง/วิดีโอ พร้อมอธิบายกระบวนการ",detail:"ควรมีเครดิต/เครื่องมือที่ใช้",criteria:"พิจารณาคุณภาพผลงานและการสื่อสาร",extra:"อาจมี Workshop/Interview เพิ่ม"}}],2:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โควตาภาคตะวันออกเฉียงเหนือ",seats:12,sections:{base:"จบจาก EP/International หรือเทียบเท่า",detail:"ผลสอบภาษาอังกฤษขั้นต่ำ + GPAX ตามเกณฑ์",criteria:"คัดตามคะแนนรวม",extra:"สัมภาษณ์เป็นภาษาอังกฤษ"}}],3:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ",seats:9,sections:{base:"รับผ่าน TCAS",detail:"GPAX + วิชาสามัญ (EN, MTH, SCI)",criteria:"ผ่านขั้นต่ำและเรียงคะแนนรวม",extra:"สูตรคะแนนตามประกาศ"}}]}};function R6({title:r,seats:e,children:n,defaultOpen:s=!0}){const[o,c]=M.useState(s);return h.jsxs("div",{className:`accord ${o?"open":""}`,children:[h.jsxs("button",{className:"accord-head",onClick:()=>c(!o),children:[h.jsx("span",{className:"accord-title",children:r}),h.jsxs("span",{className:"accord-right",children:[typeof e<"u"&&h.jsxs("span",{className:"accord-badge",children:["รับ ",e," คน"]}),h.jsx("span",{className:`accord-caret ${o?"up":""}`,"aria-hidden":!0,children:"▾"})]})]}),o&&h.jsx("div",{className:"accord-body",children:n})]})}function N6({base:r,detail:e,criteria:n,extra:s}){return h.jsxs("div",{className:"section-wrap",children:[h.jsx("h4",{className:"section-title",children:"ข้อมูลพื้นฐาน"}),h.jsx("div",{className:"section-body",children:r}),h.jsx("h4",{className:"section-title",children:"รายละเอียด"}),h.jsx("div",{className:"section-body",children:e}),h.jsx("h4",{className:"section-title",children:"เงื่อนไขการรับ"}),h.jsx("div",{className:"section-body",children:n}),h.jsx("h4",{className:"section-title",children:"รายละเอียดเพิ่มเติม"}),h.jsx("div",{className:"section-body",children:s})]})}function C6({course:r,index:e}){const[n,s]=M.useState(0),o={0:"รายละเอียด",1:"รอบ 1 Portfolio",2:"รอบ 2 Quota",3:"รอบ 3 Admission",4:"รอบ 4 Direct Admission"},c=f=>{if(f===0)return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ชื่อหลักสูตร"}),h.jsx("div",{className:"v",children:r.title})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ชื่อหลักสูตรภาษาอังกฤษ"}),h.jsx("div",{className:"v",children:r.engTitle})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ประเภทหลักสูตร"}),h.jsx("div",{className:"v",children:e===0?"ภาษาไทย ปกติ":"หลักสูตรนานาชาติ"})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"วิทยาเขต"}),h.jsx("div",{className:"v",children:r.campus})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ค่าใช้จ่าย"}),h.jsx("div",{className:"v",children:r.fee})]}),h.jsx("hr",{className:"divider"}),h.jsxs("div",{className:"round-sum",children:[h.jsxs("div",{children:["รอบ 1 Portfolio: ",h.jsx("b",{children:r.seats.r1})," คน"]}),h.jsxs("div",{children:["รอบ 2 Quota: ",h.jsx("b",{children:r.seats.r2})," คน"]}),h.jsxs("div",{children:["รอบ 3 Admission: ",h.jsx("b",{children:r.seats.r3})," คน"]}),h.jsxs("div",{children:["รอบ 4 Direct Admission: ",h.jsx("b",{children:r.seats.r4})]})]})]});if(f===4)return h.jsx("p",{children:"ยังไม่เปิดรับสมัคร"});const p=A6[e]?.[f]||[];return h.jsx(h.Fragment,{children:p.map((g,y)=>h.jsx(R6,{title:g.title,seats:g.seats,defaultOpen:y===0,children:h.jsx(N6,{base:g.sections.base,detail:g.sections.detail,criteria:g.sections.criteria,extra:g.sections.extra})},y))})};return h.jsxs("section",{className:"card card-translucent",children:[h.jsxs("div",{className:"round-rail",children:[h.jsx("button",{className:`round-pill ${n===0?"is-active":""}`,onClick:()=>s(0),children:"i"}),[1,2,3,4].map(f=>h.jsxs("button",{className:`round-pill ${n===f?"is-active":""}`,onClick:()=>s(f),children:["รอบ ",f]},f))]}),h.jsxs("div",{className:"card-inner",children:[h.jsxs("header",{className:"card-head",children:[h.jsx("div",{className:"card-logo",children:h.jsx("img",{src:tn.official_logo,alt:"KKU logo",className:"card-logo-img"})}),h.jsxs("div",{className:"card-title-wrap",children:[h.jsx("h2",{className:"card-title",children:r.title}),h.jsx("div",{className:"card-dash"})]})]}),h.jsx("h3",{className:"card-sub",children:o[n]}),h.jsx("div",{className:"card-detail fade-in",children:c(n)},n)]})]})}function I6(){return h.jsxs("main",{className:"card-wrap",style:{position:"relative",paddingBottom:"170px"},children:[h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"700px",left:"10px",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[h.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"เกณฑ์การรับเข้า"}),h.jsx("div",{style:{width:"80px",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"คุณสมบัติและขั้นตอนการสมัครสำหรับผู้สนใจเข้าศึกษา"})]}),S6.map((r,e)=>h.jsx(C6,{course:r,index:e},e))]})]})}const O2=[{id:"com",title:"วิศวกรรมคอมพิวเตอร์",engTitle:"Computer Engineering",file:"/codme/course/มคอ2-COM-65.pdf",code:"COM",year:"2565"},{id:"dme",title:"วิศวกรรมสื่อดิจิทัล",engTitle:"Digital Media Engineering",file:"/codme/course/มคอ2-DME-65.pdf",code:"DME",year:"2565"}],j6=()=>{const[r,e]=M.useState(O2[0]),[n,s]=M.useState(!0),[o,c]=M.useState(!1);M.useEffect(()=>{const _=()=>{c(window.innerWidth<768)};return _(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[]),M.useEffect(()=>{s(!0)},[r]);const f=_=>{_.id!==r.id&&e(_)},p=()=>{s(!1)},g=()=>{console.error("Failed to load PDF in iframe or PDF is not displayable."),s(!1)},y=_=>`${_}#view=FitH`;return h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(500px, 80vh, 700px)",left:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ข้อมูลหลักสูตร"}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:"รายละเอียดหลักสูตรและเอกสาร มคอ.2"})]}),h.jsx("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",justifyContent:"center",flexWrap:"wrap",padding:"0 1rem"},children:O2.map(_=>h.jsx("button",{onClick:()=>f(_),style:{padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1.25rem, 3vw, 2rem)",borderRadius:"50px",border:r.id===_.id?"3px solid #dc2626":"2px solid rgba(0,0,0,0.1)",background:r.id===_.id?"#dc2626":"rgba(255,255,255,0.9)",color:r.id===_.id?"white":"#333",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:r.id===_.id?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0,0,0,0.1)",whiteSpace:"nowrap"},onMouseEnter:E=>{r.id!==_.id&&(E.target.style.transform="translateY(-2px)",E.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},onMouseLeave:E=>{r.id!==_.id&&(E.target.style.transform="translateY(0)",E.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")},children:_.title},_.id))}),h.jsxs("section",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[h.jsxs("header",{style:{display:"flex",flexDirection:o?"column":"row",alignItems:o?"center":"flex-start",textAlign:o?"center":"left",gap:"1.5rem",marginBottom:"clamp(1.5rem, 3vw, 2rem)",paddingBottom:"clamp(1rem, 2.5vw, 1.5rem)",borderBottom:"2px solid rgba(0,0,0,0.1)"},children:[h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"clamp(60px, 10vw, 80px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:h.jsx("span",{style:{fontSize:"clamp(2rem, 4vw, 2.5rem)"},children:"📚"})}),h.jsxs("div",{style:{flex:1},children:[h.jsx("h2",{style:{fontSize:"clamp(1.25rem, 3vw, 1.75rem)",fontWeight:"bold",marginBottom:"0.25rem",color:"#1a1a1a"},children:r.title}),h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"0.5rem",margin:o?"0.5rem auto":"0.5rem 0",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:r.engTitle})]})]}),h.jsx("div",{style:{background:"rgba(220, 38, 38, 0.05)",padding:"clamp(1rem, 2.5vw, 1.5rem)",borderRadius:"clamp(12px, 2vw, 16px)",marginBottom:"clamp(1rem, 2.5vw, 1.5rem)",border:"1px solid rgba(220, 38, 38, 0.1)"},children:h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"clamp(1rem, 2.5vw, 1.5rem)"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"รหัสหลักสูตร"}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:r.code})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"ปีหลักสูตร"}),h.jsxs("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:["พ.ศ. ",r.year]})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"ประเภทเอกสาร"}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:"มคอ.2"})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"คณะ"}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:"วิศวกรรมศาสตร์"})]})]})}),h.jsx("div",{style:{position:"relative",minHeight:o?"auto":"clamp(600px, 80vh, 800px)"},children:o?h.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa",borderRadius:"12px",border:"2px solid rgba(0,0,0,0.1)"},children:[h.jsx("p",{style:{color:"#666",marginBottom:"1.5rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",lineHeight:"1.6"},children:"บนอุปกรณ์มือถือ ขอแนะนำให้เปิดเอกสารในแอปพลิเคชันภายนอกเพื่อประสบการณ์ที่ดีที่สุด"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"300px",margin:"0 auto"},children:[h.jsxs("a",{href:r.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},children:[h.jsx("span",{children:"🔗"}),h.jsx("span",{children:"เปิดเอกสาร"})]}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},children:[h.jsx("span",{children:"⬇"}),h.jsx("span",{children:"ดาวน์โหลดเอกสาร"})]})]})]}):h.jsxs(h.Fragment,{children:[n&&h.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,textAlign:"center"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",border:"4px solid rgba(220, 38, 38, 0.2)",borderTop:"4px solid #dc2626",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),h.jsx("p",{style:{color:"#666",fontWeight:"500",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"กำลังโหลดเอกสาร..."})]}),h.jsx("div",{style:{borderRadius:"12px",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",background:"#f8f9fa",visibility:n?"hidden":"visible",height:n?"0":"clamp(600px, 80vh, 800px)",transition:"visibility 0s, height 0s, opacity 0.3s ease-in-out",opacity:n?0:1},children:h.jsx("iframe",{src:y(r.file),title:`Course Document for ${r.title}`,width:"100%",height:"100%",style:{border:"none",display:"block"},onLoad:p,onError:g,allow:"fullscreen",children:h.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa"},children:[h.jsx("p",{style:{color:"#666",marginBottom:"1rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)"},children:"เบราว์เซอร์ของคุณไม่รองรับการแสดง PDF โดยตรง หรือเกิดข้อผิดพลาดในการโหลด"}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)"},children:[h.jsx("span",{children:"⬇"}),h.jsx("span",{children:"ดาวน์โหลดเอกสาร PDF"})]})]})},r.id)})]})}),!o&&h.jsxs("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginTop:"clamp(1rem, 2.5vw, 1.5rem)",justifyContent:"center",flexWrap:"wrap"},children:[h.jsxs("a",{href:r.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.5)"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.4)"},children:[h.jsx("span",{children:"🔗"}),h.jsx("span",{children:"เปิดในหน้าต่างใหม่"})]}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsx("span",{children:"⬇"}),h.jsx("span",{children:"ดาวน์โหลดเอกสาร"})]})]})]}),h.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:h.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsx("strong",{style:{color:"#1a1a1a"},children:"หมายเหตุ:"})," เอกสาร มคอ.2 เป็นรายละเอียดหลักสูตรตามมาตรฐานคุณวุฒิระดับอุดมศึกษา ประกอบด้วยข้อมูลโครงสร้างหลักสูตร แผนการศึกษา และรายละเอียดรายวิชา"]})})]}),h.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Lm=6,k6=()=>{const[r,e]=M.useState(null),[n,s]=M.useState(1),[o,c]=M.useState([]),[f,p]=M.useState(!0),[g,y]=M.useState(null);M.useEffect(()=>{(async()=>{try{p(!0);const B=await Lb();c(B),y(null)}catch(B){console.error("Error loading news:",B),y("ไม่สามารถโหลดข่าวได้ กรุณาลองใหม่อีกครั้ง")}finally{p(!1)}})()},[]);const _=Math.ceil(o.length/Lm),E=(n-1)*Lm,A=E+Lm,O=o.slice(E,A),H=()=>{n<_&&(s(n+1),window.scrollTo({top:0,behavior:"smooth"}))},Y=()=>{n>1&&(s(n-1),window.scrollTo({top:0,behavior:"smooth"}))},L=$=>({กิจกรรม:"bg-blue-100 text-blue-700",ความสำเร็จ:"bg-green-100 text-green-700",ประกาศ:"bg-red-100 text-red-700",อบรม:"bg-purple-100 text-purple-700",ความร่วมมือ:"bg-yellow-100 text-yellow-700",สัมมนา:"bg-indigo-100 text-indigo-700",ทุนวิจัย:"bg-pink-100 text-pink-700",กิจกรรมอาสา:"bg-teal-100 text-teal-700",ทั่วไป:"bg-gray-100 text-gray-700"})[$]||"bg-gray-100 text-gray-700";return f?h.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx($l,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"กำลังโหลดข่าวสาร..."})]})}):g?h.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:h.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.9)",padding:"2rem",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[h.jsx("p",{style:{color:"#dc2626",fontSize:"1.1rem",marginBottom:"1rem"},children:g}),h.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",cursor:"pointer"},children:"โหลดใหม่"})]})}):r?h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"900px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[h.jsxs("button",{onClick:()=>e(null),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 2vw, 0.75rem) clamp(1rem, 3vw, 1.5rem)",marginBottom:"clamp(1rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:$=>{$.target.style.transform="translateX(-4px)",$.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:$=>{$.target.style.transform="translateX(0)",$.target.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsx(nc,{size:20}),h.jsx("span",{children:"กลับไปหน้าข่าว"})]}),h.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[r.image&&h.jsx("img",{src:r.image,alt:r.title,style:{width:"100%",height:"clamp(250px, 40vw, 400px)",objectFit:"cover"}}),h.jsxs("div",{style:{padding:"clamp(1.5rem, 4vw, 2.5rem)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"clamp(1rem, 2vw, 1.5rem)",flexWrap:"wrap"},children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${L(r.category)}`,children:r.category}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[h.jsx(yh,{size:16}),h.jsx("span",{children:r.date})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[h.jsx(_h,{size:16}),h.jsx("span",{children:r.author})]})]}),h.jsx("h1",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a",lineHeight:"1.3"},children:r.title}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",borderRadius:"2px"}}),h.jsx("p",{style:{fontSize:"clamp(1rem, 2vw, 1.125rem)",lineHeight:"1.8",color:"#333",whiteSpace:"pre-line"},children:r.fullContent})]})]})]})]}):h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 5vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ข่าวสารและกิจกรรม"}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.9rem, 2vw, 1.1rem)"},children:"ติดตามข่าวสารและกิจกรรมของคณะวิศวกรรมคอมพิวเตอร์ มหาวิทยาลัยขอนแก่น"})]}),o.length===0?h.jsx("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.85)",borderRadius:"16px"},children:h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"ยังไม่มีข่าวสารในขณะนี้"})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:O.map($=>h.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:B=>{B.currentTarget.style.transform="translateY(-8px)",B.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.15)"},onMouseLeave:B=>{B.currentTarget.style.transform="translateY(0)",B.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[$.image?h.jsx("img",{src:$.image,alt:$.title,style:{width:"100%",height:"clamp(180px, 30vw, 200px)",objectFit:"cover",transition:"transform 0.3s ease"},onMouseEnter:B=>{B.target.style.transform="scale(1.1)"},onMouseLeave:B=>{B.target.style.transform="scale(1)"}}):h.jsx("div",{style:{width:"100%",height:"clamp(180px, 30vw, 200px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem",fontWeight:"bold"},children:"ข่าว"}),h.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem"},children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L($.category)}`,children:$.category})})]}),h.jsxs("div",{style:{padding:"clamp(1rem, 3vw, 1.5rem)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"1rem",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)",color:"#666",flexWrap:"wrap"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(yh,{size:14}),h.jsx("span",{children:$.date})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(_h,{size:14}),h.jsx("span",{children:$.author})]})]}),h.jsx("h3",{style:{fontSize:"clamp(1.1rem, 2.5vw, 1.25rem)",fontWeight:"bold",marginBottom:"0.75rem",color:"#1a1a1a",lineHeight:"1.4"},children:$.title}),h.jsx("p",{style:{color:"#666",lineHeight:"1.6",marginBottom:"1rem",fontSize:"clamp(0.85rem, 1.8vw, 0.95rem)"},children:$.excerpt}),h.jsxs("button",{onClick:()=>e($),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.625rem) clamp(1rem, 2.5vw, 1.25rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"clamp(0.8rem, 1.5vw, 0.875rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseEnter:B=>{B.target.style.transform="translateX(4px)",B.target.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.4)"},onMouseLeave:B=>{B.target.style.transform="translateX(0)",B.target.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},children:[h.jsx("span",{children:"อ่านเพิ่มเติม"}),h.jsx(DS,{size:16})]})]})]},$.id))}),_>1&&h.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginTop:"clamp(2rem, 4vw, 3rem)",flexWrap:"wrap"},children:[h.jsxs("button",{onClick:Y,disabled:n===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:n===1?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:n===1?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:n===1?.5:1},children:[h.jsx(nc,{size:20}),h.jsx("span",{children:"ก่อนหน้า"})]}),h.jsx("div",{style:{display:"flex",gap:"clamp(0.25rem, 1vw, 0.5rem)",alignItems:"center"},children:Array.from({length:_},($,B)=>B+1).map($=>h.jsx("button",{onClick:()=>{s($),window.scrollTo({top:0,behavior:"smooth"})},style:{width:"clamp(32px, 8vw, 40px)",height:"clamp(32px, 8vw, 40px)",borderRadius:"8px",border:n===$?"none":"2px solid rgba(0,0,0,0.1)",background:n===$?"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)":"rgba(255, 255, 255, 0.9)",color:n===$?"white":"#333",fontWeight:"600",fontSize:"clamp(0.85rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:n===$?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:$},$))}),h.jsxs("button",{onClick:H,disabled:n===_,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:n===_?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:n===_?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:n===_?.5:1},children:[h.jsx("span",{children:"ถัดไป"}),h.jsx(LS,{size:20})]})]})]})]})]})},D6=()=>{const[r,e]=M.useState({name:"",email:"",subject:"",message:""});return h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vh, 100px)",left:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ติดต่อเรา"}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:"ติดต่อสอบถามข้อมูล หรือนัดหมายเยี่ยมชมคณะวิศวกรรมคอมพิวเตอร์"})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(oA,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"ที่อยู่"}),h.jsxs("p",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:["ภาควิชาวิศวกรรมคอมพิวเตอร์",h.jsx("br",{}),"คณะวิศวกรรมศาสตร์",h.jsx("br",{}),"มหาวิทยาลัยขอนแก่น",h.jsx("br",{}),"123 ถนนมิตรภาพ ต.ในเมือง",h.jsx("br",{}),"อ.เมือง จ.ขอนแก่น 40002"]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(fA,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"โทรศัพท์"}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"สำนักงานภาควิชา:"}),h.jsx("br",{}),"043-202-845"]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"หัวหน้าภาควิชา:"}),h.jsx("br",{}),"043-202-846"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"ฝ่ายวิชาการ:"}),h.jsx("br",{}),"043-202-847"]})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(Bm,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"อีเมล"}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)",wordBreak:"break-word"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"ทั่วไป:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"com@kku.ac.th"})]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"สอบถามหลักสูตร:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:admission.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"admission.com@kku.ac.th"})]}),h.jsxs("p",{children:[h.jsx("strong",{children:"ฝ่ายวิจัย:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:research.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"research.com@kku.ac.th"})]})]})]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(GS,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"เวลาทำการ"}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"จันทร์ - ศุกร์"}),h.jsx("br",{}),"08:30 - 16:30 น."]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"เสาร์ - อาทิตย์"}),h.jsx("br",{}),"ปิดทำการ"]}),h.jsx("p",{style:{padding:"0.75rem",background:"rgba(220, 38, 38, 0.1)",borderRadius:"8px",marginTop:"1rem",fontSize:"clamp(0.8rem, 1.8vw, 0.9rem)"},children:"💡 หยุดตามวันหยุดนักขัตฤกษ์"})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(Zv,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"ช่องทางออนไลน์"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#1877f2",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.transform="translateX(4px)",n.currentTarget.style.boxShadow="0 4px 12px rgba(24, 119, 242, 0.3)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateX(0)",n.currentTarget.style.boxShadow="none"},children:[h.jsx(QS,{size:24}),h.jsx("span",{children:"Facebook Page"})]}),h.jsxs("a",{href:"https://eng.kku.ac.th",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#dc2626",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.transform="translateX(4px)",n.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateX(0)",n.currentTarget.style.boxShadow="none"},children:[h.jsx(Zv,{size:24}),h.jsx("span",{children:"เว็บไซต์คณะ"})]})]})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[h.jsx("h2",{style:{fontSize:"clamp(1.5rem, 3.5vw, 2rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"แผนที่ตั้ง"}),h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}})]}),h.jsx("div",{style:{borderRadius:"clamp(12px, 2vw, 16px)",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",height:"clamp(300px, 50vw, 450px)",background:"#f0f0f0"},children:h.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3826.664755555556!2d102.81472!3d16.46778!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31228a1b3f0d1b1f%3A0x1b1b1b1b1b1b1b1b!2sKhon%20Kaen%20University!5e0!3m2!1sen!2sth!4v1234567890",width:"100%",height:"100%",style:{border:"none"},allowFullScreen:!0,loading:"lazy",title:"แผนที่คณะวิศวกรรมศาสตร์ มข."})})]}),h.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:h.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsx("strong",{style:{color:"#1a1a1a"},children:"หมายเหตุ:"})," หากต้องการข้อมูลเพิ่มเติมหรือนัดหมายเข้าพบ กรุณาติดต่อล่วงหน้าอย่างน้อย 3 วันทำการ เพื่อให้เราสามารถเตรียมการต้อนรับท่านได้อย่างเหมาะสม"]})})]})]})};class Nc{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const M6=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},Gt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:M6()},bg=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},O6=(r,e="https://api.emailjs.com")=>{if(!r)return;const n=bg(r);Gt.publicKey=n.publicKey,Gt.blockHeadless=n.blockHeadless,Gt.storageProvider=n.storageProvider,Gt.blockList=n.blockList,Gt.limitRate=n.limitRate,Gt.origin=n.origin||e},Ub=async(r,e,n={})=>{const s=await fetch(Gt.origin+r,{method:"POST",headers:n,body:e}),o=await s.text(),c=new Nc(s.status,o);if(s.ok)return c;throw c},zb=(r,e,n)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},V6=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Bb=r=>r.webdriver||!r.languages||r.languages.length===0,qb=()=>new Nc(451,"Unavailable For Headless Browser"),P6=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},L6=r=>!r.list?.length||!r.watchVariable,U6=(r,e)=>r instanceof FormData?r.get(e):r[e],Hb=(r,e)=>{if(L6(r))return!1;P6(r.list,r.watchVariable);const n=U6(e,r.watchVariable);return typeof n!="string"?!1:r.list.includes(n)},Fb=()=>new Nc(403,"Forbidden"),z6=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},B6=async(r,e,n)=>{const s=Number(await n.get(r)||0);return e-Date.now()+s},Gb=async(r,e,n)=>{if(!e.throttle||!n)return!1;z6(e.throttle,e.id);const s=e.id||r;return await B6(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},$b=()=>new Nc(429,"Too Many Requests"),q6=async(r,e,n,s)=>{const o=bg(s),c=o.publicKey||Gt.publicKey,f=o.blockHeadless||Gt.blockHeadless,p=o.storageProvider||Gt.storageProvider,g={...Gt.blockList,...o.blockList},y={...Gt.limitRate,...o.limitRate};return f&&Bb(navigator)?Promise.reject(qb()):(zb(c,r,e),V6(n),n&&Hb(g,n)?Promise.reject(Fb()):await Gb(location.pathname,y,p)?Promise.reject($b()):Ub("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:r,template_id:e,template_params:n}),{"Content-type":"application/json"}))},H6=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},F6=r=>typeof r=="string"?document.querySelector(r):r,G6=async(r,e,n,s)=>{const o=bg(s),c=o.publicKey||Gt.publicKey,f=o.blockHeadless||Gt.blockHeadless,p=Gt.storageProvider||o.storageProvider,g={...Gt.blockList,...o.blockList},y={...Gt.limitRate,...o.limitRate};if(f&&Bb(navigator))return Promise.reject(qb());const _=F6(n);zb(c,r,e),H6(_);const E=new FormData(_);return Hb(g,E)?Promise.reject(Fb()):await Gb(location.pathname,y,p)?Promise.reject($b()):(E.append("lib_version","4.4.1"),E.append("service_id",r),E.append("template_id",e),E.append("user_id",c),Ub("/api/v1.0/email/send-form",E))},$6={init:O6,send:q6,sendForm:G6,EmailJSResponseStatus:Nc},K6="service_0ouzgf9",Y6="template_0kghkbr",Q6="OF3aExeaYDE0LidPi",X6=["suphatitsrichat@gmail.com","suphatit.s@kkumail.com","warunee.i@kkumail.com","konggidagon.o@kkumail.com"].join(", "),W6=({rating:r,onRatingChange:e})=>{const[n,s]=M.useState(0);return h.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(o=>h.jsx("button",{type:"button",className:`w-8 h-8 focus:outline-none transition-colors duration-200 ${o<=(n||r)?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-yellow-300"}`,onClick:()=>e(o),onMouseEnter:()=>s(o),onMouseLeave:()=>s(0),children:h.jsx("svg",{className:"w-full h-full fill-current",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},o)),h.jsx("span",{className:"ml-2 text-sm text-gray-600",children:r>0?`${r}/5 ดาว`:"กรุณาให้คะแนน"})]})};function Z6(){const[r,e]=M.useState(""),[n,s]=M.useState(""),[o,c]=M.useState("general"),[f,p]=M.useState(""),[g,y]=M.useState(0),[_,E]=M.useState(!1),[A,O]=M.useState(!1),[H,Y]=M.useState(""),L=async B=>{if(B.preventDefault(),g===0){Y("กรุณาให้คะแนนก่อนส่ง");return}if(!f.trim()){Y("กรุณากรอกข้อความ");return}O(!0),Y("");try{const re=await Zl(Xn(Lt,"feedbacks"),{name:r.trim()||"ไม่ระบุชื่อ",email:n.trim()||null,feedbackType:o,message:f.trim(),rating:g,timestamp:N4(),status:"unread"});console.log("✅ Feedback saved to Firebase!");const ae={general:"💬 ทั่วไป",bug:"🐛 แจ้งปัญหา/บั๊ก",suggestion:"💡 ข้อเสนอแนะ/ปรับปรุง",compliment:"👏 คำชม"},ie={email:X6,from_name:r.trim()||"ไม่ระบุชื่อ",from_email:n.trim()||"ไม่ระบุอีเมล",feedback_type:ae[o],message:f.trim(),rating:g,feedback_id:re.id,timestamp:new Date().toLocaleString("th-TH")};await $6.send(K6,Y6,ie,Q6),console.log("✅ Email sent successfully to admins!"),E(!0)}catch(re){console.error("❌ Error:",re),re.text?Y(`ส่ง Feedback สำเร็จแต่ส่งอีเมลไม่สำเร็จ: ${re.text}`):Y("เกิดข้อผิดพลาดในการส่ง Feedback กรุณาลองอีกครั้ง")}finally{O(!1)}},$=()=>{E(!1),e(""),s(""),c("general"),p(""),y(0),Y("")};return h.jsxs("main",{className:"card-wrap",style:{position:"relative"},children:[h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10},children:[h.jsx(Ep,{title:"ส่งความคิดเห็นถึงเรา",desc:"เรารับฟังทุกข้อเสนอแนะเพื่อการพัฒนาที่ดีขึ้น"}),h.jsx("section",{className:"card card-translucent",children:h.jsx("div",{className:"card-inner",children:_?h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),h.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"ขอบคุณสำหรับความคิดเห็นของคุณ! 🎉"}),h.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"เราได้รับข้อความของคุณแล้วและจะนำไปพิจารณา"}),h.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"📧 ทีมงานได้รับการแจ้งเตือนทางอีเมลแล้ว"}),g>0&&h.jsxs("p",{className:"text-md text-gray-500",children:["คะแนนที่ให้: ",g,"/5 ดาว ⭐"]})]}),h.jsx("button",{onClick:$,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl",children:"ส่งความคิดเห็นอีกครั้ง"})]}):h.jsxs("form",{onSubmit:L,className:"space-y-6",children:[H&&h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"text-red-800 text-sm",children:H})}),h.jsx("button",{type:"button",onClick:()=>Y(""),className:"text-red-600 hover:text-red-800",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),h.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg border border-yellow-200",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"ให้คะแนนความพึงพอใจโดยรวม *"}),h.jsx(W6,{rating:g,onRatingChange:y})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"ชื่อ (ไม่บังคับ)"}),h.jsx("input",{type:"text",id:"name",value:r,onChange:B=>e(B.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"กรอกชื่อของคุณ"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"อีเมล (สำหรับติดต่อกลับ, ไม่บังคับ)"}),h.jsx("input",{type:"email",id:"email",value:n,onChange:B=>s(B.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"example@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-gray-700",children:"ประเภทความคิดเห็น"}),h.jsxs("select",{id:"feedbackType",value:o,onChange:B=>c(B.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[h.jsx("option",{value:"general",children:"💬 ทั่วไป"}),h.jsx("option",{value:"bug",children:"🐛 แจ้งปัญหา/บั๊ก"}),h.jsx("option",{value:"suggestion",children:"💡 ข้อเสนอแนะ/ปรับปรุง"}),h.jsx("option",{value:"compliment",children:"👏 คำชม"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"ข้อความของคุณ *"}),h.jsx("textarea",{id:"message",rows:"5",value:f,onChange:B=>p(B.target.value),required:!0,disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"แบ่งปันความคิดเห็นของคุณกับเรา..."})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:$,disabled:A,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"เคลียร์ฟอร์ม"}),h.jsx("button",{type:"submit",disabled:!f.trim()||g===0||A,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"กำลังส่ง..."]}):h.jsx(h.Fragment,{children:"ส่งความคิดเห็น 📤"})})]}),(!f.trim()||g===0)&&!A&&h.jsx("div",{className:"text-sm text-gray-500 text-center",children:"* กรุณากรอกข้อความและให้คะแนนก่อนส่ง"})]})})})]})]})}const J6=({sidebarOpen:r,setSidebarOpen:e,currentMenu:n,setCurrentMenu:s,setSelectedCourse:o,setShowNewsForm:c,user:f,onLogout:p})=>h.jsxs("div",{className:`${r?"w-full md:w-64":"w-0"} bg-gradient-to-b from-[#dc2626] to-[#7d1315] transition-all duration-300 overflow-hidden flex flex-col fixed md:relative h-full z-20`,children:[h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-white",children:"CODME"}),h.jsx("button",{onClick:()=>e(!1),className:"text-white hover:bg-white/10 p-1 rounded md:hidden",children:h.jsx(nc,{size:24})})]}),h.jsxs("nav",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>{s("courses"),o(null),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="courses"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(s_,{size:20}),h.jsx("span",{children:"จัดการหลักสูตร"})]}),h.jsxs("button",{onClick:()=>{s("news"),o(null),c(!1),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="news"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(o_,{size:20}),h.jsx("span",{children:"จัดการข่าวสาร"})]}),h.jsxs("button",{onClick:()=>{s("feedback"),o(null),c(!1),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="feedback"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(lo,{size:20}),h.jsx("span",{children:"จัดการ Feedback"})]})]})]}),h.jsxs("div",{className:"mt-auto p-6 border-t border-white/20",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[f?.photoURL?h.jsx("img",{src:f.photoURL,alt:f.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}):h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-bold",children:f?.displayName?.charAt(0)?.toUpperCase()||f?.email?.charAt(0)?.toUpperCase()||"A"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-white font-medium text-sm truncate",children:f?.displayName||f?.email?.split("@")[0]||"Admin User"}),h.jsx("p",{className:"text-red-200 text-xs truncate",children:f?.email||"admin@codme.com"})]})]}),h.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors text-sm",children:[h.jsx(iA,{size:16}),h.jsx("span",{children:"ออกจากระบบ"})]})]})]}),ej=()=>{const[r]=M.useState([{id:"com",name:"วิศวกรรมคอมพิวเตอร์",engName:"Computer Engineering",courseId:"COM-2565"},{id:"dme",name:"วิศวกรรมสื่อดิจิทัล",engName:"Digital Media Engineering",courseId:"DME-2565"}]),[e,n]=M.useState(null),[s,o]=M.useState({}),[c,f]=M.useState(!1),[p,g]=M.useState(0),[y,_]=M.useState(""),[E,A]=M.useState("");M.useEffect(()=>{O()},[]);const O=async()=>{try{const ae=await ho(Xn(Lt,"courseFiles")),ie={};ae.forEach(ce=>{const I=ce.data();ie[I.courseId]||(ie[I.courseId]=[]),ie[I.courseId].push({id:ce.id,...I})}),o(ie)}catch(ae){console.error("Error loading files:",ae),A("ไม่สามารถโหลดข้อมูลไฟล์ได้")}},H=async ae=>new Promise((ie,ce)=>{const I=new FileReader;I.onload=async R=>{try{const T=R.target.result,k=new Uint8Array(T),C=1024*1024;let V="";for(let me=0;me<k.length;me+=C){const K=k.slice(me,Math.min(me+C,k.length));V+=btoa(Array.from(K).reduce((W,oe)=>W+String.fromCharCode(oe),""))}V="data:application/pdf;base64,"+V;const N=ae.size,ve=V.length;ie({data:V,originalSize:N,compressedSize:ve,compressionRatio:Math.round(ve/N*100)})}catch(T){ce(T)}},I.onerror=()=>ce(new Error("ไม่สามารถอ่านไฟล์ได้")),I.readAsArrayBuffer(ae)}),Y=(ae,ie=3.5*1024*1024)=>{const ce=[],I=ie;for(let R=0;R<ae.length;R+=I)ce.push(ae.substring(R,R+I));return ce},L=async ae=>{const ie=Array.from(ae.target.files);if(ie.length===0)return;const ce=ie.filter(R=>R.type==="application/pdf");if(ce.length!==ie.length){A("กรุณาอัพโหลดเฉพาะไฟล์ PDF เท่านั้น");return}f(!0),A(""),_("");let I=0;for(const R of ce)try{_(`กำลังประมวลผลไฟล์ ${R.name} (${B(R.size)})...`);const T=await H(R);100-T.compressionRatio>0&&_(`ประมวลผล: ${B(T.originalSize)} → ${B(T.compressedSize)}`);const C=T.data.length;if(C<=3.5*1024*1024)_(`กำลังอัพโหลด ${R.name}...`),await Zl(Xn(Lt,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:R.name,fileSize:B(R.size),originalSize:R.size,compressedSize:C,uploadDate:new Date().toLocaleDateString("th-TH"),fileData:T.data,fileType:R.type,isMultiPart:!1});else{_(`กำลังแบ่งไฟล์ ${R.name} เป็นส่วนๆ...`);const V=Y(T.data),N=`${e.id}_${Date.now()}_${R.name}`;_(`แบ่งไฟล์เป็น ${V.length} ส่วน กำลังอัพโหลด...`),await Zl(Xn(Lt,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:R.name,fileSize:B(R.size),originalSize:R.size,compressedSize:C,uploadDate:new Date().toLocaleDateString("th-TH"),fileType:R.type,isMultiPart:!0,totalParts:V.length,fileId:N});for(let ve=0;ve<V.length;ve++){_(`อัพโหลดส่วนที่ ${ve+1}/${V.length} ของ ${R.name}...`),await Zl(Xn(Lt,"courseFileParts"),{fileId:N,partNumber:ve,data:V[ve]});const me=(ve+1)/V.length*(100/ce.length);g(I+me)}}I+=100/ce.length,g(I),_(`อัพโหลด ${R.name} สำเร็จ!`)}catch(T){console.error("Error uploading file:",T),A(`ไม่สามารถอัพโหลด ${R.name} ได้: ${T.message}`)}f(!1),g(0),_(""),await O(),ae.target.value=""},$=async(ae,ie,ce)=>{if(window.confirm("คุณต้องการลบไฟล์นี้หรือไม่?"))try{if(_("กำลังลบไฟล์..."),await Dh(ds(Lt,"courseFiles",ie)),ce.isMultiPart){_(`กำลังลบไฟล์ส่วนๆ (${ce.totalParts} ส่วน)...`);const I=await ho(Xn(Lt,"courseFileParts")),R=[];I.forEach(T=>{T.data().fileId===ce.fileId&&R.push(Dh(ds(Lt,"courseFileParts",T.id)))}),await Promise.all(R)}_("ลบไฟล์สำเร็จ!"),setTimeout(()=>_(""),2e3),await O()}catch(I){console.error("Error removing file:",I),A("ไม่สามารถลบไฟล์ได้")}},B=ae=>{if(ae===0)return"0 Bytes";const ie=1024,ce=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(ae)/Math.log(ie));return Math.round(ae/Math.pow(ie,I)*100)/100+" "+ce[I]},re=async ae=>{try{let ie=ae.fileData;if(ae.isMultiPart){_(`กำลังเตรียมไฟล์ (${ae.totalParts} ส่วน)...`);const I=await ho(Xn(Lt,"courseFileParts")),R=[];I.forEach(T=>{const k=T.data();k.fileId===ae.fileId&&R.push({partNumber:k.partNumber,data:k.data})}),R.sort((T,k)=>T.partNumber-k.partNumber),_("กำลังรวมไฟล์..."),ie=R.map(T=>T.data).join(""),_("เตรียมดาวน์โหลด...")}const ce=document.createElement("a");ce.href=ie,ce.download=ae.fileName,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),_("ดาวน์โหลดสำเร็จ!"),setTimeout(()=>_(""),2e3)}catch(ie){console.error("Error downloading file:",ie),A("ไม่สามารถดาวน์โหลดไฟล์ได้")}};return h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8 text-center",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"จัดการเอกสารหลักสูตร"}),h.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"อัพโหลดและจัดการเอกสาร PDF สำหรับแต่ละหลักสูตร"})]}),h.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx(a_,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsx("p",{className:"font-semibold mb-1",children:"ข้อมูลการอัพโหลด:"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"รองรับไฟล์ PDF ทุกขนาด (ไม่จำกัด)"}),h.jsx("li",{children:"ไฟล์ขนาดเล็ก (<3.5MB): อัพโหลดทันที"}),h.jsx("li",{children:"ไฟล์ขนาดใหญ่ (>3.5MB): แบ่งเก็บเป็นส่วนๆ อัตโนมัติ"}),h.jsx("li",{children:"ระบบจะแบ่งและรวมไฟล์โดยอัตโนมัติ"})]})]})]}),E&&h.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx(wp,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-red-800",children:E}),h.jsx("button",{onClick:()=>A(""),className:"text-sm text-red-600 underline mt-1",children:"ปิด"})]})]}),y&&h.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:h.jsx("p",{className:"text-green-800 text-sm",children:y})}),e?h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>n(null),className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors font-medium",children:[h.jsx(nc,{size:20,className:"mr-1"}),"กลับ"]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.name}),h.jsx("p",{className:"text-gray-600",children:e.engName})]}),h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"อัพโหลดเอกสาร PDF"}),h.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors group",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx(l_,{className:"w-12 h-12 text-gray-400 mb-3 group-hover:text-red-600 transition-colors"}),h.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:[h.jsx("span",{className:"font-semibold",children:"คลิกเพื่อเลือกไฟล์"})," หรือลากไฟล์มาวาง"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"รองรับเฉพาะไฟล์ PDF (ทุกขนาด)"})]}),h.jsx("input",{type:"file",className:"hidden",accept:".pdf,application/pdf",multiple:!0,onChange:L,disabled:c})]}),c&&h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"กำลังอัพโหลด..."}),h.jsxs("span",{className:"text-sm font-medium text-red-600",children:[Math.round(p),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-800 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]})]}),s[e.id]?.length>0&&h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:["ไฟล์ที่อัพโหลด (",s[e.id].length,")"]}),h.jsx("div",{className:"space-y-3",children:s[e.id].map(ae=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[h.jsx(WS,{className:"text-red-600 flex-shrink-0",size:24}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"font-medium text-gray-800 truncate",children:ae.fileName}),h.jsxs("p",{className:"text-sm text-gray-500",children:[ae.fileSize," • อัพโหลดเมื่อ ",ae.uploadDate,ae.isMultiPart&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Multi-part"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[h.jsx("button",{onClick:()=>re(ae),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"ดาวน์โหลด"}),h.jsx("button",{onClick:()=>$(e.id,ae.id,ae),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(vh,{size:18})})]})]},ae.id))})]})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ae=>h.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1",children:ae.name}),s[ae.id]?.length>0&&h.jsxs("span",{className:"bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full font-medium",children:[s[ae.id].length," ไฟล์"]})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-1",children:ae.engName}),h.jsxs("p",{className:"text-gray-500 text-xs",children:["รหัส: ",ae.courseId]})]}),h.jsx("button",{onClick:()=>n(ae),className:"w-full px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-800 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:"จัดการไฟล์"})]})},ae.id))})]})})},tj=async(r,e={})=>{const{maxWidth:n=1200,maxHeight:s=800,quality:o=.8,maxSizeKB:c=500}=e;return new Promise((f,p)=>{const g=new FileReader;g.onload=y=>{const _=new Image;_.onload=()=>{let E=_.width,A=_.height;if(E>n||A>s){const B=Math.min(n/E,s/A);E=Math.floor(E*B),A=Math.floor(A*B)}const O=document.createElement("canvas");O.width=E,O.height=A;const H=O.getContext("2d");H.imageSmoothingEnabled=!0,H.imageSmoothingQuality="high",H.drawImage(_,0,0,E,A);let Y=O.toDataURL("image/jpeg",o),L=o;for(;V2(Y)>c&&L>.1;)L-=.1,Y=O.toDataURL("image/jpeg",L);const $=V2(Y);console.log(`✅ Image compressed: ${Math.round(r.size/1024)}KB → ${$}KB (Quality: ${Math.round(L*100)}%)`),f(Y)},_.onerror=()=>{p(new Error("ไม่สามารถโหลดรูปภาพได้"))},_.src=y.target.result},g.onerror=()=>{p(new Error("ไม่สามารถอ่านไฟล์ได้"))},g.readAsDataURL(r)})},V2=r=>{const n=(r.split(",")[1]||r).length*3/4;return Math.round(n/1024)},nj=r=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type),rj=r=>r<1024?r+" B":r<1024*1024?(r/1024).toFixed(1)+" KB":(r/(1024*1024)).toFixed(1)+" MB",ij=({message:r,type:e,onClose:n})=>{const s={success:h.jsx(BS,{size:20}),error:h.jsx(HS,{size:20}),warning:h.jsx(wp,{size:20}),info:h.jsx(a_,{size:20})},o={success:"bg-gradient-to-r from-green-500 to-emerald-600 text-white",error:"bg-gradient-to-r from-red-500 to-rose-600 text-white",warning:"bg-gradient-to-r from-amber-500 to-orange-600 text-white",info:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white"};return M.useEffect(()=>{const c=setTimeout(n,3500);return()=>clearTimeout(c)},[n]),h.jsxs("div",{className:`${o[e]} rounded-lg shadow-2xl p-4 flex items-center space-x-3 min-w-[300px] max-w-md animate-slide-in`,children:[h.jsx("div",{className:"flex-shrink-0",children:s[e]}),h.jsx("div",{className:"flex-1 font-medium",children:r}),h.jsx("button",{onClick:n,className:"flex-shrink-0 hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-colors",children:h.jsx(xh,{size:18})})]})},sj=({toasts:r,removeToast:e})=>h.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3",children:r.map(n=>h.jsx(ij,{message:n.message,type:n.type,onClose:()=>e(n.id)},n.id))}),aj=({message:r,onConfirm:e,onCancel:n})=>h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 animate-fade-in",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:h.jsx(wp,{size:24,className:"text-red-600"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"ยืนยันการลบ"})]}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:r}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:opacity-90 transition-opacity font-medium shadow-md",children:"ใช่, ลบเลย"}),h.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"ยกเลิก"})]})]})}),oj=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(!1),[o,c]=M.useState(null),[f,p]=M.useState(null),[g,y]=M.useState(!0),[_,E]=M.useState(!1),[A,O]=M.useState(!1),[H,Y]=M.useState([]),[L,$]=M.useState(null),[B,re]=M.useState({title:"",content:"",author:"ฝ่ายประชาสัมพันธ์",category:"ทั่วไป",status:"draft"}),ae=["กิจกรรม","ความสำเร็จ","ประกาศ","อบรม","ความร่วมมือ","สัมมนา","ทุนวิจัย","กิจกรรมอาสา","ทั่วไป"],ie=(W,oe="info")=>{const Ae=Date.now()+Math.random();Y(D=>[...D,{id:Ae,message:W,type:oe}])},ce=W=>{Y(oe=>oe.filter(Ae=>Ae.id!==W))},I=W=>new Promise(oe=>{$({message:W,resolve:oe})}),R=W=>{L&&(L.resolve(W),$(null))};M.useEffect(()=>{T()},[]),M.useEffect(()=>{o?(re({title:o.title||"",content:o.content||"",author:o.author||"ฝ่ายประชาสัมพันธ์",category:o.category||"ทั่วไป",status:o.status||"draft"}),p(o.image)):k()},[o]);const T=async()=>{try{y(!0);const W=await y6();e(W)}catch(W){console.error("Error loading news:",W),ie("ไม่สามารถโหลดข่าวได้: "+W.message,"error")}finally{y(!1)}},k=()=>{re({title:"",content:"",author:"ฝ่ายประชาสัมพันธ์",category:"ทั่วไป",status:"draft"}),p(null)},C=async W=>{const oe=W.target.files[0];if(!oe)return;if(!nj(oe)){ie("กรุณาเลือกไฟล์รูปภาพ (JPG, PNG, GIF, WEBP)","error");return}const Ae=rj(oe.size);console.log("📸 Original image size:",Ae);try{O(!0);const D=await tj(oe,{maxWidth:1200,maxHeight:800,quality:.85,maxSizeKB:400});p(D);const se=Math.round(D.length*3/4/1024);console.log(`✅ Compressed to: ${se}KB`),ie("บีบอัดรูปภาพสำเร็จ!","success")}catch(D){console.error("Error compressing image:",D),ie("ไม่สามารถประมวลผลรูปภาพได้: "+D.message,"error")}finally{O(!1)}},V=()=>{p(null)},N=async W=>{if(W.preventDefault(),!B.title||!B.content){ie("กรุณากรอกข้อมูลให้ครบถ้วน","warning");return}E(!0);try{const oe={...B,image:f||null};o?(await x6(o.id,oe),ie("แก้ไขข่าวสำเร็จ!","success")):(await _6(oe),ie("เพิ่มข่าวสำเร็จ!","success")),await T(),K()}catch(oe){console.error("Error saving news:",oe),ie("เกิดข้อผิดพลาด: "+oe.message,"error")}finally{E(!1)}},ve=async W=>{if(await I("คุณแน่ใจหรือไม่ว่าต้องการลบข่าวนี้?"))try{await b6(W),ie("ลบข่าวสำเร็จ!","success"),await T()}catch(Ae){console.error("Error deleting news:",Ae),ie("ไม่สามารถลบข่าวได้: "+Ae.message,"error")}},me=W=>{c(W),s(!0)},K=()=>{s(!1),c(null),k()};return g?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx($l,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"กำลังโหลดข้อมูล..."})]})}):h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scale-in {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
        .animate-scale-in {
          animation: scale-in 0.3s ease-out;
        }
      `}),h.jsx(sj,{toasts:H,removeToast:ce}),L&&h.jsx(aj,{message:L.message,onConfirm:()=>R(!0),onCancel:()=>R(!1)}),h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8",children:"📰 จัดการข่าวสาร"}),n?h.jsxs("div",{children:[h.jsxs("button",{onClick:K,className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors group",children:[h.jsx(nc,{size:20,className:"mr-1 group-hover:-translate-x-1 transition-transform"}),h.jsx("span",{className:"font-medium",children:"กลับ"})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 max-w-4xl",children:[h.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-6",children:o?"✏️ แก้ไขข่าว":"📝 เขียนข่าวใหม่"}),h.jsxs("form",{onSubmit:N,children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🖼️ รูปภาพประกอบข่าว (ไม่บังคับ)"}),f?h.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-gray-300",children:[h.jsx("img",{src:f,alt:"Preview",className:"w-full h-64 object-cover"}),h.jsx("button",{type:"button",onClick:V,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:h.jsx(xh,{size:20})}),h.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-3 py-1 rounded-full",children:"✅ รูปพร้อมใช้งาน"})]}):h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-[#dc2626] transition-colors cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",id:"image-upload",disabled:A}),h.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${A?"opacity-50":""}`,children:A?h.jsxs(h.Fragment,{children:[h.jsx($l,{className:"animate-spin text-[#dc2626] mb-2",size:40}),h.jsx("span",{className:"text-[#dc2626] font-medium",children:"กำลังบีบอัดรูปภาพ..."}),h.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"กรุณารอสักครู่"})]}):h.jsxs(h.Fragment,{children:[h.jsx(l_,{size:40,className:"text-gray-400 mb-2"}),h.jsx("span",{className:"text-gray-600 font-medium",children:"คลิกเพื่ออัปโหลดรูปภาพ"}),h.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"รองรับไฟล์ JPG, PNG, GIF, WEBP"}),h.jsx("span",{className:"text-green-600 text-sm mt-2 font-medium",children:"✨ ระบบจะบีบอัดรูปอัตโนมัติให้ ~400KB"})]})})]}),h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["💡 ",h.jsx("strong",{children:"ระบบจะบีบอัดรูปอัตโนมัติ"})," เพื่อให้โหลดเร็วและประหยัดพื้นที่"]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["📌 หัวข้อข่าว ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",value:B.title,onChange:W=>re({...B,title:W.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",placeholder:"ใส่หัวข้อข่าว..."})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["📄 เนื้อหาข่าว ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{value:B.content,onChange:W=>re({...B,content:W.target.value}),required:!0,rows:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent resize-none",placeholder:"เขียนเนื้อหาข่าว..."}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ℹ️ Excerpt (ข้อความย่อ) จะถูกสร้างอัตโนมัติจาก 150 ตัวอักษรแรก"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"✍️ ผู้เขียน"}),h.jsx("input",{type:"text",value:B.author,onChange:W=>re({...B,author:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🏷️ หมวดหมู่"}),h.jsx("select",{value:B.category,onChange:W=>re({...B,category:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:ae.map(W=>h.jsx("option",{value:W,children:W},W))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🔖 สถานะ"}),h.jsxs("select",{value:B.status,onChange:W=>re({...B,status:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:[h.jsx("option",{value:"draft",children:"📝 ฉบับร่าง"}),h.jsx("option",{value:"published",children:"✅ เผยแพร่"})]})]})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{type:"submit",disabled:_,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:_?h.jsxs(h.Fragment,{children:[h.jsx($l,{className:"animate-spin",size:20}),h.jsx("span",{children:"กำลังบันทึก..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(vA,{size:20}),h.jsx("span",{children:o?"บันทึกการแก้ไข":"เผยแพร่ข่าว"})]})}),h.jsx("button",{type:"button",onClick:K,disabled:_,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:"ยกเลิก"})]})]})]})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("p",{className:"text-gray-600",children:["จำนวนข่าวทั้งหมด: ",h.jsx("span",{className:"font-bold text-[#dc2626]",children:r.length})," รายการ"]}),h.jsxs("button",{onClick:()=>{c(null),s(!0)},className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity shadow-md font-medium",children:[h.jsx(Jv,{size:20}),h.jsx("span",{children:"เขียนข่าวใหม่"})]})]}),r.length===0?h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[h.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"ยังไม่มีข่าวสารในระบบ"}),h.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-[#dc2626] text-white rounded-lg hover:opacity-90 transition-opacity",children:[h.jsx(Jv,{size:20}),h.jsx("span",{children:"สร้างข่าวแรก"})]})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(W=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 overflow-hidden hover:-translate-y-1",children:[W.image&&h.jsx("div",{className:"w-full h-48 overflow-hidden bg-gray-100",children:h.jsx("img",{src:W.image,alt:W.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1 pr-2 line-clamp-2",children:W.title}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium whitespace-nowrap ${W.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:W.status==="published"?"✅ เผยแพร่":"📝 ฉบับร่าง"})]}),h.jsx("div",{className:"flex items-center space-x-2 mb-3",children:h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:W.category})}),h.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:W.excerpt||W.content}),h.jsxs("p",{className:"text-gray-400 text-xs mb-4",children:["📅 ",W.date," • ✍️ ",W.author]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>me(W),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[h.jsx(xA,{size:16}),h.jsx("span",{children:"แก้ไข"})]}),h.jsxs("button",{onClick:()=>ve(W.id),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[h.jsx(vh,{size:16}),h.jsx("span",{children:"ลบ"})]})]})]})]},W.id))})]})]})})]})},lj=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(!0),[o,c]=M.useState(null),[f,p]=M.useState("all"),[g,y]=M.useState("all"),[_,E]=M.useState({total:0,avgRating:0,byType:{},byRating:{}}),[A,O]=M.useState(""),[H,Y]=M.useState(!1);M.useEffect(()=>{L()},[]);const L=async()=>{try{s(!0),O("");const T=ag(Xn(Lt,"feedbacks"),cg("timestamp","desc")),C=(await ho(T)).docs.map(V=>({id:V.id,...V.data(),timestamp:V.data().timestamp?.toDate()||new Date}));e(C),B(C)}catch(T){console.error("Error loading feedbacks:",T),O("ไม่สามารถโหลดข้อมูล Feedback ได้ กรุณาลองอีกครั้ง")}finally{s(!1)}},$=async()=>{Y(!0),await L(),Y(!1)},B=T=>{const k=T.length,C=k>0?T.reduce((ve,me)=>ve+(me.rating||0),0)/k:0,V=T.reduce((ve,me)=>(ve[me.feedbackType]=(ve[me.feedbackType]||0)+1,ve),{}),N=T.reduce((ve,me)=>(ve[me.rating]=(ve[me.rating]||0)+1,ve),{});E({total:k,avgRating:C,byType:V,byRating:N})},re=async T=>{if(window.confirm("คุณต้องการลบ Feedback นี้หรือไม่?"))try{O(""),await Dh(ds(Lt,"feedbacks",T));const k=r.filter(C=>C.id!==T);e(k),B(k),c(null)}catch(k){console.error("Error deleting feedback:",k),O("ไม่สามารถลบ Feedback ได้ กรุณาลองอีกครั้ง")}},ae=async T=>{try{await Jx(ds(Lt,"feedbacks",T),{status:"read"});const k=r.map(C=>C.id===T?{...C,status:"read"}:C);e(k)}catch(k){console.error("Error updating feedback:",k)}},ie=T=>({general:"💬",bug:"🐛",suggestion:"💡",compliment:"👏"})[T]||"💬",ce=T=>({general:"ทั่วไป",bug:"แจ้งปัญหา",suggestion:"ข้อเสนอแนะ",compliment:"คำชม"})[T]||"ทั่วไป",I=r.filter(T=>!(f!=="all"&&T.feedbackType!==f||g!=="all"&&T.rating!==parseInt(g))),R=({rating:T})=>h.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(k=>h.jsx(e1,{size:16,className:k<=T?"fill-yellow-400 text-yellow-400":"text-gray-300"},k)),h.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[T,"/5"]})]});return n?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"กำลังโหลดข้อมูล..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(lo,{className:"text-red-600",size:32}),h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"จัดการ Feedback"})]}),h.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mb-4"}),h.jsx("p",{className:"text-gray-600",children:"ดูและจัดการความคิดเห็นจากผู้ใช้งาน"})]}),h.jsxs("button",{onClick:$,disabled:H,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 disabled:opacity-50",children:[h.jsx(gA,{size:18,className:H?"animate-spin":""}),"รีเฟรช"]})]})}),A&&h.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"text-red-800 text-sm",children:A})}),h.jsx("button",{onClick:()=>O(""),className:"text-red-600 hover:text-red-800",children:h.jsx(xh,{size:18})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Feedback ทั้งหมด"}),h.jsx("p",{className:"text-3xl font-bold text-gray-800",children:_.total})]}),h.jsx(lo,{className:"text-blue-600",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"คะแนนเฉลี่ย"}),h.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:_.avgRating.toFixed(1)})]}),h.jsx(e1,{className:"text-yellow-400 fill-yellow-400",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"คำชม"}),h.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.byType.compliment||0})]}),h.jsx(TA,{className:"text-green-600",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"แจ้งปัญหา"}),h.jsx("p",{className:"text-3xl font-bold text-red-600",children:_.byType.bug||0})]}),h.jsx("span",{className:"text-4xl",children:"🐛"})]})})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsx(JS,{className:"text-gray-600",size:20}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-gray-600",children:"ประเภท:"}),h.jsxs("select",{value:f,onChange:T=>p(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[h.jsx("option",{value:"all",children:"ทั้งหมด"}),h.jsx("option",{value:"general",children:"ทั่วไป"}),h.jsx("option",{value:"bug",children:"แจ้งปัญหา"}),h.jsx("option",{value:"suggestion",children:"ข้อเสนอแนะ"}),h.jsx("option",{value:"compliment",children:"คำชม"})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-gray-600",children:"คะแนน:"}),h.jsxs("select",{value:g,onChange:T=>y(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[h.jsx("option",{value:"all",children:"ทั้งหมด"}),h.jsx("option",{value:"5",children:"5 ดาว"}),h.jsx("option",{value:"4",children:"4 ดาว"}),h.jsx("option",{value:"3",children:"3 ดาว"}),h.jsx("option",{value:"2",children:"2 ดาว"}),h.jsx("option",{value:"1",children:"1 ดาว"})]})]})]})}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Feedback ทั้งหมด (",I.length,")"]})}),I.length===0?h.jsxs("div",{className:"p-12 text-center",children:[h.jsx(lo,{className:"mx-auto mb-4 text-gray-400",size:48}),h.jsx("p",{className:"text-gray-600",children:r.length===0?"ยังไม่มี Feedback":"ไม่พบ Feedback ที่ตรงกับเงื่อนไขการค้นหา"})]}):h.jsx("div",{className:"divide-y divide-gray-200",children:I.map(T=>h.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${T.status==="unread"?"bg-blue-50":""}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[h.jsx("span",{className:"text-2xl",children:ie(T.feedbackType)}),h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:ce(T.feedbackType)}),T.status==="unread"&&h.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"ใหม่"}),h.jsx(R,{rating:T.rating})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-600 flex-wrap",children:[T.name&&T.name!=="ไม่ระบุชื่อ"&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(_h,{size:14}),h.jsx("span",{children:T.name})]}),T.email&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Bm,{size:14}),h.jsx("span",{children:T.email})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(yh,{size:14}),h.jsx("span",{children:T.timestamp.toLocaleDateString("th-TH")})]})]}),h.jsx("p",{className:"text-gray-700 line-clamp-2",children:T.message})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{c(T),T.status==="unread"&&ae(T.id)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"ดูรายละเอียด",children:h.jsx(KS,{size:18})}),h.jsx("button",{onClick:()=>re(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"ลบ",children:h.jsx(vh,{size:18})})]})]})},T.id))})]})]}),o&&h.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-white bg-opacity-30 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"รายละเอียด Feedback"}),h.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(xh,{size:20})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-3xl",children:ie(o.feedbackType)}),h.jsx("div",{children:h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full font-medium",children:ce(o.feedbackType)})})]}),h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"คะแนนความพึงพอใจ"}),h.jsx(R,{rating:o.rating})]}),o.name&&o.name!=="ไม่ระบุชื่อ"&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(_h,{size:16}),"ชื่อผู้ส่ง"]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.name})]}),o.email&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(Bm,{size:16}),"อีเมล"]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.email})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(yh,{size:16}),"วันที่ส่ง"]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.timestamp.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center gap-2",children:[h.jsx(lo,{size:16}),"ข้อความ"]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:h.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.message})})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsxs("button",{onClick:()=>re(o.id),className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[h.jsx(vh,{size:18}),"ลบ Feedback"]}),h.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"ปิด"})]})]})]})})]})};pp.setCustomParameters({prompt:"select_account"});const cj=({isOpen:r,onClose:e,onConfirm:n,userName:s})=>r?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full animate-[fadeIn_0.2s_ease-out]",children:h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"bg-red-100 rounded-full p-3",children:h.jsx(AA,{className:"text-[#dc2626]",size:32})})}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"ออกจากระบบ"}),h.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["คุณแน่ใจหรือไม่ว่าต้องการออกจากระบบ?",s&&h.jsxs("span",{className:"block mt-2 font-medium text-gray-800",children:["(",s,")"]})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"ยกเลิก"}),h.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#dc2626] to-[#b91c1c] text-white rounded-lg font-semibold hover:from-[#b91c1c] hover:to-[#991b1b] transition-all shadow-lg",children:"ออกจากระบบ"})]})]})})}):null,uj=({onLoginSuccess:r})=>{const[e,n]=M.useState(!0),[s,o]=M.useState(!0),[c,f]=M.useState(null),p=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;M.useEffect(()=>{(async()=>{console.log("🔍 Checking redirect result..."),console.log("🌐 Current URL:",window.location.href);try{const _=await bI(ec);console.log("📊 Redirect result:",_),_&&_.user?(console.log("✅ Login successful via redirect!"),console.log("👤 User:",{uid:_.user.uid,email:_.user.email,name:_.user.displayName}),r(_.user)):console.log("ℹ️ No redirect result (normal page load)")}catch(_){console.error("❌ Redirect error:",_),console.error("Code:",_.code),console.error("Message:",_.message),f(`เกิดข้อผิดพลาด: ${_.message}`)}finally{n(!1),o(!1),console.log("✓ Check completed")}})()},[r]);const g=async()=>{if(!e){n(!0),f(null),console.log("🚀 Login button clicked"),console.log("📱 Device:",p()?"Mobile":"Desktop"),console.log("🌐 Origin:",window.location.origin);try{console.log("💻 Attempting popup login...");const y=await fI(ec,pp);console.log("✅ Popup login successful!"),console.log("👤 User:",{uid:y.user.uid,email:y.user.email,name:y.user.displayName}),r(y.user)}catch(y){if(console.error("❌ Popup error:",y),console.error("Code:",y.code),y.code==="auth/popup-blocked"&&p()){console.log("🔄 Popup blocked, trying redirect...");try{await _I(ec,pp),console.log("✓ Redirect initiated")}catch(_){console.error("❌ Redirect error:",_),f(`ไม่สามารถเข้าสู่ระบบได้: ${_.message}`),n(!1)}}else y.code==="auth/unauthorized-domain"?(console.error("🚫 Domain not authorized!"),f("⚠️ กรุณาเพิ่ม domain นี้ใน Firebase Console → Authentication → Authorized domains: "+window.location.hostname),n(!1)):(y.code!=="auth/popup-closed-by-user"&&y.code!=="auth/cancelled-popup-request"&&f(`เกิดข้อผิดพลาด: ${y.message}`),n(!1))}}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-block bg-gradient-to-r from-[#dc2626] to-[#7d1315] px-6 py-4 rounded-xl mb-4",children:h.jsx("h1",{className:"text-2xl font-bold text-white",children:"CODME"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),h.jsx("p",{className:"text-gray-600",children:"เข้าสู่ระบบเพื่อจัดการหลักสูตร"})]}),c&&h.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600 break-words",children:c})}),s&&h.jsxs("div",{className:"mb-4 text-center text-sm text-gray-600",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-[#dc2626] mx-auto mb-2"}),"กำลังตรวจสอบการเข้าสู่ระบบ..."]}),h.jsx("button",{onClick:g,disabled:e||s,className:"w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:e&&!s?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-[#dc2626]"}),h.jsx("span",{children:"กำลังเข้าสู่ระบบ..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h.jsx("span",{children:"เข้าสู่ระบบด้วย Google"})]})}),h.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[h.jsx("p",{children:"เฉพาะผู้ดูแลระบบเท่านั้น"}),h.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Domain: ",window.location.hostname]})]})]})})},hj=()=>{const[r,e]=M.useState(null),[n,s]=M.useState(!0),[o,c]=M.useState(!1),[f,p]=M.useState("courses"),[g,y]=M.useState(null),[_,E]=M.useState({course1:[],course2:[]}),[A,O]=M.useState(!0),[H,Y]=M.useState([{id:1,title:"ประกาศเปิดรับสมัครหลักสูตรใหม่",date:"2025-10-25",content:"เรามีหลักสูตรใหม่เปิดให้บริการแล้ว...",status:"published"},{id:2,title:"อัพเดทระบบใหม่",date:"2025-10-20",content:"ระบบได้รับการปรับปรุงให้ดีขึ้น...",status:"draft"}]),[L,$]=M.useState(null),[B,re]=M.useState(!1);M.useEffect(()=>{const me=$C(ec,K=>{console.log("🔐 Auth state changed:",K?"✅ Logged in":"❌ Not logged in"),K&&console.log("👤 Current user:",{uid:K.uid,email:K.email,name:K.displayName}),e(K),s(!1)});return()=>me()},[]);const ae=[{id:"course1",name:"หลักสูตรการเขียนโปรแกรม Python",courseId:"1"},{id:"course2",name:"หลักสูตรการตลาดดิจิทัลขั้นสูง",courseId:"2"}],ie=me=>{const W=Array.from(me.target.files).filter(oe=>oe.type==="application/pdf");W.length>0&&E(oe=>({...oe,[g.id]:[...oe[g.id]||[],...W.map(Ae=>({name:Ae.name,size:(Ae.size/1024).toFixed(2)+" KB",uploadDate:new Date().toLocaleDateString("th-TH")}))]}))},ce=(me,K)=>{E(W=>({...W,[me]:W[me].filter((oe,Ae)=>Ae!==K)}))},I=me=>{me.preventDefault();const K=new FormData(me.target),W={id:L?L.id:Date.now(),title:K.get("title"),content:K.get("content"),date:new Date().toISOString().split("T")[0],status:K.get("status")};Y(L?H.map(oe=>oe.id===L.id?W:oe):[W,...H]),re(!1),$(null)},R=me=>{window.confirm("คุณต้องการลบข่าวนี้ใช่หรือไม่?")&&Y(H.filter(K=>K.id!==me))},T=me=>{$(me),re(!0)},k=()=>{c(!0)},C=async()=>{try{await KC(ec),console.log("✅ Logout successful"),e(null),c(!1)}catch(me){console.error("❌ Logout error:",me),alert("เกิดข้อผิดพลาดในการออกจากระบบ")}},V=()=>{c(!1)},N=()=>f==="news"?{icon:h.jsx(o_,{className:"mr-3 text-[#dc2626]",size:28}),title:B?L?"แก้ไขข่าวสาร":"เขียนข่าวสารใหม่":"จัดการข่าวสาร"}:f==="feedback"?{icon:h.jsx(lo,{className:"mr-3 text-[#dc2626]",size:28}),title:"จัดการ Feedback"}:{icon:h.jsx(s_,{className:"mr-3 text-[#dc2626]",size:28}),title:g?g.name:"จัดการหลักสูตรทั้งหมด"};if(n)return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#dc2626] mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"กำลังตรวจสอบสิทธิ์..."})]})});if(!r)return h.jsx(uj,{onLoginSuccess:e});const ve=N();return h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsx(cj,{isOpen:o,onClose:V,onConfirm:C,userName:r?.displayName||r?.email?.split("@")[0]}),h.jsx(J6,{sidebarOpen:A,setSidebarOpen:O,currentMenu:f,setCurrentMenu:p,setSelectedCourse:y,setShowNewsForm:re,user:r,onLogout:k}),h.jsxs("div",{className:"flex-1 overflow-auto",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between sticky top-0 z-10",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[!A&&h.jsx("button",{onClick:()=>O(!0),className:"p-2 hover:bg-gray-100 rounded-lg",children:h.jsx(cA,{size:24})}),h.jsx("div",{children:h.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[ve.icon,ve.title]})})]}),h.jsx("div",{className:"md:hidden flex items-center space-x-2",children:r?.photoURL?h.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-8 h-8 rounded-full"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-600 text-xs font-bold",children:r?.displayName?.charAt(0)?.toUpperCase()||"A"})})]}),h.jsx("div",{className:"p-8",children:f==="courses"?h.jsx(ej,{courses:ae,selectedCourse:g,setSelectedCourse:y,uploadedFiles:_,handleFileUpload:ie,removeFile:ce}):f==="news"?h.jsx(oj,{news:H,showNewsForm:B,setShowNewsForm:re,editingNews:L,setEditingNews:$,handleNewsSubmit:I,handleDeleteNews:R,handleEditNews:T}):h.jsx(lj,{})})]})]})},dj=()=>{const{pathname:r}=ui();return M.useEffect(()=>{window.scrollTo(0,0)},[r]),null},Js=({children:r})=>h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx(uS,{}),r,h.jsx(xS,{}),h.jsx(SS,{})]}),fj=({children:r})=>h.jsx("div",{className:"min-h-screen bg-white",children:r}),mj=()=>h.jsxs("div",{className:"overflow-x-hidden",children:[h.jsx(AS,{}),h.jsx(T6,{}),h.jsx(w6,{})]}),pj=()=>h.jsx("div",{className:"min-h-screen p-4",children:h.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"404"}),h.jsx("p",{className:"text-xl text-gray-600",children:"ไม่พบหน้าที่คุณค้นหา"})]})})}),gj=()=>h.jsxs(FT,{children:[h.jsx(dj,{}),h.jsxs(bT,{children:[h.jsx(Xr,{path:"/",element:h.jsx(Js,{children:h.jsx(mj,{})})}),h.jsx(Xr,{path:"/admission",element:h.jsx(Js,{children:h.jsx(I6,{})})}),h.jsx(Xr,{path:"/course",element:h.jsx(Js,{children:h.jsx(j6,{})})}),h.jsx(Xr,{path:"/activity",element:h.jsx(Js,{children:h.jsx(k6,{})})}),h.jsx(Xr,{path:"/contact",element:h.jsx(Js,{children:h.jsx(D6,{})})}),h.jsx(Xr,{path:"/feedback",element:h.jsx(Js,{children:h.jsx(Z6,{})})}),h.jsx(Xr,{path:"/AdminDashboard",element:h.jsx(fj,{children:h.jsx(hj,{})})}),h.jsx(Xr,{path:"*",element:h.jsx(Js,{children:h.jsx(pj,{})})})]})]});IE.createRoot(document.getElementById("root")).render(h.jsx(Ji.StrictMode,{children:h.jsx(gj,{})}));
