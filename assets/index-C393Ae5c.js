(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function Z1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gf={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function J_(){if(fy)return uo;fy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:c}}return uo.Fragment=e,uo.jsx=r,uo.jsxs=r,uo}var my;function eb(){return my||(my=1,gf.exports=J_()),gf.exports}var d=eb(),yf={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function tb(){if(py)return je;py=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Q={};function z(V,re,de){this.props=V,this.context=re,this.refs=Q,this.updater=de||O}z.prototype.isReactComponent={},z.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=z.prototype;function q(V,re,de){this.props=V,this.context=re,this.refs=Q,this.updater=de||O}var se=q.prototype=new $;se.constructor=q,F(se,z.prototype),se.isPureReactComponent=!0;var ae=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function j(V,re,de,ce,pe,Me){return de=Me.ref,{$$typeof:i,type:V,key:re,ref:de!==void 0?de:null,props:Me}}function A(V,re){return j(V.type,re,void 0,void 0,void 0,V.props)}function E(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function N(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return re[de]})}var I=/\/+/g;function M(V,re){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):re.toString(36)}function C(){}function ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ee(V,re,de,ce,pe){var Me=typeof V;(Me==="undefined"||Me==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(Me){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case i:case e:_e=!0;break;case x:return _e=V._init,Ee(_e(V._payload),re,de,ce,pe)}}if(_e)return pe=pe(V),_e=ce===""?"."+M(V,0):ce,ae(pe)?(de="",_e!=null&&(de=_e.replace(I,"$&/")+"/"),Ee(pe,re,de,"",function(an){return an})):pe!=null&&(E(pe)&&(pe=A(pe,de+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(I,"$&/")+"/")+_e)),re.push(pe)),1;_e=0;var St=ce===""?".":ce+":";if(ae(V))for(var Fe=0;Fe<V.length;Fe++)ce=V[Fe],Me=St+M(ce,Fe),_e+=Ee(ce,re,de,Me,pe);else if(Fe=R(V),typeof Fe=="function")for(V=Fe.call(V),Fe=0;!(ce=V.next()).done;)ce=ce.value,Me=St+M(ce,Fe++),_e+=Ee(ce,re,de,Me,pe);else if(Me==="object"){if(typeof V.then=="function")return Ee(ve(V),re,de,ce,pe);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return _e}function X(V,re,de){if(V==null)return V;var ce=[],pe=0;return Ee(V,ce,"","",function(Me){return re.call(de,Me,pe++)}),ce}function Z(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ce(){}return je.Children={map:X,forEach:function(V,re,de){X(V,function(){re.apply(this,arguments)},de)},count:function(V){var re=0;return X(V,function(){re++}),re},toArray:function(V){return X(V,function(re){return re})||[]},only:function(V){if(!E(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},je.Component=z,je.Fragment=r,je.Profiler=o,je.PureComponent=q,je.StrictMode=s,je.Suspense=y,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,je.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ie.H.useMemoCache(V)}},je.cache=function(V){return function(){return V.apply(null,arguments)}},je.cloneElement=function(V,re,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=F({},V.props),pe=V.key,Me=void 0;if(re!=null)for(_e in re.ref!==void 0&&(Me=void 0),re.key!==void 0&&(pe=""+re.key),re)!le.call(re,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&re.ref===void 0||(ce[_e]=re[_e]);var _e=arguments.length-2;if(_e===1)ce.children=de;else if(1<_e){for(var St=Array(_e),Fe=0;Fe<_e;Fe++)St[Fe]=arguments[Fe+2];ce.children=St}return j(V.type,pe,void 0,void 0,Me,ce)},je.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},je.createElement=function(V,re,de){var ce,pe={},Me=null;if(re!=null)for(ce in re.key!==void 0&&(Me=""+re.key),re)le.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(pe[ce]=re[ce]);var _e=arguments.length-2;if(_e===1)pe.children=de;else if(1<_e){for(var St=Array(_e),Fe=0;Fe<_e;Fe++)St[Fe]=arguments[Fe+2];pe.children=St}if(V&&V.defaultProps)for(ce in _e=V.defaultProps,_e)pe[ce]===void 0&&(pe[ce]=_e[ce]);return j(V,Me,void 0,void 0,null,pe)},je.createRef=function(){return{current:null}},je.forwardRef=function(V){return{$$typeof:p,render:V}},je.isValidElement=E,je.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:Z}},je.memo=function(V,re){return{$$typeof:v,type:V,compare:re===void 0?null:re}},je.startTransition=function(V){var re=ie.T,de={};ie.T=de;try{var ce=V(),pe=ie.S;pe!==null&&pe(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ce,ue)}catch(Me){ue(Me)}finally{ie.T=re}},je.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},je.use=function(V){return ie.H.use(V)},je.useActionState=function(V,re,de){return ie.H.useActionState(V,re,de)},je.useCallback=function(V,re){return ie.H.useCallback(V,re)},je.useContext=function(V){return ie.H.useContext(V)},je.useDebugValue=function(){},je.useDeferredValue=function(V,re){return ie.H.useDeferredValue(V,re)},je.useEffect=function(V,re,de){var ce=ie.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(V,re)},je.useId=function(){return ie.H.useId()},je.useImperativeHandle=function(V,re,de){return ie.H.useImperativeHandle(V,re,de)},je.useInsertionEffect=function(V,re){return ie.H.useInsertionEffect(V,re)},je.useLayoutEffect=function(V,re){return ie.H.useLayoutEffect(V,re)},je.useMemo=function(V,re){return ie.H.useMemo(V,re)},je.useOptimistic=function(V,re){return ie.H.useOptimistic(V,re)},je.useReducer=function(V,re,de){return ie.H.useReducer(V,re,de)},je.useRef=function(V){return ie.H.useRef(V)},je.useState=function(V){return ie.H.useState(V)},je.useSyncExternalStore=function(V,re,de){return ie.H.useSyncExternalStore(V,re,de)},je.useTransition=function(){return ie.H.useTransition()},je.version="19.1.1",je}var gy;function lm(){return gy||(gy=1,yf.exports=tb()),yf.exports}var L=lm();const Pi=Z1(L);var vf={exports:{}},ho={},xf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function nb(){return yy||(yy=1,(function(i){function e(X,Z){var ue=X.length;X.push(Z);e:for(;0<ue;){var Ce=ue-1>>>1,V=X[Ce];if(0<o(V,Z))X[Ce]=Z,X[ue]=V,ue=Ce;else break e}}function r(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var Z=X[0],ue=X.pop();if(ue!==Z){X[0]=ue;e:for(var Ce=0,V=X.length,re=V>>>1;Ce<re;){var de=2*(Ce+1)-1,ce=X[de],pe=de+1,Me=X[pe];if(0>o(ce,ue))pe<V&&0>o(Me,ce)?(X[Ce]=Me,X[pe]=ue,Ce=pe):(X[Ce]=ce,X[de]=ue,Ce=de);else if(pe<V&&0>o(Me,ue))X[Ce]=Me,X[pe]=ue,Ce=pe;else break e}}return Z}function o(X,Z){var ue=X.sortIndex-Z.sortIndex;return ue!==0?ue:X.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var y=[],v=[],x=1,T=null,R=3,O=!1,F=!1,Q=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var Z=r(v);Z!==null;){if(Z.callback===null)s(v);else if(Z.startTime<=X)s(v),Z.sortIndex=Z.expirationTime,e(y,Z);else break;Z=r(v)}}function ie(X){if(Q=!1,ae(X),!F)if(r(y)!==null)F=!0,le||(le=!0,M());else{var Z=r(v);Z!==null&&Ee(ie,Z.startTime-X)}}var le=!1,j=-1,A=5,E=-1;function N(){return z?!0:!(i.unstable_now()-E<A)}function I(){if(z=!1,le){var X=i.unstable_now();E=X;var Z=!0;try{e:{F=!1,Q&&(Q=!1,q(j),j=-1),O=!0;var ue=R;try{t:{for(ae(X),T=r(y);T!==null&&!(T.expirationTime>X&&N());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,R=T.priorityLevel;var V=Ce(T.expirationTime<=X);if(X=i.unstable_now(),typeof V=="function"){T.callback=V,ae(X),Z=!0;break t}T===r(y)&&s(y),ae(X)}else s(y);T=r(y)}if(T!==null)Z=!0;else{var re=r(v);re!==null&&Ee(ie,re.startTime-X),Z=!1}}break e}finally{T=null,R=ue,O=!1}Z=void 0}}finally{Z?M():le=!1}}}var M;if(typeof se=="function")M=function(){se(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ve=C.port2;C.port1.onmessage=I,M=function(){ve.postMessage(null)}}else M=function(){$(I,0)};function Ee(X,Z){j=$(function(){X(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(X){switch(R){case 1:case 2:case 3:var Z=3;break;default:Z=R}var ue=R;R=Z;try{return X()}finally{R=ue}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=R;R=X;try{return Z()}finally{R=ue}},i.unstable_scheduleCallback=function(X,Z,ue){var Ce=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ue+V,X={id:x++,callback:Z,priorityLevel:X,startTime:ue,expirationTime:V,sortIndex:-1},ue>Ce?(X.sortIndex=ue,e(v,X),r(y)===null&&X===r(v)&&(Q?(q(j),j=-1):Q=!0,Ee(ie,ue-Ce))):(X.sortIndex=V,e(y,X),F||O||(F=!0,le||(le=!0,M()))),X},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(X){var Z=R;return function(){var ue=R;R=Z;try{return X.apply(this,arguments)}finally{R=ue}}}})(_f)),_f}var vy;function rb(){return vy||(vy=1,xf.exports=nb()),xf.exports}var bf={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function ib(){if(xy)return Kt;xy=1;var i=lm();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:v,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(y,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(y,v,null,x)},Kt.flushSync=function(y){var v=f.T,x=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=v,s.p=x,s.d.f()}},Kt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},Kt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Kt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var x=v.as,T=p(x,v.crossOrigin),R=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:O}):x==="script"&&s.d.X(y,{crossOrigin:T,integrity:R,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Kt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=p(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},Kt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,T=p(x,v.crossOrigin);s.d.L(y,x,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Kt.preloadModule=function(y,v){if(typeof y=="string")if(v){var x=p(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},Kt.requestFormReset=function(y){s.d.r(y)},Kt.unstable_batchedUpdates=function(y,v){return y(v)},Kt.useFormState=function(y,v,x){return f.H.useFormState(y,v,x)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var _y;function sb(){if(_y)return bf.exports;_y=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bf.exports=ib(),bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function ab(){if(by)return ho;by=1;var i=rb(),e=lm(),r=sb();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return p(h),t;if(m===l)return p(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var b=!1,w=h.child;w;){if(w===a){b=!0,a=h,l=m;break}if(w===l){b=!0,l=h,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,l=h;break}if(w===l){b=!0,l=m,a=h;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case z:return"Profiler";case Q:return"StrictMode";case ie:return"Suspense";case le:return"SuspenseList";case E:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case se:return(t.displayName||"Context")+".Provider";case q:return(t._context.displayName||"Context")+".Consumer";case ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var Ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],V=-1;function re(t){return{current:t}}function de(t){0>V||(t.current=Ce[V],Ce[V]=null,V--)}function ce(t,n){V++,Ce[V]=t.current,t.current=n}var pe=re(null),Me=re(null),_e=re(null),St=re(null);function Fe(t,n){switch(ce(_e,n),ce(Me,t),ce(pe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?B0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=B0(n),t=q0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(pe),ce(pe,t)}function an(){de(pe),de(Me),de(_e)}function mn(t){t.memoizedState!==null&&ce(St,t);var n=pe.current,a=q0(n,t.type);n!==a&&(ce(Me,t),ce(pe,a))}function Er(t){Me.current===t&&(de(pe),de(Me)),St.current===t&&(de(St),so._currentValue=ue)}var Tn=Object.prototype.hasOwnProperty,Ae=i.unstable_scheduleCallback,ln=i.unstable_cancelCallback,il=i.unstable_shouldYield,sl=i.unstable_requestPaint,on=i.unstable_now,Yo=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,It=i.unstable_UserBlockingPriority,Tr=i.unstable_NormalPriority,yh=i.unstable_LowPriority,al=i.unstable_IdlePriority,vh=i.log,es=i.unstable_setDisableYieldValue,ti=null,Yt=null;function Sn(t){if(typeof vh=="function"&&es(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ti,t)}catch{}}var en=Math.clz32?Math.clz32:Qo,xh=Math.log,$o=Math.LN2;function Qo(t){return t>>>=0,t===0?32:31-(xh(t)/$o|0)|0}var Jn=256,ni=4194304;function zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?h=zn(l):(b&=w,b!==0?h=zn(b):a||(a=w&~t,a!==0&&(h=zn(a))))):(w=l&~m,w!==0?h=zn(w):b!==0?h=zn(b):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function ri(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $s(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(){var t=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),t}function ii(){var t=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),t}function Qs(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function dt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ko(t,n,a,l,h,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=b&~a;0<a;){var W=31-en(a),te=1<<W;w[W]=0,D[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&si(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function si(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-en(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ai(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-en(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function ol(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sr(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function _h(t,n){var a=Z.p;try{return Z.p=t,n()}finally{Z.p=a}}var er=Math.random().toString(36).slice(2),ft="__reactFiber$"+er,Pt="__reactProps$"+er,Ar="__reactContainer$"+er,ts="__reactEvents$"+er,ns="__reactListeners$"+er,bh="__reactHandles$"+er,Pn="__reactResources$"+er,li="__reactMarker$"+er;function Ks(t){delete t[ft],delete t[Pt],delete t[ts],delete t[ns],delete t[bh]}function tr(t){var n=t[ft];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ar]||a[ft]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Y0(t);t!==null;){if(a=t[ft])return a;t=Y0(t)}return n}t=a,a=t.parentNode}return null}function nr(t){if(t=t[ft]||t[Ar]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function oi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ci(t){var n=t[Pn];return n||(n=t[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mt(t){t[li]=!0}var Xo=new Set,rs={};function rr(t,n){ir(t,n),ir(t+"Capture",n)}function ir(t,n){for(rs[t]=n,t=0;t<n.length;t++)Xo.add(n[t])}var is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sr={},Xs={};function wh(t){return Tn.call(Xs,t)?!0:Tn.call(sr,t)?!1:is.test(t)?Xs[t]=!0:(sr[t]=!0,!1)}function ss(t,n,a){if(wh(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function as(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Rn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ls,Zs;function Rr(t){if(ls===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ls=n&&n[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+t+Zs}var Ws=!1;function Js(t,n){if(!t||Ws)return"";Ws=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){G=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var D=b.split(`
`),H=w.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ws=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rr(a):""}function Eh(t){switch(t.tag){case 26:case 27:case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return Js(t.type,!1);case 11:return Js(t.type.render,!1);case 1:return Js(t.type,!0);case 31:return Rr("Activity");default:return""}}function Un(t){try{var n="";do n+=Eh(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function at(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ui(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function os(t){var n=ui(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function hi(t){t._valueTracker||(t._valueTracker=os(t))}function Ke(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ui(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cs=/[\n"\\]/g;function Mt(t){return t.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ul(t,n,a,l,h,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+at(n)):t.value!==""+at(n)&&(t.value=""+at(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?dl(t,b,at(n)):a!=null?dl(t,b,at(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+at(w):t.removeAttribute("name")}function hl(t,n,a,l,h,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;a=a!=null?""+at(a):"",n=n!=null?""+at(n):a,w||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function dl(t,n,a){n==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function di(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+at(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Zo(t,n,a){if(n!=null&&(n=""+at(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+at(a):""}function Wo(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=at(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Cr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ml(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&fl(t,h,l)}else for(var m in n)n.hasOwnProperty(m)&&fl(t,m,n[m])}function ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ec=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(t){return ec.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pl=null;function gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,tn=null;function tc(t){var n=nr(t);if(n&&(t=n.stateNode)){var a=t[Pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ul(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));ul(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ke(l)}break e;case"textarea":Zo(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&di(t,!!a.multiple,n,!1)}}}var us=!1;function hs(t,n,a){if(us)return t(n,a);us=!0;try{var l=t(n);return l}finally{if(us=!1,(fi!==null||tn!==null)&&(Fc(),fi&&(n=fi,t=tn,tn=fi=null,tc(n),t)))for(n=0;n<t.length;n++)tc(t[n])}}function mi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(nn)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){jr=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{jr=!1}var Cn=null,tt=null,ta=null;function nc(){if(ta)return ta;var t,n=tt,a=n.length,l,h="value"in Cn?Cn.value:Cn.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&n[a-l]===h[m-l];l++);return ta=h.slice(t,1<l?1-l:void 0)}function ds(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function fs(){return!0}function yl(){return!1}function Rt(t){function n(a,l,h,m,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fs:yl,this.isPropagationStopped=yl,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),n}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=Rt($t),ps=x({},$t,{view:0,detail:0}),gs=Rt(ps),na,ys,ar,vs=x({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(na=t.screenX-ar.screenX,ys=t.screenY-ar.screenY):ys=na=0,ar=t),na)},movementY:function(t){return"movementY"in t?t.movementY:ys}}),xs=Rt(vs),Th=x({},vs,{dataTransfer:0}),rc=Rt(Th),_s=x({},ps,{relatedTarget:0}),ra=Rt(_s),ic=x({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),vl=Rt(ic),xl=x({},$t,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sc=Rt(xl),ia=x({},$t,{data:0}),_l=Rt(ia),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=lc[t])?!!n[t]:!1}function sa(){return oc}var cc=x({},ps,{key:function(t){if(t.key){var n=ac[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aa=Rt(cc),rn=x({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Rt(rn),uc=x({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),gi=Rt(uc),u=x({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),g=Rt(u),_=x({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Rt(_),B=x({},$t,{newState:0,oldState:0}),K=Rt(B),oe=[9,13,27,32],Re=nn&&"CompositionEvent"in window,it=null;nn&&"documentMode"in document&&(it=document.documentMode);var Ye=nn&&"TextEvent"in window&&!it,pt=nn&&(!Re||it&&8<it&&11>=it),pn=" ",lr=!1;function qn(t,n){switch(t){case"keyup":return oe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fn=!1;function wl(t,n){switch(t){case"compositionend":return Hn(n);case"keypress":return n.which!==32?null:(lr=!0,pn);case"textInput":return t=n.data,t===pn&&lr?null:t;default:return null}}function Ax(t,n){if(Fn)return t==="compositionend"||!Re&&qn(t,n)?(t=nc(),ta=tt=Cn=null,Fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pt&&n.locale!=="ko"?null:n.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Rx[t.type]:n==="textarea"}function np(t,n,a,l){fi?tn?tn.push(l):tn=[l]:fi=l,n=Xc(n,"onChange"),0<n.length&&(a=new ms("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var El=null,Tl=null;function Nx(t){k0(t,0)}function hc(t){var n=oi(t);if(Ke(n))return t}function rp(t,n){if(t==="change")return n}var ip=!1;if(nn){var Sh;if(nn){var Ah="oninput"in document;if(!Ah){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),Ah=typeof sp.oninput=="function"}Sh=Ah}else Sh=!1;ip=Sh&&(!document.documentMode||9<document.documentMode)}function ap(){El&&(El.detachEvent("onpropertychange",lp),Tl=El=null)}function lp(t){if(t.propertyName==="value"&&hc(Tl)){var n=[];np(n,Tl,t,gl(t)),hs(Nx,n)}}function Cx(t,n,a){t==="focusin"?(ap(),El=n,Tl=a,El.attachEvent("onpropertychange",lp)):t==="focusout"&&ap()}function jx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(Tl)}function Dx(t,n){if(t==="click")return hc(n)}function Ix(t,n){if(t==="input"||t==="change")return hc(n)}function Mx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:Mx;function Sl(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tn.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cp(t,n){var a=op(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=op(a)}}function up(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?up(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Nr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Nr(t.document)}return n}function Rh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Vx=nn&&"documentMode"in document&&11>=document.documentMode,la=null,Nh=null,Al=null,Ch=!1;function dp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ch||la==null||la!==Nr(l)||(l=la,"selectionStart"in l&&Rh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Sl(Al,l)||(Al=l,l=Xc(Nh,"onSelect"),0<l.length&&(n=new ms("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=la)))}function bs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var oa={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},jh={},fp={};nn&&(fp=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ws(t){if(jh[t])return jh[t];if(!oa[t])return t;var n=oa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in fp)return jh[t]=n[a];return t}var mp=ws("animationend"),pp=ws("animationiteration"),gp=ws("animationstart"),Ox=ws("transitionrun"),kx=ws("transitionstart"),Lx=ws("transitioncancel"),yp=ws("transitionend"),vp=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Gn(t,n){vp.set(t,n),rr(n,[t])}var xp=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var a=xp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Un(n)},xp.set(t,n),n)}return{value:t,source:n,stack:Un(n)}}var Dn=[],ca=0,Ih=0;function dc(){for(var t=ca,n=Ih=ca=0;n<t;){var a=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var m=Dn[n];if(Dn[n++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}m!==0&&_p(a,h,m)}}function fc(t,n,a,l){Dn[ca++]=t,Dn[ca++]=n,Dn[ca++]=a,Dn[ca++]=l,Ih|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mh(t,n,a,l){return fc(t,n,a,l),mc(t)}function ua(t,n){return fc(t,null,null,n),mc(t)}function _p(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-en(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),m):null}function mc(t){if(50<Zl)throw Zl=0,Pd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ha={};function zx(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,l){return new zx(t,n,a,l)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ir(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function pc(t,n,a,l,h,m){var b=0;if(l=t,typeof t=="function")Vh(t)&&(b=1);else if(typeof t=="string")b=U_(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case E:return t=yn(31,a,n,h),t.elementType=E,t.lanes=m,t;case F:return Es(a.children,h,m,n);case Q:b=8,h|=24;break;case z:return t=yn(12,a,n,h|2),t.elementType=z,t.lanes=m,t;case ie:return t=yn(13,a,n,h),t.elementType=ie,t.lanes=m,t;case le:return t=yn(19,a,n,h),t.elementType=le,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case se:b=10;break e;case q:b=9;break e;case ae:b=11;break e;case j:b=14;break e;case A:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=yn(b,a,n,h),n.elementType=t,n.type=l,n.lanes=m,n}function Es(t,n,a,l){return t=yn(7,t,l,n),t.lanes=a,t}function Oh(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function kh(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var da=[],fa=0,gc=null,yc=0,In=[],Mn=0,Ts=null,Mr=1,Vr="";function Ss(t,n){da[fa++]=yc,da[fa++]=gc,gc=t,yc=n}function wp(t,n,a){In[Mn++]=Mr,In[Mn++]=Vr,In[Mn++]=Ts,Ts=t;var l=Mr;t=Vr;var h=32-en(l)-1;l&=~(1<<h),a+=1;var m=32-en(n)+h;if(30<m){var b=h-h%5;m=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Mr=1<<32-en(n)+h|a<<h|l,Vr=m+t}else Mr=1<<m|a<<h|l,Vr=t}function Lh(t){t.return!==null&&(Ss(t,1),wp(t,1,0))}function zh(t){for(;t===gc;)gc=da[--fa],da[fa]=null,yc=da[--fa],da[fa]=null;for(;t===Ts;)Ts=In[--Mn],In[Mn]=null,Vr=In[--Mn],In[Mn]=null,Mr=In[--Mn],In[Mn]=null}var sn=null,ut=null,He=!1,As=null,or=!1,Ph=Error(s(519));function Rs(t){var n=Error(s(418,""));throw Cl(jn(n,t)),Ph}function Ep(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ft]=t,n[Pt]=l,a){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Oe(Jl[a],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),hl(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hi(n);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Wo(n,l.value,l.defaultValue,l.children),hi(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||U0(n.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=Zc),n=!0):n=!1,n||Rs(t)}function Tp(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:or=!1;return;case 27:case 3:or=!0;return;default:sn=sn.return}}function Rl(t){if(t!==sn)return!1;if(!He)return Tp(t),He=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tf(t.type,t.memoizedProps)),a=!a),a&&ut&&Rs(t),Tp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ut=$n(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ut=null}}else n===27?(n=ut,Ii(t.type)?(t=af,af=null,ut=t):ut=n):ut=sn?$n(t.stateNode.nextSibling):null;return!0}function Nl(){ut=sn=null,He=!1}function Sp(){var t=As;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),As=null),t}function Cl(t){As===null?As=[t]:As.push(t)}var Uh=re(null),Ns=null,Or=null;function yi(t,n,a){ce(Uh,n._currentValue),n._currentValue=a}function kr(t){t._currentValue=Uh.current,de(Uh)}function Bh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function qh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var D=0;D<n.length;D++)if(w.context===n[D]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Bh(m.return,a,t),l||(b=null);break e}m=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Bh(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function jl(t,n,a,l){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=h.type;gn(h.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(h===St.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}h=h.return}t!==null&&qh(n,t,a,l),n.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Ns=t,Or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Ap(Ns,t)}function xc(t,n){return Ns===null&&Cs(t),Ap(t,n)}function Ap(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Or===null){if(t===null)throw Error(s(308));Or=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Or=Or.next=n;return a}var Px=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Ux=i.unstable_scheduleCallback,Bx=i.unstable_NormalPriority,Nt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new Px,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&Ux(Bx,function(){t.controller.abort()})}var Il=null,Fh=0,ma=0,pa=null;function qx(t,n){if(Il===null){var a=Il=[];Fh=0,ma=Yd(),pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Fh++,n.then(Rp,Rp),n}function Rp(){if(--Fh===0&&Il!==null){pa!==null&&(pa.status="fulfilled");var t=Il;Il=null,ma=0,pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Hx(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Np=X.S;X.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qx(t,n),Np!==null&&Np(t,n)};var js=re(null);function Gh(){var t=js.current;return t!==null?t:nt.pooledCache}function _c(t,n){n===null?ce(js,js.current):ce(js,n.pool)}function Cp(){var t=Gh();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ml=Error(s(460)),jp=Error(s(474)),bc=Error(s(542)),Yh={then:function(){}};function Dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wc(){}function Ip(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(wc,wc),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vp(t),t;default:if(typeof n.status=="string")n.then(wc,wc);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vp(t),t}throw Vl=n,Ml}}var Vl=null;function Mp(){if(Vl===null)throw Error(s(459));var t=Vl;return Vl=null,t}function Vp(t){if(t===Ml||t===bc)throw Error(s(483))}var vi=!1;function $h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _i(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=mc(t),_p(t,null,a),n}return fc(t,l,n,a),mc(t)}function Ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ai(t,a)}}function Kh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Xh=!1;function kl(){if(Xh){var t=pa;if(t!==null)throw t}}function Ll(t,n,a,l){Xh=!1;var h=t.updateQueue;vi=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var D=w,H=D.next;D.next=null,b===null?m=H:b.next=H,b=D;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==b&&(w===null?W.firstBaseUpdate=H:w.next=H,W.lastBaseUpdate=D))}if(m!==null){var te=h.baseState;b=0,W=H=D=null,w=m;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(ze&G)===G:(l&G)===G){G!==0&&G===ma&&(Xh=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Te=t,xe=w;G=n;var We=a;switch(xe.tag){case 1:if(Te=xe.payload,typeof Te=="function"){te=Te.call(We,te,G);break e}te=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=xe.payload,G=typeof Te=="function"?Te.call(We,te,G):Te,G==null)break e;te=x({},te,G);break e;case 2:vi=!0}}G=w.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(H=W=Y,D=te):W=W.next=Y,b|=G;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(D=te),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=W,m===null&&(h.shared.lanes=0),Ni|=b,t.lanes=b,t.memoizedState=te}}function Op(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function kp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Op(a[t],n)}var ga=re(null),Ec=re(0);function Lp(t,n){t=Hr,ce(Ec,t),ce(ga,n),Hr=t|n.baseLanes}function Zh(){ce(Ec,Hr),ce(ga,ga.current)}function Wh(){Hr=Ec.current,de(ga),de(Ec)}var bi=0,De=null,Xe=null,xt=null,Tc=!1,ya=!1,Ds=!1,Sc=0,zl=0,va=null,Fx=0;function gt(){throw Error(s(321))}function Jh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function ed(t,n,a,l,h,m){return bi=m,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?_g:bg,Ds=!1,m=a(l,h),Ds=!1,ya&&(m=Pp(n,a,l,h)),zp(t),m}function zp(t){X.H=Dc;var n=Xe!==null&&Xe.next!==null;if(bi=0,xt=Xe=De=null,Tc=!1,zl=0,va=null,n)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&vc(t)&&(Vt=!0))}function Pp(t,n,a,l){De=t;var h=0;do{if(ya&&(va=null),zl=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,xt=Xe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Zx,m=n(a,l)}while(ya);return m}function Gx(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Pl(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(De.flags|=1024),n}function td(){var t=Sc!==0;return Sc=0,t}function nd(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function rd(t){if(Tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Tc=!1}bi=0,xt=Xe=De=null,ya=!1,zl=Sc=0,va=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=t:xt=xt.next=t,xt}function _t(){if(Xe===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=xt===null?De.memoizedState:xt.next;if(n!==null)xt=n,Xe=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},xt===null?De.memoizedState=xt=t:xt=xt.next=t}return xt}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(t){var n=zl;return zl+=1,va===null&&(va=[]),t=Ip(va,t,n),n=De,(xt===null?n.memoizedState:xt.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?_g:bg),t}function Ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pl(t);if(t.$$typeof===se)return Qt(t)}throw Error(s(438,String(t)))}function sd(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=id(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=N;return n.index++,a}function Lr(t,n){return typeof n=="function"?n(t):n}function Rc(t){var n=_t();return ad(n,Xe,t)}function ad(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}n.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var w=b=null,D=null,H=n,W=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(ze&te)===te:(bi&te)===te){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===ma&&(W=!0);else if((bi&G)===G){H=H.next,G===ma&&(W=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(w=D=te,b=m):D=D.next=te,De.lanes|=G,Ni|=G;te=H.action,Ds&&a(m,te),m=H.hasEagerState?H.eagerState:a(m,te)}else G={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(w=D=G,b=m):D=D.next=G,De.lanes|=te,Ni|=te;H=H.next}while(H!==null&&H!==n);if(D===null?b=m:D.next=w,!gn(m,t.memoizedState)&&(Vt=!0,W&&(a=pa,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=D,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var n=_t(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);gn(m,n.memoizedState)||(Vt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,l]}function Up(t,n,a){var l=De,h=_t(),m=He;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var b=!gn((Xe||h).memoizedState,a);b&&(h.memoizedState=a,Vt=!0),h=h.queue;var w=Hp.bind(null,l,h,t);if(Ul(2048,8,w,[t]),h.getSnapshot!==n||b||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,xa(9,Nc(),qp.bind(null,l,h,a,n),null),nt===null)throw Error(s(349));m||(bi&124)!==0||Bp(l,n,a)}return a}function Bp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=id(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function qp(t,n,a,l){n.value=a,n.getSnapshot=l,Fp(n)&&Gp(t)}function Hp(t,n,a){return a(function(){Fp(n)&&Gp(t)})}function Fp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function Gp(t){var n=ua(t,2);n!==null&&wn(n,t,2)}function od(t){var n=cn();if(typeof t=="function"){var a=t;if(t=a(),Ds){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},n}function Yp(t,n,a,l){return t.baseState=a,ad(t,Xe,typeof l=="function"?l:Lr)}function Yx(t,n,a,l,h){if(jc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=n.pending,a===null?(m.next=n.pending=m,$p(n,m)):(m.next=a.next,n.pending=a.next=m)}}function $p(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var m=X.T,b={};X.T=b;try{var w=a(h,l),D=X.S;D!==null&&D(b,w),Qp(t,n,w)}catch(H){cd(t,n,H)}finally{X.T=m}}else try{m=a(h,l),Qp(t,n,m)}catch(H){cd(t,n,H)}}function Qp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kp(t,n,l)},function(l){return cd(t,n,l)}):Kp(t,n,a)}function Kp(t,n,a){n.status="fulfilled",n.value=a,Xp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,$p(t,a)))}function cd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Xp(n),n=n.next;while(n!==l)}t.action=null}function Xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zp(t,n){return n}function Wp(t,n){if(He){var a=nt.formState;if(a!==null){e:{var l=De;if(He){if(ut){t:{for(var h=ut,m=or;h.nodeType!==8;){if(!m){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ut=$n(h.nextSibling),l=h.data==="F!";break e}}Rs(l)}l=!1}l&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:n},a.queue=l,a=yg.bind(null,De,l),l.dispatch=a,l=od(!1),m=md.bind(null,De,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=Yx.bind(null,De,h,m,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Jp(t){var n=_t();return eg(n,Xe,t)}function eg(t,n,a){if(n=ad(t,n,Zp)[0],t=Rc(Lr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pl(n)}catch(b){throw b===Ml?bc:b}else l=n;n=_t();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,xa(9,Nc(),$x.bind(null,h,a),null)),[l,m,t]}function $x(t,n){t.action=n}function tg(t){var n=_t(),a=Xe;if(a!==null)return eg(n,a,t);_t(),n=n.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function xa(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=id(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Nc(){return{destroy:void 0,resource:void 0}}function ng(){return _t().memoizedState}function Cc(t,n,a,l){var h=cn();l=l===void 0?null:l,De.flags|=t,h.memoizedState=xa(1|n,Nc(),a,l)}function Ul(t,n,a,l){var h=_t();l=l===void 0?null:l;var m=h.memoizedState.inst;Xe!==null&&l!==null&&Jh(l,Xe.memoizedState.deps)?h.memoizedState=xa(n,m,a,l):(De.flags|=t,h.memoizedState=xa(1|n,m,a,l))}function rg(t,n){Cc(8390656,8,t,n)}function ig(t,n){Ul(2048,8,t,n)}function sg(t,n){return Ul(4,2,t,n)}function ag(t,n){return Ul(4,4,t,n)}function lg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function og(t,n,a){a=a!=null?a.concat([t]):null,Ul(4,4,lg.bind(null,n,t),a)}function ud(){}function cg(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Jh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ug(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Jh(n,l[1]))return l[0];if(l=t(),Ds){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l}function hd(t,n,a){return a===void 0||(bi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=f0(),De.lanes|=t,Ni|=t,a)}function hg(t,n,a,l){return gn(a,n)?a:ga.current!==null?(t=hd(t,a,l),gn(t,n)||(Vt=!0),t):(bi&42)===0?(Vt=!0,t.memoizedState=a):(t=f0(),De.lanes|=t,Ni|=t,n)}function dg(t,n,a,l,h){var m=Z.p;Z.p=m!==0&&8>m?m:8;var b=X.T,w={};X.T=w,md(t,!1,n,a);try{var D=h(),H=X.S;if(H!==null&&H(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=Hx(D,l);Bl(t,n,W,bn(t))}else Bl(t,n,l,bn(t))}catch(te){Bl(t,n,{then:function(){},status:"rejected",reason:te},bn())}finally{Z.p=m,X.T=b}}function Qx(){}function dd(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=fg(t).queue;dg(t,h,n,ue,a===null?Qx:function(){return mg(t),a(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:ue},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function mg(t){var n=fg(t).next.queue;Bl(t,n,{},bn())}function fd(){return Qt(so)}function pg(){return _t().memoizedState}function gg(){return _t().memoizedState}function Kx(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=xi(a);var l=_i(n,t,a);l!==null&&(wn(l,n,a),Ol(l,n,a)),n={cache:Hh()},t.payload=n;return}n=n.return}}function Xx(t,n,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jc(t)?vg(n,a):(a=Mh(t,n,a,l),a!==null&&(wn(a,t,l),xg(a,n,l)))}function yg(t,n,a){var l=bn();Bl(t,n,a,l)}function Bl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(t))vg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,w=m(b,a);if(h.hasEagerState=!0,h.eagerState=w,gn(w,b))return fc(t,n,h,0),nt===null&&dc(),!1}catch{}finally{}if(a=Mh(t,n,h,l),a!==null)return wn(a,t,l),xg(a,n,l),!0}return!1}function md(t,n,a,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},jc(t)){if(n)throw Error(s(479))}else n=Mh(t,a,l,2),n!==null&&wn(n,t,2)}function jc(t){var n=t.alternate;return t===De||n!==null&&n===De}function vg(t,n){ya=Tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function xg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ai(t,a)}}var Dc={readContext:Qt,use:Ac,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},_g={readContext:Qt,use:Ac,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Qt,useEffect:rg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Cc(4194308,4,lg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Cc(4194308,4,t,n)},useInsertionEffect:function(t,n){Cc(4,2,t,n)},useMemo:function(t,n){var a=cn();n=n===void 0?null:n;var l=t();if(Ds){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=cn();if(a!==void 0){var h=a(n);if(Ds){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Xx.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=od(t);var n=t.queue,a=yg.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,n){var a=cn();return hd(a,t,n)},useTransition:function(){var t=od(!1);return t=dg.bind(null,De,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=De,h=cn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),nt===null)throw Error(s(349));(ze&124)!==0||Bp(l,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,rg(Hp.bind(null,l,m,t),[t]),l.flags|=2048,xa(9,Nc(),qp.bind(null,l,m,a,n),null),a},useId:function(){var t=cn(),n=nt.identifierPrefix;if(He){var a=Vr,l=Mr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Sc++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=Fx++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:fd,useFormState:Wp,useActionState:Wp,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=md.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:sd,useCacheRefresh:function(){return cn().memoizedState=Kx.bind(null,De)}},bg={readContext:Qt,use:Ac,useCallback:cg,useContext:Qt,useEffect:ig,useImperativeHandle:og,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:ug,useReducer:Rc,useRef:ng,useState:function(){return Rc(Lr)},useDebugValue:ud,useDeferredValue:function(t,n){var a=_t();return hg(a,Xe.memoizedState,t,n)},useTransition:function(){var t=Rc(Lr)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Pl(t),n]},useSyncExternalStore:Up,useId:pg,useHostTransitionStatus:fd,useFormState:Jp,useActionState:Jp,useOptimistic:function(t,n){var a=_t();return Yp(a,Xe,t,n)},useMemoCache:sd,useCacheRefresh:gg},Zx={readContext:Qt,use:Ac,useCallback:cg,useContext:Qt,useEffect:ig,useImperativeHandle:og,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:ug,useReducer:ld,useRef:ng,useState:function(){return ld(Lr)},useDebugValue:ud,useDeferredValue:function(t,n){var a=_t();return Xe===null?hd(a,t,n):hg(a,Xe.memoizedState,t,n)},useTransition:function(){var t=ld(Lr)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Pl(t),n]},useSyncExternalStore:Up,useId:pg,useHostTransitionStatus:fd,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var a=_t();return Xe!==null?Yp(a,Xe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:gg},_a=null,ql=0;function Ic(t){var n=ql;return ql+=1,_a===null&&(_a=[]),Ip(_a,t,n)}function Hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mc(t,n){throw n.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function wg(t){var n=t._init;return n(t._payload)}function Eg(t){function n(P,k){if(t){var U=P.deletions;U===null?(P.deletions=[k],P.flags|=16):U.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)n(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=Ir(P,k),P.index=0,P.sibling=null,P}function m(P,k,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<k?(P.flags|=67108866,k):U):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function b(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function w(P,k,U,J){return k===null||k.tag!==6?(k=Oh(U,P.mode,J),k.return=P,k):(k=h(k,U),k.return=P,k)}function D(P,k,U,J){var me=U.type;return me===F?W(P,k,U.props.children,J,U.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&wg(me)===k.type)?(k=h(k,U.props),Hl(k,U),k.return=P,k):(k=pc(U.type,U.key,U.props,null,P.mode,J),Hl(k,U),k.return=P,k)}function H(P,k,U,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=kh(U,P.mode,J),k.return=P,k):(k=h(k,U.children||[]),k.return=P,k)}function W(P,k,U,J,me){return k===null||k.tag!==7?(k=Es(U,P.mode,J,me),k.return=P,k):(k=h(k,U),k.return=P,k)}function te(P,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Oh(""+k,P.mode,U),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return U=pc(k.type,k.key,k.props,null,P.mode,U),Hl(U,k),U.return=P,U;case O:return k=kh(k,P.mode,U),k.return=P,k;case A:var J=k._init;return k=J(k._payload),te(P,k,U)}if(Ee(k)||M(k))return k=Es(k,P.mode,U,null),k.return=P,k;if(typeof k.then=="function")return te(P,Ic(k),U);if(k.$$typeof===se)return te(P,xc(P,k),U);Mc(P,k)}return null}function G(P,k,U,J){var me=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:w(P,k,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===me?D(P,k,U,J):null;case O:return U.key===me?H(P,k,U,J):null;case A:return me=U._init,U=me(U._payload),G(P,k,U,J)}if(Ee(U)||M(U))return me!==null?null:W(P,k,U,J,null);if(typeof U.then=="function")return G(P,k,Ic(U),J);if(U.$$typeof===se)return G(P,k,xc(P,U),J);Mc(P,U)}return null}function Y(P,k,U,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(U)||null,w(k,P,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return P=P.get(J.key===null?U:J.key)||null,D(k,P,J,me);case O:return P=P.get(J.key===null?U:J.key)||null,H(k,P,J,me);case A:var Ie=J._init;return J=Ie(J._payload),Y(P,k,U,J,me)}if(Ee(J)||M(J))return P=P.get(U)||null,W(k,P,J,me,null);if(typeof J.then=="function")return Y(P,k,U,Ic(J),me);if(J.$$typeof===se)return Y(P,k,U,xc(k,J),me);Mc(k,J)}return null}function Te(P,k,U,J){for(var me=null,Ie=null,ge=k,be=k=0,kt=null;ge!==null&&be<U.length;be++){ge.index>be?(kt=ge,ge=null):kt=ge.sibling;var qe=G(P,ge,U[be],J);if(qe===null){ge===null&&(ge=kt);break}t&&ge&&qe.alternate===null&&n(P,ge),k=m(qe,k,be),Ie===null?me=qe:Ie.sibling=qe,Ie=qe,ge=kt}if(be===U.length)return a(P,ge),He&&Ss(P,be),me;if(ge===null){for(;be<U.length;be++)ge=te(P,U[be],J),ge!==null&&(k=m(ge,k,be),Ie===null?me=ge:Ie.sibling=ge,Ie=ge);return He&&Ss(P,be),me}for(ge=l(ge);be<U.length;be++)kt=Y(ge,P,be,U[be],J),kt!==null&&(t&&kt.alternate!==null&&ge.delete(kt.key===null?be:kt.key),k=m(kt,k,be),Ie===null?me=kt:Ie.sibling=kt,Ie=kt);return t&&ge.forEach(function(Li){return n(P,Li)}),He&&Ss(P,be),me}function xe(P,k,U,J){if(U==null)throw Error(s(151));for(var me=null,Ie=null,ge=k,be=k=0,kt=null,qe=U.next();ge!==null&&!qe.done;be++,qe=U.next()){ge.index>be?(kt=ge,ge=null):kt=ge.sibling;var Li=G(P,ge,qe.value,J);if(Li===null){ge===null&&(ge=kt);break}t&&ge&&Li.alternate===null&&n(P,ge),k=m(Li,k,be),Ie===null?me=Li:Ie.sibling=Li,Ie=Li,ge=kt}if(qe.done)return a(P,ge),He&&Ss(P,be),me;if(ge===null){for(;!qe.done;be++,qe=U.next())qe=te(P,qe.value,J),qe!==null&&(k=m(qe,k,be),Ie===null?me=qe:Ie.sibling=qe,Ie=qe);return He&&Ss(P,be),me}for(ge=l(ge);!qe.done;be++,qe=U.next())qe=Y(ge,P,be,qe.value,J),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?be:qe.key),k=m(qe,k,be),Ie===null?me=qe:Ie.sibling=qe,Ie=qe);return t&&ge.forEach(function(W_){return n(P,W_)}),He&&Ss(P,be),me}function We(P,k,U,J){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:e:{for(var me=U.key;k!==null;){if(k.key===me){if(me=U.type,me===F){if(k.tag===7){a(P,k.sibling),J=h(k,U.props.children),J.return=P,P=J;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&wg(me)===k.type){a(P,k.sibling),J=h(k,U.props),Hl(J,U),J.return=P,P=J;break e}a(P,k);break}else n(P,k);k=k.sibling}U.type===F?(J=Es(U.props.children,P.mode,J,U.key),J.return=P,P=J):(J=pc(U.type,U.key,U.props,null,P.mode,J),Hl(J,U),J.return=P,P=J)}return b(P);case O:e:{for(me=U.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(P,k.sibling),J=h(k,U.children||[]),J.return=P,P=J;break e}else{a(P,k);break}else n(P,k);k=k.sibling}J=kh(U,P.mode,J),J.return=P,P=J}return b(P);case A:return me=U._init,U=me(U._payload),We(P,k,U,J)}if(Ee(U))return Te(P,k,U,J);if(M(U)){if(me=M(U),typeof me!="function")throw Error(s(150));return U=me.call(U),xe(P,k,U,J)}if(typeof U.then=="function")return We(P,k,Ic(U),J);if(U.$$typeof===se)return We(P,k,xc(P,U),J);Mc(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(P,k.sibling),J=h(k,U),J.return=P,P=J):(a(P,k),J=Oh(U,P.mode,J),J.return=P,P=J),b(P)):a(P,k)}return function(P,k,U,J){try{ql=0;var me=We(P,k,U,J);return _a=null,me}catch(ge){if(ge===Ml||ge===bc)throw ge;var Ie=yn(29,ge,null,P.mode);return Ie.lanes=J,Ie.return=P,Ie}finally{}}}var ba=Eg(!0),Tg=Eg(!1),Vn=re(null),cr=null;function wi(t){var n=t.alternate;ce(Ct,Ct.current&1),ce(Vn,t),cr===null&&(n===null||ga.current!==null||n.memoizedState!==null)&&(cr=t)}function Sg(t){if(t.tag===22){if(ce(Ct,Ct.current),ce(Vn,t),cr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(cr=t)}}else Ei()}function Ei(){ce(Ct,Ct.current),ce(Vn,Vn.current)}function zr(t){de(Vn),cr===t&&(cr=null),de(Ct)}var Ct=re(0);function Vc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function pd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),h=xi(l);h.payload=n,a!=null&&(h.callback=a),n=_i(t,h,l),n!==null&&(wn(n,t,l),Ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),h=xi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_i(t,h,l),n!==null&&(wn(n,t,l),Ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=xi(a);l.tag=2,n!=null&&(l.callback=n),n=_i(t,l,a),n!==null&&(wn(n,t,a),Ol(n,t,a))}};function Ag(t,n,a,l,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):n.prototype&&n.prototype.isPureReactComponent?!Sl(a,l)||!Sl(h,m):!0}function Rg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&gd.enqueueReplaceState(n,n.state,null)}function Is(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ng(t){Oc(t)}function Cg(t){console.error(t)}function jg(t){Oc(t)}function kc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Dg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,n,a){return a=xi(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(t,n)},a}function Ig(t){return t=xi(t),t.tag=3,t}function Mg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){Dg(n,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Dg(n,a,l),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Wx(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&jl(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return cr===null?Bd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Hd(t,l,h)),!1;case 22:return a.flags|=65536,l===Yh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Hd(t,l,h)),!1}throw Error(s(435,a.tag))}return Hd(t,l,h),Bd(),!1}if(He)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ph&&(t=Error(s(422),{cause:l}),Cl(jn(t,a)))):(l!==Ph&&(n=Error(s(423),{cause:l}),Cl(jn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=yd(t.stateNode,l,h),Kh(t,h),ht!==4&&(ht=2)),!1;var m=Error(s(520),{cause:l});if(m=jn(m,a),Xl===null?Xl=[m]:Xl.push(m),ht!==4&&(ht=2),n===null)return!0;l=jn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Kh(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ci===null||!Ci.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ig(h),Mg(h,t,a,l),Kh(a,h),!1}a=a.return}while(a!==null);return!1}var Vg=Error(s(461)),Vt=!1;function Ut(t,n,a,l){n.child=t===null?Tg(n,null,a,l):ba(n,t.child,a,l)}function Og(t,n,a,l,h){a=a.render;var m=n.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Cs(n),l=ed(t,n,a,b,m,h),w=td(),t!==null&&!Vt?(nd(t,n,h),Pr(t,n,h)):(He&&w&&Lh(n),n.flags|=1,Ut(t,n,l,h),n.child)}function kg(t,n,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!Vh(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,Lg(t,n,m,l,h)):(t=pc(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Sd(t,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(b,l)&&t.ref===n.ref)return Pr(t,n,h)}return n.flags|=1,t=Ir(m,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,a,l,h){if(t!==null){var m=t.memoizedProps;if(Sl(m,l)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=l=m,Sd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,Pr(t,n,h)}return vd(t,n,a,l,h)}function zg(t,n,a){var l=n.pendingProps,h=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(h=n.child=t.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;n.childLanes=m&~l}else n.childLanes=0,n.child=null;return Pg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&_c(n,m!==null?m.cachePool:null),m!==null?Lp(n,m):Zh(),Sg(n);else return n.lanes=n.childLanes=536870912,Pg(t,n,m!==null?m.baseLanes|a:a,a)}else m!==null?(_c(n,m.cachePool),Lp(n,m),Ei(),n.memoizedState=null):(t!==null&&_c(n,null),Zh(),Ei());return Ut(t,n,h,a),n.child}function Pg(t,n,a,l){var h=Gh();return h=h===null?null:{parent:Nt._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&_c(n,null),Zh(),Sg(n),t!==null&&jl(t,n,l,!0),null}function Lc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function vd(t,n,a,l,h){return Cs(n),a=ed(t,n,a,l,void 0,h),l=td(),t!==null&&!Vt?(nd(t,n,h),Pr(t,n,h)):(He&&l&&Lh(n),n.flags|=1,Ut(t,n,a,h),n.child)}function Ug(t,n,a,l,h,m){return Cs(n),n.updateQueue=null,a=Pp(n,l,a,h),zp(t),l=td(),t!==null&&!Vt?(nd(t,n,m),Pr(t,n,m)):(He&&l&&Lh(n),n.flags|=1,Ut(t,n,a,m),n.child)}function Bg(t,n,a,l,h){if(Cs(n),n.stateNode===null){var m=ha,b=a.contextType;typeof b=="object"&&b!==null&&(m=Qt(b)),m=new a(l,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=gd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=l,m.state=n.memoizedState,m.refs={},$h(n),b=a.contextType,m.context=typeof b=="object"&&b!==null?Qt(b):ha,m.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(pd(n,a,b,l),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&gd.enqueueReplaceState(m,m.state,null),Ll(n,l,m,h),kl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){m=n.stateNode;var w=n.memoizedProps,D=Is(a,w);m.props=D;var H=m.context,W=a.contextType;b=ha,typeof W=="object"&&W!==null&&(b=Qt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||H!==b)&&Rg(n,m,l,b),vi=!1;var G=n.memoizedState;m.state=G,Ll(n,l,m,h),kl(),H=n.memoizedState,w||G!==H||vi?(typeof te=="function"&&(pd(n,a,te,l),H=n.memoizedState),(D=vi||Ag(n,a,D,l,G,H,b))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),m.props=l,m.state=H,m.context=b,l=D):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,Qh(t,n),b=n.memoizedProps,W=Is(a,b),m.props=W,te=n.pendingProps,G=m.context,H=a.contextType,D=ha,typeof H=="object"&&H!==null&&(D=Qt(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||G!==D)&&Rg(n,m,l,D),vi=!1,G=n.memoizedState,m.state=G,Ll(n,l,m,h),kl();var Y=n.memoizedState;b!==te||G!==Y||vi||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof w=="function"&&(pd(n,a,w,l),Y=n.memoizedState),(W=vi||Ag(n,a,W,l,G,Y,D)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,D)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),m.props=l,m.state=Y,m.context=D,l=W):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return m=l,Lc(t,n),l=(n.flags&128)!==0,m||l?(m=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&l?(n.child=ba(n,t.child,null,h),n.child=ba(n,null,a,h)):Ut(t,n,a,h),n.memoizedState=m.state,t=n.child):t=Pr(t,n,h),t}function qg(t,n,a,l){return Nl(),n.flags|=256,Ut(t,n,a,l),n.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:Cp()}}function bd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=On),t}function Hg(t,n,a){var l=n.pendingProps,h=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?wi(n):Ei(),He){var w=ut,D;if(D=w){e:{for(D=w,w=or;D.nodeType!==8;){if(!w){w=null;break e}if(D=$n(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(n.memoizedState={dehydrated:w,treeContext:Ts!==null?{id:Mr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},D=yn(18,null,null,0),D.stateNode=w,D.return=n,n.child=D,sn=n,ut=null,D=!0):D=!1}D||Rs(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return sf(w)?n.lanes=32:n.lanes=536870912,null;zr(n)}return w=l.children,l=l.fallback,h?(Ei(),h=n.mode,w=zc({mode:"hidden",children:w},h),l=Es(l,h,a,null),w.return=n,l.return=n,w.sibling=l,n.child=w,h=n.child,h.memoizedState=_d(a),h.childLanes=bd(t,b,a),n.memoizedState=xd,l):(wi(n),wd(n,w))}if(D=t.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)n.flags&256?(wi(n),n.flags&=-257,n=Ed(t,n,a)):n.memoizedState!==null?(Ei(),n.child=t.child,n.flags|=128,n=null):(Ei(),h=l.fallback,w=n.mode,l=zc({mode:"visible",children:l.children},w),h=Es(h,w,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ba(n,t.child,null,a),l=n.child,l.memoizedState=_d(a),l.childLanes=bd(t,b,a),n.memoizedState=xd,n=h);else if(wi(n),sf(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(s(419)),l.stack="",l.digest=b,Cl({value:l,source:null,stack:null}),n=Ed(t,n,a)}else if(Vt||jl(t,n,a,!1),b=(a&t.childLanes)!==0,Vt||b){if(b=nt,b!==null&&(l=a&-a,l=(l&42)!==0?1:ol(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ua(t,l),wn(b,t,l),Vg;w.data==="$?"||Bd(),n=Ed(t,n,a)}else w.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ut=$n(w.nextSibling),sn=n,He=!0,As=null,or=!1,t!==null&&(In[Mn++]=Mr,In[Mn++]=Vr,In[Mn++]=Ts,Mr=t.id,Vr=t.overflow,Ts=n),n=wd(n,l.children),n.flags|=4096);return n}return h?(Ei(),h=l.fallback,w=n.mode,D=t.child,H=D.sibling,l=Ir(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?h=Ir(H,h):(h=Es(h,w,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,w=t.child.memoizedState,w===null?w=_d(a):(D=w.cachePool,D!==null?(H=Nt._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=Cp(),w={baseLanes:w.baseLanes|a,cachePool:D}),h.memoizedState=w,h.childLanes=bd(t,b,a),n.memoizedState=xd,l):(wi(n),a=t.child,t=a.sibling,a=Ir(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=a,n.memoizedState=null,a)}function wd(t,n){return n=zc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zc(t,n){return t=yn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ed(t,n,a){return ba(n,t.child,null,a),t=wd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bh(t.return,n,a)}function Td(t,n,a,l,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Gg(t,n,a){var l=n.pendingProps,h=l.revealOrder,m=l.tail;if(Ut(t,n,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,a,n);else if(t.tag===19)Fg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Ct,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Td(n,!1,h,a,m);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Vc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(n,!0,a,null,m);break;case"together":Td(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pr(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ni|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(jl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ir(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ir(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function Jx(t,n,a){switch(n.tag){case 3:Fe(n,n.stateNode.containerInfo),yi(n,Nt,t.memoizedState.cache),Nl();break;case 27:case 5:mn(n);break;case 4:Fe(n,n.stateNode.containerInfo);break;case 10:yi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(wi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Hg(t,n,a):(wi(n),t=Pr(t,n,a),t!==null?t.sibling:null);wi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(jl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Gg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Ct,Ct.current),l)break;return null;case 22:case 23:return n.lanes=0,zg(t,n,a);case 24:yi(n,Nt,t.memoizedState.cache)}return Pr(t,n,a)}function Yg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Sd(t,a)&&(n.flags&128)===0)return Vt=!1,Jx(t,n,a);Vt=(t.flags&131072)!==0}else Vt=!1,He&&(n.flags&1048576)!==0&&wp(n,yc,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Vh(l)?(t=Is(l,t),n.tag=1,n=Bg(null,n,l,t,a)):(n.tag=0,n=vd(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ae){n.tag=11,n=Og(null,n,l,t,a);break e}else if(h===j){n.tag=14,n=kg(null,n,l,t,a);break e}}throw n=ve(l)||l,Error(s(306,n,""))}}return n;case 0:return vd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Is(l,n.pendingProps),Bg(t,n,l,h,a);case 3:e:{if(Fe(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var m=n.memoizedState;h=m.element,Qh(t,n),Ll(n,l,null,a);var b=n.memoizedState;if(l=b.cache,yi(n,Nt,l),l!==m.cache&&qh(n,[Nt],a,!0),kl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=qg(t,n,l,a);break e}else if(l!==h){h=jn(Error(s(424)),n),Cl(h),n=qg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=$n(t.firstChild),sn=n,He=!0,As=null,or=!0,a=Tg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Nl(),l===h){n=Pr(t,n,a);break e}Ut(t,n,l,a)}n=n.child}return n;case 26:return Lc(t,n),t===null?(a=X0(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,l=Wc(_e.current).createElement(a),l[ft]=n,l[Pt]=t,qt(l,a,t),mt(l),n.stateNode=l):n.memoizedState=X0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return mn(n),t===null&&He&&(l=n.stateNode=$0(n.type,n.pendingProps,_e.current),sn=n,or=!0,h=ut,Ii(n.type)?(af=h,ut=$n(l.firstChild)):ut=h),Ut(t,n,n.pendingProps.children,a),Lc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=ut)&&(l=R_(l,n.type,n.pendingProps,or),l!==null?(n.stateNode=l,sn=n,ut=$n(l.firstChild),or=!1,h=!0):h=!1),h||Rs(n)),mn(n),h=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,tf(h,m)?l=null:b!==null&&tf(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=ed(t,n,Gx,null,null,a),so._currentValue=h),Lc(t,n),Ut(t,n,l,a),n.child;case 6:return t===null&&He&&((t=a=ut)&&(a=N_(a,n.pendingProps,or),a!==null?(n.stateNode=a,sn=n,ut=null,t=!0):t=!1),t||Rs(n)),null;case 13:return Hg(t,n,a);case 4:return Fe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ba(n,null,l,a):Ut(t,n,l,a),n.child;case 11:return Og(t,n,n.type,n.pendingProps,a);case 7:return Ut(t,n,n.pendingProps,a),n.child;case 8:return Ut(t,n,n.pendingProps.children,a),n.child;case 12:return Ut(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,yi(n,n.type,l.value),Ut(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Cs(n),h=Qt(h),l=l(h),n.flags|=1,Ut(t,n,l,a),n.child;case 14:return kg(t,n,n.type,n.pendingProps,a);case 15:return Lg(t,n,n.type,n.pendingProps,a);case 19:return Gg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=zc(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ir(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return zg(t,n,a);case 24:return Cs(n),l=Qt(Nt),t===null?(h=Gh(),h===null&&(h=nt,m=Hh(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:l,cache:h},$h(n),yi(n,Nt,h)):((t.lanes&a)!==0&&(Qh(t,n),Ll(n,null,null,a),kl()),h=t.memoizedState,m=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yi(n,Nt,l)):(l=m.cache,yi(n,Nt,l),l!==h.cache&&qh(n,[Nt],a,!0))),Ut(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ur(t){t.flags|=4}function $g(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n)){if(n=Vn.current,n!==null&&((ze&4194048)===ze?cr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||n!==cr))throw Vl=Yh,jp;t.flags|=8192}}function Pc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ii():536870912,t.lanes|=n,Sa|=n)}function Fl(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function e_(t,n,a){var l=n.pendingProps;switch(zh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),kr(Nt),an(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Rl(n)?Ur(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sp())),lt(n),null;case 26:return a=n.memoizedState,t===null?(Ur(n),a!==null?(lt(n),$g(n,a)):(lt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ur(n),lt(n),$g(n,a)):(lt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ur(n),lt(n),n.flags&=-16777217),null;case 27:Er(n),a=_e.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ur(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return lt(n),null}t=pe.current,Rl(n)?Ep(n):(t=$0(h,l,a),n.stateNode=t,Ur(n))}return lt(n),null;case 5:if(Er(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ur(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return lt(n),null}if(t=pe.current,Rl(n))Ep(n);else{switch(h=Wc(_e.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[ft]=n,t[Pt]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ur(n)}}return lt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ur(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=_e.current,Rl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ft]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||U0(t.nodeValue,a)),t||Rs(n)}else t=Wc(t).createTextNode(l),t[ft]=n,n.stateNode=t}return lt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Rl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ft]=n}else Nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=Sp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zr(n),n):(zr(n),null)}if(zr(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Pc(n,n.updateQueue),lt(n),null;case 4:return an(),t===null&&Xd(n.stateNode.containerInfo),lt(n),null;case 10:return kr(n.type),lt(n),null;case 19:if(de(Ct),h=n.memoizedState,h===null)return lt(n),null;if(l=(n.flags&128)!==0,m=h.rendering,m===null)if(l)Fl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Vc(t),m!==null){for(n.flags|=128,Fl(h,!1),t=m.updateQueue,n.updateQueue=t,Pc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)bp(a,t),a=a.sibling;return ce(Ct,Ct.current&1|2),n.child}t=t.sibling}h.tail!==null&&on()>qc&&(n.flags|=128,l=!0,Fl(h,!1),n.lanes=4194304)}else{if(!l)if(t=Vc(m),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Pc(n,t),Fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!He)return lt(n),null}else 2*on()-h.renderingStartTime>qc&&a!==536870912&&(n.flags|=128,l=!0,Fl(h,!1),n.lanes=4194304);h.isBackwards?(m.sibling=n.child,n.child=m):(t=h.last,t!==null?t.sibling=m:n.child=m,h.last=m)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=on(),n.sibling=null,t=Ct.current,ce(Ct,l?t&1|2:t&1),n):(lt(n),null);case 22:case 23:return zr(n),Wh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),a=n.updateQueue,a!==null&&Pc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&de(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),kr(Nt),lt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function t_(t,n){switch(zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kr(Nt),an(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Er(n),null;case 13:if(zr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return de(Ct),null;case 4:return an(),null;case 10:return kr(n.type),null;case 22:case 23:return zr(n),Wh(),t!==null&&de(js),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kr(Nt),null;case 25:return null;default:return null}}function Qg(t,n){switch(zh(n),n.tag){case 3:kr(Nt),an();break;case 26:case 27:case 5:Er(n);break;case 4:an();break;case 13:zr(n);break;case 19:de(Ct);break;case 10:kr(n.type);break;case 22:case 23:zr(n),Wh(),t!==null&&de(js);break;case 24:kr(Nt)}}function Gl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==h)}}catch(w){Je(n,n.return,w)}}function Ti(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=n;var D=a,H=w;try{H()}catch(W){Je(h,D,W)}}}l=l.next}while(l!==m)}}catch(W){Je(n,n.return,W)}}function Kg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{kp(n,a)}catch(l){Je(t,t.return,l)}}}function Xg(t,n,a){a.props=Is(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,n,l)}}function Yl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,n,h)}}function ur(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,n,h)}else a.current=null}function Zg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Ad(t,n,a){try{var l=t.stateNode;w_(l,t.type,a,n),l[Pt]=n}catch(h){Je(t,t.return,h)}}function Wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ii(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ii(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Zc));else if(l!==4&&(l===27&&Ii(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Nd(t,n,a),t=t.sibling;t!==null;)Nd(t,n,a),t=t.sibling}function Uc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ii(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uc(t,n,a),t=t.sibling;t!==null;)Uc(t,n,a),t=t.sibling}function Jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qt(n,l,a),n[ft]=t,n[Pt]=a}catch(m){Je(t,t.return,m)}}var Br=!1,yt=!1,Cd=!1,e0=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function n_(t,n){if(t=t.containerInfo,Jd=iu,t=hp(t),Rh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,w=-1,D=-1,H=0,W=0,te=t,G=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(w=b+h),te!==m||l!==0&&te.nodeType!==3||(D=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===t)break t;if(G===a&&++H===h&&(w=b),G===m&&++W===l&&(D=b),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ef={focusedElem:t,selectionRange:a},iu=!1,Ot=n;Ot!==null;)if(n=Ot,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ot=t;else for(;Ot!==null;){switch(n=Ot,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Te=Is(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Je(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)rf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ot=t;break}Ot=n.return}}function t0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Si(t,a),l&4&&Gl(5,a);break;case 1:if(Si(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(b){Je(a,a.return,b)}else{var h=Is(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(a,a.return,b)}}l&64&&Kg(a),l&512&&Yl(a,a.return);break;case 3:if(Si(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{kp(t,n)}catch(b){Je(a,a.return,b)}}break;case 27:n===null&&l&4&&Jg(a);case 26:case 5:Si(t,a),n===null&&l&4&&Zg(a),l&512&&Yl(a,a.return);break;case 12:Si(t,a);break;case 13:Si(t,a),l&4&&i0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=h_.bind(null,a),C_(t,a))));break;case 22:if(l=a.memoizedState!==null||Br,!l){n=n!==null&&n.memoizedState!==null||yt,h=Br;var m=yt;Br=l,(yt=n)&&!m?Ai(t,a,(a.subtreeFlags&8772)!==0):Si(t,a),Br=h,yt=m}break;case 30:break;default:Si(t,a)}}function n0(t){var n=t.alternate;n!==null&&(t.alternate=null,n0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ks(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,un=!1;function qr(t,n,a){for(a=a.child;a!==null;)r0(t,n,a),a=a.sibling}function r0(t,n,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:yt||ur(a,n),qr(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||ur(a,n);var l=st,h=un;Ii(a.type)&&(st=a.stateNode,un=!1),qr(t,n,a),to(a.stateNode),st=l,un=h;break;case 5:yt||ur(a,n);case 6:if(l=st,h=un,st=null,qr(t,n,a),st=l,un=h,st!==null)if(un)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(m){Je(a,n,m)}else try{st.removeChild(a.stateNode)}catch(m){Je(a,n,m)}break;case 18:st!==null&&(un?(t=st,G0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):G0(st,a.stateNode));break;case 4:l=st,h=un,st=a.stateNode.containerInfo,un=!0,qr(t,n,a),st=l,un=h;break;case 0:case 11:case 14:case 15:yt||Ti(2,a,n),yt||Ti(4,a,n),qr(t,n,a);break;case 1:yt||(ur(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xg(a,n,l)),qr(t,n,a);break;case 21:qr(t,n,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,qr(t,n,a),yt=l;break;default:qr(t,n,a)}}function i0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Je(n,n.return,a)}}function r_(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new e0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new e0),n;default:throw Error(s(435,t.tag))}}function jd(t,n){var a=r_(t);n.forEach(function(l){var h=d_.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function vn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Ii(w.type)){st=w.stateNode,un=!1;break e}break;case 5:st=w.stateNode,un=!1;break e;case 3:case 4:st=w.stateNode.containerInfo,un=!0;break e}w=w.return}if(st===null)throw Error(s(160));r0(m,b,h),st=null,un=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)s0(n,t),n=n.sibling}var Yn=null;function s0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),xn(t),l&4&&(Ti(3,t,t.return),Gl(3,t),Ti(5,t,t.return));break;case 1:vn(n,t),xn(t),l&512&&(yt||a===null||ur(a,a.return)),l&64&&Br&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(vn(n,t),xn(t),l&512&&(yt||a===null||ur(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[li]||m[ft]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),qt(m,l,a),m[ft]=t,mt(m),l=m;break e;case"link":var b=J0("link","href",h).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}m=h.createElement(l),qt(m,l,a),h.head.appendChild(m);break;case"meta":if(b=J0("meta","content",h).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}m=h.createElement(l),qt(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[ft]=t,mt(m),l=m}t.stateNode=l}else ey(h,t.type,t.stateNode);else t.stateNode=W0(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?ey(h,t.type,t.stateNode):W0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(n,t),xn(t),l&512&&(yt||a===null||ur(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(n,t),xn(t),l&512&&(yt||a===null||ur(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(Y){Je(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(vn(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){Je(t,t.return,Y)}}break;case 3:if(tu=null,h=Yn,Yn=Jc(n.containerInfo),vn(n,t),Yn=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(Y){Je(t,t.return,Y)}Cd&&(Cd=!1,a0(t));break;case 4:l=Yn,Yn=Jc(t.stateNode.containerInfo),vn(n,t),xn(t),Yn=l;break;case 12:vn(n,t),xn(t);break;case 13:vn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jd(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=Br,W=yt;if(Br=H||h,yt=W||D,vn(n,t),yt=W,Br=H,xn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Br||yt||Ms(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(m=D.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var te=D.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){Je(D,D.return,Y)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Y){Je(D,D.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jd(t,a))));break;case 19:vn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jd(t,l)));break;case 30:break;case 21:break;default:vn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Wg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Rd(t);Uc(t,m,h);break;case 5:var b=a.stateNode;a.flags&32&&(Nn(b,""),a.flags&=-33);var w=Rd(t);Uc(t,w,b);break;case 3:case 4:var D=a.stateNode.containerInfo,H=Rd(t);Nd(t,H,D);break;default:throw Error(s(161))}}catch(W){Je(t,t.return,W)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function a0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;a0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)t0(t,n.alternate,n),n=n.sibling}function Ms(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),Ms(n);break;case 1:ur(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Xg(n,n.return,a),Ms(n);break;case 27:to(n.stateNode);case 26:case 5:ur(n,n.return),Ms(n);break;case 22:n.memoizedState===null&&Ms(n);break;case 30:Ms(n);break;default:Ms(n)}t=t.sibling}}function Ai(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ai(h,m,a),Gl(4,m);break;case 1:if(Ai(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=m,h=l.updateQueue,h!==null){var w=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Op(D[h],w)}catch(H){Je(l,l.return,H)}}a&&b&64&&Kg(m),Yl(m,m.return);break;case 27:Jg(m);case 26:case 5:Ai(h,m,a),a&&l===null&&b&4&&Zg(m),Yl(m,m.return);break;case 12:Ai(h,m,a);break;case 13:Ai(h,m,a),a&&b&4&&i0(h,m);break;case 22:m.memoizedState===null&&Ai(h,m,a),Yl(m,m.return);break;case 30:break;default:Ai(h,m,a)}n=n.sibling}}function Dd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dl(a))}function Id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t))}function hr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)l0(t,n,a,l),n=n.sibling}function l0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hr(t,n,a,l),h&2048&&Gl(9,n);break;case 1:hr(t,n,a,l);break;case 3:hr(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){hr(t,n,a,l),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(n,n.return,D)}}else hr(t,n,a,l);break;case 13:hr(t,n,a,l);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?hr(t,n,a,l):$l(t,n):m._visibility&2?hr(t,n,a,l):(m._visibility|=2,wa(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&Dd(b,n);break;case 24:hr(t,n,a,l),h&2048&&Id(n.alternate,n);break;default:hr(t,n,a,l)}}function wa(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,b=n,w=a,D=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:wa(m,b,w,D,h),Gl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?wa(m,b,w,D,h):$l(m,b):(W._visibility|=2,wa(m,b,w,D,h)),h&&H&2048&&Dd(b.alternate,b);break;case 24:wa(m,b,w,D,h),h&&H&2048&&Id(b.alternate,b);break;default:wa(m,b,w,D,h)}n=n.sibling}}function $l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:$l(a,l),h&2048&&Dd(l.alternate,l);break;case 24:$l(a,l),h&2048&&Id(l.alternate,l);break;default:$l(a,l)}n=n.sibling}}var Ql=8192;function Ea(t){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)o0(t),t=t.sibling}function o0(t){switch(t.tag){case 26:Ea(t),t.flags&Ql&&t.memoizedState!==null&&q_(Yn,t.memoizedState,t.memoizedProps);break;case 5:Ea(t);break;case 3:case 4:var n=Yn;Yn=Jc(t.stateNode.containerInfo),Ea(t),Yn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ql,Ql=16777216,Ea(t),Ql=n):Ea(t));break;default:Ea(t)}}function c0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ot=l,h0(l,t)}c0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)u0(t),t=t.sibling}function u0(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bc(t)):Kl(t);break;default:Kl(t)}}function Bc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ot=l,h0(l,t)}c0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),Bc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(n));break;default:Bc(n)}t=t.sibling}}function h0(t,n){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:Ti(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,m=l.return;if(n0(l),l===a){Ot=null;break e}if(h!==null){h.return=m,Ot=h;break e}Ot=m}}}var i_={getCacheForType:function(t){var n=Qt(Nt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},s_=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Ve=null,ze=0,Qe=0,_n=null,Ri=!1,Ta=!1,Md=!1,Hr=0,ht=0,Ni=0,Vs=0,Vd=0,On=0,Sa=0,Xl=null,hn=null,Od=!1,kd=0,qc=1/0,Hc=null,Ci=null,Bt=0,ji=null,Aa=null,Ra=0,Ld=0,zd=null,d0=null,Zl=0,Pd=null;function bn(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(X.T!==null){var t=ma;return t!==0?t:Yd()}return Sr()}function f0(){On===0&&(On=(ze&536870912)===0||He?ll():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),On}function wn(t,n,a){(t===nt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Na(t,0),Di(t,ze,On,!1)),dt(t,a),(($e&2)===0||t!==nt)&&(t===nt&&(($e&2)===0&&(Vs|=a),ht===4&&Di(t,ze,On,!1)),dr(t))}function m0(t,n,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||ri(t,n),h=l?o_(t,n):qd(t,n,!0),m=l;do{if(h===0){Ta&&!l&&Di(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!a_(a)){h=qd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=t;h=Xl;var D=w.current.memoizedState.isDehydrated;if(D&&(Na(w,b).flags|=256),b=qd(w,b,!1),b!==2){if(Md&&!D){w.errorRecoveryDisabledLanes|=m,Vs|=m,h=4;break e}m=hn,hn=h,m!==null&&(hn===null?hn=m:hn.push.apply(hn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Na(t,0),Di(t,n,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Di(l,n,On,!Ri);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=kd+300-on(),10<h)){if(Di(l,n,On,!Ri),An(l,0,!0)!==0)break e;l.timeoutHandle=H0(p0.bind(null,l,a,hn,Hc,Od,n,On,Vs,Sa,Ri,m,2,-0,0),h);break e}p0(l,a,hn,Hc,Od,n,On,Vs,Sa,Ri,m,0,-0,0)}}break}while(!0);dr(t)}function p0(t,n,a,l,h,m,b,w,D,H,W,te,G,Y){if(t.timeoutHandle=-1,te=n.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(io={stylesheets:null,count:0,unsuspend:B_},o0(n),te=H_(),te!==null)){t.cancelPendingCommit=te(w0.bind(null,t,n,m,a,l,h,b,w,D,W,1,G,Y)),Di(t,m,b,!H);return}w0(t,n,m,a,l,h,b,w,D)}function a_(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!gn(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(t,n,a,l){n&=~Vd,n&=~Vs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var m=31-en(h),b=1<<m;l[m]=-1,h&=~b}a!==0&&si(t,a,n)}function Fc(){return($e&6)===0?(Wl(0),!1):!0}function Ud(){if(Ve!==null){if(Qe===0)var t=Ve.return;else t=Ve,Or=Ns=null,rd(t),_a=null,ql=0,t=Ve;for(;t!==null;)Qg(t.alternate,t),t=t.return;Ve=null}}function Na(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,T_(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ud(),nt=t,Ve=a=Ir(t.current,null),ze=n,Qe=0,_n=null,Ri=!1,Ta=ri(t,n),Md=!1,Sa=On=Vd=Vs=Ni=ht=0,hn=Xl=null,Od=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-en(l),m=1<<h;n|=t[h],l&=~m}return Hr=n,dc(),a}function g0(t,n){De=null,X.H=Dc,n===Ml||n===bc?(n=Mp(),Qe=3):n===jp?(n=Mp(),Qe=4):Qe=n===Vg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ve===null&&(ht=1,kc(t,jn(n,t.current)))}function y0(){var t=X.H;return X.H=Dc,t===null?Dc:t}function v0(){var t=X.A;return X.A=i_,t}function Bd(){ht=4,Ri||(ze&4194048)!==ze&&Vn.current!==null||(Ta=!0),(Ni&134217727)===0&&(Vs&134217727)===0||nt===null||Di(nt,ze,On,!1)}function qd(t,n,a){var l=$e;$e|=2;var h=y0(),m=v0();(nt!==t||ze!==n)&&(Hc=null,Na(t,n)),n=!1;var b=ht;e:do try{if(Qe!==0&&Ve!==null){var w=Ve,D=_n;switch(Qe){case 8:Ud(),b=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var H=Qe;if(Qe=0,_n=null,Ca(t,w,D,H),a&&Ta){b=0;break e}break;default:H=Qe,Qe=0,_n=null,Ca(t,w,D,H)}}l_(),b=ht;break}catch(W){g0(t,W)}while(!0);return n&&t.shellSuspendCounter++,Or=Ns=null,$e=l,X.H=h,X.A=m,Ve===null&&(nt=null,ze=0,dc()),b}function l_(){for(;Ve!==null;)x0(Ve)}function o_(t,n){var a=$e;$e|=2;var l=y0(),h=v0();nt!==t||ze!==n?(Hc=null,qc=on()+500,Na(t,n)):Ta=ri(t,n);e:do try{if(Qe!==0&&Ve!==null){n=Ve;var m=_n;t:switch(Qe){case 1:Qe=0,_n=null,Ca(t,n,m,1);break;case 2:case 9:if(Dp(m)){Qe=0,_n=null,_0(n);break}n=function(){Qe!==2&&Qe!==9||nt!==t||(Qe=7),dr(t)},m.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Dp(m)?(Qe=0,_n=null,_0(n)):(Qe=0,_n=null,Ca(t,n,m,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var w=Ve;if(!b||ty(b)){Qe=0,_n=null;var D=w.sibling;if(D!==null)Ve=D;else{var H=w.return;H!==null?(Ve=H,Gc(H)):Ve=null}break t}}Qe=0,_n=null,Ca(t,n,m,5);break;case 6:Qe=0,_n=null,Ca(t,n,m,6);break;case 8:Ud(),ht=6;break e;default:throw Error(s(462))}}c_();break}catch(W){g0(t,W)}while(!0);return Or=Ns=null,X.H=l,X.A=h,$e=a,Ve!==null?0:(nt=null,ze=0,dc(),ht)}function c_(){for(;Ve!==null&&!il();)x0(Ve)}function x0(t){var n=Yg(t.alternate,t,Hr);t.memoizedProps=t.pendingProps,n===null?Gc(t):Ve=n}function _0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ug(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=Ug(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:rd(n);default:Qg(a,n),n=Ve=bp(n,Hr),n=Yg(a,n,Hr)}t.memoizedProps=t.pendingProps,n===null?Gc(t):Ve=n}function Ca(t,n,a,l){Or=Ns=null,rd(n),_a=null,ql=0;var h=n.return;try{if(Wx(t,h,n,a,ze)){ht=1,kc(t,jn(a,t.current)),Ve=null;return}}catch(m){if(h!==null)throw Ve=h,m;ht=1,kc(t,jn(a,t.current)),Ve=null;return}n.flags&32768?(He||l===1?t=!0:Ta||(ze&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),b0(n,t)):Gc(n)}function Gc(t){var n=t;do{if((n.flags&32768)!==0){b0(n,Ri);return}t=n.return;var a=e_(n.alternate,n,Hr);if(a!==null){Ve=a;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);ht===0&&(ht=5)}function b0(t,n){do{var a=t_(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);ht=6,Ve=null}function w0(t,n,a,l,h,m,b,w,D){t.cancelPendingCommit=null;do Yc();while(Bt!==0);if(($e&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=Ih,Ko(t,a,m,b,w,D),t===nt&&(Ve=nt=null,ze=0),Aa=n,ji=t,Ra=a,Ld=m,zd=h,d0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f_(Tr,function(){return R0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=Z.p,Z.p=2,b=$e,$e|=4;try{n_(t,n,a)}finally{$e=b,Z.p=h,X.T=l}}Bt=1,E0(),T0(),S0()}}function E0(){if(Bt===1){Bt=0;var t=ji,n=Aa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=Z.p;Z.p=2;var h=$e;$e|=4;try{s0(n,t);var m=ef,b=hp(t.containerInfo),w=m.focusedElem,D=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&up(w.ownerDocument.documentElement,w)){if(D!==null&&Rh(w)){var H=D.start,W=D.end;if(W===void 0&&(W=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(W,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Y=G.getSelection(),Te=w.textContent.length,xe=Math.min(D.start,Te),We=D.end===void 0?xe:Math.min(D.end,Te);!Y.extend&&xe>We&&(b=We,We=xe,xe=b);var P=cp(w,xe),k=cp(w,We);if(P&&k&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var U=te.createRange();U.setStart(P.node,P.offset),Y.removeAllRanges(),xe>We?(Y.addRange(U),Y.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),Y.addRange(U))}}}}for(te=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}iu=!!Jd,ef=Jd=null}finally{$e=h,Z.p=l,X.T=a}}t.current=n,Bt=2}}function T0(){if(Bt===2){Bt=0;var t=ji,n=Aa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=Z.p;Z.p=2;var h=$e;$e|=4;try{t0(t,n.alternate,n)}finally{$e=h,Z.p=l,X.T=a}}Bt=3}}function S0(){if(Bt===4||Bt===3){Bt=0,sl();var t=ji,n=Aa,a=Ra,l=d0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Aa=ji=null,A0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ci=null),cl(a),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=Z.p,Z.p=2,X.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{X.T=n,Z.p=h}}(Ra&3)!==0&&Yc(),dr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Pd?Zl++:(Zl=0,Pd=t):Zl=0,Wl(0)}}function A0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Dl(n)))}function Yc(t){return E0(),T0(),S0(),R0()}function R0(){if(Bt!==5)return!1;var t=ji,n=Ld;Ld=0;var a=cl(Ra),l=X.T,h=Z.p;try{Z.p=32>a?32:a,X.T=null,a=zd,zd=null;var m=ji,b=Ra;if(Bt=0,Aa=ji=null,Ra=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,u0(m.current),l0(m,m.current,b,a),$e=w,Wl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ti,m)}catch{}return!0}finally{Z.p=h,X.T=l,A0(t,n)}}function N0(t,n,a){n=jn(a,n),n=yd(t.stateNode,n,2),t=_i(t,n,2),t!==null&&(dt(t,2),dr(t))}function Je(t,n,a){if(t.tag===3)N0(t,t,a);else for(;n!==null;){if(n.tag===3){N0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=jn(a,t),a=Ig(2),l=_i(n,a,2),l!==null&&(Mg(a,l,n,t),dt(l,2),dr(l));break}}n=n.return}}function Hd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new s_;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Md=!0,h.add(a),t=u_.bind(null,t,n,a),n.then(t,t))}function u_(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ze&a)===a&&(ht===4||ht===3&&(ze&62914560)===ze&&300>on()-kd?($e&2)===0&&Na(t,0):Vd|=a,Sa===ze&&(Sa=0)),dr(t)}function C0(t,n){n===0&&(n=ii()),t=ua(t,n),t!==null&&(dt(t,n),dr(t))}function h_(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),C0(t,a)}function d_(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),C0(t,a)}function f_(t,n){return Ae(t,n)}var $c=null,ja=null,Fd=!1,Qc=!1,Gd=!1,Os=0;function dr(t){t!==ja&&t.next===null&&(ja===null?$c=ja=t:ja=ja.next=t),Qc=!0,Fd||(Fd=!0,p_())}function Wl(t,n){if(!Gd&&Qc){Gd=!0;do for(var a=!1,l=$c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-en(42|t)+1)-1,m&=h&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,M0(l,m))}else m=ze,m=An(l,l===nt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ri(l,m)||(a=!0,M0(l,m));l=l.next}while(a);Gd=!1}}function m_(){j0()}function j0(){Qc=Fd=!1;var t=0;Os!==0&&(E_()&&(t=Os),Os=0);for(var n=on(),a=null,l=$c;l!==null;){var h=l.next,m=D0(l,n);m===0?(l.next=null,a===null?$c=h:a.next=h,h===null&&(ja=a)):(a=l,(t!==0||(m&3)!==0)&&(Qc=!0)),l=h}Wl(t)}function D0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-en(m),w=1<<b,D=h[b];D===-1?((w&a)===0||(w&l)!==0)&&(h[b]=$s(w,n)):D<=n&&(t.expiredLanes|=w),m&=~w}if(n=nt,a=ze,a=An(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ln(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ri(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ln(l),cl(a)){case 2:case 8:a=It;break;case 32:a=Tr;break;case 268435456:a=al;break;default:a=Tr}return l=I0.bind(null,t),a=Ae(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ln(l),t.callbackPriority=2,t.callbackNode=null,2}function I0(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yc()&&t.callbackNode!==a)return null;var l=ze;return l=An(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(m0(t,l,n),D0(t,on()),t.callbackNode!=null&&t.callbackNode===a?I0.bind(null,t):null)}function M0(t,n){if(Yc())return null;m0(t,n,!0)}function p_(){S_(function(){($e&6)!==0?Ae(At,m_):j0()})}function Yd(){return Os===0&&(Os=ll()),Os}function V0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bn(""+t)}function O0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function g_(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var m=V0((h[Pt]||null).action),b=l.submitter;b&&(n=(n=b[Pt]||null)?V0(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var w=new ms("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var D=b?O0(h,b):new FormData(h);dd(a,{pending:!0,data:D,method:h.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=b?O0(h,b):new FormData(h),dd(a,{pending:!0,data:D,method:h.method,action:m},m,D))},currentTarget:h}]})}}for(var $d=0;$d<Dh.length;$d++){var Qd=Dh[$d],y_=Qd.toLowerCase(),v_=Qd[0].toUpperCase()+Qd.slice(1);Gn(y_,"on"+v_)}Gn(mp,"onAnimationEnd"),Gn(pp,"onAnimationIteration"),Gn(gp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Ox,"onTransitionRun"),Gn(kx,"onTransitionStart"),Gn(Lx,"onTransitionCancel"),Gn(yp,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function k0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(n)for(var b=l.length-1;0<=b;b--){var w=l[b],D=w.instance,H=w.currentTarget;if(w=w.listener,D!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=H;try{m(h)}catch(W){Oc(W)}h.currentTarget=null,m=D}else for(b=0;b<l.length;b++){if(w=l[b],D=w.instance,H=w.currentTarget,w=w.listener,D!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=H;try{m(h)}catch(W){Oc(W)}h.currentTarget=null,m=D}}}}function Oe(t,n){var a=n[ts];a===void 0&&(a=n[ts]=new Set);var l=t+"__bubble";a.has(l)||(L0(n,t,2,!1),a.add(l))}function Kd(t,n,a){var l=0;n&&(l|=4),L0(a,t,l,n)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Kc]){t[Kc]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(x_.has(a)||Kd(a,!1,t),Kd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Kc]||(n[Kc]=!0,Kd("selectionchange",!1,n))}}function L0(t,n,a,l){switch(ly(n)){case 2:var h=Y_;break;case 8:h=$_;break;default:h=hf}a=h.bind(null,n,a,t),h=void 0,!jr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Zd(t,n,a,l,h){var m=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=tr(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=m=b;continue e}w=w.parentNode}}l=l.return}hs(function(){var H=m,W=gl(a),te=[];e:{var G=vp.get(t);if(G!==void 0){var Y=ms,Te=t;switch(t){case"keypress":if(ds(a)===0)break e;case"keydown":case"keyup":Y=aa;break;case"focusin":Te="focus",Y=ra;break;case"focusout":Te="blur",Y=ra;break;case"beforeblur":case"afterblur":Y=ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=gi;break;case mp:case pp:case gp:Y=vl;break;case yp:Y=g;break;case"scroll":case"scrollend":Y=gs;break;case"wheel":Y=S;break;case"copy":case"cut":case"paste":Y=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=bl;break;case"toggle":case"beforetoggle":Y=K}var xe=(n&4)!==0,We=!xe&&(t==="scroll"||t==="scrollend"),P=xe?G!==null?G+"Capture":null:G;xe=[];for(var k=H,U;k!==null;){var J=k;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||P===null||(J=mi(k,P),J!=null&&xe.push(eo(k,J,U))),We)break;k=k.return}0<xe.length&&(G=new Y(G,Te,null,a,W),te.push({event:G,listeners:xe}))}}if((n&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==pl&&(Te=a.relatedTarget||a.fromElement)&&(tr(Te)||Te[Ar]))break e;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(Te=a.relatedTarget||a.toElement,Y=H,Te=Te?tr(Te):null,Te!==null&&(We=c(Te),xe=Te.tag,Te!==We||xe!==5&&xe!==27&&xe!==6)&&(Te=null)):(Y=null,Te=H),Y!==Te)){if(xe=xs,J="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(xe=bl,J="onPointerLeave",P="onPointerEnter",k="pointer"),We=Y==null?G:oi(Y),U=Te==null?G:oi(Te),G=new xe(J,k+"leave",Y,a,W),G.target=We,G.relatedTarget=U,J=null,tr(W)===H&&(xe=new xe(P,k+"enter",Te,a,W),xe.target=U,xe.relatedTarget=We,J=xe),We=J,Y&&Te)t:{for(xe=Y,P=Te,k=0,U=xe;U;U=Da(U))k++;for(U=0,J=P;J;J=Da(J))U++;for(;0<k-U;)xe=Da(xe),k--;for(;0<U-k;)P=Da(P),U--;for(;k--;){if(xe===P||P!==null&&xe===P.alternate)break t;xe=Da(xe),P=Da(P)}xe=null}else xe=null;Y!==null&&z0(te,G,Y,xe,!1),Te!==null&&We!==null&&z0(te,We,Te,xe,!0)}}e:{if(G=H?oi(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var me=rp;else if(tp(G))if(ip)me=Ix;else{me=jx;var Ie=Cx}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&ea(H.elementType)&&(me=rp):me=Dx;if(me&&(me=me(t,H))){np(te,me,a,W);break e}Ie&&Ie(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&dl(G,"number",G.value)}switch(Ie=H?oi(H):window,t){case"focusin":(tp(Ie)||Ie.contentEditable==="true")&&(la=Ie,Nh=H,Al=null);break;case"focusout":Al=Nh=la=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,dp(te,a,W);break;case"selectionchange":if(Vx)break;case"keydown":case"keyup":dp(te,a,W)}var ge;if(Re)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Fn?qn(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(pt&&a.locale!=="ko"&&(Fn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Fn&&(ge=nc()):(Cn=W,tt="value"in Cn?Cn.value:Cn.textContent,Fn=!0)),Ie=Xc(H,be),0<Ie.length&&(be=new _l(be,t,null,a,W),te.push({event:be,listeners:Ie}),ge?be.data=ge:(ge=Hn(a),ge!==null&&(be.data=ge)))),(ge=Ye?wl(t,a):Ax(t,a))&&(be=Xc(H,"onBeforeInput"),0<be.length&&(Ie=new _l("onBeforeInput","beforeinput",null,a,W),te.push({event:Ie,listeners:be}),Ie.data=ge)),g_(te,t,H,a,W)}k0(te,n)})}function eo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Xc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=mi(t,a),h!=null&&l.unshift(eo(t,h,m)),h=mi(t,n),h!=null&&l.push(eo(t,h,m))),t.tag===3)return l;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z0(t,n,a,l,h){for(var m=n._reactName,b=[];a!==null&&a!==l;){var w=a,D=w.alternate,H=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||H===null||(D=H,h?(H=mi(a,m),H!=null&&b.unshift(eo(a,H,D))):h||(H=mi(a,m),H!=null&&b.push(eo(a,H,D)))),a=a.return}b.length!==0&&t.push({event:n,listeners:b})}var __=/\r\n?/g,b_=/\u0000|\uFFFD/g;function P0(t){return(typeof t=="string"?t:""+t).replace(__,`
`).replace(b_,"")}function U0(t,n){return n=P0(n),P0(t)===n}function Zc(){}function Ze(t,n,a,l,h,m){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Nn(t,""+l);break;case"className":as(t,"class",l);break;case"tabIndex":as(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":as(t,a,l);break;case"style":ml(t,l,m);break;case"data":if(n!=="object"){as(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Bn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Bn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ss(t,"popover",l);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ss(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jo.get(a)||a,ss(t,a,l))}}function Wd(t,n,a,l,h,m){switch(a){case"style":ml(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[Pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ss(t,a,l)}}}function qt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(t,n,m,b,a,null)}}h&&Ze(t,n,"srcSet",a.srcSet,a,null),l&&Ze(t,n,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=m=b=h=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":b=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":m=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:Ze(t,n,l,W,a,null)}}hl(t,m,w,D,H,b,h,!1),hi(t);return;case"select":Oe("invalid",t),l=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Ze(t,n,h,w,a,null)}n=m,a=b,t.multiple=!!l,n!=null?di(t,!!l,n,!1):a!=null&&di(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),m=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ze(t,n,b,w,a,null)}Wo(t,l,h,m),hi(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,n,D,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Oe(Jl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(t,n,H,l,a,null)}return;default:if(ea(n)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Wd(t,n,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Ze(t,n,w,l,a,null))}function w_(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,w=null,D=null,H=null,W=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(Y)||Ze(t,n,Y,null,l,te)}}for(var G in l){var Y=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":m=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":W=Y;break;case"value":b=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==te&&Ze(t,n,G,Y,l,te)}}ul(t,b,w,D,H,W,m,h);return;case"select":Y=b=w=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(m)||Ze(t,n,m,null,l,D)}for(h in l)if(m=l[h],D=a[h],l.hasOwnProperty(h)&&(m!=null||D!=null))switch(h){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==D&&Ze(t,n,h,m,l,D)}n=w,a=b,l=Y,G!=null?di(t,!!a,G,!1):!!l!=!!a&&(n!=null?di(t,!!a,n,!0):di(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(t,n,w,null,l,h)}for(b in l)if(h=l[b],m=a[b],l.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Ze(t,n,b,h,l,m)}Zo(t,G,Y);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ze(t,n,Te,null,l,G)}for(D in l)if(G=l[D],Y=a[D],l.hasOwnProperty(D)&&G!==Y&&(G!=null||Y!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,n,D,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)G=a[xe],a.hasOwnProperty(xe)&&G!=null&&!l.hasOwnProperty(xe)&&Ze(t,n,xe,null,l,G);for(H in l)if(G=l[H],Y=a[H],l.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Ze(t,n,H,G,l,Y)}return;default:if(ea(n)){for(var We in a)G=a[We],a.hasOwnProperty(We)&&G!==void 0&&!l.hasOwnProperty(We)&&Wd(t,n,We,void 0,l,G);for(W in l)G=l[W],Y=a[W],!l.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||Wd(t,n,W,G,l,Y);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&Ze(t,n,P,null,l,G);for(te in l)G=l[te],Y=a[te],!l.hasOwnProperty(te)||G===Y||G==null&&Y==null||Ze(t,n,te,G,l,Y)}var Jd=null,ef=null;function Wc(t){return t.nodeType===9?t:t.ownerDocument}function B0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nf=null;function E_(){var t=window.event;return t&&t.type==="popstate"?t===nf?!1:(nf=t,!0):(nf=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,T_=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,S_=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(t){return F0.resolve(null).then(t).catch(A_)}:H0;function A_(t){setTimeout(function(){throw t})}function Ii(t){return t==="head"}function G0(t,n){var a=n,l=0,h=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&to(b.documentElement),a&2&&to(b.body),a&4)for(a=b.head,to(a),b=a.firstChild;b;){var w=b.nextSibling,D=b.nodeName;b[li]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(h===0){t.removeChild(m),co(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);co(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rf(a),Ks(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function R_(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function N_(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function C_(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var af=null;function Y0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function $0(t,n,a){switch(n=Wc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function to(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ks(t)}var kn=new Map,Q0=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fr=Z.d;Z.d={f:j_,r:D_,D:I_,C:M_,L:V_,m:O_,X:L_,S:k_,M:z_};function j_(){var t=Fr.f(),n=Fc();return t||n}function D_(t){var n=nr(t);n!==null&&n.tag===5&&n.type==="form"?mg(n):Fr.r(t)}var Ia=typeof document>"u"?null:document;function K0(t,n,a){var l=Ia;if(l&&typeof n=="string"&&n){var h=Mt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Q0.has(h)||(Q0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),qt(n,"link",t),mt(n),l.head.appendChild(n)))}}function I_(t){Fr.D(t),K0("dns-prefetch",t,null)}function M_(t,n){Fr.C(t,n),K0("preconnect",t,n)}function V_(t,n,a){Fr.L(t,n,a);var l=Ia;if(l&&t&&n){var h='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Mt(a.imageSizes)+'"]')):h+='[href="'+Mt(t)+'"]';var m=h;switch(n){case"style":m=Ma(t);break;case"script":m=Va(t)}kn.has(m)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),kn.set(m,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(no(m))||n==="script"&&l.querySelector(ro(m))||(n=l.createElement("link"),qt(n,"link",t),mt(n),l.head.appendChild(n)))}}function O_(t,n){Fr.m(t,n);var a=Ia;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Va(t)}if(!kn.has(m)&&(t=x({rel:"modulepreload",href:t},n),kn.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ro(m)))return}l=a.createElement("link"),qt(l,"link",t),mt(l),a.head.appendChild(l)}}}function k_(t,n,a){Fr.S(t,n,a);var l=Ia;if(l&&t){var h=ci(l).hoistableStyles,m=Ma(t);n=n||"default";var b=h.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(no(m)))w.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=kn.get(m))&&lf(t,a);var D=b=l.createElement("link");mt(D),qt(D,"link",t),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,eu(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(m,b)}}}function L_(t,n){Fr.X(t,n);var a=Ia;if(a&&t){var l=ci(a).hoistableScripts,h=Va(t),m=l.get(h);m||(m=a.querySelector(ro(h)),m||(t=x({src:t,async:!0},n),(n=kn.get(h))&&of(t,n),m=a.createElement("script"),mt(m),qt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function z_(t,n){Fr.M(t,n);var a=Ia;if(a&&t){var l=ci(a).hoistableScripts,h=Va(t),m=l.get(h);m||(m=a.querySelector(ro(h)),m||(t=x({src:t,async:!0,type:"module"},n),(n=kn.get(h))&&of(t,n),m=a.createElement("script"),mt(m),qt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function X0(t,n,a,l){var h=(h=_e.current)?Jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ma(a.href),a=ci(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ma(a.href);var m=ci(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(no(t)))&&!m._p&&(b.instance=m,b.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),m||P_(h,t,a,b.state))),n&&l===null)throw Error(s(528,""));return b}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(a),a=ci(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ma(t){return'href="'+Mt(t)+'"'}function no(t){return'link[rel="stylesheet"]['+t+"]"}function Z0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function P_(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qt(n,"link",a),mt(n),t.head.appendChild(n))}function Va(t){return'[src="'+Mt(t)+'"]'}function ro(t){return"script[async]"+t}function W0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(l)return n.instance=l,mt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),qt(l,"style",h),eu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ma(a.href);var m=t.querySelector(no(h));if(m)return n.state.loading|=4,n.instance=m,mt(m),m;l=Z0(a),(h=kn.get(h))&&lf(l,h),m=(t.ownerDocument||t).createElement("link"),mt(m);var b=m;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),qt(m,"link",l),n.state.loading|=4,eu(m,a.precedence,t),n.instance=m;case"script":return m=Va(a.src),(h=t.querySelector(ro(m)))?(n.instance=h,mt(h),h):(l=a,(h=kn.get(m))&&(l=x({},a),of(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),qt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,eu(l,a.precedence,t));return n.instance}function eu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===n)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tu=null;function J0(t,n,a){if(tu===null){var l=new Map,h=tu=new Map;h.set(a,l)}else h=tu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[li]||m[ft]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function ey(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function U_(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var io=null;function B_(){}function q_(t,n,a){if(io===null)throw Error(s(475));var l=io;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ma(a.href),m=t.querySelector(no(h));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=m,mt(m);return}m=t.ownerDocument||t,a=Z0(a),(h=kn.get(h))&&lf(a,h),m=m.createElement("link"),mt(m);var b=m;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),qt(m,"link",a),n.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=nu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function H_(){if(io===null)throw Error(s(475));var t=io;return t.stylesheets&&t.count===0&&cf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&cf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function nu(){if(this.count--,this.count===0){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ru=null;function cf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ru=new Map,n.forEach(F_,t),ru=null,nu.call(t))}function F_(t,n){if(!(n.state.loading&4)){var a=ru.get(t);if(a)var l=a.get(null);else{a=new Map,ru.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=n.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,h),a.set(b,h),this.count++,l=nu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var so={$$typeof:se,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function G_(t,n,a,l,h,m,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ny(t,n,a,l,h,m,b,w,D,H,W,te){return t=new G_(t,n,a,b,w,D,H,te),n=1,m===!0&&(n|=24),m=yn(3,null,null,n),t.current=m,m.stateNode=t,n=Hh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:n},$h(m),t}function ry(t){return t?(t=ha,t):ha}function iy(t,n,a,l,h,m){h=ry(h),l.context===null?l.context=h:l.pendingContext=h,l=xi(n),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=_i(t,l,n),a!==null&&(wn(a,t,n),Ol(a,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function uf(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ay(t){if(t.tag===13){var n=ua(t,67108864);n!==null&&wn(n,t,67108864),uf(t,67108864)}}var iu=!0;function Y_(t,n,a,l){var h=X.T;X.T=null;var m=Z.p;try{Z.p=2,hf(t,n,a,l)}finally{Z.p=m,X.T=h}}function $_(t,n,a,l){var h=X.T;X.T=null;var m=Z.p;try{Z.p=8,hf(t,n,a,l)}finally{Z.p=m,X.T=h}}function hf(t,n,a,l){if(iu){var h=df(l);if(h===null)Zd(t,n,l,su,a),oy(t,l);else if(K_(h,t,n,a,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<Q_.indexOf(t)){for(;h!==null;){var m=nr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=zn(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-en(b);w.entanglements[1]|=D,b&=~D}dr(m),($e&6)===0&&(qc=on()+500,Wl(0))}}break;case 13:w=ua(m,2),w!==null&&wn(w,m,2),Fc(),uf(m,2)}if(m=df(l),m===null&&Zd(t,n,l,su,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Zd(t,n,l,null,a)}}function df(t){return t=gl(t),ff(t)}var su=null;function ff(t){if(su=null,t=tr(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return su=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yo()){case At:return 2;case It:return 8;case Tr:case yh:return 32;case al:return 268435456;default:return 32}default:return 32}}var mf=!1,Mi=null,Vi=null,Oi=null,ao=new Map,lo=new Map,ki=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(n.pointerId)}}function oo(t,n,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},n!==null&&(n=nr(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function K_(t,n,a,l,h){switch(n){case"focusin":return Mi=oo(Mi,t,n,a,l,h),!0;case"dragenter":return Vi=oo(Vi,t,n,a,l,h),!0;case"mouseover":return Oi=oo(Oi,t,n,a,l,h),!0;case"pointerover":var m=h.pointerId;return ao.set(m,oo(ao.get(m)||null,t,n,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,lo.set(m,oo(lo.get(m)||null,t,n,a,l,h)),!0}return!1}function cy(t){var n=tr(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,_h(t.priority,function(){if(a.tag===13){var l=bn();l=ol(l);var h=ua(a,l);h!==null&&wn(h,a,l),uf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function au(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=df(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return n=nr(a),n!==null&&ay(n),t.blockedOn=a,!1;n.shift()}return!0}function uy(t,n,a){au(t)&&a.delete(n)}function X_(){mf=!1,Mi!==null&&au(Mi)&&(Mi=null),Vi!==null&&au(Vi)&&(Vi=null),Oi!==null&&au(Oi)&&(Oi=null),ao.forEach(uy),lo.forEach(uy)}function lu(t,n){t.blockedOn===n&&(t.blockedOn=null,mf||(mf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,X_)))}var ou=null;function hy(t){ou!==t&&(ou=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ou===t&&(ou=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ff(l||a)===null)continue;break}var m=nr(a);m!==null&&(t.splice(n,3),n-=3,dd(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function co(t){function n(D){return lu(D,t)}Mi!==null&&lu(Mi,t),Vi!==null&&lu(Vi,t),Oi!==null&&lu(Oi,t),ao.forEach(n),lo.forEach(n);for(var a=0;a<ki.length;a++){var l=ki[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)cy(a),a.blockedOn===null&&ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],b=h[Pt]||null;if(typeof m=="function")b||hy(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Pt]||null)w=b.formAction;else if(ff(h)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),hy(a)}}}function pf(t){this._internalRoot=t}cu.prototype.render=pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=bn();iy(a,l,t,n,null,null)},cu.prototype.unmount=pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),Fc(),n[Ar]=null}};function cu(t){this._internalRoot=t}cu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Sr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ki.length&&n!==0&&n<ki[a].priority;a++);ki.splice(a,0,t),a===0&&cy(t)}};var dy=e.version;if(dy!=="19.1.1")throw Error(s(527,dy,"19.1.1"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Z_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{ti=uu.inject(Z_),Yt=uu}catch{}}return ho.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ng,m=Cg,b=jg,w=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=ny(t,1,!1,null,null,a,l,h,m,b,w,null),t[Ar]=n.current,Xd(t),new pf(n)},ho.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",m=Ng,b=Cg,w=jg,D=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),n=ny(t,1,!0,n,a??null,l,h,m,b,w,D,H),n.context=ry(null),a=n.current,l=bn(),l=ol(l),h=xi(l),h.callback=null,_i(a,h,l),a=l,n.current.lanes=a,dt(n,a),dr(n),t[Ar]=n.current,Xd(t),new cu(n)},ho.version="19.1.1",ho}var wy;function lb(){if(wy)return vf.exports;wy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vf.exports=ab(),vf.exports}var ob=lb();const cb=Z1(ob);/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ey="popstate";function ub(i={}){function e(o,c){let{pathname:f="/",search:p="",hash:y=""}=qs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Of("",{pathname:f,search:p,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let y=o.location.href,v=y.indexOf("#");p=v===-1?y:y.slice(0,v)}return p+"#"+(typeof c=="string"?c:So(c))}function s(o,c){Zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return db(e,r,s,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hb(){return Math.random().toString(36).substring(2,10)}function Ty(i,e){return{usr:i.state,key:i.key,idx:e}}function Of(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?qs(e):e,state:r,key:e&&e.key||s||hb()}}function So({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function qs(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function db(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,p="POP",y=null,v=x();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function x(){return(f.state||{idx:null}).idx}function T(){p="POP";let z=x(),$=z==null?null:z-v;v=z,y&&y({action:p,location:Q.location,delta:$})}function R(z,$){p="PUSH";let q=Of(Q.location,z,$);r&&r(q,z),v=x()+1;let se=Ty(q,v),ae=Q.createHref(q);try{f.pushState(se,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ae)}c&&y&&y({action:p,location:Q.location,delta:1})}function O(z,$){p="REPLACE";let q=Of(Q.location,z,$);r&&r(q,z),v=x();let se=Ty(q,v),ae=Q.createHref(q);f.replaceState(se,"",ae),c&&y&&y({action:p,location:Q.location,delta:0})}function F(z){return fb(z)}let Q={get action(){return p},get location(){return i(o,f)},listen(z){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Ey,T),y=z,()=>{o.removeEventListener(Ey,T),y=null}},createHref(z){return e(o,z)},createURL:F,encodeLocation(z){let $=F(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:O,go(z){return f.go(z)}};return Q}function fb(i,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ot(r,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:So(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function W1(i,e,r="/"){return mb(i,e,r,!1)}function mb(i,e,r,s){let o=typeof e=="string"?qs(e):e,c=Qr(o.pathname||"/",r);if(c==null)return null;let f=J1(i);pb(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let v=Ab(c);p=Tb(f[y],v,s)}return p}function J1(i,e=[],r=[],s="",o=!1){let c=(f,p,y=o,v)=>{let x={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&y)return;ot(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let T=Yr([s,x.relativePath]),R=r.concat(x);f.children&&f.children.length>0&&(ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),J1(f.children,e,R,T,y)),!(f.path==null&&!f.index)&&e.push({path:T,score:wb(T,f.index),routesMeta:R})};return i.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let y of e2(f.path))c(f,p,!0,y)}),e}function e2(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=e2(s.join("/")),p=[];return p.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&p.push(...f),p.map(y=>i.startsWith("/")&&y===""?"/":y)}function pb(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:Eb(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var gb=/^:[\w-]+$/,yb=3,vb=2,xb=1,_b=10,bb=-2,Sy=i=>i==="*";function wb(i,e){let r=i.split("/"),s=r.length;return r.some(Sy)&&(s+=bb),e&&(s+=vb),r.filter(o=>!Sy(o)).reduce((o,c)=>o+(gb.test(c)?yb:c===""?xb:_b),s)}function Eb(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Tb(i,e,r=!1){let{routesMeta:s}=i,o={},c="/",f=[];for(let p=0;p<s.length;++p){let y=s[p],v=p===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=Au({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},x),R=y.route;if(!T&&v&&r&&!s[s.length-1].route.index&&(T=Au({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},x)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Yr([c,T.pathname]),pathnameBase:jb(Yr([c,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(c=Yr([c,T.pathnameBase]))}return f}function Au(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=Sb(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:x,isOptional:T},R)=>{if(x==="*"){let F=p[R]||"";f=c.slice(0,c.length-F.length).replace(/(.)\/+$/,"$1")}const O=p[R];return T&&!O?v[x]=void 0:v[x]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:f,pattern:i}}function Sb(i,e=!1,r=!0){Zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ab(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Qr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function Rb(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?qs(i):i;return{pathname:r?r.startsWith("/")?r:Nb(r,e):e,search:Db(s),hash:Ib(o)}}function Nb(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function wf(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function t2(i){let e=Cb(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function n2(i,e,r,s=!1){let o;typeof i=="string"?o=qs(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),wf("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),wf("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),wf("#","search","hash",o)));let c=i===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=r;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}p=T>=0?e[T]:"/"}let y=Rb(o,p),v=f&&f!=="/"&&f.endsWith("/"),x=(c||f===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(v||x)&&(y.pathname+="/"),y}var Yr=i=>i.join("/").replace(/\/\/+/g,"/"),jb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Db=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ib=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Mb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var r2=["POST","PUT","PATCH","DELETE"];new Set(r2);var Vb=["GET",...r2];new Set(Vb);var Xa=L.createContext(null);Xa.displayName="DataRouter";var Ku=L.createContext(null);Ku.displayName="DataRouterState";L.createContext(!1);var i2=L.createContext({isTransitioning:!1});i2.displayName="ViewTransition";var Ob=L.createContext(new Map);Ob.displayName="Fetchers";var kb=L.createContext(null);kb.displayName="Await";var br=L.createContext(null);br.displayName="Navigation";var Lo=L.createContext(null);Lo.displayName="Location";var Jr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var om=L.createContext(null);om.displayName="RouteError";function Lb(i,{relative:e}={}){ot(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=L.useContext(br),{hash:o,pathname:c,search:f}=Po(i,{relative:e}),p=c;return r!=="/"&&(p=c==="/"?r:Yr([r,c])),s.createHref({pathname:p,search:f,hash:o})}function zo(){return L.useContext(Lo)!=null}function ei(){return ot(zo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Lo).location}var s2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a2(i){L.useContext(br).static||L.useLayoutEffect(i)}function zb(){let{isDataRoute:i}=L.useContext(Jr);return i?Zb():Pb()}function Pb(){ot(zo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Xa),{basename:e,navigator:r}=L.useContext(br),{matches:s}=L.useContext(Jr),{pathname:o}=ei(),c=JSON.stringify(t2(s)),f=L.useRef(!1);return a2(()=>{f.current=!0}),L.useCallback((y,v={})=>{if(Zn(f.current,s2),!f.current)return;if(typeof y=="number"){r.go(y);return}let x=n2(y,JSON.parse(c),o,v.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Yr([e,x.pathname])),(v.replace?r.replace:r.push)(x,v.state,v)},[e,r,c,o,i])}L.createContext(null);function Po(i,{relative:e}={}){let{matches:r}=L.useContext(Jr),{pathname:s}=ei(),o=JSON.stringify(t2(r));return L.useMemo(()=>n2(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Ub(i,e){return l2(i,e)}function l2(i,e,r,s,o){ot(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(br),{matches:f}=L.useContext(Jr),p=f[f.length-1],y=p?p.params:{},v=p?p.pathname:"/",x=p?p.pathnameBase:"/",T=p&&p.route;{let q=T&&T.path||"";o2(v,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let R=ei(),O;if(e){let q=typeof e=="string"?qs(e):e;ot(x==="/"||q.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${q.pathname}" was given in the \`location\` prop.`),O=q}else O=R;let F=O.pathname||"/",Q=F;if(x!=="/"){let q=x.replace(/^\//,"").split("/");Q="/"+F.replace(/^\//,"").split("/").slice(q.length).join("/")}let z=W1(i,{pathname:Q});Zn(T||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Zn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Gb(z&&z.map(q=>Object.assign({},q,{params:Object.assign({},y,q.params),pathname:Yr([x,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?x:Yr([x,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),f,r,s,o);return e&&$?L.createElement(Lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function Bb(){let i=Xb(),e=Mb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),r?L.createElement("pre",{style:o},r):null,f)}var qb=L.createElement(Bb,null),Hb=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(Jr.Provider,{value:this.props.routeContext},L.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fb({routeContext:i,match:e,children:r}){let s=L.useContext(Xa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Jr.Provider,{value:i},r)}function Gb(i,e=[],r=null,s=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let c=i,f=r?.errors;if(f!=null){let v=c.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);ot(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,y=-1;if(r)for(let v=0;v<c.length;v++){let x=c[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=v),x.route.id){let{loaderData:T,errors:R}=r,O=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!R||R[x.route.id]===void 0);if(x.route.lazy||O){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((v,x,T)=>{let R,O=!1,F=null,Q=null;r&&(R=f&&x.route.id?f[x.route.id]:void 0,F=x.route.errorElement||qb,p&&(y<0&&T===0?(o2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,Q=null):y===T&&(O=!0,Q=x.route.hydrateFallbackElement||null)));let z=e.concat(c.slice(0,T+1)),$=()=>{let q;return R?q=F:O?q=Q:x.route.Component?q=L.createElement(x.route.Component,null):x.route.element?q=x.route.element:q=v,L.createElement(Fb,{match:x,routeContext:{outlet:v,matches:z,isDataRoute:r!=null},children:q})};return r&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?L.createElement(Hb,{location:r.location,revalidation:r.revalidation,component:F,error:R,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):$()},null)}function cm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(i){let e=L.useContext(Xa);return ot(e,cm(i)),e}function $b(i){let e=L.useContext(Ku);return ot(e,cm(i)),e}function Qb(i){let e=L.useContext(Jr);return ot(e,cm(i)),e}function um(i){let e=Qb(i),r=e.matches[e.matches.length-1];return ot(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Kb(){return um("useRouteId")}function Xb(){let i=L.useContext(om),e=$b("useRouteError"),r=um("useRouteError");return i!==void 0?i:e.errors?.[r]}function Zb(){let{router:i}=Yb("useNavigate"),e=um("useNavigate"),r=L.useRef(!1);return a2(()=>{r.current=!0}),L.useCallback(async(o,c={})=>{Zn(r.current,s2),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Ay={};function o2(i,e,r){!e&&!Ay[i]&&(Ay[i]=!0,Zn(!1,r))}L.memo(Wb);function Wb({routes:i,future:e,state:r,unstable_onError:s}){return l2(i,void 0,r,s,e)}function Gr(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jb({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:c=!1}){ot(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof r=="string"&&(r=qs(r));let{pathname:y="/",search:v="",hash:x="",state:T=null,key:R="default"}=r,O=L.useMemo(()=>{let F=Qr(y,f);return F==null?null:{location:{pathname:F,search:v,hash:x,state:T,key:R},navigationType:s}},[f,y,v,x,T,R,s]);return Zn(O!=null,`<Router basename="${f}"> is not able to match the URL "${y}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:L.createElement(br.Provider,{value:p},L.createElement(Lo.Provider,{children:e,value:O}))}function ew({children:i,location:e}){return Ub(kf(i),e)}function kf(i,e=[]){let r=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let c=[...e,o];if(s.type===L.Fragment){r.push.apply(r,kf(s.props.children,c));return}ot(s.type===Gr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=kf(s.props.children,c)),r.push(f)}),r}var vu="get",xu="application/x-www-form-urlencoded";function Xu(i){return i!=null&&typeof i.tagName=="string"}function tw(i){return Xu(i)&&i.tagName.toLowerCase()==="button"}function nw(i){return Xu(i)&&i.tagName.toLowerCase()==="form"}function rw(i){return Xu(i)&&i.tagName.toLowerCase()==="input"}function iw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function sw(i,e){return i.button===0&&(!e||e==="_self")&&!iw(i)}var hu=null;function aw(){if(hu===null)try{new FormData(document.createElement("form"),0),hu=!1}catch{hu=!0}return hu}var lw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ef(i){return i!=null&&!lw.has(i)?(Zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xu}"`),null):i}function ow(i,e){let r,s,o,c,f;if(nw(i)){let p=i.getAttribute("action");s=p?Qr(p,e):null,r=i.getAttribute("method")||vu,o=Ef(i.getAttribute("enctype"))||xu,c=new FormData(i)}else if(tw(i)||rw(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||p.getAttribute("action");if(s=y?Qr(y,e):null,r=i.getAttribute("formmethod")||p.getAttribute("method")||vu,o=Ef(i.getAttribute("formenctype"))||Ef(p.getAttribute("enctype"))||xu,c=new FormData(p,i),!aw()){let{name:v,type:x,value:T}=i;if(x==="image"){let R=v?`${v}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else v&&c.append(v,T)}}else{if(Xu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vu,s=null,o=xu,f=i}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cw(i,e,r){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&Qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function uw(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function dw(i,e,r){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await uw(c,r);return f.links?f.links():[]}return[]}));return gw(s.flat(1).filter(hw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ry(i,e,r,s,o,c){let f=(y,v)=>r[v]?y.route.id!==r[v].route.id:!0,p=(y,v)=>r[v].pathname!==y.pathname||r[v].route.path?.endsWith("*")&&r[v].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,v)=>f(y,v)||p(y,v)):c==="data"?e.filter((y,v)=>{let x=s.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(f(y,v)||p(y,v))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function fw(i,e,{includeHydrateFallback:r}={}){return mw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function mw(i){return[...new Set(i)]}function pw(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function gw(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(pw(o));return r.has(c)||(r.add(c),s.push({key:c,link:o})),s},[])}function c2(){let i=L.useContext(Xa);return hm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function yw(){let i=L.useContext(Ku);return hm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dm=L.createContext(void 0);dm.displayName="FrameworkContext";function u2(){let i=L.useContext(dm);return hm(i,"You must render this element inside a <HydratedRouter> element"),i}function vw(i,e){let r=L.useContext(dm),[s,o]=L.useState(!1),[c,f]=L.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:v,onMouseLeave:x,onTouchStart:T}=e,R=L.useRef(null);L.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=$=>{$.forEach(q=>{f(q.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return R.current&&z.observe(R.current),()=>{z.disconnect()}}},[i]),L.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let O=()=>{o(!0)},F=()=>{o(!1),f(!1)};return r?i!=="intent"?[c,R,{}]:[c,R,{onFocus:fo(p,O),onBlur:fo(y,F),onMouseEnter:fo(v,O),onMouseLeave:fo(x,F),onTouchStart:fo(T,O)}]:[!1,R,{}]}function fo(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function xw({page:i,...e}){let{router:r}=c2(),s=L.useMemo(()=>W1(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?L.createElement(bw,{page:i,matches:s,...e}):null}function _w(i){let{manifest:e,routeModules:r}=u2(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return dw(i,e,r).then(f=>{c||o(f)}),()=>{c=!0}},[i,e,r]),s}function bw({page:i,matches:e,...r}){let s=ei(),{manifest:o,routeModules:c}=u2(),{basename:f}=c2(),{loaderData:p,matches:y}=yw(),v=L.useMemo(()=>Ry(i,e,y,o,s,"data"),[i,e,y,o,s]),x=L.useMemo(()=>Ry(i,e,y,o,s,"assets"),[i,e,y,o,s]),T=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,Q=!1;if(e.forEach($=>{let q=o.routes[$.route.id];!q||!q.hasLoader||(!v.some(se=>se.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||q.hasClientLoader?Q=!0:F.add($.route.id))}),F.size===0)return[];let z=cw(i,f,"data");return Q&&F.size>0&&z.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,p,s,o,v,e,i,c]),R=L.useMemo(()=>fw(x,o),[x,o]),O=_w(x);return L.createElement(L.Fragment,null,T.map(F=>L.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...r})),R.map(F=>L.createElement("link",{key:F,rel:"modulepreload",href:F,...r})),O.map(({key:F,link:Q})=>L.createElement("link",{key:F,nonce:r.nonce,...Q})))}function ww(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var h2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h2&&(window.__reactRouterVersion="7.9.2")}catch{}function Ew({basename:i,children:e,window:r}){let s=L.useRef();s.current==null&&(s.current=ub({window:r,v5Compat:!0}));let o=s.current,[c,f]=L.useState({action:o.action,location:o.location}),p=L.useCallback(y=>{L.startTransition(()=>f(y))},[f]);return L.useLayoutEffect(()=>o.listen(p),[o,p]),L.createElement(Jb,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var d2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=L.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:p,target:y,to:v,preventScrollReset:x,viewTransition:T,...R},O){let{basename:F}=L.useContext(br),Q=typeof v=="string"&&d2.test(v),z,$=!1;if(typeof v=="string"&&Q&&(z=v,h2))try{let E=new URL(window.location.href),N=v.startsWith("//")?new URL(E.protocol+v):new URL(v),I=Qr(N.pathname,F);N.origin===E.origin&&I!=null?v=I+N.search+N.hash:$=!0}catch{Zn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=Lb(v,{relative:o}),[se,ae,ie]=vw(s,R),le=Rw(v,{replace:f,state:p,target:y,preventScrollReset:x,relative:o,viewTransition:T});function j(E){e&&e(E),E.defaultPrevented||le(E)}let A=L.createElement("a",{...R,...ie,href:z||q,onClick:$||c?e:j,ref:ww(O,ae),target:y,"data-discover":!Q&&r==="render"?"true":void 0});return se&&!Q?L.createElement(L.Fragment,null,A,L.createElement(xw,{page:q})):A});jt.displayName="Link";var Tw=L.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:p,children:y,...v},x){let T=Po(f,{relative:v.relative}),R=ei(),O=L.useContext(Ku),{navigator:F,basename:Q}=L.useContext(br),z=O!=null&&Iw(T)&&p===!0,$=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,q=R.pathname,se=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;r||(q=q.toLowerCase(),se=se?se.toLowerCase():null,$=$.toLowerCase()),se&&Q&&(se=Qr(se,Q)||se);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=q===$||!o&&q.startsWith($)&&q.charAt(ae)==="/",le=se!=null&&(se===$||!o&&se.startsWith($)&&se.charAt($.length)==="/"),j={isActive:ie,isPending:le,isTransitioning:z},A=ie?e:void 0,E;typeof s=="function"?E=s(j):E=[s,ie?"active":null,le?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(j):c;return L.createElement(jt,{...v,"aria-current":A,className:E,ref:x,style:N,to:f,viewTransition:p},typeof y=="function"?y(j):y)});Tw.displayName="NavLink";var Sw=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:c,method:f=vu,action:p,onSubmit:y,relative:v,preventScrollReset:x,viewTransition:T,...R},O)=>{let F=jw(),Q=Dw(p,{relative:v}),z=f.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&d2.test(p),q=se=>{if(y&&y(se),se.defaultPrevented)return;se.preventDefault();let ae=se.nativeEvent.submitter,ie=ae?.getAttribute("formmethod")||f;F(ae||se.currentTarget,{fetcherKey:e,method:ie,navigate:r,replace:o,state:c,relative:v,preventScrollReset:x,viewTransition:T})};return L.createElement("form",{ref:O,method:z,action:Q,onSubmit:s?y:q,...R,"data-discover":!$&&i==="render"?"true":void 0})});Sw.displayName="Form";function Aw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f2(i){let e=L.useContext(Xa);return ot(e,Aw(i)),e}function Rw(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=zb(),y=ei(),v=Po(i,{relative:c});return L.useCallback(x=>{if(sw(x,e)){x.preventDefault();let T=r!==void 0?r:So(y)===So(v);p(i,{replace:T,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[y,p,v,r,s,e,i,o,c,f])}var Nw=0,Cw=()=>`__${String(++Nw)}__`;function jw(){let{router:i}=f2("useSubmit"),{basename:e}=L.useContext(br),r=Kb();return L.useCallback(async(s,o={})=>{let{action:c,method:f,encType:p,formData:y,body:v}=ow(s,e);if(o.navigate===!1){let x=o.fetcherKey||Cw();await i.fetch(x,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function Dw(i,{relative:e}={}){let{basename:r}=L.useContext(br),s=L.useContext(Jr);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Po(i||".",{relative:e})},f=ei();if(i==null){c.search=f.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(x=>x==="")){p.delete("index"),y.filter(T=>T).forEach(T=>p.append("index",T));let x=p.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Yr([r,c.pathname])),So(c)}function Iw(i,{relative:e}={}){let r=L.useContext(i2);ot(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f2("useViewTransitionState"),o=Po(i,{relative:e});if(!r.isTransitioning)return!1;let c=Qr(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=Qr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Au(o.pathname,f)!=null||Au(o.pathname,c)!=null}const Mw="/codme/assets/Logo-CAkruFtu.png",Vw="/codme/assets/blur_bg-1-CSoOZOH3.png",Ow="/codme/assets/Hero_arduino-DwUUAWH5.png",kw="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Menu_Alt_02'%3e%3cpath%20id='Vector'%20d='M11%2017H19M5%2012H19M11%207H19'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Lw="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Close_LG'%3e%3cpath%20id='Vector'%20d='M21%2021L12%2012M12%2012L3%203M12%2012L21.0001%203M12%2012L3%2021.0001'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",zw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2017.211%2017.211'%20xml:space='preserve'%20fill='%239a1518'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cg%3e%3cpath%20style='fill:%239a1518;'%20d='M14.148,7.781l-5.579,3.327L3.097,7.781l-0.455,2.841c0.002-0.004,0.006-0.007,0.011-0.013%20c-0.065,0.109-0.102,0.222-0.102,0.337c0,1.003,4.418,4.094,5.821,4.094c1.404,0,6.323-3.091,6.323-4.094%20c0-0.109-0.036-0.214-0.092-0.532L14.148,7.781z'/%3e%3cpath%20style='fill:%239a1518;'%20d='M17.211,4.873L8.635,2.17l-7.66,2.443C0.867,4.63,0.765,4.658,0.684,4.706l0,0l0,0%20c-0.098,0.058-0.165,0.142-0.17,0.266C0.473,5.468,0,11.17,0,11.17l0.514,1.708l0.477-1.708L0.789,5.294l7.823,4.813L17.211,4.873%20z%20M8.015,5.118H0.783l0.756-0.413h6.385C8.007,4.56,8.203,4.458,8.431,4.458c0.304,0,0.55,0.181,0.55,0.403%20c0,0.223-0.246,0.404-0.55,0.404C8.261,5.267,8.115,5.207,8.015,5.118z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Pw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.063%2021.7917C10.3894%2022.1483%2011%2021.9534%2011%2021.4699V4C10%203%208.91255%202.57151%207.78361%202.32246C5.78311%201.88113%204.0024%201.97693%202.91265%202.11876C1.70543%202.27587%201%203.34931%201%204.40561V17.5662C1%2018.9895%202.18834%2020.1115%203.56807%2020.066C4.71011%2020.0284%206.2952%2020.0688%207.73105%2020.4158C8.82596%2020.6803%209.52237%2021.2009%2010.063%2021.7917Z'%20fill='%239a1518'/%3e%3cpath%20d='M13.937%2021.7917C13.6106%2022.1483%2013%2021.9534%2013%2021.4699V4C14%203%2015.0874%202.57151%2016.2164%202.32246C18.2169%201.88113%2019.9976%201.97693%2021.0873%202.11876C22.2946%202.27587%2023%203.34931%2023%204.40561V17.5662C23%2018.9895%2021.8117%2020.1115%2020.4319%2020.066C19.2899%2020.0284%2017.7048%2020.0688%2016.269%2020.4158C15.174%2020.6803%2014.4776%2021.2009%2013.937%2021.7917Z'%20fill='%239a1518'/%3e%3c/g%3e%3c/svg%3e",Uw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-1%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3emegaphone%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-206.000000,%20-310.000000)'%20fill='%239a1518'%3e%3cpath%20d='M224,330%20L227,330%20L227,316%20L224,316%20L224,330%20Z%20M236,310%20L229,314.667%20L229,331.333%20L236,336%20C237.104,336%20238,335.104%20238,334%20L238,312%20C238,310.896%20237.104,310%20236,310%20L236,310%20Z%20M206,323%20C206,326.733%20208.561,329.148%20212.019,329.81%20L212,330%20L212,338%20C212,339.104%20212.896,340%20214,340%20L217,340%20C218.104,340%20219,339.104%20219,338%20L219,330%20L222,330%20L222,316%20L214,316%20C209.582,316%20206,318.582%20206,323%20L206,323%20Z'%20id='megaphone'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Bw="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-4%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3elocation%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-106.000000,%20-413.000000)'%20fill='%239a1518'%3e%3cpath%20d='M118,422%20C116.343,422%20115,423.343%20115,425%20C115,426.657%20116.343,428%20118,428%20C119.657,428%20121,426.657%20121,425%20C121,423.343%20119.657,422%20118,422%20L118,422%20Z%20M118,430%20C115.239,430%20113,427.762%20113,425%20C113,422.238%20115.239,420%20118,420%20C120.761,420%20123,422.238%20123,425%20C123,427.762%20120.761,430%20118,430%20L118,430%20Z%20M118,413%20C111.373,413%20106,418.373%20106,425%20C106,430.018%20116.005,445.011%20118,445%20C119.964,445.011%20130,429.95%20130,425%20C130,418.373%20124.627,413%20118,413%20L118,413%20Z'%20id='location'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",qw="/codme/assets/official-logo-CJy_pXel.png",Jt={official_logo:qw,location:Bw,megaphone:Uw,book_open:Pw,graduation_hat:zw,logo:Mw,bgImage1:Vw,hero_img:Ow,menu_icon:kw,close_icon:Lw},Hw=()=>{const[i,e]=L.useState(!1),r=ei(),s=o=>r.pathname===o;return d.jsxs("div",{className:`flex justify-between items-center px-4 sm:px-12 lg:px-24 xl:px-40 py-4\r
                 sticky top-0 z-50 backdrop-blur-xl bg-white/20 border border-white/30\r
                 shadow-[0_4px_30px_rgba(0,0,0,0.1)]\r
                 before:content-[""] before:absolute before:inset-0\r
                 before:bg-gradient-to-br before:from-white/40 before:to-transparent\r
                 before:pointer-events-none relative`,children:[d.jsx(jt,{to:"/",className:"flex-shrink-0",children:d.jsx("img",{src:Jt.logo,className:"w-28 sm:w-32 md:w-36 lg:w-40 relative z-10 cursor-pointer",alt:"Logo"})}),d.jsxs("div",{className:"hidden lg:flex items-center gap-6 lg:gap-8 text-gray-700 text-base lg:text-lg",children:[d.jsx(jt,{to:"/",className:`hover:text-primary transition-colors ${s("/")?"text-primary font-semibold":""}`,children:"หน้าหลัก"}),d.jsx(jt,{to:"/admission",className:`hover:text-primary transition-colors ${s("/admission")?"text-primary font-semibold":""}`,children:"เกณฑ์การรับเข้า"}),d.jsx(jt,{to:"/course",className:`hover:text-primary transition-colors ${s("/course")?"text-primary font-semibold":""}`,children:"ข้อมูลหลักสูตร"}),d.jsx(jt,{to:"/activity",className:`hover:text-primary transition-colors ${s("/activity")?"text-primary font-semibold":""}`,children:"แนะแนว&กิจกรรม"}),d.jsx(jt,{to:"/contact",className:`hover:text-primary transition-colors ${s("/contact")?"text-primary font-semibold":""}`,children:"ติดต่อ"})]}),d.jsxs("div",{className:`fixed top-0 bottom-0 right-0 z-50
          ${i?"w-72":"w-0"}
          overflow-hidden transition-all duration-300 ease-in-out
          bg-primary text-white min-h-screen flex flex-col pt-16
          lg:hidden`,children:[d.jsx("img",{src:Jt.close_icon,alt:"Close",className:"w-6 absolute right-4 top-4 cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1)}),d.jsxs("div",{className:"flex flex-col gap-6 px-8 py-8",children:[d.jsx(jt,{to:"/",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/")?"font-semibold text-white":"text-white/90"}`,children:"หน้าหลัก"}),d.jsx(jt,{to:"/admission",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/admission")?"font-semibold text-white":"text-white/90"}`,children:"เกณฑ์การรับเข้า"}),d.jsx(jt,{to:"/course",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/course")?"font-semibold text-white":"text-white/90"}`,children:"ข้อมูลหลักสูตร"}),d.jsx(jt,{to:"/activity",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/activity")?"font-semibold text-white":"text-white/90"}`,children:"แนะแนว&กิจกรรม"}),d.jsx(jt,{to:"/contact",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/contact")?"font-semibold text-white":"text-white/90"}`,children:"ติดต่อ"}),d.jsx(jt,{to:"/feedback",onClick:()=>e(!1),className:`flex items-center justify-center gap-2\r
                       bg-white text-primary px-6 py-3 rounded-full mt-6\r
                       cursor-pointer hover:scale-105 transition-all\r
                       font-semibold text-base shadow-lg`,children:"ข้อเสนอแนะ →"})]})]}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-black/10 rounded-lg transition-colors lg:hidden","aria-label":"Open menu",children:d.jsx("img",{src:Jt.menu_icon,alt:"Menu",className:"w-6 h-6"})}),d.jsx(jt,{to:"/feedback",className:`hidden lg:flex items-center gap-2\r
                     bg-primary text-white px-4 py-2 lg:px-6 lg:py-3 rounded-full\r
                     cursor-pointer hover:scale-105 hover:bg-primary/90 \r
                     transition-all font-medium text-sm lg:text-base\r
                     shadow-lg hover:shadow-xl`,children:"ข้อเสนอแนะ →"})]})]})};var m2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ny=Pi.createContext&&Pi.createContext(m2),Fw=["attr","size","title"];function Gw(i,e){if(i==null)return{};var r=Yw(i,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(r[s]=i[s])}return r}function Yw(i,e){if(i==null)return{};var r={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;r[s]=i[s]}return r}function Ru(){return Ru=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},Ru.apply(this,arguments)}function Cy(i,e){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),r.push.apply(r,s)}return r}function Nu(i){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cy(Object(r),!0).forEach(function(s){$w(i,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Cy(Object(r)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(r,s))})}return i}function $w(i,e,r){return e=Qw(e),e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}function Qw(i){var e=Kw(i,"string");return typeof e=="symbol"?e:e+""}function Kw(i,e){if(typeof i!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var s=r.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function p2(i){return i&&i.map((e,r)=>Pi.createElement(e.tag,Nu({key:r},e.attr),p2(e.child)))}function Xw(i){return e=>Pi.createElement(Zw,Ru({attr:Nu({},i.attr)},e),p2(i.child))}function Zw(i){var e=r=>{var{attr:s,size:o,title:c}=i,f=Gw(i,Fw),p=o||r.size||"1em",y;return r.className&&(y=r.className),i.className&&(y=(y?y+" ":"")+i.className),Pi.createElement("svg",Ru({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,f,{className:y,style:Nu(Nu({color:i.color||r.color},r.style),i.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Pi.createElement("title",null,c),i.children)};return Ny!==void 0?Pi.createElement(Ny.Consumer,null,r=>e(r)):e(m2)}function Ww(i){return Xw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(i)}const Jw=()=>d.jsxs(d.Fragment,{children:[d.jsx("style",{children:`
          @media (min-width: 1600px) {
            .footer-desktop {
              margin-top: -120px;
            }
          }
        `}),d.jsxs("footer",{className:"bg-gray-100 py-6 px-4 mt-10 footer-desktop",children:[d.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 mt-5",children:[d.jsxs("div",{className:"col-span-1",children:[d.jsx("div",{className:"flex items-center mb-4",children:d.jsx("img",{src:Jt.logo,alt:"โลโก้มหาวิทยาลัยขอนแก่น",className:"w-32 sm:w-40 relative z-10"})}),d.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"แหล่งรวมข้อมูลและความรู้ด้านวิศวกรรมคอมพิวเตอร์และวิศวกรรมสื่อดิจิตอล มหาวิทยาลัยขอนแก่น เพื่อการเรียนรู้และพัฒนาในยุคเทคโนโลยี"}),d.jsxs("nav",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"หน้าแรก"}),d.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"เกณฑ์การรับเข้า"}),d.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"ข้อมูลหลักสูตร"}),d.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"แนะแนว&กิจกรรม"}),d.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"ติดต่อเรา"})]})]}),d.jsxs("div",{className:"col-span-1 flex flex-col items-start",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"ติดตามข่าวสาร"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"ติดตามเราในโซเชียลมีเดียเพื่อรับข้อมูลข่าวสารและความรู้ใหม่ๆ ด้านเทคโนโลยีและวิศวกรรม"}),d.jsx("div",{className:"flex space-x-4",children:d.jsx("a",{href:"#",className:"text-gray-600 hover:[color:#9a1518] transition-colors",children:d.jsx(Ww,{size:20})})})]})]}),d.jsx("hr",{className:"my-8 border-gray-300"}),d.jsx("div",{className:"max-w-7xl mx-auto flex justify-center text-sm text-gray-600",children:d.jsx("p",{children:"ลิขสิทธิ์ 2568 © วิศวกรรมคอมพิวเตอร์และสื่อดิจิตอล มหาวิทยาลัยขอนแก่น - สงวนสิทธิ์ทุกประการ"})})]})]}),eE="AIzaSyBprj3OSZ2AI5OQNvzvuLu25UFF1biCLJo",tE="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",nE=()=>{const[i,e]=L.useState(!1),[r,s]=L.useState(!1),[o,c]=L.useState([]),[f,p]=L.useState(""),[y,v]=L.useState(!1),[x,T]=L.useState(!1),[R,O]=L.useState(""),[F,Q]=L.useState(""),z=L.useRef(null),$=L.useRef(!1),q=L.useRef(!1),se=async(N,I)=>{try{console.log("Fetching course data from:",N);const M=await fetch(N);if(!M.ok)throw new Error(`HTTP error! status: ${M.status} from ${N}`);const C=await M.text();console.log(`✅ Successfully loaded data from ${N}`),I(C)}catch(M){console.error(`❌ Error loading course knowledge from ${N}:`,M)}},ae=L.useCallback(N=>{const M=N.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").split(`
`);let C=!1,ve=[];for(let Ee of M)if(Ee.trim().startsWith("*")&&!Ee.trim().startsWith("**")){C||(ve.push('<ul class="list-disc list-inside space-y-1 mt-2">'),C=!0);const X=Ee.trim().substring(1).trim();ve.push(`<li>${X}</li>`)}else C&&(ve.push("</ul>"),C=!1),Ee.trim()&&ve.push(`<p class="mb-2">${Ee}</p>`);return C&&ve.push("</ul>"),ve.join("")},[]);L.useEffect(()=>{if(!q.current){q.current=!0;const N="/codme/";se(`${N}data/course_coe.txt`,O),se(`${N}data/course_dme.txt`,Q)}},[]),L.useEffect(()=>{$.current||(c([{sender:"ai",text:"สวัสดีครับ! ฉันคือผู้ช่วยอัจฉริยะของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล มหาวิทยาลัยขอนแก่น พร้อมให้คำปรึกษาเกี่ยวกับหลักสูตรและวิชาเรียนต่างๆ มีอะไรให้ช่วยไหมครับ?"}]),$.current=!0)},[]),L.useEffect(()=>{z.current&&(z.current.scrollTop=z.current.scrollHeight)},[o]);const ie=()=>{i?(e(!1),setTimeout(()=>s(!1),300)):(s(!0),setTimeout(()=>e(!0),10))},le=L.useCallback(async(N,I)=>{if(!N.trim())return;const M=N.toLowerCase();["ยื่นคำร้อง","ยื่น คำร้อง","คำร้อง","ขอคำร้อง","ลาพักการศึกษา","ลาพัก","ลาถอน","ขอถอน","ขอลาพัก","ยื่นลาพักการศึกษา","ยื่นลาพัก","ยื่นถอน","ถอนทุกวิชา"].some(Ae=>N.includes(Ae))&&T(!0),["เรียนเกิน","ลงทะเบียนเกิน","หน่วยกิตเกิน","เกิน 22","เกิน 22 หน่วยกิต","ลงเกิน"].some(Ae=>M.includes(Ae)),["รีเกรด","regrade","สามารถรีเกรด","ขอรีเกรด","อยากรีเกรด"].some(Ae=>M.includes(Ae)),["ถอน","ถอนวิชา"].some(Ae=>M.includes(Ae)),["F","f","เกรด F","grade F"].some(Ae=>M.includes(Ae)),M.includes("เกียรตินิยม")&&M.includes("ถอน"),M.includes("เกียรตินิยม")&&M.includes("F"),["พอร์ท","พอร์ต","Portfolio","Port","รอบ 1","รอบ1","รอบแรก"].some(Ae=>M.includes(Ae)),["แรนด้อม","หลุด","Random"].some(Ae=>M.includes(Ae)),["ที่นั่งสำรอง","สำรอง","Reserve"].some(Ae=>M.includes(Ae)),v(!0),c(Ae=>[...Ae,{sender:"user",text:N}]),p("");const de="คุณเป็น AI ผู้ช่วยของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล มหาวิทยาลัยขอนแก่น ให้คำแนะนำเกี่ยวกับหลักสูตรและวิชาเรียนต่างๆ",ce=M.includes("หลักสูตร")||M.includes("วิชา")||M.includes("คณะ")||M.includes("เรียน")||M.includes("สาขา")||M.includes("คอมพิวเตอร์")||M.includes("ดิจิตอล")||M.includes("ภาควิชา")||M.includes("อาจารย์")||M.includes("ผู้สอน")||M.includes("ชื่ออาจารย์")||M.includes("ใครสอน");let pe="";(R||F)&&ce&&(pe=`ข้อมูลหลักสูตรและวิชาเรียน รวมถึงอาจารย์ผู้สอน:
${R?`--- หลักสูตรวิศวกรรมคอมพิวเตอร์ ---
${R}`:""}
${F?`--- หลักสูตรสื่อดิจิทัล ---
${F}`:""}
กรุณาตอบคำถามโดยอ้างอิงจากข้อมูลด้านบนเป็นหลัก ถ้าคำถามไม่เกี่ยวข้องกับข้อมูลที่มี ให้ตอบตามความรู้ทั่วไปแต่แจ้งให้ผู้ใช้ทราบว่าข้อมูลนี้ไม่ได้มาจากฐานข้อมูลหลักสูตร`);const _e=I.filter(Ae=>Ae.sender==="user"||Ae.sender==="ai").slice(Math.max(I.length-8,0)).map(Ae=>({role:Ae.sender==="user"?"user":"model",parts:[{text:Ae.text}]})),St=`${de}
${pe?`${pe}

`:""}คำถาม: ${N}`,Fe=[..._e,{role:"user",parts:[{text:St}]}],an=3;let mn=0,Er=!1,Tn="ขออภัย ไม่ได้รับคำตอบจาก AI หรือเกิดข้อผิดพลาดในการเชื่อมต่อ";for(;mn<an&&!Er;){mn++;try{const Ae=await fetch(tE,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":eE},body:JSON.stringify({contents:Fe,safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!Ae.ok){if(Ae.status===429||Ae.status>=500){console.warn(`Attempt ${mn} failed with status ${Ae.status}. Retrying...`),await new Promise(il=>setTimeout(il,1e3*mn));continue}throw new Error(`API error ${Ae.status}: ${await Ae.text()}`)}const ln=await Ae.json();ln.promptFeedback&&ln.promptFeedback.blockReason?Tn=`ข้อความของคุณถูกบล็อกโดยระบบความปลอดภัยของ AI: ${ln.promptFeedback.blockReason}`:ln.candidates?.[0]?.finishReason==="SAFETY"?Tn="ขออภัย คำตอบของ AI ถูกบล็อกโดยระบบความปลอดภัย":Tn=ln.candidates?.[0]?.content?.parts?.[0]?.text||"ไม่ได้รับคำตอบจาก AI ที่ถูกต้อง",Er=!0}catch(Ae){console.error(`Attempt ${mn} failed:`,Ae),mn===an&&(Tn=`ขออภัย เกิดข้อผิดพลาดในการเชื่อมต่อกับ AI หรือ API Key ไม่ถูกต้อง: ${Ae.message}`),await new Promise(ln=>setTimeout(ln,1e3*mn))}}c(Ae=>[...Ae,{sender:"ai",text:Tn}]),v(!1)},[R,F]),j=()=>{f.trim()&&!y&&le(f,o)},A=N=>{N.key==="Enter"&&(N.preventDefault(),j())},E=o.length===1&&o[0].sender==="ai";return{isOpen:i,isVisible:r,messages:o,inputMessage:f,isLoading:y,chatContentRef:z,toggleChat:ie,setInputMessage:p,handleSendMessage:j,handleKeyPress:A,formatAIResponse:ae,showInitialWelcomeUI:E,setMessages:c,showPetitionAlert:x,setShowPetitionAlert:T}},g2=({sender:i,text:e,formatAIResponse:r})=>d.jsx("div",{className:`flex ${i==="user"?"justify-end":"justify-start"} animate-fadeIn`,children:d.jsx("div",{className:`max-w-[80%] p-2 rounded-xl shadow-lg transition-all duration-200 hover:shadow-xl text-sm ${i==="user"?"bg-gradient-to-br from-[#9a1518] to-[#c41e22] text-white rounded-br-sm":"bg-white/80 backdrop-blur-sm text-gray-800 border border-white/50 rounded-bl-sm"}`,dangerouslySetInnerHTML:{__html:i==="ai"?r(e):e}})}),y2=({setInputMessage:i})=>d.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 px-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"mt-3 w-20 h-20 bg-gradient-to-br from-[#9a1518] to-[#c41e22] rounded-2xl flex items-center justify-center shadow-xl rotate-6 hover:rotate-12 transition-transform duration-300",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),d.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-green-400 rounded-full border-3 border-white animate-pulse"})]}),d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h4",{className:"text-xl font-bold text-gray-800",children:"ยินดีต้อนรับ! 👋"}),d.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed max-w-xs",children:["ฉันคือผู้ช่วยอัจฉริยะของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล",d.jsx("br",{}),d.jsx("span",{className:"text-[#9a1518] font-semibold",children:"มหาวิทยาลัยขอนแก่น"})]})]}),d.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[d.jsx("p",{className:"text-xs text-gray-500 text-center font-medium",children:"คำถามแนะนำ:"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("button",{onClick:()=>i("วิชาเลือกสำหรับคนที่ชอบเขียนเว็บมีอะไรบ้าง"),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:"💻 วิชาเลือกสำหรับคนที่ชอบเขียนเว็บ"}),d.jsx("button",{onClick:()=>i("หลักสูตรของคณะมีอะไรบ้าง"),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:"📚 หลักสูตรของคณะมีอะไรบ้าง"})]})]})]}),rE=({isOpen:i,isVisible:e,messages:r,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:y,handleKeyPress:v,formatAIResponse:x,showInitialWelcomeUI:T,showPetitionAlert:R,setShowPetitionAlert:O})=>{const F="bg-[#9a1518]",Q="hover:bg-[#7e1214]";return e?d.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-96 md:w-[420px] lg:w-[460px]
                    h-[380px] md:h-[430px] lg:h-[480px] // ขนาดคงที่
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${i?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    hidden sm:flex`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[R&&d.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[d.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:"🔔 แจ้งเตือน: การยื่นคำร้อง"}),d.jsx("p",{className:"text-gray-700 text-base",children:"เนื่องจากการดำเนินการต้องใช้เวลา **กรุณาตรวจสอบกำหนดเวลายื่นคำร้องตามที่ท่านประสงค์**"}),d.jsx("div",{className:"flex justify-end mt-4",children:d.jsx("button",{onClick:()=>O(!1),className:`${F} ${Q} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:"รับทราบ"})})]})}),d.jsxs("div",{className:`p-3 flex justify-between items-center ${F} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[d.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[d.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),d.jsx("p",{className:"text-xs text-white/80",children:"พร้อมให้คำปรึกษาตลอด 24 ชม."})]})]}),d.jsx("button",{onClick:f,"aria-label":"ปิดหน้าต่างแชท",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),d.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),d.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[T?d.jsx(y2,{setInputMessage:p}):r.map((z,$)=>d.jsx(g2,{sender:z.sender,text:z.text,formatAIResponse:x},$)),o&&d.jsx("div",{className:"flex justify-start animate-fadeIn",children:d.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[d.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",placeholder:"พิมพ์ข้อความของคุณที่นี่...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200\r
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent\r
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:z=>p(z.target.value),onKeyPress:v,disabled:o,"aria-label":"ช่องป้อนข้อความแชท"}),d.jsx("button",{onClick:y,className:`${F} ${Q} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"ส่งข้อความ",children:o?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},iE=({isOpen:i,isVisible:e,messages:r,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:y,handleKeyPress:v,formatAIResponse:x,showInitialWelcomeUI:T,showPetitionAlert:R,setShowPetitionAlert:O})=>{const F="bg-[#9a1518]",Q="hover:bg-[#7e1214]";return e?d.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-[calc(100vw-3rem)] // Full width minus margin on mobile
                    h-[calc(100vh-150px)] // Adjusted height for mobile, e.g., slightly shorter than full screen
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${i?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    sm:hidden`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[R&&d.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[d.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:"🔔 แจ้งเตือน: การยื่นคำร้อง"}),d.jsx("p",{className:"text-gray-700 text-base",children:"เนื่องจากการดำเนินการต้องใช้เวลา **กรุณาตรวจสอบกำหนดเวลายื่นคำร้องตามที่ท่านประสงค์**"}),d.jsx("div",{className:"flex justify-end mt-4",children:d.jsx("button",{onClick:()=>O(!1),className:`${F} ${Q} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:"รับทราบ"})})]})}),d.jsxs("div",{className:`p-3 flex justify-between items-center ${F} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[d.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[d.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),d.jsx("p",{className:"text-xs text-white/80",children:"พร้อมให้คำปรึกษาตลอด 24 ชม."})]})]}),d.jsx("button",{onClick:f,"aria-label":"ปิดหน้าต่างแชท",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),d.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),d.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[T?d.jsx(y2,{setInputMessage:p}):r.map((z,$)=>d.jsx(g2,{sender:z.sender,text:z.text,formatAIResponse:x},$)),o&&d.jsx("div",{className:"flex justify-start animate-fadeIn",children:d.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[d.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",placeholder:"พิมพ์ข้อความของคุณที่นี่...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200\r
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent\r
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:z=>p(z.target.value),onKeyPress:v,disabled:o,"aria-label":"ช่องป้อนข้อความแชท"}),d.jsx("button",{onClick:y,className:`${F} ${Q} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"ส่งข้อความ",children:o?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},sE=()=>{const{isOpen:i,isVisible:e,messages:r,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:y,handleKeyPress:v,formatAIResponse:x,showInitialWelcomeUI:T,showPetitionAlert:R,setShowPetitionAlert:O}=nE(),F="bg-[#9a1518]",Q="hover:bg-[#7e1214]",z="focus:ring-[#9a1518]",$={isOpen:i,isVisible:e,messages:r,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:y,handleKeyPress:v,formatAIResponse:x,showInitialWelcomeUI:T,showPetitionAlert:R,setShowPetitionAlert:O};return d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:f,"aria-label":i?"ปิดหน้าต่างแชท":"เปิดหน้าต่างแชท",className:`fixed bottom-6 right-6 ${F} ${Q} text-white p-4 rounded-full shadow-2xl z-50 focus:outline-none focus:ring-4 ${z} focus:ring-opacity-50 transition-all duration-300 hover:scale-110 active:scale-95 hover:shadow-[0_0_30px_rgba(154,21,24,0.5)]`,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform duration-300 ${i?"rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i?d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"}):d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&d.jsx(rE,{...$}),e&&d.jsx(iE,{...$}),d.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }

        /* Custom Scrollbar */
        *::-webkit-scrollbar {
          width: 6px;
        }

        *::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb {
          background: rgba(154, 21, 24, 0.5);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb:hover {
          background: rgba(154, 21, 24, 0.7);
        }
      `})]})},aE=()=>d.jsxs("div",{id:"hero",className:`flex flex-col items-center gap-6 py-15 px-4 sm:px-12 lg:px-24\r
    xl:px-40 text-center w-full overflow-hidden text-gray-700 relative`,children:[d.jsxs("h1",{className:"font-medium xl:leading-[70px] max-w-5xl relative z-20 text-black",children:[d.jsx("span",{className:"text-lg sm:text-xl md:text-2xl xl:text-3xl font-regular",children:"ศูนย์ข้อมูลและคำปรึกษาออนไลน์"})," ",d.jsx("br",{}),d.jsx("span",{className:"text-4xl sm:text-4xl md:text-4xl lg:text-5xl xl:text-6xl font-medium block sm:inline",children:"วิศวกรรมคอมพิวเตอร์และสื่อดิจิทัล"}),d.jsx("span",{className:"hidden sm:inline",children:" "}),d.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl xl:text-5xl bg-gradient-to-r from-[#dc2626] to-[#7d1315] bg-clip-text text-transparent font-medium",children:"มหาวิทยาลัยขอนแก่น"})]}),d.jsx("p",{className:"text-sm sm:text-lg font-regular text-gray-500 max-w-4/5 sm:max-w-lg pb-3 -mt-5 relative z-20",children:"พัฒนาความรู้ ฝึกฝนทักษะ และเติบโตไปพร้อมกับเทคโนโลยีสมัยใหม่"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("img",{src:Jt.hero_img,alt:"",className:"w-full max-w-6xl rounded-4xl relative z-10"}),d.jsx("img",{src:Jt.bgImage1,alt:"",className:"absolute w-[1000px] h-[1000px] z-0 pointer-events-none",style:{top:"-350px",right:"-330px"}})]})]});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),jy=i=>{const e=oE(i);return e.charAt(0).toUpperCase()+e.slice(1)},v2=(...i)=>i.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),cE=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=L.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...p},y)=>L.createElement("svg",{ref:y,...uE,width:e,height:e,stroke:i,strokeWidth:s?Number(r)*24/Number(e):r,className:v2("lucide",o),...!c&&!cE(p)&&{"aria-hidden":"true"},...p},[...f.map(([v,x])=>L.createElement(v,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(i,e)=>{const r=L.forwardRef(({className:s,...o},c)=>L.createElement(hE,{ref:c,iconNode:e,className:v2(`lucide-${lE(jy(i))}`,`lucide-${i}`,s),...o}));return r.displayName=jy(i),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fE=Be("arrow-right",dE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],x2=Be("book-open",mE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],gE=Be("bot",pE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cu=Be("calendar",yE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ao=Be("chevron-left",vE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_E=Be("chevron-right",xE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fm=Be("circle-alert",bE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EE=Be("circle-check-big",wE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],SE=Be("circle-x",TE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RE=Be("clock",AE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CE=Be("eye",NE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],DE=Be("facebook",jE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ME=Be("file-text",IE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],OE=Be("funnel",VE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Dy=Be("globe",kE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_2=Be("info",LE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],vo=Be("loader",zE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Lf=Be("mail",PE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BE=Be("map-pin",UE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],HE=Be("menu",qE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Pa=Be("message-square",FE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],b2=Be("newspaper",GE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$E=Be("phone",YE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Iy=Be("plus",QE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],XE=Be("refresh-cw",KE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WE=Be("save",ZE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eT=Be("square-pen",JE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],My=Be("star",tT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ju=Be("trash-2",nT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],iT=Be("trending-up",rT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],w2=Be("upload",sT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Du=Be("user",aT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iu=Be("x",lT),mm=({title:i,desc:e})=>d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("h2",{className:"text-3xl sm:text-5xl font-medium text-center",children:i}),d.jsx("p",{className:"max-w-lg text-center text-gray-500 mt-5 font-regular",children:e})]}),oT=`
@keyframes liquid-gradient-animation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.liquid-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    overflow: hidden;
    transform-style: preserve-3d;
}

.liquid-overlay {
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.1) 0%,
        rgba(255, 255, 255, 0.05) 20%,
        transparent 50%,
        rgba(255, 255, 255, 0.05) 80%,
        rgba(255, 255, 255, 0.1) 100%
    );
    background-size: 200% 200%;
    animation: liquid-gradient-animation 15s ease infinite;
    opacity: 0.7;
    pointer-events: none;
    z-index: 0;
    filter: blur(5px);
    transition: opacity 0.3s ease;
}

.liquid-glass:hover .liquid-overlay {
    opacity: 0.9;
}

.liquid-glass::before,
.liquid-glass::after {
    content: '';
    position: absolute;
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
}

.liquid-glass::before {
    inset: 0;
    background: radial-gradient(
        circle at top left,
        rgba(255, 255, 255, 0.3) 0%,
        transparent 30%
    );
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::before {
    opacity: 1;
}

.liquid-glass::after {
    inset: 1px;
    background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%
    );
    opacity: 0.5;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::after {
    opacity: 0.7;
}

.liquid-glass h3 {
    color: #000000 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass:hover h3 {
    color: #111111 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.9);
}

.liquid-glass p {
    color: #333333 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.6);
}

.liquid-glass:hover p {
    color: #000000 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px) saturate(150%);
    -webkit-backdrop-filter: blur(10px) saturate(150%);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    color: #000000;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.2) 0%,
        transparent 50%,
        rgba(255, 255, 255, 0.1) 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
}

.liquid-glass-button:hover::before {
    opacity: 0.3;
}

.liquid-glass-button:hover {
    background: linear-gradient(
        135deg,
        rgba(154, 21, 24, 0.8) 0%,
        rgba(154, 21, 24, 0.9) 50%,
        rgba(120, 16, 19, 0.8) 100%
    );
    box-shadow: 0 6px 20px rgba(154, 21, 24, 0.4);
    transform: translateY(-1px);
    border-color: rgba(154, 21, 24, 0.6) !important;
    color: white !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
`,cT=({news:i})=>{const[e,r]=L.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:oT}}),d.jsxs("div",{className:`
                    group relative overflow-hidden rounded-2xl
                    transition-all duration-500 ease-out
                    hover:scale-[1.02] active:scale-[1.02]
                    flex flex-col
                    cursor-pointer
                    liquid-glass
                    shadow-lg hover:shadow-2xl
                    bg-gradient-to-br from-blue-50 to-purple-50
                `,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{minHeight:"400px"},children:[d.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),d.jsx("div",{className:`\r
                        absolute inset-0 rounded-2xl\r
                        border-2 border-transparent\r
                        group-hover:border-red-400/60 group-active:border-red-400/60\r
                        transition-all duration-500\r
                        pointer-events-none\r
                    `}),d.jsxs("div",{className:"w-full h-48 sm:h-56 overflow-hidden relative rounded-t-2xl",children:[d.jsx("img",{src:i?.image||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=400&h=300&fit=crop",alt:i?.title||"News Image",className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 ease-in-out"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-white/10 opacity-60 group-hover:opacity-80 transition-opacity duration-500"})]}),d.jsxs("div",{className:"p-6 flex flex-col flex-grow relative z-10",children:[d.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-2",children:i?.title||"ข่าวสารล่าสุดเกี่ยวกับเทคโนโลยีและนวัตกรรม"}),d.jsx("p",{className:"text-base mb-4 flex-grow line-clamp-3",children:i?.description||"รายละเอียดข่าวสารที่น่าสนใจและอัพเดทล่าสุด พร้อมข้อมูลที่เป็นประโยชน์สำหรับผู้อ่านทุกท่าน ติดตามข่าวสารและความเคลื่อนไหวใหม่ๆ ที่จะส่งผลต่อชีวิตประจำวัน"}),d.jsx("div",{className:"mt-auto pt-4",children:d.jsxs("a",{href:"#",className:`
                                inline-flex items-center gap-2 px-4 py-2 rounded-lg
                                font-medium text-sm
                                liquid-glass-button
                                border border-white/30
                                hover:border-red-600/60
                                transition-all duration-300
                                group/button
                            `,children:["อ่านเพิ่มเติม",d.jsx("span",{className:"transform group-hover/button:translate-x-1 transition-transform duration-300",children:"→"})]})})]})]})]})},uT=()=>{};var Vy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},hT=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[r++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[r++],f=i[r++],p=i[r++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},T2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,p=f?i[o+1]:0,y=o+2<i.length,v=y?i[o+2]:0,x=c>>2,T=(c&3)<<4|p>>4;let R=(p&15)<<2|v>>6,O=v&63;y||(O=64,f||(R=64)),s.push(r[x],r[T],r[R],r[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(E2(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):hT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=r[i.charAt(o++)],p=o<i.length?r[i.charAt(o)]:0;++o;const v=o<i.length?r[i.charAt(o)]:64;++o;const T=o<i.length?r[i.charAt(o)]:64;if(++o,c==null||p==null||v==null||T==null)throw new dT;const R=c<<2|p>>4;if(s.push(R),v!==64){const O=p<<4&240|v>>2;if(s.push(O),T!==64){const F=v<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class dT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fT=function(i){const e=E2(i);return T2.encodeByteArray(e,!0)},Mu=function(i){return fT(i).replace(/\./g,"")},mT=function(i){try{return T2.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=()=>pT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof Vy>"u")return;const i=Vy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},vT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&mT(i[1]);return e&&JSON.parse(e)},pm=()=>{try{return uT()||gT()||yT()||vT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},xT=i=>pm()?.emulatorHosts?.[i],S2=i=>{const e=xT(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},A2=()=>pm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R2(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mu(JSON.stringify(r)),Mu(JSON.stringify(f)),""].join(".")}const xo={};function bT(){const i={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?i.emulator.push(e):i.prod.push(e);return i}function wT(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let Oy=!1;function C2(i,e){if(typeof window>"u"||typeof document>"u"||!Zu(window.location.host)||xo[i]===e||xo[i]||Oy)return;xo[i]=e;function r(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=bT().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,O){R.setAttribute("width","24"),R.setAttribute("id",O),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function v(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Oy=!0,f()},R}function x(R,O){R.setAttribute("id",O),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=wT(s),O=r("text"),F=document.getElementById(O)||document.createElement("span"),Q=r("learnmore"),z=document.getElementById(Q)||document.createElement("a"),$=r("preprendIcon"),q=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;p(se),x(z,Q);const ae=v();y(q,$),se.append(q,F,z,ae),document.body.appendChild(se)}c?(F.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TT(){const i=pm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ST(){return!TT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AT(){try{return typeof indexedDB=="object"}catch{return!1}}function RT(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="FirebaseError";class Hs extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=NT,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j2.prototype.create)}}class j2{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?CT(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Hs(o,p,s)}}function CT(i,e){return i.replace(jT,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jT=/\{\$([^}]+)}/g;function Vu(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const c=i[o],f=e[o];if(ky(c)&&ky(f)){if(!Vu(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function ky(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(i){return i&&i._delegate?i._delegate:i}class Ha{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new _T;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MT(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:IT(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IT(i){return i===Ls?void 0:i}function MT(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new DT(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const OT={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},kT=Ue.INFO,LT={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},zT=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=LT[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D2{constructor(e){this.name=e,this._logLevel=kT,this._logHandler=zT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const PT=(i,e)=>e.some(r=>i instanceof r);let Ly,zy;function UT(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BT(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I2=new WeakMap,zf=new WeakMap,M2=new WeakMap,Tf=new WeakMap,gm=new WeakMap;function qT(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Ui(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&I2.set(r,i)}).catch(()=>{}),gm.set(e,i),e}function HT(i){if(zf.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});zf.set(i,e)}let Pf={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return zf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||M2.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ui(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function FT(i){Pf=i(Pf)}function GT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(Sf(this),e,...r);return M2.set(s,e.sort?e.sort():[e]),Ui(s)}:BT().includes(i)?function(...e){return i.apply(Sf(this),e),Ui(I2.get(this))}:function(...e){return Ui(i.apply(Sf(this),e))}}function YT(i){return typeof i=="function"?GT(i):(i instanceof IDBTransaction&&HT(i),PT(i,UT())?new Proxy(i,Pf):i)}function Ui(i){if(i instanceof IDBRequest)return qT(i);if(Tf.has(i))return Tf.get(i);const e=YT(i);return e!==i&&(Tf.set(i,e),gm.set(e,i)),e}const Sf=i=>gm.get(i);function $T(i,e,{blocked:r,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(i,e),p=Ui(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Ui(f.result),y.oldVersion,y.newVersion,Ui(f.transaction),y)}),r&&f.addEventListener("blocked",y=>r(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const QT=["get","getKey","getAll","getAllKeys","count"],KT=["put","add","delete","clear"],Af=new Map;function Py(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=KT.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QT.includes(r)))return;const c=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[r](...p),o&&y.done]))[0]};return Af.set(e,c),c}FT(i=>({...i,get:(e,r,s)=>Py(e,r)||i.get(e,r,s),has:(e,r)=>!!Py(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ZT(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function ZT(i){return i.getComponent()?.type==="VERSION"}const Uf="@firebase/app",Uy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new D2("@firebase/app"),WT="@firebase/app-compat",JT="@firebase/analytics-compat",eS="@firebase/analytics",tS="@firebase/app-check-compat",nS="@firebase/app-check",rS="@firebase/auth",iS="@firebase/auth-compat",sS="@firebase/database",aS="@firebase/data-connect",lS="@firebase/database-compat",oS="@firebase/functions",cS="@firebase/functions-compat",uS="@firebase/installations",hS="@firebase/installations-compat",dS="@firebase/messaging",fS="@firebase/messaging-compat",mS="@firebase/performance",pS="@firebase/performance-compat",gS="@firebase/remote-config",yS="@firebase/remote-config-compat",vS="@firebase/storage",xS="@firebase/storage-compat",_S="@firebase/firestore",bS="@firebase/ai",wS="@firebase/firestore-compat",ES="firebase",TS="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",SS={[Uf]:"fire-core",[WT]:"fire-core-compat",[eS]:"fire-analytics",[JT]:"fire-analytics-compat",[nS]:"fire-app-check",[tS]:"fire-app-check-compat",[rS]:"fire-auth",[iS]:"fire-auth-compat",[sS]:"fire-rtdb",[aS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[oS]:"fire-fn",[cS]:"fire-fn-compat",[uS]:"fire-iid",[hS]:"fire-iid-compat",[dS]:"fire-fcm",[fS]:"fire-fcm-compat",[mS]:"fire-perf",[pS]:"fire-perf-compat",[gS]:"fire-rc",[yS]:"fire-rc-compat",[vS]:"fire-gcs",[xS]:"fire-gcs-compat",[_S]:"fire-fst",[wS]:"fire-fst-compat",[bS]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,AS=new Map,qf=new Map;function By(i,e){try{i.container.addComponent(e)}catch(r){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Ro(i){const e=i.name;if(qf.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,i);for(const r of Ou.values())By(r,i);for(const r of AS.values())By(r,i);return!0}function V2(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function O2(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new j2("app","Firebase",RS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=TS;function L2(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s={name:Bf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(r||(r=A2()),!r)throw Bi.create("no-options");const c=Ou.get(o);if(c){if(Vu(r,c.options)&&Vu(s,c.config))return c;throw Bi.create("duplicate-app",{appName:o})}const f=new VT(o);for(const y of qf.values())f.addComponent(y);const p=new NS(r,s,f);return Ou.set(o,p),p}function z2(i=Bf){const e=Ou.get(i);if(!e&&i===Bf&&A2())return L2();if(!e)throw Bi.create("no-app",{appName:i});return e}function qi(i,e,r){let s=SS[i]??i;r&&(s+=`-${r}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(f.join(" "));return}Ro(new Ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebase-heartbeat-database",jS=1,No="firebase-heartbeat-store";let Rf=null;function P2(){return Rf||(Rf=$T(CS,jS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(No)}catch(r){console.warn(r)}}}}).catch(i=>{throw Bi.create("idb-open",{originalErrorMessage:i.message})})),Rf}async function DS(i){try{const r=(await P2()).transaction(No),s=await r.objectStore(No).get(U2(i));return await r.done,s}catch(e){if(e instanceof Hs)Kr.warn(e.message);else{const r=Bi.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(r.message)}}}async function qy(i,e){try{const s=(await P2()).transaction(No,"readwrite");await s.objectStore(No).put(e,U2(i)),await s.done}catch(r){if(r instanceof Hs)Kr.warn(r.message);else{const s=Bi.create("idb-set",{originalErrorMessage:r?.message});Kr.warn(s.message)}}}function U2(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=1024,MS=30;class VS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new kS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>MS){const o=LS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hy(),{heartbeatsToSend:r,unsentEntries:s}=OS(this._heartbeatsCache.heartbeats),o=Mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Kr.warn(e),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function OS(i,e=IS){const r=[];let s=i.slice();for(const o of i){const c=r.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Fy(r)>e){c.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Fy(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class kS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AT()?RT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await DS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fy(i){return Mu(JSON.stringify({version:2,heartbeats:i})).length}function LS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(i){Ro(new Ha("platform-logger",e=>new XT(e),"PRIVATE")),Ro(new Ha("heartbeat",e=>new VS(e),"PRIVATE")),qi(Uf,Uy,i),qi(Uf,Uy,"esm2020"),qi("fire-js","")}zS("");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,B2;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,A){function E(){}E.prototype=A.prototype,j.F=A.prototype,j.prototype=new E,j.prototype.constructor=j,j.D=function(N,I,M){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return A.prototype[I].apply(N,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,A,E){E||(E=0);const N=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)N[I]=A.charCodeAt(E++)|A.charCodeAt(E++)<<8|A.charCodeAt(E++)<<16|A.charCodeAt(E++)<<24;else for(I=0;I<16;++I)N[I]=A[E++]|A[E++]<<8|A[E++]<<16|A[E++]<<24;A=j.g[0],E=j.g[1],I=j.g[2];let M=j.g[3],C;C=A+(M^E&(I^M))+N[0]+3614090360&4294967295,A=E+(C<<7&4294967295|C>>>25),C=M+(I^A&(E^I))+N[1]+3905402710&4294967295,M=A+(C<<12&4294967295|C>>>20),C=I+(E^M&(A^E))+N[2]+606105819&4294967295,I=M+(C<<17&4294967295|C>>>15),C=E+(A^I&(M^A))+N[3]+3250441966&4294967295,E=I+(C<<22&4294967295|C>>>10),C=A+(M^E&(I^M))+N[4]+4118548399&4294967295,A=E+(C<<7&4294967295|C>>>25),C=M+(I^A&(E^I))+N[5]+1200080426&4294967295,M=A+(C<<12&4294967295|C>>>20),C=I+(E^M&(A^E))+N[6]+2821735955&4294967295,I=M+(C<<17&4294967295|C>>>15),C=E+(A^I&(M^A))+N[7]+4249261313&4294967295,E=I+(C<<22&4294967295|C>>>10),C=A+(M^E&(I^M))+N[8]+1770035416&4294967295,A=E+(C<<7&4294967295|C>>>25),C=M+(I^A&(E^I))+N[9]+2336552879&4294967295,M=A+(C<<12&4294967295|C>>>20),C=I+(E^M&(A^E))+N[10]+4294925233&4294967295,I=M+(C<<17&4294967295|C>>>15),C=E+(A^I&(M^A))+N[11]+2304563134&4294967295,E=I+(C<<22&4294967295|C>>>10),C=A+(M^E&(I^M))+N[12]+1804603682&4294967295,A=E+(C<<7&4294967295|C>>>25),C=M+(I^A&(E^I))+N[13]+4254626195&4294967295,M=A+(C<<12&4294967295|C>>>20),C=I+(E^M&(A^E))+N[14]+2792965006&4294967295,I=M+(C<<17&4294967295|C>>>15),C=E+(A^I&(M^A))+N[15]+1236535329&4294967295,E=I+(C<<22&4294967295|C>>>10),C=A+(I^M&(E^I))+N[1]+4129170786&4294967295,A=E+(C<<5&4294967295|C>>>27),C=M+(E^I&(A^E))+N[6]+3225465664&4294967295,M=A+(C<<9&4294967295|C>>>23),C=I+(A^E&(M^A))+N[11]+643717713&4294967295,I=M+(C<<14&4294967295|C>>>18),C=E+(M^A&(I^M))+N[0]+3921069994&4294967295,E=I+(C<<20&4294967295|C>>>12),C=A+(I^M&(E^I))+N[5]+3593408605&4294967295,A=E+(C<<5&4294967295|C>>>27),C=M+(E^I&(A^E))+N[10]+38016083&4294967295,M=A+(C<<9&4294967295|C>>>23),C=I+(A^E&(M^A))+N[15]+3634488961&4294967295,I=M+(C<<14&4294967295|C>>>18),C=E+(M^A&(I^M))+N[4]+3889429448&4294967295,E=I+(C<<20&4294967295|C>>>12),C=A+(I^M&(E^I))+N[9]+568446438&4294967295,A=E+(C<<5&4294967295|C>>>27),C=M+(E^I&(A^E))+N[14]+3275163606&4294967295,M=A+(C<<9&4294967295|C>>>23),C=I+(A^E&(M^A))+N[3]+4107603335&4294967295,I=M+(C<<14&4294967295|C>>>18),C=E+(M^A&(I^M))+N[8]+1163531501&4294967295,E=I+(C<<20&4294967295|C>>>12),C=A+(I^M&(E^I))+N[13]+2850285829&4294967295,A=E+(C<<5&4294967295|C>>>27),C=M+(E^I&(A^E))+N[2]+4243563512&4294967295,M=A+(C<<9&4294967295|C>>>23),C=I+(A^E&(M^A))+N[7]+1735328473&4294967295,I=M+(C<<14&4294967295|C>>>18),C=E+(M^A&(I^M))+N[12]+2368359562&4294967295,E=I+(C<<20&4294967295|C>>>12),C=A+(E^I^M)+N[5]+4294588738&4294967295,A=E+(C<<4&4294967295|C>>>28),C=M+(A^E^I)+N[8]+2272392833&4294967295,M=A+(C<<11&4294967295|C>>>21),C=I+(M^A^E)+N[11]+1839030562&4294967295,I=M+(C<<16&4294967295|C>>>16),C=E+(I^M^A)+N[14]+4259657740&4294967295,E=I+(C<<23&4294967295|C>>>9),C=A+(E^I^M)+N[1]+2763975236&4294967295,A=E+(C<<4&4294967295|C>>>28),C=M+(A^E^I)+N[4]+1272893353&4294967295,M=A+(C<<11&4294967295|C>>>21),C=I+(M^A^E)+N[7]+4139469664&4294967295,I=M+(C<<16&4294967295|C>>>16),C=E+(I^M^A)+N[10]+3200236656&4294967295,E=I+(C<<23&4294967295|C>>>9),C=A+(E^I^M)+N[13]+681279174&4294967295,A=E+(C<<4&4294967295|C>>>28),C=M+(A^E^I)+N[0]+3936430074&4294967295,M=A+(C<<11&4294967295|C>>>21),C=I+(M^A^E)+N[3]+3572445317&4294967295,I=M+(C<<16&4294967295|C>>>16),C=E+(I^M^A)+N[6]+76029189&4294967295,E=I+(C<<23&4294967295|C>>>9),C=A+(E^I^M)+N[9]+3654602809&4294967295,A=E+(C<<4&4294967295|C>>>28),C=M+(A^E^I)+N[12]+3873151461&4294967295,M=A+(C<<11&4294967295|C>>>21),C=I+(M^A^E)+N[15]+530742520&4294967295,I=M+(C<<16&4294967295|C>>>16),C=E+(I^M^A)+N[2]+3299628645&4294967295,E=I+(C<<23&4294967295|C>>>9),C=A+(I^(E|~M))+N[0]+4096336452&4294967295,A=E+(C<<6&4294967295|C>>>26),C=M+(E^(A|~I))+N[7]+1126891415&4294967295,M=A+(C<<10&4294967295|C>>>22),C=I+(A^(M|~E))+N[14]+2878612391&4294967295,I=M+(C<<15&4294967295|C>>>17),C=E+(M^(I|~A))+N[5]+4237533241&4294967295,E=I+(C<<21&4294967295|C>>>11),C=A+(I^(E|~M))+N[12]+1700485571&4294967295,A=E+(C<<6&4294967295|C>>>26),C=M+(E^(A|~I))+N[3]+2399980690&4294967295,M=A+(C<<10&4294967295|C>>>22),C=I+(A^(M|~E))+N[10]+4293915773&4294967295,I=M+(C<<15&4294967295|C>>>17),C=E+(M^(I|~A))+N[1]+2240044497&4294967295,E=I+(C<<21&4294967295|C>>>11),C=A+(I^(E|~M))+N[8]+1873313359&4294967295,A=E+(C<<6&4294967295|C>>>26),C=M+(E^(A|~I))+N[15]+4264355552&4294967295,M=A+(C<<10&4294967295|C>>>22),C=I+(A^(M|~E))+N[6]+2734768916&4294967295,I=M+(C<<15&4294967295|C>>>17),C=E+(M^(I|~A))+N[13]+1309151649&4294967295,E=I+(C<<21&4294967295|C>>>11),C=A+(I^(E|~M))+N[4]+4149444226&4294967295,A=E+(C<<6&4294967295|C>>>26),C=M+(E^(A|~I))+N[11]+3174756917&4294967295,M=A+(C<<10&4294967295|C>>>22),C=I+(A^(M|~E))+N[2]+718787259&4294967295,I=M+(C<<15&4294967295|C>>>17),C=E+(M^(I|~A))+N[9]+3951481745&4294967295,j.g[0]=j.g[0]+A&4294967295,j.g[1]=j.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+M&4294967295}s.prototype.v=function(j,A){A===void 0&&(A=j.length);const E=A-this.blockSize,N=this.C;let I=this.h,M=0;for(;M<A;){if(I==0)for(;M<=E;)o(this,j,M),M+=this.blockSize;if(typeof j=="string"){for(;M<A;)if(N[I++]=j.charCodeAt(M++),I==this.blockSize){o(this,N),I=0;break}}else for(;M<A;)if(N[I++]=j[M++],I==this.blockSize){o(this,N),I=0;break}}this.h=I,this.o+=A},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var A=1;A<j.length-8;++A)j[A]=0;A=this.o*8;for(var E=j.length-8;E<j.length;++E)j[E]=A&255,A/=256;for(this.v(j),j=Array(16),A=0,E=0;E<4;++E)for(let N=0;N<32;N+=8)j[A++]=this.g[E]>>>N&255;return j};function c(j,A){var E=p;return Object.prototype.hasOwnProperty.call(E,j)?E[j]:E[j]=A(j)}function f(j,A){this.h=A;const E=[];let N=!0;for(let I=j.length-1;I>=0;I--){const M=j[I]|0;N&&M==A||(E[I]=M,N=!1)}this.g=E}var p={};function y(j){return-128<=j&&j<128?c(j,function(A){return new f([A|0],A<0?-1:0)}):new f([j|0],j<0?-1:0)}function v(j){if(isNaN(j)||!isFinite(j))return T;if(j<0)return z(v(-j));const A=[];let E=1;for(let N=0;j>=E;N++)A[N]=j/E|0,E*=4294967296;return new f(A,0)}function x(j,A){if(j.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(j.charAt(0)=="-")return z(x(j.substring(1),A));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=v(Math.pow(A,8));let N=T;for(let M=0;M<j.length;M+=8){var I=Math.min(8,j.length-M);const C=parseInt(j.substring(M,M+I),A);I<8?(I=v(Math.pow(A,I)),N=N.j(I).add(v(C))):(N=N.j(E),N=N.add(v(C)))}return N}var T=y(0),R=y(1),O=y(16777216);i=f.prototype,i.m=function(){if(Q(this))return-z(this).m();let j=0,A=1;for(let E=0;E<this.g.length;E++){const N=this.i(E);j+=(N>=0?N:4294967296+N)*A,A*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(F(this))return"0";if(Q(this))return"-"+z(this).toString(j);const A=v(Math.pow(j,6));var E=this;let N="";for(;;){const I=ae(E,A).g;E=$(E,I.j(A));let M=((E.g.length>0?E.g[0]:E.h)>>>0).toString(j);if(E=I,F(E))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function F(j){if(j.h!=0)return!1;for(let A=0;A<j.g.length;A++)if(j.g[A]!=0)return!1;return!0}function Q(j){return j.h==-1}i.l=function(j){return j=$(this,j),Q(j)?-1:F(j)?0:1};function z(j){const A=j.g.length,E=[];for(let N=0;N<A;N++)E[N]=~j.g[N];return new f(E,~j.h).add(R)}i.abs=function(){return Q(this)?z(this):this},i.add=function(j){const A=Math.max(this.g.length,j.g.length),E=[];let N=0;for(let I=0;I<=A;I++){let M=N+(this.i(I)&65535)+(j.i(I)&65535),C=(M>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);N=C>>>16,M&=65535,C&=65535,E[I]=C<<16|M}return new f(E,E[E.length-1]&-2147483648?-1:0)};function $(j,A){return j.add(z(A))}i.j=function(j){if(F(this)||F(j))return T;if(Q(this))return Q(j)?z(this).j(z(j)):z(z(this).j(j));if(Q(j))return z(this.j(z(j)));if(this.l(O)<0&&j.l(O)<0)return v(this.m()*j.m());const A=this.g.length+j.g.length,E=[];for(var N=0;N<2*A;N++)E[N]=0;for(N=0;N<this.g.length;N++)for(let I=0;I<j.g.length;I++){const M=this.i(N)>>>16,C=this.i(N)&65535,ve=j.i(I)>>>16,Ee=j.i(I)&65535;E[2*N+2*I]+=C*Ee,q(E,2*N+2*I),E[2*N+2*I+1]+=M*Ee,q(E,2*N+2*I+1),E[2*N+2*I+1]+=C*ve,q(E,2*N+2*I+1),E[2*N+2*I+2]+=M*ve,q(E,2*N+2*I+2)}for(j=0;j<A;j++)E[j]=E[2*j+1]<<16|E[2*j];for(j=A;j<2*A;j++)E[j]=0;return new f(E,0)};function q(j,A){for(;(j[A]&65535)!=j[A];)j[A+1]+=j[A]>>>16,j[A]&=65535,A++}function se(j,A){this.g=j,this.h=A}function ae(j,A){if(F(A))throw Error("division by zero");if(F(j))return new se(T,T);if(Q(j))return A=ae(z(j),A),new se(z(A.g),z(A.h));if(Q(A))return A=ae(j,z(A)),new se(z(A.g),A.h);if(j.g.length>30){if(Q(j)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var E=R,N=A;N.l(j)<=0;)E=ie(E),N=ie(N);var I=le(E,1),M=le(N,1);for(N=le(N,2),E=le(E,2);!F(N);){var C=M.add(N);C.l(j)<=0&&(I=I.add(E),M=C),N=le(N,1),E=le(E,1)}return A=$(j,I.j(A)),new se(I,A)}for(I=T;j.l(A)>=0;){for(E=Math.max(1,Math.floor(j.m()/A.m())),N=Math.ceil(Math.log(E)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=v(E),C=M.j(A);Q(C)||C.l(j)>0;)E-=N,M=v(E),C=M.j(A);F(M)&&(M=R),I=I.add(M),j=$(j,C)}return new se(I,j)}i.B=function(j){return ae(this,j).h},i.and=function(j){const A=Math.max(this.g.length,j.g.length),E=[];for(let N=0;N<A;N++)E[N]=this.i(N)&j.i(N);return new f(E,this.h&j.h)},i.or=function(j){const A=Math.max(this.g.length,j.g.length),E=[];for(let N=0;N<A;N++)E[N]=this.i(N)|j.i(N);return new f(E,this.h|j.h)},i.xor=function(j){const A=Math.max(this.g.length,j.g.length),E=[];for(let N=0;N<A;N++)E[N]=this.i(N)^j.i(N);return new f(E,this.h^j.h)};function ie(j){const A=j.g.length+1,E=[];for(let N=0;N<A;N++)E[N]=j.i(N)<<1|j.i(N-1)>>>31;return new f(E,j.h)}function le(j,A){const E=A>>5;A%=32;const N=j.g.length-E,I=[];for(let M=0;M<N;M++)I[M]=A>0?j.i(M+E)>>>A|j.i(M+E+1)<<32-A:j.i(M+E);return new f(I,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,B2=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=x,Hi=f}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q2,mo,H2,_u,Hf,F2,G2,Y2;(function(){var i,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof du=="object"&&du];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=r(this);function o(u,g){if(g)e:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in _))break e;_=_[B]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&_.push([S,g[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,_){return u.call.apply(u.bind,arguments)}function v(u,g,_){return v=y,v.apply(null,arguments)}function x(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function T(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,B,K){for(var oe=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)oe[Re-2]=arguments[Re];return g.prototype[B].apply(S,oe)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const g=u.length;if(g>0){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function F(u,g){for(let S=1;S<arguments.length;S++){const B=arguments[S];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=u.length||0;const K=B.length||0;u.length=_+K;for(let oe=0;oe<K;oe++)u[_+oe]=B[oe]}else u.push(B)}}class Q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(u){f.setTimeout(()=>{throw u},0)}function $(){var u=j;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class q{constructor(){this.h=this.g=null}add(g,_){const S=se.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new Q(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,le=!1,j=new q,A=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(E)}};function E(){for(var u;u=$();){try{u.h.call(u.g)}catch(_){z(_)}var g=se;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}le=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ve(u,g){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}T(ve,I),ve.prototype.init=function(u,g){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),X=0;function Z(u,g,_,S,B){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=B,this.key=++X,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function V(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function re(u){const g={};for(const _ in u)g[_]=u[_];return g}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,g){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)u[_]=S[_];for(let K=0;K<de.length;K++)_=de[K],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function pe(u){this.src=u,this.g={},this.h=0}pe.prototype.add=function(u,g,_,S,B){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const oe=_e(u,g,S,B);return oe>-1?(g=u[oe],_||(g.fa=!1)):(g=new Z(g,this.src,K,!!S,B),g.fa=_,u.push(g)),g};function Me(u,g){const _=g.type;if(_ in u.g){var S=u.g[_],B=Array.prototype.indexOf.call(S,g,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(ue(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function _e(u,g,_,S){for(let B=0;B<u.length;++B){const K=u[B];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==S)return B}return-1}var St="closure_lm_"+(Math.random()*1e6|0),Fe={};function an(u,g,_,S,B){if(Array.isArray(g)){for(let K=0;K<g.length;K++)an(u,g[K],_,S,B);return null}return _=Yo(_),u&&u[Ee]?u.J(g,_,p(S)?!!S.capture:!1,B):mn(u,g,_,!1,S,B)}function mn(u,g,_,S,B,K){if(!g)throw Error("Invalid event type");const oe=p(B)?!!B.capture:!!B;let Re=sl(u);if(Re||(u[St]=Re=new pe(u)),_=Re.add(g,_,S,oe,K),_.proxy)return _;if(S=Er(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)M||(B=oe),B===void 0&&(B=!1),u.addEventListener(g.toString(),S,B);else if(u.attachEvent)u.attachEvent(ln(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Er(){function u(_){return g.call(u.src,u.listener,_)}const g=il;return u}function Tn(u,g,_,S,B){if(Array.isArray(g))for(var K=0;K<g.length;K++)Tn(u,g[K],_,S,B);else S=p(S)?!!S.capture:!!S,_=Yo(_),u&&u[Ee]?(u=u.i,K=String(g).toString(),K in u.g&&(g=u.g[K],_=_e(g,_,S,B),_>-1&&(ue(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[K],u.h--)))):u&&(u=sl(u))&&(g=u.g[g.toString()],u=-1,g&&(u=_e(g,_,S,B)),(_=u>-1?g[u]:null)&&Ae(_))}function Ae(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ee])Me(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(ln(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=sl(g))?(Me(_,u),_.h==0&&(_.src=null,g[St]=null)):ue(u)}}}function ln(u){return u in Fe?Fe[u]:Fe[u]="on"+u}function il(u,g){if(u.da)u=!0;else{g=new ve(g,this);const _=u.listener,S=u.ha||u.src;u.fa&&Ae(u),u=_.call(S,g)}return u}function sl(u){return u=u[St],u instanceof pe?u:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yo(u){return typeof u=="function"?u:(u[on]||(u[on]=function(g){return u.handleEvent(g)}),u[on])}function At(){N.call(this),this.i=new pe(this),this.M=this,this.G=null}T(At,N),At.prototype[Ee]=!0,At.prototype.removeEventListener=function(u,g,_,S){Tn(this,u,g,_,S)};function It(u,g){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new I(g,u);else if(g instanceof I)g.target=g.target||u;else{var B=g;g=new I(S,u),ce(g,B)}B=!0;let K,oe;if(_)for(oe=_.length-1;oe>=0;oe--)K=g.g=_[oe],B=Tr(K,S,!0,g)&&B;if(K=g.g=u,B=Tr(K,S,!0,g)&&B,B=Tr(K,S,!1,g)&&B,_)for(oe=0;oe<_.length;oe++)K=g.g=_[oe],B=Tr(K,S,!1,g)&&B}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let S=0;S<_.length;S++)ue(_[S]);delete u.g[g],u.h--}}this.G=null},At.prototype.J=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},At.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Tr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let K=0;K<g.length;++K){const oe=g[K];if(oe&&!oe.da&&oe.capture==_){const Re=oe.listener,it=oe.ha||oe.src;oe.fa&&Me(u.i,oe),B=Re.call(it,S)!==!1&&B}}return B&&!S.defaultPrevented}function yh(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(u,g||0)}function al(u){u.g=yh(()=>{u.g=null,u.i&&(u.i=!1,al(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class vh extends N{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:al(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){N.call(this),this.h=u,this.g={}}T(es,N);var ti=[];function Yt(u){Ce(u.g,function(g,_){this.g.hasOwnProperty(_)&&Ae(g)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),Yt(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=f.JSON.stringify,en=f.JSON.parse,xh=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function $o(){}function Qo(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ni(){I.call(this,"d")}T(ni,I);function zn(){I.call(this,"c")}T(zn,I);var An={},ri=null;function $s(){return ri=ri||new At}An.Ia="serverreachability";function ll(u){I.call(this,An.Ia,u)}T(ll,I);function ii(u){const g=$s();It(g,new ll(g))}An.STAT_EVENT="statevent";function Qs(u,g){I.call(this,An.STAT_EVENT,u),this.stat=g}T(Qs,I);function dt(u){const g=$s();It(g,new Qs(g,u))}An.Ja="timingevent";function Ko(u,g){I.call(this,An.Ja,u),this.size=g}T(Ko,I);function si(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function ol(u,g,_,S,B,K){u.info(function(){if(u.g)if(K){var oe="",Re=K.split("&");for(let Ye=0;Ye<Re.length;Ye++){var it=Re[Ye].split("=");if(it.length>1){const pt=it[0];it=it[1];const pn=pt.split("_");oe=pn.length>=2&&pn[1]=="type"?oe+(pt+"="+it+"&"):oe+(pt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+_+`
`+oe})}function cl(u,g,_,S,B,K,oe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+_+`
`+K+" "+oe})}function Sr(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+er(u,_)+(S?" "+S:"")})}function _h(u,g){u.info(function(){return"TIMEOUT: "+g})}ai.prototype.info=function(){};function er(u,g){if(!u.g)return g;if(!g)return null;try{const K=JSON.parse(g);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var _=K[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return Sn(K)}catch{return g}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function ts(){}T(ts,$o),ts.prototype.g=function(){return new XMLHttpRequest},Ar=new ts;function ns(u){return encodeURIComponent(String(u))}function bh(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function Pn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.S=S||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ks={},tr={};function nr(u,g,_){u.M=1,u.A=Nr(at(g)),u.u=_,u.R=!0,oi(u,null)}function oi(u,g){u.F=Date.now(),rs(u),u.B=at(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Jo(_.i,"t",S),u.C=0,_=u.j.L,u.h=new li,u.g=sa(u.j,_?g:null,!u.u),u.P>0&&(u.O=new vh(v(u.Y,u,u.g),u.P)),g=u.V,_=u.g,S=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ti[0]=B.toString()),B=ti);for(let K=0;K<B.length;K++){const oe=an(_,B[K],S||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=u.J?re(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ii(),ol(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const g=this.O;g&&$t(u)==3?g.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=$t(this.g),it=this.g.ya(),Ye=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||ms(this.g)))){this.K||Re!=4||it==7||(it==8||Ye<=0?ii(3):ii(2)),ir(this);var g=this.g.ca();this.X=g;var _=ci(this);if(this.o=g==200,cl(this.i,this.v,this.B,this.l,this.S,Re,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var K=S;break t}}K=null}if(u=K)Sr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xs(this,u);else{this.o=!1,this.m=3,dt(12),sr(this),is(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<_.length;)if(pt=Xo(this,_),pt==tr){Re==4&&(this.m=4,dt(14),u=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Ks){this.m=4,dt(15),Sr(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Sr(this.i,this.l,pt,null),Xs(this,pt);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||_.length!=0||this.h.h||(this.m=1,dt(16),u=!1),this.o=this.o&&u,!u)Sr(this.i,this.l,_,"[Invalid Chunked Response]"),sr(this),is(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xl(oe),oe.P=!0,dt(11))}}else Sr(this.i,this.l,_,null),Xs(this,_);Re==4&&sr(this),this.o&&!this.K&&(Re==4?_l(this.j,this):(this.o=!1,rs(this)))}else ps(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),sr(this),is(this)}}}catch{}finally{}};function ci(u){if(!mt(u))return u.g.la();const g=ms(u.g);if(g==="")return"";let _="";const S=g.length,B=$t(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return sr(u),is(u),"";u.h.i=new f.TextDecoder}for(let K=0;K<S;K++)u.h.h=!0,_+=u.h.i.decode(g[K],{stream:!(B&&K==S-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function mt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Xo(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?tr:(_=Number(g.substring(_,S)),isNaN(_)?Ks:(S+=1,S+_>g.length?tr:(g=g.slice(S,S+_),u.C=S+_,g)))}Pn.prototype.cancel=function(){this.K=!0,sr(this)};function rs(u){u.T=Date.now()+u.H,rr(u,u.H)}function rr(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(v(u.aa,u),g)}function ir(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_h(this.i,this.B),this.M!=2&&(ii(),dt(17)),sr(this),this.m=2,is(this)):rr(this,this.T-u)};function is(u){u.j.I==0||u.K||_l(u.j,u)}function sr(u){ir(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Yt(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Xs(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||ls(_.h,u))){if(!u.L&&ls(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ia(_),ar(_);else break e;vl(_),dt(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=si(v(_.Va,_),6e3));Rn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Dr(_,11)}else if((u.L||_.g==u)&&ia(_),!C(g))for(B=_.Ba.g.parse(g),g=0;g<B.length;g++){let Ye=B[g];const pt=Ye[0];if(!(pt<=_.K))if(_.K=pt,Ye=Ye[1],_.I==2)if(Ye[0]=="c"){_.M=Ye[1],_.ba=Ye[2];const pn=Ye[3];pn!=null&&(_.ka=pn,_.j.info("VER="+_.ka));const lr=Ye[4];lr!=null&&(_.za=lr,_.j.info("SVER="+_.za));const qn=Ye[5];qn!=null&&typeof qn=="number"&&qn>0&&(S=1.5*qn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Hn=u.g;if(Hn){const Fn=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var K=S.h;K.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Zs(K,K.h),K.h=null))}if(S.G){const wl=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(S.wa=wl,Ke(S.J,S.G,wl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var oe=u;if(S.na=oc(S,S.L?S.ba:null,S.W),oe.L){Rr(S.h,oe);var Re=oe,it=S.O;it&&(Re.H=it),Re.D&&(ir(Re),rs(Re)),S.g=oe}else ic(S);_.i.length>0&&xs(_)}else Ye[0]!="stop"&&Ye[0]!="close"||Dr(_,7);else _.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Dr(_,7):ys(_):Ye[0]!="noop"&&_.l&&_.l.qa(Ye),_.A=0)}}ii(4)}catch{}}var wh=class{constructor(u,g){this.g=u,this.map=g}};function ss(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function as(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rn(u){return u.h?1:u.g?u.g.size:0}function ls(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Zs(u,g){u.g?u.g.add(g):u.h=g}function Rr(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ss.prototype.cancel=function(){if(this.i=Ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ws(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return O(u.i)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eh(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let B,K=null;S>=0?(B=u[_].substring(0,S),K=u[_].substring(S+1)):B=u[_],g(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Un?(this.l=u.l,ui(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,hi(this,ec(u.i)),this.m=u.m):u&&(g=String(u).match(Js))?(this.l=!1,ui(this,g[1]||"",!0),this.o=cs(g[2]||""),this.g=cs(g[3]||"",!0),os(this,g[4]),this.h=cs(g[5]||"",!0),hi(this,g[6]||"",!0),this.m=cs(g[7]||"")):(this.l=!1,this.i=new Nn(null,this.l))}Un.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Mt(g,hl,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Mt(g,hl,!0),"@"),u.push(ns(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Mt(_,_.charAt(0)=="/"?di:dl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Mt(_,Wo)),u.join("")},Un.prototype.resolve=function(u){const g=at(this);let _=!!u.j;_?ui(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var S=u.h;if(_)os(g,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=g.h.lastIndexOf("/");B!=-1&&(S=g.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let oe=0;oe<B.length;){const Re=B[oe++];Re=="."?S&&oe==B.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&oe==B.length&&K.push("")):(K.push(Re),S=!0)}S=K.join("/")}else S=B}return _?g.h=S:_=u.i.toString()!=="",_?hi(g,ec(u.i)):_=!!u.m,_&&(g.m=u.m),g};function at(u){return new Un(u)}function ui(u,g,_){u.j=_?cs(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function hi(u,g,_){g instanceof Nn?(u.i=g,pl(u.i,u.l)):(_||(g=Mt(g,Zo)),u.i=new Nn(g,u.l))}function Ke(u,g,_){u.i.set(g,_)}function Nr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function cs(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mt(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,ul),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hl=/[#\/\?@]/g,dl=/[#\?:]/g,di=/[#\?]/g,Zo=/[#\?@]/g,Wo=/#/g;function Nn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Cr(u){u.g||(u.g=new Map,u.h=0,u.i&&Eh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Nn.prototype,i.add=function(u,g){Cr(this),this.i=null,u=Bn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function fl(u,g){Cr(u),g=Bn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function ml(u,g){return Cr(u),g=Bn(u,g),u.g.has(g)}i.forEach=function(u,g){Cr(this),this.g.forEach(function(_,S){_.forEach(function(B){u.call(g,B,S,this)},this)},this)};function ea(u,g){Cr(u);let _=[];if(typeof g=="string")ml(u,g)&&(_=_.concat(u.g.get(Bn(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}i.set=function(u,g){return Cr(this),this.i=null,u=Bn(this,u),ml(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=ea(this,u),u.length>0?String(u[0]):g):g};function Jo(u,g,_){fl(u,g),_.length>0&&(u.i=null,u.g.set(Bn(u,g),O(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var _=g[S];const B=ns(_);_=ea(this,_);for(let K=0;K<_.length;K++){let oe=B;_[K]!==""&&(oe+="="+ns(_[K])),u.push(oe)}}return this.i=u.join("&")};function ec(u){const g=new Nn;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Bn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function pl(u,g){g&&!u.j&&(Cr(u),u.i=null,u.g.forEach(function(_,S){const B=S.toLowerCase();S!=B&&(fl(this,S),Jo(this,B,_))},u)),u.j=g}function gl(u,g){const _=new ai;if(f.Image){const S=new Image;S.onload=x(tn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=x(tn,_,"TestLoadImage: error",!1,g,S),S.onabort=x(tn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=x(tn,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function fi(u,g){const _=new ai,S=new AbortController,B=setTimeout(()=>{S.abort(),tn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?tn(_,"TestPingServer: ok",!0,g):tn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),tn(_,"TestPingServer: error",!1,g)})}function tn(u,g,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function tc(){this.g=new xh}function us(u){this.i=u.Sb||null,this.h=u.ab||!1}T(us,$o),us.prototype.g=function(){return new hs(this.i,this.h)};function hs(u,g){At.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(hs,At),i=hs.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,jr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nn(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function mi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?nn(this):jr(this),this.readyState==3&&mi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,nn(this))},i.Na=function(u){this.g&&(this.response=u,nn(this))},i.ga=function(){this.g&&nn(this)};function nn(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jr(u)}i.setRequestHeader=function(u,g){this.A.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function jr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pi(u){let g="";return Ce(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Cn(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=pi(_),typeof u=="string"?_!=null&&ns(_):Ke(u,g,_))}function tt(u){At.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(tt,At);var ta=/^https?$/i,nc=["POST","PUT"];i=tt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=R(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(K){ds(this,K);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(nc,g,void 0)>=0)||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){ds(this,K)}};function ds(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,fs(u),Rt(u)}function fs(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),Rt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rt(this,!0)),tt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?yl(this):this.Xa())},i.Xa=function(){yl(this)};function yl(u){if(u.h&&typeof c<"u"){if(u.v&&$t(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),$t(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=K===0){let oe=String(u.D).match(Js)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),S=!ta.test(oe?oe.toLowerCase():"")}_=S}if(_)It(u,"complete"),It(u,"success");else{u.o=6;try{var B=$t(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",fs(u)}}finally{Rt(u)}}}}function Rt(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||It(u,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function $t(u){return u.g?u.g.readyState:0}i.ca=function(){try{return $t(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),en(g)}};function ms(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ps(u){const g={};u=(u.g&&$t(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var _=bh(u[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[B]||[];g[B]=K,K.push(_)}V(g,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function na(u){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gs("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gs("baseRetryDelayMs",5e3,u),this.Za=gs("retryDelaySeedMs",1e4,u),this.Ta=gs("forwardChannelMaxRetries",2,u),this.va=gs("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ss(u&&u.concurrentRequestLimit),this.Ba=new tc,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=na.prototype,i.ka=8,i.I=1,i.connect=function(u,g,_,S){dt(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=oc(this,null,this.W),xs(this)};function ys(u){if(vs(u),u.I==3){var g=u.V++,_=at(u.J);if(Ke(_,"SID",u.M),Ke(_,"RID",g),Ke(_,"TYPE","terminate"),_s(u,_),g=new Pn(u,u.j,g),g.M=2,g.A=Nr(at(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.A,_=!0),_||(g.g=sa(g.j,null),g.g.ea(g.A)),g.F=Date.now(),rs(g)}lc(u)}function ar(u){u.g&&(xl(u),u.g.cancel(),u.g=null)}function vs(u){ar(u),u.v&&(f.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function xs(u){if(!as(u.h)&&!u.m){u.m=!0;var g=u.Ea;ie||A(),le||(ie(),le=!0),j.add(g,u),u.D=0}}function Th(u,g){return Rn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(v(u.Ea,u,g),ac(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Pn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=re(K),ce(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ra(this,B,g),_=at(this.J),Ke(_,"RID",u),Ke(_,"CVER",22),this.G&&Ke(_,"X-HTTP-Session-Id",this.G),_s(this,_),K&&(this.R?g="headers="+ns(pi(K))+"&"+g:this.u&&Cn(_,this.u,K)),Zs(this.h,B),this.Ra&&Ke(_,"TYPE","init"),this.S?(Ke(_,"$req",g),Ke(_,"SID","null"),B.U=!0,nr(B,_,null)):nr(B,_,g),this.I=2}}else this.I==3&&(u?rc(this,u):this.i.length==0||as(this.h)||rc(this))};function rc(u,g){var _;g?_=g.l:_=u.V++;const S=at(u.J);Ke(S,"SID",u.M),Ke(S,"RID",_),Ke(S,"AID",u.K),_s(u,S),u.u&&u.o&&Cn(S,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=ra(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zs(u.h,_),nr(_,S,g)}function _s(u,g){u.H&&Ce(u.H,function(_,S){Ke(g,S,_)}),u.l&&Ce({},function(_,S){Ke(g,S,_)})}function ra(u,g,_){_=Math.min(u.i.length,_);const S=u.l?v(u.l.Ka,u.l,u):null;e:{var B=u.i;let Re=-1;for(;;){const it=["count="+_];Re==-1?_>0?(Re=B[0].g,it.push("ofs="+Re)):Re=0:it.push("ofs="+Re);let Ye=!0;for(let pt=0;pt<_;pt++){var K=B[pt].g;const pn=B[pt].map;if(K-=Re,K<0)Re=Math.max(0,B[pt].g-100),Ye=!1;else try{K="req"+K+"_"||"";try{var oe=pn instanceof Map?pn:Object.entries(pn);for(const[lr,qn]of oe){let Hn=qn;p(qn)&&(Hn=Sn(qn)),it.push(K+lr+"="+encodeURIComponent(Hn))}}catch(lr){throw it.push(K+"type="+encodeURIComponent("_badmap")),lr}}catch{S&&S(pn)}}if(Ye){oe=it.join("&");break e}}oe=void 0}return u=u.i.splice(0,_),g.G=u,oe}function ic(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;ie||A(),le||(ie(),le=!0),j.add(g,u),u.A=0}}function vl(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(v(u.Da,u),ac(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(v(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),ar(this),sc(this))};function xl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function sc(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=at(u.na);Ke(g,"RID","rpc"),Ke(g,"SID",u.M),Ke(g,"AID",u.K),Ke(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(g,"TO",u.ia),Ke(g,"TYPE","xmlhttp"),_s(u,g),u.u&&u.o&&Cn(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Nr(at(g)),_.u=null,_.R=!0,oi(_,u)}i.Va=function(){this.C!=null&&(this.C=null,ar(this),vl(this),dt(19))};function ia(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function _l(u,g){var _=null;if(u.g==g){ia(u),xl(u),u.g=null;var S=2}else if(ls(u.h,g))_=g.G,Rr(u.h,g),S=1;else return;if(u.I!=0){if(g.o)if(S==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var B=u.D;S=$s(),It(S,new Ko(S,_)),xs(u)}else ic(u);else if(B=g.m,B==3||B==0&&g.X>0||!(S==1&&Th(u,g)||S==2&&vl(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),B){case 1:Dr(u,5);break;case 4:Dr(u,10);break;case 3:Dr(u,6);break;default:Dr(u,2)}}}function ac(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function Dr(u,g){if(u.j.info("Error code "+g),g==2){var _=v(u.bb,u),S=u.Ua;const B=!S;S=new Un(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ui(S,"https"),Nr(S),B?gl(S.toString(),_):fi(S.toString(),_)}else dt(2);u.I=0,u.l&&u.l.pa(g),lc(u),vs(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function lc(u){if(u.I=0,u.ja=[],u.l){const g=Ws(u.h);(g.length!=0||u.i.length!=0)&&(F(u.ja,g),F(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function oc(u,g,_){var S=_ instanceof Un?at(_):new Un(_);if(S.g!="")g&&(S.g=g+"."+S.g),os(S,S.u);else{var B=f.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const K=new Un(null);S&&ui(K,S),g&&(K.g=g),B&&os(K,B),_&&(K.h=_),S=K}return _=u.G,g=u.wa,_&&g&&Ke(S,_,g),Ke(S,"VER",u.ka),_s(u,S),S}function sa(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new tt(new us({ab:_})):new tt(u.ma),g.Fa(u.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}i=cc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function aa(){}aa.prototype.g=function(u,g){return new rn(u,g)};function rn(u,g){At.call(this),this.g=new na(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!C(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new gi(this)}T(rn,At),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){ys(this.g)},rn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Sn(u),u=_);g.i.push(new wh(g.Ya++,u)),g.I==3&&xs(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,ys(this.g),delete this.g,rn.Z.N.call(this)};function bl(u){ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}T(bl,ni);function uc(){zn.call(this),this.status=1}T(uc,zn);function gi(u){this.g=u}T(gi,cc),gi.prototype.ra=function(){It(this.g,"a")},gi.prototype.qa=function(u){It(this.g,new bl(u))},gi.prototype.pa=function(u){It(this.g,new uc)},gi.prototype.oa=function(){It(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Y2=function(){return new aa},G2=function(){return $s()},F2=An,Hf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,_u=ft,Pt.COMPLETE="complete",H2=Pt,Qo.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",At.prototype.listen=At.prototype.J,mo=Qo,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,q2=tt}).apply(typeof du<"u"?du:typeof self<"u"?self:typeof window<"u"?window:{});const Yy="@firebase/firestore",$y="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new D2("@firebase/firestore");function Oa(){return Us.logLevel}function fe(i,...e){if(Us.logLevel<=Ue.DEBUG){const r=e.map(ym);Us.debug(`Firestore (${Za}): ${i}`,...r)}}function Xr(i,...e){if(Us.logLevel<=Ue.ERROR){const r=e.map(ym);Us.error(`Firestore (${Za}): ${i}`,...r)}}function Fa(i,...e){if(Us.logLevel<=Ue.WARN){const r=e.map(ym);Us.warn(`Firestore (${Za}): ${i}`,...r)}}function ym(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,$2(i,s,r)}function $2(i,e,r){let s=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Xr(s),new Error(s)}function Ge(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||$2(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Hs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Zt.UNAUTHENTICATED)))}shutdown(){}}class US{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class BS{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ge(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,r(y)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}}),0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Q2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class qS{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HS{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new qS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,O2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ge(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Ge(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Qy(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<r&&(s+=e.charAt(o[c]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Ff(i,e){const r=Math.min(i.length,e.length);for(let s=0;s<r;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Nf(o)===Nf(c)?ke(o,c):Nf(o)?1:-1}return ke(i.length,e.length)}const YS=55296,$S=57343;function Nf(i){const e=i.charCodeAt(0);return e>=YS&&e<=$S}function Ga(i,e,r){return i.length===e.length&&i.every(((s,o)=>r(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class fr{constructor(e,r,s){r===void 0?r=0:r>e.length&&we(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&we(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((s=>{r.push(s)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const c=fr.compareSegments(e.get(o),r.get(o));if(c!==0)return c}return ke(e.length,r.length)}static compareSegments(e,r){const s=fr.isNumericId(e),o=fr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?fr.extractNumericId(e).compare(fr.extractNumericId(r)):Ff(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class rt extends fr{construct(e,r,s){return new rt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((o=>o.length>0)))}return new rt(r)}static emptyPath(){return new rt([])}}const QS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends fr{construct(e,r,s){return new Ft(e,r,s)}static isValidIdentifier(e){return QS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new Ft([Ky])}static fromServerFormat(e){const r=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(i,e,r){if(!r)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KS(i,e,r,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Xy(i){if(!ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zy(i){if(ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function X2(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function Zr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wu(i);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i,e){const r={typeString:i};return e&&(r.value=e),r}function Uo(i,e){if(!X2(i))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){r=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){r=`Expected '${s}' field to equal '${c.value}'`;break}}if(r)throw new he(ee.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=-62135596800,Jy=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*Jy);return new et(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Wy)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uo(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Et("string",et._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new et(0,0))}static max(){return new Se(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function XS(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new et(r+1,0):new et(r,s));return new Gi(o,ye.empty(),e)}function ZS(i){return new Gi(i.readTime,i.key,Co)}class Gi{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Gi(Se.min(),ye.empty(),Co)}static max(){return new Gi(Se.max(),ye.empty(),Co)}}function WS(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=ye.comparator(i.documentKey,e.documentKey),r!==0?r:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==JS)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(r,c).next(s,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ne?r:ne.resolve(r)}catch(r){return ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ne.reject(r)}static resolve(e){return new ne(((r,s)=>{r(e)}))}static reject(e){return new ne(((r,s)=>{s(e)}))}static waitFor(e){return new ne(((r,s)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&r()}),(y=>s(y)))})),f=!0,c===o&&r()}))}static or(e){let r=ne.resolve(!1);for(const s of e)r=r.next((o=>o?ne.resolve(o):s()));return r}static forEach(e,r){const s=[];return e.forEach(((o,c)=>{s.push(r.call(this,o,c))})),this.waitFor(s)}static mapArray(e,r){return new ne(((s,o)=>{const c=e.length,f=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;r(e[v]).next((x=>{f[v]=x,++p,p===c&&s(f)}),(x=>o(x)))}}))}static doWhile(e,r){return new ne(((s,o)=>{const c=()=>{e()===!0?r().next((()=>{c()}),o):s()};c()}))}}function t3(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ja(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ju.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function eh(i){return i==null}function ku(i){return i===0&&1/i==-1/0}function n3(i){return typeof i=="number"&&Number.isInteger(i)&&!ku(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="";function r3(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=e1(e)),e=i3(i.get(r),e);return e1(e)}function i3(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":r+="";break;case Z2:r+="";break;default:r+=c}}return r}function e1(i){return i+Z2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Wi(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function W2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,r){this.comparator=e,this.root=r||Ht.EMPTY}insert(e,r){return new ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,s)=>(e(r,s),!1)))}toString(){const e=[];return this.inorderTraversal(((r,s)=>(e.push(`${r}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?s(e.key,r):1,r&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,r,s,o,c){this.key=e,this.value=r,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=c??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,c){return new Ht(e??this.key,r??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,r,s),null):c===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,r,s,o,c){return this}insert(e,r,s){return new Ht(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,s)=>(e(r),!1)))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new n1(this.data.getIterator())}getIteratorFrom(e){return new n1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((s=>{r=r.add(s)})),r}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Dt(this.comparator);return r.data=e,r}}class n1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new En([])}unionWith(e){let r=new Dt(Ft.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new En(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,((r,s)=>r.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new J2("Invalid base64 string: "+c):c}})(e);return new Gt(r)}static fromUint8Array(e){const r=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Gt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const s3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const r=s3.exec(i);if(Ge(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $i(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="server_timestamp",tv="__type__",nv="__previous_value__",rv="__local_write_time__";function _m(i){return(i?.mapValue?.fields||{})[tv]?.stringValue===ev}function th(i){const e=i.mapValue.fields[nv];return _m(e)?th(e):e}function jo(i){const e=Yi(i.mapValue.fields[rv].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,r,s,o,c,f,p,y,v,x){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=x}}const Lu="(default)";class Do{constructor(e,r){this.projectId=e,this.database=r||Lu}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Lu}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__type__",l3="__max__",mu={mapValue:{}},sv="__vector__",zu="value";function Qi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?_m(i)?4:c3(i)?9007199254740991:o3(i)?10:11:we(28295,{value:i})}function xr(i,e){if(i===e)return!0;const r=Qi(i);if(r!==Qi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return jo(i).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Yi(o.timestampValue),p=Yi(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return $i(o.bytesValue).isEqual($i(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=vt(o.doubleValue),p=vt(c.doubleValue);return f===p?ku(f)===ku(p):isNaN(f)&&isNaN(p)}return!1})(i,e);case 9:return Ga(i.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(t1(f)!==t1(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!xr(f[y],p[y])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function Io(i,e){return(i.values||[]).find((r=>xr(r,e)))!==void 0}function Ya(i,e){if(i===e)return 0;const r=Qi(i),s=Qi(e);if(r!==s)return ke(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=vt(c.integerValue||c.doubleValue),y=vt(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(i,e);case 3:return r1(i.timestampValue,e.timestampValue);case 4:return r1(jo(i),jo(e));case 5:return Ff(i.stringValue,e.stringValue);case 6:return(function(c,f){const p=$i(c),y=$i(f);return p.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),y=f.split("/");for(let v=0;v<p.length&&v<y.length;v++){const x=ke(p[v],y[v]);if(x!==0)return x}return ke(p.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=ke(vt(c.latitude),vt(f.latitude));return p!==0?p:ke(vt(c.longitude),vt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return i1(i.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},y=f.fields||{},v=p[zu]?.arrayValue,x=y[zu]?.arrayValue,T=ke(v?.values?.length||0,x?.values?.length||0);return T!==0?T:i1(v,x)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===mu.mapValue&&f===mu.mapValue)return 0;if(c===mu.mapValue)return 1;if(f===mu.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=f.fields||{},x=Object.keys(v);y.sort(),x.sort();for(let T=0;T<y.length&&T<x.length;++T){const R=Ff(y[T],x[T]);if(R!==0)return R;const O=Ya(p[y[T]],v[x[T]]);if(O!==0)return O}return ke(y.length,x.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:r})}}function r1(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const r=Yi(i),s=Yi(e),o=ke(r.seconds,s.seconds);return o!==0?o:ke(r.nanos,s.nanos)}function i1(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const c=Ya(r[o],s[o]);if(c)return c}return ke(r.length,s.length)}function $a(i){return Gf(i)}function Gf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const s=Yi(r);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return $i(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return ye.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let s="[",o=!0;for(const c of r.values||[])o?o=!1:s+=",",s+=Gf(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(r){const s=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Gf(r.fields[f])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function bu(i){switch(Qi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=th(i);return e?16+bu(e):16;case 5:return 2*i.stringValue.length;case 6:return $i(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+bu(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Wi(s.fields,((c,f)=>{o+=c.length+bu(f)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function s1(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Yf(i){return!!i&&"integerValue"in i}function bm(i){return!!i&&"arrayValue"in i}function a1(i){return!!i&&"nullValue"in i}function l1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wu(i){return!!i&&"mapValue"in i}function o3(i){return(i?.mapValue?.fields||{})[iv]?.stringValue===sv}function _o(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Wi(i.mapValue.fields,((r,s)=>e.mapValue.fields[r]=_o(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=_o(i.arrayValue.values[r]);return e}return{...i}}function c3(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===l3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!wu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(r)}setAll(e){let r=Ft.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!r.isImmediateParentOf(p)){const y=this.getFieldsMap(r);this.applyChanges(y,s,o),s={},o=[],r=p.popLast()}f?s[p.lastSegment()]=_o(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,s,o)}delete(e){const r=this.field(e.popLast());wu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Wi(r,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new fn(_o(this.value))}}function av(i){const e=[];return Wi(i.fields,((r,s)=>{const o=new Ft([r]);if(wu(s)){const c=av(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r,s,o,c,f,p){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),fn.empty(),0)}static newFoundDocument(e,r,s,o){return new Wt(e,1,r,Se.min(),s,o,0)}static newNoDocument(e,r){return new Wt(e,2,r,Se.min(),Se.min(),fn.empty(),0)}static newUnknownDocument(e,r){return new Wt(e,3,r,Se.min(),Se.min(),fn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,r){this.position=e,this.inclusive=r}}function o1(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],f=i.position[o];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),r.key):s=Ya(f,r.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function c1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!xr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,r="asc"){this.field=e,this.dir=r}}function u3(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{}class wt extends lv{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new d3(e,r,s):r==="array-contains"?new p3(e,s):r==="in"?new g3(e,s):r==="not-in"?new y3(e,s):r==="array-contains-any"?new v3(e,s):new wt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new f3(e,s):new m3(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ya(r,this.value)):r!==null&&Qi(this.value)===Qi(r)&&this.matchesComparison(Ya(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends lv{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Wn(e,r)}matches(e){return ov(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ov(i){return i.op==="and"}function cv(i){return h3(i)&&ov(i)}function h3(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function $f(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+$a(i.value);if(cv(i))return i.filters.map((e=>$f(e))).join(",");{const e=i.filters.map((r=>$f(r))).join(",");return`${i.op}(${e})`}}function uv(i,e){return i instanceof wt?(function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&xr(s.value,o.value)})(i,e):i instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,p)=>c&&uv(f,o.filters[p])),!0):!1})(i,e):void we(19439)}function hv(i){return i instanceof wt?(function(r){return`${r.field.canonicalString()} ${r.op} ${$a(r.value)}`})(i):i instanceof Wn?(function(r){return r.op.toString()+" {"+r.getFilters().map(hv).join(" ,")+"}"})(i):"Filter"}class d3 extends wt{constructor(e,r,s){super(e,r,s),this.key=ye.fromName(s.referenceValue)}matches(e){const r=ye.comparator(e.key,this.key);return this.matchesComparison(r)}}class f3 extends wt{constructor(e,r){super(e,"in",r),this.keys=dv("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class m3 extends wt{constructor(e,r){super(e,"not-in",r),this.keys=dv("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function dv(i,e){return(e.arrayValue?.values||[]).map((r=>ye.fromName(r.referenceValue)))}class p3 extends wt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return bm(r)&&Io(r.arrayValue,this.value)}}class g3 extends wt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Io(this.value.arrayValue,r)}}class y3 extends wt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Io(this.value.arrayValue,r)}}class v3 extends wt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!bm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Io(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,r=null,s=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function u1(i,e=null,r=[],s=[],o=null,c=null,f=null){return new x3(i,e,r,s,o,c,f)}function wm(i){const e=Ne(i);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((s=>$f(s))).join(","),r+="|ob:",r+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),eh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>$a(s))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>$a(s))).join(",")),e.Te=r}return e.Te}function Em(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!u3(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!uv(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!c1(i.startAt,e.startAt)&&c1(i.endAt,e.endAt)}function Qf(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,r=null,s=[],o=[],c=null,f="F",p=null,y=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _3(i,e,r,s,o,c,f,p){return new el(i,e,r,s,o,c,f,p)}function Tm(i){return new el(i)}function h1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fv(i){return i.collectionGroup!==null}function bo(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Dt(Ft.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Mo(c,s))})),r.has(Ft.keyField().canonicalString())||e.Ie.push(new Mo(Ft.keyField(),s))}return e.Ie}function mr(i){const e=Ne(i);return e.Ee||(e.Ee=b3(e,bo(i))),e.Ee}function b3(i,e){if(i.limitType==="F")return u1(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Mo(o.field,c)}));const r=i.endAt?new Pu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Pu(i.startAt.position,i.startAt.inclusive):null;return u1(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function Kf(i,e){const r=i.filters.concat([e]);return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Xf(i,e,r){return new el(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function nh(i,e){return Em(mr(i),mr(e))&&i.limitType===e.limitType}function mv(i){return`${wm(mr(i))}|lt:${i.limitType}`}function ka(i){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((o=>hv(o))).join(", ")}]`),eh(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((o=>$a(o))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((o=>$a(o))).join(",")),`Target(${s})`})(mr(i))}; limitType=${i.limitType})`}function rh(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of bo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,y){const v=o1(f,p,y);return f.inclusive?v<=0:v<0})(s.startAt,bo(s),o)||s.endAt&&!(function(f,p,y){const v=o1(f,p,y);return f.inclusive?v>=0:v>0})(s.endAt,bo(s),o))})(i,e)}function w3(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pv(i){return(e,r)=>{let s=!1;for(const o of bo(i)){const c=E3(o,e,r);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function E3(i,e,r){const s=i.field.isKeyField()?ye.comparator(e.key,r.key):(function(c,f,p){const y=f.data.field(c),v=p.data.field(c);return y!==null&&v!==null?Ya(y,v):we(42886)})(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((r,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return W2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new ct(ye.comparator);function Wr(){return T3}const gv=new ct(ye.comparator);function po(...i){let e=gv;for(const r of i)e=e.insert(r.key,r);return e}function yv(i){let e=gv;return i.forEach(((r,s)=>e=e.insert(r,s.overlayedDocument))),e}function zs(){return wo()}function vv(){return wo()}function wo(){return new Fs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const S3=new ct(ye.comparator),A3=new Dt(ye.comparator);function Le(...i){let e=A3;for(const r of i)e=e.add(r);return e}const R3=new Dt(ke);function N3(){return R3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function xv(i){return{integerValue:""+i}}function C3(i,e){return n3(e)?xv(e):Sm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function j3(i,e,r){return i instanceof Vo?(function(o,c){const f={fields:{[tv]:{stringValue:ev},[rv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&_m(c)&&(c=th(c)),c&&(f.fields[nv]=c),{mapValue:f}})(r,e):i instanceof Oo?bv(i,e):i instanceof ko?wv(i,e):(function(o,c){const f=_v(o,c),p=d1(f)+d1(o.Ae);return Yf(f)&&Yf(o.Ae)?xv(p):Sm(o.serializer,p)})(i,e)}function D3(i,e,r){return i instanceof Oo?bv(i,e):i instanceof ko?wv(i,e):r}function _v(i,e){return i instanceof Uu?(function(s){return Yf(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Vo extends ih{}class Oo extends ih{constructor(e){super(),this.elements=e}}function bv(i,e){const r=Ev(e);for(const s of i.elements)r.some((o=>xr(o,s)))||r.push(s);return{arrayValue:{values:r}}}class ko extends ih{constructor(e){super(),this.elements=e}}function wv(i,e){let r=Ev(e);for(const s of i.elements)r=r.filter((o=>!xr(o,s)));return{arrayValue:{values:r}}}class Uu extends ih{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function d1(i){return vt(i.integerValue||i.doubleValue)}function Ev(i){return bm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,r){this.field=e,this.transform=r}}function M3(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Oo&&o instanceof Oo||s instanceof ko&&o instanceof ko?Ga(s.elements,o.elements,xr):s instanceof Uu&&o instanceof Uu?xr(s.Ae,o.Ae):s instanceof Vo&&o instanceof Vo})(i.transform,e.transform)}class V3{constructor(e,r){this.version=e,this.transformResults=r}}class Xn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sh{}function Tv(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Am(i.key,Xn.none()):new Bo(i.key,i.data,Xn.none());{const r=i.data,s=fn.empty();let o=new Dt(Ft.comparator);for(let c of e.fields)if(!o.has(c)){let f=r.field(c);f===null&&c.length>1&&(c=c.popLast(),f=r.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Ji(i.key,s,new En(o.toArray()),Xn.none())}}function O3(i,e,r){i instanceof Bo?(function(o,c,f){const p=o.value.clone(),y=m1(o.fieldTransforms,c,f.transformResults);p.setAll(y),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,r):i instanceof Ji?(function(o,c,f){if(!Eu(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=m1(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(Sv(o)),y.setAll(p),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,e,r):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,r)}function Eo(i,e,r,s){return i instanceof Bo?(function(c,f,p,y){if(!Eu(c.precondition,f))return p;const v=c.value.clone(),x=p1(c.fieldTransforms,y,f);return v.setAll(x),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(i,e,r,s):i instanceof Ji?(function(c,f,p,y){if(!Eu(c.precondition,f))return p;const v=p1(c.fieldTransforms,y,f),x=f.data;return x.setAll(Sv(c)),x.setAll(v),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,r,s):(function(c,f,p){return Eu(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,e,r)}function k3(i,e){let r=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=_v(s.transform,o||null);c!=null&&(r===null&&(r=fn.empty()),r.set(s.field,c))}return r||null}function f1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ga(s,o,((c,f)=>M3(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bo extends sh{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends sh{constructor(e,r,s,o,c=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Sv(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}})),e}function m1(i,e,r){const s=new Map;Ge(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let o=0;o<r.length;o++){const c=i[o],f=c.transform,p=e.data.field(c.field);s.set(c.field,D3(f,p,r[o]))}return s}function p1(i,e,r){const s=new Map;for(const o of i){const c=o.transform,f=r.data.field(o.field);s.set(o.field,j3(c,f,e))}return s}class Am extends sh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L3 extends sh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&O3(c,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Eo(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Eo(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=vv();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=r.has(o.key)?null:p;const y=Tv(f,p);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,((r,s)=>f1(r,s)))&&Ga(this.baseMutations,e.baseMutations,((r,s)=>f1(r,s)))}}class Rm{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return S3})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Rm(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Pe;function B3(i){switch(i){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function Av(i){if(i===void 0)return Xr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case bt.OK:return ee.OK;case bt.CANCELLED:return ee.CANCELLED;case bt.UNKNOWN:return ee.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ee.INTERNAL;case bt.UNAVAILABLE:return ee.UNAVAILABLE;case bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case bt.NOT_FOUND:return ee.NOT_FOUND;case bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case bt.ABORTED:return ee.ABORTED;case bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case bt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:i})}}(Pe=bt||(bt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Hi([4294967295,4294967295],0);function g1(i){const e=q3().encode(i),r=new B2;return r.update(e),new Uint8Array(r.digest())}function y1(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Hi([r,s],0),new Hi([o,c],0)]}class Nm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new go(`Invalid padding: ${r}`);if(s<0)throw new go(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new go(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Hi.fromNumber(this.ge)}ye(e,r,s){let o=e.add(r.multiply(Hi.fromNumber(s)));return o.compare(H3)===1&&(o=new Hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=g1(e),[s,o]=y1(r);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Nm(c,o,r);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const r=g1(e),[s,o]=y1(r);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,r,s,o,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,qo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new ah(Se.min(),o,new ct(ke),Wr(),Le())}}class qo{constructor(e,r,s,o,c){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new qo(s,r,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,r,s,o){this.be=e,this.removedTargetIds=r,this.key=s,this.De=o}}class Rv{constructor(e,r){this.targetId=e,this.Ce=r}}class Nv{constructor(e,r,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class v1{constructor(){this.ve=0,this.Fe=x1(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),r=Le(),s=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:c})}})),new qo(this.Me,this.xe,e,r,s)}qe(){this.Oe=!1,this.Fe=x1()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class F3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wr(),this.Je=pu(),this.He=pu(),this.Ye=new ct(ke)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const s=this.nt(r);switch(e.state){case 0:this.rt(r)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((s,o)=>{this.rt(o)&&r(o)}))}st(e){const r=e.targetId,s=e.Ce.count,o=this.ot(r);if(o){const c=o.target;if(Qf(c))if(s===0){const f=new ye(c.path);this.et(r,f,Wt.newNoDocument(f,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(r);if(f!==s){const p=this.ut(e),y=p?this.ct(p,e,f):1;if(y!==0){this.it(r);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,v)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=r;let f,p;try{f=$i(s).toUint8Array()}catch(y){if(y instanceof J2)return Fa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Nm(f,o,c)}catch(y){return Fa(y instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,r,s){return r.Ce.count===s-this.Pt(e,r.targetId)?0:2}Pt(e,r){const s=this.Ge.getRemoteKeysForTarget(r);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(r,c,null),o++)})),o}Tt(e){const r=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&Qf(p.target)){const y=new ye(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Wt.newNoDocument(y,e))}c.Be&&(r.set(f,c.ke()),c.qe())}}));let s=Le();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new ah(e,r,this.Ye,this.je,s);return this.je=Wr(),this.Je=pu(),this.He=pu(),this.Ye=new ct(ke),o}Xe(e,r){if(!this.rt(e))return;const s=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),s&&(this.je=this.je.insert(r,s))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new v1,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Dt(ke),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Dt(ke),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||fe("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v1),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function pu(){return new ct(ye.comparator)}function x1(){return new ct(ye.comparator)}const G3={asc:"ASCENDING",desc:"DESCENDING"},Y3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$3={and:"AND",or:"OR"};class Q3{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Zf(i,e){return i.useProto3Json||eh(e)?e:{value:e}}function Bu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cv(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function K3(i,e){return Bu(i,e.toTimestamp())}function pr(i){return Ge(!!i,49232),Se.fromTimestamp((function(r){const s=Yi(r);return new et(s.seconds,s.nanos)})(i))}function Cm(i,e){return Wf(i,e).canonicalString()}function Wf(i,e){const r=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?r:r.child(e)}function jv(i){const e=rt.fromString(i);return Ge(Ov(e),10190,{key:e.toString()}),e}function Jf(i,e){return Cm(i.databaseId,e.path)}function Cf(i,e){const r=jv(e);if(r.get(1)!==i.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new ye(Iv(r))}function Dv(i,e){return Cm(i.databaseId,e)}function X3(i){const e=jv(i);return e.length===4?rt.emptyPath():Iv(e)}function em(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Iv(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _1(i,e,r){return{name:Jf(i,e),fields:r.value.mapValue.fields}}function Z3(i,e){let r;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,x){return v.useProto3Json?(Ge(x===void 0||typeof x=="string",58123),Gt.fromBase64String(x||"")):(Ge(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Gt.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(v){const x=v.code===void 0?ee.UNKNOWN:Av(v.code);return new he(x,v.message||"")})(f);r=new Nv(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cf(i,s.document.name),c=pr(s.document.updateTime),f=s.document.createTime?pr(s.document.createTime):Se.min(),p=new fn({mapValue:{fields:s.document.fields}}),y=Wt.newFoundDocument(o,c,f,p),v=s.targetIds||[],x=s.removedTargetIds||[];r=new Tu(v,x,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cf(i,s.document),c=s.readTime?pr(s.readTime):Se.min(),f=Wt.newNoDocument(o,c),p=s.removedTargetIds||[];r=new Tu([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cf(i,s.document),c=s.removedTargetIds||[];r=new Tu([],c,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new U3(o,c),p=s.targetId;r=new Rv(p,f)}}return r}function W3(i,e){let r;if(e instanceof Bo)r={update:_1(i,e.key,e.value)};else if(e instanceof Am)r={delete:Jf(i,e.key)};else if(e instanceof Ji)r={update:_1(i,e.key,e.data),updateMask:lA(e.fieldMask)};else{if(!(e instanceof L3))return we(16599,{Vt:e.type});r={verify:Jf(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const p=f.transform;if(p instanceof Vo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Oo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ko)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Uu)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(r.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:K3(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(i,e.precondition)),r}function J3(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((r=>(function(o,c){let f=o.updateTime?pr(o.updateTime):pr(c);return f.isEqual(Se.min())&&(f=pr(c)),new V3(f,o.transformResults||[])})(r,e)))):[]}function eA(i,e){return{documents:[Dv(i,e.path)]}}function tA(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Dv(i,o);const c=(function(v){if(v.length!==0)return Vv(Wn.create(v,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const f=(function(v){if(v.length!==0)return v.map((x=>(function(R){return{field:La(R.field),direction:iA(R.dir)}})(x)))})(e.orderBy);f&&(r.structuredQuery.orderBy=f);const p=Zf(i,e.limit);return p!==null&&(r.structuredQuery.limit=p),e.startAt&&(r.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:r,parent:o}}function nA(i){let e=X3(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const x=r.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];r.where&&(c=(function(T){const R=Mv(T);return R instanceof Wn&&cv(R)?R.getFilters():[R]})(r.where));let f=[];r.orderBy&&(f=(function(T){return T.map((R=>(function(F){return new Mo(za(F.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(R)))})(r.orderBy));let p=null;r.limit&&(p=(function(T){let R;return R=typeof T=="object"?T.value:T,eh(R)?null:R})(r.limit));let y=null;r.startAt&&(y=(function(T){const R=!!T.before,O=T.values||[];return new Pu(O,R)})(r.startAt));let v=null;return r.endAt&&(v=(function(T){const R=!T.before,O=T.values||[];return new Pu(O,R)})(r.endAt)),_3(e,o,f,c,p,"F",y,v)}function rA(i,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Mv(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=za(r.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=za(r.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(r.unaryFilter.field);return wt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=za(r.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(r){return wt.create(za(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Wn.create(r.compositeFilter.filters.map((s=>Mv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(r.compositeFilter.op))})(i):we(30097,{filter:i})}function iA(i){return G3[i]}function sA(i){return Y3[i]}function aA(i){return $3[i]}function La(i){return{fieldPath:i.canonicalString()}}function za(i){return Ft.fromServerFormat(i.fieldPath)}function Vv(i){return i instanceof wt?(function(r){if(r.op==="=="){if(l1(r.value))return{unaryFilter:{field:La(r.field),op:"IS_NAN"}};if(a1(r.value))return{unaryFilter:{field:La(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(l1(r.value))return{unaryFilter:{field:La(r.field),op:"IS_NOT_NAN"}};if(a1(r.value))return{unaryFilter:{field:La(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(r.field),op:sA(r.op),value:r.value}}})(i):i instanceof Wn?(function(r){const s=r.getFilters().map((o=>Vv(o)));return s.length===1?s[0]:{compositeFilter:{op:aA(r.op),filters:s}}})(i):we(54877,{filter:i})}function lA(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function Ov(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,r,s,o,c=Se.min(),f=Se.min(),p=Gt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.yt=e}}function cA(i){const e=nA({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.Cn=new hA}addToCollectionParentIndex(e,r){return this.Cn.add(r),ne.resolve()}getCollectionParents(e,r){return ne.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ne.resolve()}deleteFieldIndex(e,r){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,r){return ne.resolve()}getDocumentsMatchingTarget(e,r){return ne.resolve(null)}getIndexType(e,r){return ne.resolve(0)}getFieldIndexes(e,r){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,r){return ne.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,r){return ne.resolve(Gi.min())}updateCollectionGroup(e,r,s){return ne.resolve()}updateIndexEntries(e,r){return ne.resolve()}}class hA{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Dt(rt.comparator),c=!o.has(s);return this.index[r]=o.add(s),c}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kv=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(kv,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="LruGarbageCollector",dA=1048576;function E1([i,e],[r,s]){const o=ke(i,r);return o===0?ke(e,s):o}class fA{constructor(e){this.Ir=e,this.buffer=new Dt(E1),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();E1(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class mA{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(w1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ja(r)?fe(w1,"Ignoring IndexedDB error during garbage collection: ",r):await Wa(r)}await this.Vr(3e5)}))}}class pA{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(e,r){if(r===0)return ne.resolve(Ju.ce);const s=new fA(r);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,r,s){return this.mr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(b1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b1):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let s,o,c,f,p,y,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,r)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),Oa()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${T} documents in `+(v-y)+`ms
Total Duration: ${v-x}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function gA(i,e){return new pA(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.changes=new Fs((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?ne.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(s!==null&&Eo(s.mutation,o,En.empty(),et.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,r,s=Le()){const o=zs();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,s).next((c=>{let f=po();return c.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,r){const s=zs();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,Le())))}populateOverlays(e,r,s){const o=[];return s.forEach((c=>{r.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{r.set(f,p)}))}))}computeViews(e,r,s,o){let c=Wr();const f=wo(),p=(function(){return wo()})();return r.forEach(((y,v)=>{const x=s.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof Ji)?c=c.insert(v.key,v):x!==void 0?(f.set(v.key,x.mutation.getFieldMask()),Eo(x.mutation,v,x.mutation.getFieldMask(),et.now())):f.set(v.key,En.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,x)=>f.set(v,x))),r.forEach(((v,x)=>p.set(v,new vA(x,f.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,r){const s=wo();let o=new ct(((f,p)=>f-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((f=>{for(const p of f)p.keys().forEach((y=>{const v=r.get(y);if(v===null)return;let x=s.get(y)||En.empty();x=p.applyToLocalView(v,x),s.set(y,x);const T=(o.get(p.batchId)||Le()).add(y);o=o.insert(p.batchId,T)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,x=y.value,T=vv();x.forEach((R=>{if(!c.has(R)){const O=Tv(r.get(R),s.get(R));O!==null&&T.set(R,O),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,r,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):fv(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-c.size):ne.resolve(zs());let p=Co,y=c;return f.next((v=>ne.forEach(v,((x,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(x)?ne.resolve():this.remoteDocumentCache.getEntry(e,x).next((R=>{y=y.insert(x,R)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Le()))).next((x=>({batchId:p,changes:yv(x)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ye(r)).next((s=>{let o=po();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const c=r.collectionGroup;let f=po();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(y=>{const v=(function(T,R){return new el(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(r,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((x=>{x.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,r,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,c,o)))).next((f=>{c.forEach(((y,v)=>{const x=v.getKey();f.get(x)===null&&(f=f.insert(x,Wt.newInvalidDocument(x)))}));let p=po();return f.forEach(((y,v)=>{const x=c.get(y);x!==void 0&&Eo(x.mutation,v,En.empty(),et.now()),rh(r,v)&&(p=p.insert(y,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return ne.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}})(r)),ne.resolve()}getNamedQuery(e,r){return ne.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(o){return{name:o.name,query:cA(o.bundledQuery),readTime:pr(o.readTime)}})(r)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.overlays=new ct(ye.comparator),this.qr=new Map}getOverlay(e,r){return ne.resolve(this.overlays.get(r))}getOverlays(e,r){const s=zs();return ne.forEach(r,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,r,s){return s.forEach(((o,c)=>{this.St(e,r,c)})),ne.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,r,s){const o=zs(),c=r.length+1,f=new ye(r.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let c=new ct(((v,x)=>v-x));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>s){let x=c.get(v.largestBatchId);x===null&&(x=zs(),c=c.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const p=zs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,x)=>p.set(v,x))),!(p.size()>=o)););return ne.resolve(p)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new P3(r,s));let c=this.qr.get(r);c===void 0&&(c=Le(),this.qr.set(r,c)),this.qr.set(r,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.Qr=new Dt(Lt.$r),this.Ur=new Dt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const s=new Lt(e,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,r){e.forEach((s=>this.addReference(s,r)))}removeReference(e,r){this.Gr(new Lt(e,r))}zr(e,r){e.forEach((s=>this.removeReference(s,r)))}jr(e){const r=new ye(new rt([])),s=new Lt(r,e),o=new Lt(r,e+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new ye(new rt([])),s=new Lt(r,e),o=new Lt(r,e+1);let c=Le();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const r=new Lt(e,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return ye.comparator(e.key,r.key)||ke(e.Yr,r.Yr)}static Kr(e,r){return ke(e.Yr,r.Yr)||ye.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Lt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new z3(c,r,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Lt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,r){return ne.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Lt(r,0),o=new Lt(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Dt(ke);return r.forEach((o=>{const c=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const f=new Lt(new ye(c),0);let p=new Dt(ke);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(y.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const r=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){Ge(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(r.mutations,(o=>{const c=new Lt(o.key,r.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,r){const s=new Lt(r,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.ri=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ne.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(r))}getEntries(e,r){let s=Wr();return r.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let c=Wr();const f=r.path,p=new ye(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:x}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||WS(ZS(x),s)<=0||(o.has(x.key)||rh(r,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,r,s,o){we(9500)}ii(e,r){return ne.forEach(this.docs,(s=>r(s)))}newChangeBuffer(e){return new SA(this)}getSize(e){return ne.resolve(this.size)}}class SA extends yA{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.persistence=e,this.si=new Fs((r=>wm(r)),Em),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,r){return this.si.forEach(((s,o)=>r(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),ne.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Qa(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,ne.resolve()}updateTargetData(e,r){return this.Pr(r),ne.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,r,s){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=r&&s.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,r){const s=this.si.get(r)||null;return ne.resolve(s)}addMatchingKeys(e,r,s){return this._i.Wr(r,s),ne.resolve()}removeMatchingKeys(e,r,s){this._i.zr(r,s);const o=this.persistence.referenceDelegate,c=[];return o&&r.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),ne.resolve()}getMatchingKeysForTargetId(e,r){const s=this._i.Hr(r);return ne.resolve(s)}containsKey(e,r){return ne.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,r){this.ui={},this.overlays={},this.ci=new Ju(0),this.li=!1,this.li=!0,this.hi=new wA,this.referenceDelegate=e(this),this.Pi=new AA(this),this.indexManager=new uA,this.remoteDocumentCache=(function(o){return new TA(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new oA(r),this.Ii=new _A(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new bA,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ui[e.toKey()];return s||(s=new EA(r,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,s){fe("MemoryPersistence","Starting transaction:",e);const o=new RA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,r){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,r))))}}class RA extends e3{constructor(e){super(),this.currentSequenceNumber=e}}class Dm{constructor(e){this.persistence=e,this.Ri=new jm,this.Vi=null}static mi(e){return new Dm(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),ne.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((c=>{c||r.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return ne.or([()=>ne.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class qu{constructor(e,r){this.persistence=e,this.pi=new Fs((s=>r3(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=gA(this,r)}static mi(e,r){return new qu(e,r)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>r.next((o=>s+o))))}wr(e){let r=0;return this.pr(e,(s=>{r++})).next((()=>r))}pr(e,r){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ne.resolve():r(o)))))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,r).next((p=>{p||(s++,c.removeEntry(f,Se.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=bu(e.data.value)),r}br(e,r,s){return ne.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.pi.get(r);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.Es=s,this.ds=o}static As(e,r){let s=Le(),o=Le();for(const c of r.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Im(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ST()?8:t3(ET())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,s,o){const c={result:null};return this.ys(e,r).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,r,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new NA;return this.Ss(e,r,f).next((p=>{if(c.result=p,this.Vs)return this.bs(e,r,f,p.size)}))})).next((()=>c.result))}bs(e,r,s,o){return s.documentReadCount<this.fs?(Oa()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ka(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Oa()<=Ue.DEBUG&&fe("QueryEngine","Query:",ka(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Oa()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ka(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(r))):ne.resolve())}ys(e,r){if(h1(r))return ne.resolve(null);let s=mr(r);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=Xf(r,null,"F"),s=mr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Le(...c);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.Ds(r,p);return this.Cs(r,v,f,y.readTime)?this.ys(e,Xf(r,null,"F")):this.vs(e,v,r,y)}))))})))))}ws(e,r,s,o){return h1(r)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(r,c);return this.Cs(r,f,s,o)?ne.resolve(null):(Oa()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ka(r)),this.vs(e,f,r,XS(o,Co)).next((p=>p)))}))}Ds(e,r){let s=new Dt(pv(e));return r.forEach(((o,c)=>{rh(e,c)&&(s=s.add(c))})),s}Cs(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,r,s){return Oa()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ka(r)),this.ps.getDocumentsMatchingQuery(e,r,Gi.min(),s)}vs(e,r,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(r.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="LocalStore",jA=3e8;class DA{constructor(e,r,s,o){this.persistence=e,this.Fs=r,this.serializer=o,this.Ms=new ct(ke),this.xs=new Fs((c=>wm(c)),Em),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function IA(i,e,r,s){return new DA(i,e,r,s)}async function zv(i,e){const r=Ne(i);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],p=[];let y=Le();for(const v of o){f.push(v.batchId);for(const x of v.mutations)y=y.add(x.key)}for(const v of c){p.push(v.batchId);for(const x of v.mutations)y=y.add(x.key)}return r.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:p})))}))}))}function MA(i,e){const r=Ne(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,x){const T=v.batch,R=T.keys();let O=ne.resolve();return R.forEach((F=>{O=O.next((()=>x.getEntry(y,F))).next((Q=>{const z=v.docVersions.get(F);Ge(z!==null,48541),Q.version.compareTo(z)<0&&(T.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),x.addEntry(Q)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(y,T)))})(r,s,e,c).next((()=>c.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Le();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(e)))).next((()=>r.localDocuments.getDocuments(s,o)))}))}function Pv(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function VA(i,e){const r=Ne(i),s=e.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const p=[];e.targetChanges.forEach(((x,T)=>{const R=o.get(T);if(!R)return;p.push(r.Pi.removeMatchingKeys(c,x.removedDocuments,T).next((()=>r.Pi.addMatchingKeys(c,x.addedDocuments,T))));let O=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):x.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(x.resumeToken,s)),o=o.insert(T,O),(function(Q,z,$){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=jA?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(R,O,x)&&p.push(r.Pi.updateTargetData(c,O))}));let y=Wr(),v=Le();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(r.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(OA(c,f,e.documentUpdates).next((x=>{y=x.ks,v=x.qs}))),!s.isEqual(Se.min())){const x=r.Pi.getLastRemoteSnapshotVersion(c).next((T=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(x)}return ne.waitFor(p).next((()=>f.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(r.Ms=o,c)))}function OA(i,e,r){let s=Le(),o=Le();return r.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let f=Wr();return r.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(p,y.readTime),f=f.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),f=f.insert(p,y)):fe(Mm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function kA(i,e){const r=Ne(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=xm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function LA(i,e){const r=Ne(i);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return r.Pi.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):r.Pi.allocateTargetId(s).next((f=>(o=new zi(e,f,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=r.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(e,s.targetId)),s}))}async function tm(i,e,r){const s=Ne(i),o=s.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ja(f))throw f;fe(Mm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function T1(i,e,r){const s=Ne(i);let o=Se.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,v,x){const T=Ne(y),R=T.xs.get(x);return R!==void 0?ne.resolve(T.Ms.get(R)):T.Pi.getTargetData(v,x)})(s,f,mr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,r?o:Se.min(),r?c:Le()))).next((p=>(zA(s,w3(e),p),{documents:p,Qs:c})))))}function zA(i,e,r){let s=i.Os.get(e)||Se.min();r.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class S1{constructor(){this.activeTargetIds=N3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PA{constructor(){this.Mo=new S1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,s){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S1,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="ConnectivityMonitor";class R1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(A1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(A1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu=null;function nm(){return gu===null?gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():gu++,"0x"+gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",BA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,r,s,o,c){const f=nm(),p=this.zo(e,r.toUriEncodedString());fe(jf,`Sending RPC '${e}' ${f}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:v}=new URL(p),x=Zu(v);return this.Jo(e,p,y,s,x).then((T=>(fe(jf,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Fa(jf,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",s),T}))}Ho(e,r,s,o,c,f){return this.Go(e,r,s,o,c)}jo(e,r,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Za})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,r){const s=BA[e];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class FA extends qA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,o,c){const f=nm();return new Promise(((p,y)=>{const v=new q2;v.setWithCredentials(!0),v.listenOnce(H2.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case _u.NO_ERROR:const T=v.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case _u.TIMEOUT:fe(Xt,`RPC '${e}' ${f} timed out`),y(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const R=v.getStatus();if(fe(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",v.getResponseText()),R>0){let O=v.getResponseJson();Array.isArray(O)&&(O=O[0]);const F=O?.error;if(F&&F.status&&F.message){const Q=(function($){const q=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(q)>=0?q:ee.UNKNOWN})(F.status);y(new he(Q,F.message))}else y(new he(ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new he(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${f} completed.`)}}));const x=JSON.stringify(o);fe(Xt,`RPC '${e}' ${f} sending request:`,o),v.send(r,"POST",x,s,15)}))}T_(e,r,s){const o=nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Y2(),p=G2(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,r,s),y.encodeInitMessageHeaders=!0;const x=c.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${x}`,y);const T=f.createWebChannel(x,y);this.I_(T);let R=!1,O=!1;const F=new HA({Yo:z=>{O?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),Q=(z,$,q)=>{z.listen($,(se=>{try{q(se)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return Q(T,mo.EventType.OPEN,(()=>{O||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Q(T,mo.EventType.CLOSE,(()=>{O||(O=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),Q(T,mo.EventType.ERROR,(z=>{O||(O=!0,Fa(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),F.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),Q(T,mo.EventType.MESSAGE,(z=>{if(!O){const $=z.data[0];Ge(!!$,16349);const q=$,se=q?.error||q[0]?.error;if(se){fe(Xt,`RPC '${e}' stream ${o} received error:`,se);const ae=se.status;let ie=(function(A){const E=bt[A];if(E!==void 0)return Av(E)})(ae),le=se.message;ie===void 0&&(ie=ee.INTERNAL,le="Unknown error status: "+ae+" with message "+se.message),O=!0,F.a_(new he(ie,le)),T.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,$),F.u_($)}})),Q(p,F2.STAT_EVENT,(z=>{z.stat===Hf.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Hf.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i){return new Q3(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,r,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="PersistentStream";class Bv{constructor(e,r,s,o,c,f,p,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uv(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ee.RESOURCE_EXHAUSTED?(Xr(r.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===r&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,r){const s=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(N1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(fe(N1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GA extends Bv{constructor(e,r,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Z3(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Se.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?pr(f.readTime):Se.min()})(e);return this.listener.H_(r,s)}Y_(e){const r={};r.database=em(this.serializer),r.addTarget=(function(c,f){let p;const y=f.target;if(p=Qf(y)?{documents:eA(c,y)}:{query:tA(c,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Cv(c,f.resumeToken);const v=Zf(c,f.expectedCount);v!==null&&(p.expectedCount=v)}else if(f.snapshotVersion.compareTo(Se.min())>0){p.readTime=Bu(c,f.snapshotVersion.toTimestamp());const v=Zf(c,f.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const s=rA(this.serializer,e);s&&(r.labels=s),this.q_(r)}Z_(e){const r={};r.database=em(this.serializer),r.removeTarget=e,this.q_(r)}}class YA extends Bv{constructor(e,r,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=J3(e.writeResults,e.commitTime),s=pr(e.commitTime);return this.listener.na(s,r)}ra(){const e={};e.database=em(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((s=>W3(this.serializer,s)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{}class QA extends $A{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Wf(r,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(e,r,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Wf(r,s),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KA{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(r),this.aa=!1):fe("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class XA{constructor(e,r,s,o,c){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Gs(this)&&(fe(Bs,"Restarting streams for network reachability change."),await(async function(y){const v=Ne(y);v.Ea.add(4),await Ho(v),v.Ra.set("Unknown"),v.Ea.delete(4),await oh(v)})(this))}))})),this.Ra=new KA(s,o)}}async function oh(i){if(Gs(i))for(const e of i.da)await e(!0)}async function Ho(i){for(const e of i.da)await e(!1)}function qv(i,e){const r=Ne(i);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Lm(r)?km(r):tl(r).O_()&&Om(r,e))}function Vm(i,e){const r=Ne(i),s=tl(r);r.Ia.delete(e),s.O_()&&Hv(r,e),r.Ia.size===0&&(s.O_()?s.L_():Gs(r)&&r.Ra.set("Unknown"))}function Om(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}tl(i).Y_(e)}function Hv(i,e){i.Va.Ue(e),tl(i).Z_(e)}function km(i){i.Va=new F3({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),tl(i).start(),i.Ra.ua()}function Lm(i){return Gs(i)&&!tl(i).x_()&&i.Ia.size>0}function Gs(i){return Ne(i).Ea.size===0}function Fv(i){i.Va=void 0}async function ZA(i){i.Ra.set("Online")}async function WA(i){i.Ia.forEach(((e,r)=>{Om(i,e)}))}async function JA(i,e){Fv(i),Lm(i)?(i.Ra.ha(e),km(i)):i.Ra.set("Unknown")}async function e5(i,e,r){if(i.Ra.set("Online"),e instanceof Nv&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){fe(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hu(i,s)}else if(e instanceof Tu?i.Va.Ze(e):e instanceof Rv?i.Va.st(e):i.Va.tt(e),!r.isEqual(Se.min()))try{const s=await Pv(i.localStore);r.compareTo(s)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const x=c.Ia.get(v);x&&c.Ia.set(v,x.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,v)=>{const x=c.Ia.get(y);if(!x)return;c.Ia.set(y,x.withResumeToken(Gt.EMPTY_BYTE_STRING,x.snapshotVersion)),Hv(c,y);const T=new zi(x.target,y,v,x.sequenceNumber);Om(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(i,r)}catch(s){fe(Bs,"Failed to raise snapshot:",s),await Hu(i,s)}}async function Hu(i,e,r){if(!Ja(e))throw e;i.Ea.add(1),await Ho(i),i.Ra.set("Offline"),r||(r=()=>Pv(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(Bs,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await oh(i)}))}function Gv(i,e){return e().catch((r=>Hu(i,r,e)))}async function ch(i){const e=Ne(i),r=Ki(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xm;for(;t5(e);)try{const o=await kA(e.localStore,s);if(o===null){e.Ta.length===0&&r.L_();break}s=o.batchId,n5(e,o)}catch(o){await Hu(e,o)}Yv(e)&&$v(e)}function t5(i){return Gs(i)&&i.Ta.length<10}function n5(i,e){i.Ta.push(e);const r=Ki(i);r.O_()&&r.X_&&r.ea(e.mutations)}function Yv(i){return Gs(i)&&!Ki(i).x_()&&i.Ta.length>0}function $v(i){Ki(i).start()}async function r5(i){Ki(i).ra()}async function i5(i){const e=Ki(i);for(const r of i.Ta)e.ea(r.mutations)}async function s5(i,e,r){const s=i.Ta.shift(),o=Rm.from(s,e,r);await Gv(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await ch(i)}async function a5(i,e){e&&Ki(i).X_&&await(async function(s,o){if((function(f){return B3(f)&&f!==ee.ABORTED})(o.code)){const c=s.Ta.shift();Ki(s).B_(),await Gv(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ch(s)}})(i,e),Yv(i)&&$v(i)}async function C1(i,e){const r=Ne(i);r.asyncQueue.verifyOperationInProgress(),fe(Bs,"RemoteStore received new credentials");const s=Gs(r);r.Ea.add(3),await Ho(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await oh(r)}async function l5(i,e){const r=Ne(i);e?(r.Ea.delete(2),await oh(r)):e||(r.Ea.add(2),await Ho(r),r.Ra.set("Unknown"))}function tl(i){return i.ma||(i.ma=(function(r,s,o){const c=Ne(r);return c.sa(),new GA(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:ZA.bind(null,i),t_:WA.bind(null,i),r_:JA.bind(null,i),H_:e5.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Lm(i)?km(i):i.Ra.set("Unknown")):(await i.ma.stop(),Fv(i))}))),i.ma}function Ki(i){return i.fa||(i.fa=(function(r,s,o){const c=Ne(r);return c.sa(),new YA(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:r5.bind(null,i),r_:a5.bind(null,i),ta:i5.bind(null,i),na:s5.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ch(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(Bs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,r,s,o,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,c){const f=Date.now()+s,p=new zm(e,r,f,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(i,e){if(Xr("AsyncQueue",`${e}: ${i}`),Ja(i))return new he(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(e){return new Ua(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||ye.comparator(r.key,s.key):(r,s)=>ye.comparator(r.key,s.key),this.keyedMap=po(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,s)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Ua;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.ga=new ct(ye.comparator)}track(e){const r=e.doc.key,s=this.ga.get(r);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(r,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(r):e.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,s)=>{e.push(s)})),e}}class Ka{constructor(e,r,s,o,c,f,p,y,v){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,r,s,o,c){const f=[];return r.forEach((p=>{f.push({type:0,doc:p})})),new Ka(e,r,Ua.emptySet(r),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class c5{constructor(){this.queries=D1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const o=Ne(r),c=o.queries;o.queries=D1(),c.forEach(((f,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function D1(){return new Fs((i=>mv(i)),nh)}async function Qv(i,e){const r=Ne(i);let s=3;const o=e.query;let c=r.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new o5,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await r.onListen(o,!0);break;case 1:c.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const p=Pm(f,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(p)}r.queries.set(o,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&Um(r)}async function Kv(i,e){const r=Ne(i),s=e.query;let o=3;const c=r.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function u5(i,e){const r=Ne(i);let s=!1;for(const o of e){const c=o.query,f=r.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Um(r)}function h5(i,e,r){const s=Ne(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(r);s.queries.delete(e)}function Um(i){i.Ca.forEach((e=>{e.next()}))}var rm,I1;(I1=rm||(rm={})).Ma="default",I1.Cache="cache";class Xv{constructor(e,r,s){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ka(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.key=e}}class Wv{constructor(e){this.key=e}}class d5{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=pv(e),this.tu=new Ua(this.eu)}get nu(){return this.Ya}ru(e,r){const s=r?r.iu:new j1,o=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,T)=>{const R=o.get(x),O=rh(this.query,T)?T:null,F=!!R&&this.mutatedKeys.has(R.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;R&&O?R.data.isEqual(O.data)?F!==Q&&(s.track({type:3,doc:O}),z=!0):this.su(R,O)||(s.track({type:2,doc:O}),z=!0,(y&&this.eu(O,y)>0||v&&this.eu(O,v)<0)&&(p=!0)):!R&&O?(s.track({type:0,doc:O}),z=!0):R&&!O&&(s.track({type:1,doc:R}),z=!0,(y||v)&&(p=!0)),z&&(O?(f=f.add(O),c=Q?c.add(x):c.delete(x)):(f=f.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:f,iu:s,Cs:p,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((x,T)=>(function(O,F){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:z})}};return Q(O)-Q(F)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(s),o=o??!1;const p=r&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,f.length!==0||v?{snapshot:new Ka(this.query,e.tu,c,f,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return e.forEach((s=>{this.Xa.has(s)||r.push(new Wv(s))})),this.Xa.forEach((s=>{e.has(s)||r.push(new Zv(s))})),r}cu(e){this.Ya=e.Qs,this.Xa=Le();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bm="SyncEngine";class f5{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class m5{constructor(e){this.key=e,this.hu=!1}}class p5{constructor(e,r,s,o,c,f){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fs((p=>mv(p)),nh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ye.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g5(i,e,r=!0){const s=ix(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Jv(s,e,r,!0),o}async function y5(i,e){const r=ix(i);await Jv(r,e,!0,!1)}async function Jv(i,e,r,s){const o=await LA(i.localStore,mr(e)),c=o.targetId,f=i.sharedClientState.addLocalQueryTarget(c,r);let p;return s&&(p=await v5(i,e,c,f==="current",o.resumeToken)),i.isPrimaryClient&&r&&qv(i.remoteStore,o),p}async function v5(i,e,r,s,o){i.pu=(T,R,O)=>(async function(Q,z,$,q){let se=z.view.ru($);se.Cs&&(se=await T1(Q.localStore,z.query,!1).then((({documents:j})=>z.view.ru(j,se))));const ae=q&&q.targetChanges.get(z.targetId),ie=q&&q.targetMismatches.get(z.targetId)!=null,le=z.view.applyChanges(se,Q.isPrimaryClient,ae,ie);return V1(Q,z.targetId,le.au),le.snapshot})(i,T,R,O);const c=await T1(i.localStore,e,!0),f=new d5(e,c.Qs),p=f.ru(c.documents),y=qo.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),v=f.applyChanges(p,i.isPrimaryClient,y);V1(i,r,v.au);const x=new f5(e,r,f);return i.Tu.set(e,x),i.Iu.has(r)?i.Iu.get(r).push(e):i.Iu.set(r,[e]),v.snapshot}async function x5(i,e,r){const s=Ne(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!nh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Vm(s.remoteStore,o.targetId),im(s,o.targetId)})).catch(Wa)):(im(s,o.targetId),await tm(s.localStore,o.targetId,!0))}async function _5(i,e){const r=Ne(i),s=r.Tu.get(e),o=r.Iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Vm(r.remoteStore,s.targetId))}async function b5(i,e,r){const s=N5(i);try{const o=await(function(f,p){const y=Ne(f),v=et.now(),x=p.reduce(((O,F)=>O.add(F.key)),Le());let T,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let F=Wr(),Q=Le();return y.Ns.getEntries(O,x).next((z=>{F=z,F.forEach((($,q)=>{q.isValidDocument()||(Q=Q.add($))}))})).next((()=>y.localDocuments.getOverlayedDocuments(O,F))).next((z=>{T=z;const $=[];for(const q of p){const se=k3(q,T.get(q.key).overlayedDocument);se!=null&&$.push(new Ji(q.key,se,av(se.value.mapValue),Xn.exists(!0)))}return y.mutationQueue.addMutationBatch(O,v,$,p)})).next((z=>{R=z;const $=z.applyToLocalDocumentSet(T,Q);return y.documentOverlayCache.saveOverlays(O,z.batchId,$)}))})).then((()=>({batchId:R.batchId,changes:yv(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let v=f.Vu[f.currentUser.toKey()];v||(v=new ct(ke)),v=v.insert(p,y),f.Vu[f.currentUser.toKey()]=v})(s,o.batchId,r),await Fo(s,o.changes),await ch(s.remoteStore)}catch(o){const c=Pm(o,"Failed to persist write");r.reject(c)}}async function ex(i,e){const r=Ne(i);try{const s=await VA(r.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=r.Au.get(c);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await Fo(r,s,e)}catch(s){await Wa(s)}}function M1(i,e,r){const s=Ne(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=Ne(f);y.onlineState=p;let v=!1;y.queries.forEach(((x,T)=>{for(const R of T.Sa)R.va(p)&&(v=!0)})),v&&Um(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function w5(i,e,r){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new ct(ye.comparator);f=f.insert(c,Wt.newNoDocument(c,Se.min()));const p=Le().add(c),y=new ah(Se.min(),new Map,new ct(ke),f,p);await ex(s,y),s.du=s.du.remove(c),s.Au.delete(e),qm(s)}else await tm(s.localStore,e,!1).then((()=>im(s,e,r))).catch(Wa)}async function E5(i,e){const r=Ne(i),s=e.batch.batchId;try{const o=await MA(r.localStore,e);nx(r,s,null),tx(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Fo(r,o)}catch(o){await Wa(o)}}async function T5(i,e,r){const s=Ne(i);try{const o=await(function(f,p){const y=Ne(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return y.mutationQueue.lookupMutationBatch(v,p).next((T=>(Ge(T!==null,37113),x=T.keys(),y.mutationQueue.removeMutationBatch(v,T)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,x,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>y.localDocuments.getDocuments(v,x)))}))})(s.localStore,e);nx(s,e,r),tx(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await Fo(s,o)}catch(o){await Wa(o)}}function tx(i,e){(i.mu.get(e)||[]).forEach((r=>{r.resolve()})),i.mu.delete(e)}function nx(i,e,r){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(r?c.reject(r):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function im(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),r&&i.Pu.yu(s,r);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||rx(i,s)}))}function rx(i,e){i.Eu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(Vm(i.remoteStore,r),i.du=i.du.remove(e),i.Au.delete(r),qm(i))}function V1(i,e,r){for(const s of r)s instanceof Zv?(i.Ru.addReference(s.key,e),S5(i,s)):s instanceof Wv?(fe(Bm,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||rx(i,s.key)):we(19791,{wu:s})}function S5(i,e){const r=e.key,s=r.path.canonicalString();i.du.get(r)||i.Eu.has(s)||(fe(Bm,"New document in limbo: "+r),i.Eu.add(s),qm(i))}function qm(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const r=new ye(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new m5(r)),i.du=i.du.insert(r,s),qv(i.remoteStore,new zi(mr(Tm(r.path)),s,"TargetPurposeLimboResolution",Ju.ce))}}async function Fo(i,e,r){const s=Ne(i),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{f.push(s.pu(y,e,r).then((v=>{if((v||r)&&s.isPrimaryClient){const x=v?!v.fromCache:r?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(v){o.push(v);const x=Im.As(y.targetId,v);c.push(x)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,v){const x=Ne(y);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(v,(R=>ne.forEach(R.Es,(O=>x.persistence.referenceDelegate.addReference(T,R.targetId,O))).next((()=>ne.forEach(R.ds,(O=>x.persistence.referenceDelegate.removeReference(T,R.targetId,O)))))))))}catch(T){if(!Ja(T))throw T;fe(Mm,"Failed to update sequence numbers: "+T)}for(const T of v){const R=T.targetId;if(!T.fromCache){const O=x.Ms.get(R),F=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(F);x.Ms=x.Ms.insert(R,Q)}}})(s.localStore,c))}async function A5(i,e){const r=Ne(i);if(!r.currentUser.isEqual(e)){fe(Bm,"User change. New user:",e.toKey());const s=await zv(r.localStore,e);r.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new he(ee.CANCELLED,f))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fo(r,s.Ls)}}function R5(i,e){const r=Ne(i),s=r.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const c=r.Iu.get(e);if(!c)return o;for(const f of c){const p=r.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function ix(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ex.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w5.bind(null,e),e.Pu.H_=u5.bind(null,e.eventManager),e.Pu.yu=h5.bind(null,e.eventManager),e}function N5(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T5.bind(null,e),e}class Fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return IA(this.persistence,new CA,e.initialUser,this.serializer)}Cu(e){return new Lv(Dm.mi,this.serializer)}Du(e){return new PA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fu.provider={build:()=>new Fu};class C5 extends Fu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ge(this.persistence.referenceDelegate instanceof qu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mA(s,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Lv((s=>qu.mi(s,r)),this.serializer)}}class sm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=A5.bind(null,this.syncEngine),await l5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c5})()}createDatastore(e){const r=lh(e.databaseInfo.databaseId),s=(function(c){return new FA(c)})(e.databaseInfo);return(function(c,f,p,y){return new QA(c,f,p,y)})(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return(function(s,o,c,f,p){return new XA(s,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(r=>M1(this.syncEngine,r,0)),(function(){return R1.v()?new R1:new UA})())}createSyncEngine(e,r){return(function(o,c,f,p,y,v,x){const T=new p5(o,c,f,p,y,v);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=Ne(r);fe(Bs,"RemoteStore shutting down."),s.Ea.add(5),await Ho(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="FirestoreClient";class j5{constructor(e,r,s,o,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{fe(Xi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(Xi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Pm(r,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function If(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Xi,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await zv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function O1(i,e){i.asyncQueue.verifyOperationInProgress();const r=await D5(i);fe(Xi,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((s=>C1(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>C1(e.remoteStore,o))),i._onlineComponents=e}async function D5(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Xi,"Using user provided OfflineComponentProvider");try{await If(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;Fa("Error using user provided cache. Falling back to memory cache: "+r),await If(i,new Fu)}}else fe(Xi,"Using default OfflineComponentProvider"),await If(i,new C5(void 0));return i._offlineComponents}async function ax(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Xi,"Using user provided OnlineComponentProvider"),await O1(i,i._uninitializedComponentsProvider._online)):(fe(Xi,"Using default OnlineComponentProvider"),await O1(i,new sm))),i._onlineComponents}function I5(i){return ax(i).then((e=>e.syncEngine))}async function lx(i){const e=await ax(i),r=e.eventManager;return r.onListen=g5.bind(null,e.syncEngine),r.onUnlisten=x5.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=y5.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=_5.bind(null,e.syncEngine),r}function M5(i,e,r={}){const s=new $r;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,y,v){const x=new sx({next:R=>{x.Nu(),f.enqueueAndForget((()=>Kv(c,T)));const O=R.docs.has(p);!O&&R.fromCache?v.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&y&&y.source==="server"?v.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(R)},error:R=>v.reject(R)}),T=new Xv(Tm(p.path),x,{includeMetadataChanges:!0,qa:!0});return Qv(c,T)})(await lx(i),i.asyncQueue,e,r,s))),s.promise}function V5(i,e,r={}){const s=new $r;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,y,v){const x=new sx({next:R=>{x.Nu(),f.enqueueAndForget((()=>Kv(c,T))),R.fromCache&&y.source==="server"?v.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),T=new Xv(p,x,{includeMetadataChanges:!0,qa:!0});return Qv(c,T)})(await lx(i),i.asyncQueue,e,r,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="firestore.googleapis.com",L1=!0;class z1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cx,this.ssl=L1}else this.host=e.host,this.ssl=e.ssl??L1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dA)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ox(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uh{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PS;switch(s.type){case"firstParty":return new HS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=k1.get(r);s&&(fe("ComponentProvider","Removing Datastore"),k1.delete(r),s.terminate())})(this),Promise.resolve()}}function O5(i,e,r,s={}){i=Zr(i,uh);const o=Zu(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${r}`;o&&(R2(`https://${p}`),C2("Firestore",!0)),c.host!==cx&&c.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:s};if(!Vu(y,f)&&(i._setSettings(y),s.mockUserToken)){let v,x;if(typeof s.mockUserToken=="string")v=s.mockUserToken,x=Zt.MOCK_USER;else{v=N2(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Zt(T)}i._authCredentials=new US(new Q2(v,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Tt{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(Uo(r,Tt._jsonSchema))return new Tt(e,s||null,new ye(rt.fromString(r.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Et("string",Tt._jsonSchemaVersion),referencePath:Et("string")};class Fi extends Ys{constructor(e,r,s){super(e,r,Tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ye(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function Qn(i,e,...r){if(i=vr(i),K2("collection","path",e),i instanceof uh){const s=rt.fromString(e,...r);return Zy(s),new Fi(i,null,s)}{if(!(i instanceof Tt||i instanceof Fi))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...r));return Zy(s),new Fi(i.firestore,null,s)}}function Zi(i,e,...r){if(i=vr(i),arguments.length===1&&(e=vm.newId()),K2("doc","path",e),i instanceof uh){const s=rt.fromString(e,...r);return Xy(s),new Tt(i,null,new ye(s))}{if(!(i instanceof Tt||i instanceof Fi))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...r));return Xy(s),new Tt(i.firestore,i instanceof Fi?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="AsyncQueue";class U1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uv(this,"async_queue_retry"),this._c=()=>{const s=Df();s&&fe(P1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const r=Df();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Df();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ja(e))throw e;fe(P1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",B1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(e,r,s){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const o=zm.createAndSchedule(this,e,r,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:B1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function B1(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class nl extends uh{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new U1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U1(e),this._firestoreClient=void 0,await e}}}function k5(i,e){const r=typeof i=="object"?i:z2(),s=typeof i=="string"?i:Lu,o=V2(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=S2("firestore");c&&O5(o,...c)}return o}function Hm(i){if(i._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||L5(i),i._firestoreClient}function L5(i){const e=i._freezeSettings(),r=(function(o,c,f,p){return new a3(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ox(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new j5(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Gt.fromBase64String(e))}catch(r){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ln(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Et("string",Ln._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(Uo(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:Et("string",gr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uo(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new yr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:Et("string",yr._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=/^__.*__$/;class P5{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,r,this.fieldTransforms):new Bo(e,this.data,r,this.fieldTransforms)}}class ux{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Ji(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function hx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class Fm{constructor(e,r,s,o,c,f){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){const r=this.path?.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hx(this.Ac)&&z5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class U5{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||lh(e)}Cc(e,r,s,o=!1){return new Fm({Ac:e,methodName:r,Dc:s,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(i){const e=i._freezeSettings(),r=lh(i._databaseId);return new U5(i._databaseId,!!e.ignoreUndefinedProperties,r)}function B5(i,e,r,s,o,c={}){const f=i.Cc(c.merge||c.mergeFields?2:0,e,r,o);$m("Data must be an object, but it was:",f,s);const p=dx(s,f);let y,v;if(c.merge)y=new En(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const R=am(e,T,r);if(!f.contains(R))throw new he(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);mx(x,R)||x.push(R)}y=new En(x),v=f.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,v=f.fieldTransforms;return new P5(new fn(p),y,v)}class fh extends dh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fh}}class Ym extends dh{_toFieldTransform(e){return new I3(e.path,new Vo)}isEqual(e){return e instanceof Ym}}function q5(i,e,r,s){const o=i.Cc(1,e,r);$m("Data must be an object, but it was:",o,s);const c=[],f=fn.empty();Wi(s,((y,v)=>{const x=Qm(e,y,r);v=vr(v);const T=o.yc(x);if(v instanceof fh)c.push(x);else{const R=Go(v,T);R!=null&&(c.push(x),f.set(x,R))}}));const p=new En(c);return new ux(f,p,o.fieldTransforms)}function H5(i,e,r,s,o,c){const f=i.Cc(1,e,r),p=[am(e,s,r)],y=[o];if(c.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(am(e,c[R])),y.push(c[R+1]);const v=[],x=fn.empty();for(let R=p.length-1;R>=0;--R)if(!mx(v,p[R])){const O=p[R];let F=y[R];F=vr(F);const Q=f.yc(O);if(F instanceof fh)v.push(O);else{const z=Go(F,Q);z!=null&&(v.push(O),x.set(O,z))}}const T=new En(v);return new ux(x,T,f.fieldTransforms)}function F5(i,e,r,s=!1){return Go(r,i.Cc(s?4:3,e))}function Go(i,e){if(fx(i=vr(i)))return $m("Unsupported field value:",e,i),dx(i,e);if(i instanceof dh)return(function(s,o){if(!hx(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const p of s){let y=Go(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=vr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C3(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=et.fromDate(s);return{timestampValue:Bu(o.serializer,c)}}if(s instanceof et){const c=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bu(o.serializer,c)}}if(s instanceof gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:Cv(o.serializer,s._byteString)};if(s instanceof Tt){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yr)return(function(f,p){return{mapValue:{fields:{[iv]:{stringValue:sv},[zu]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Sm(p.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wu(s)}`)})(i,e)}function dx(i,e){const r={};return W2(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(i,((s,o)=>{const c=Go(o,e.mc(s));c!=null&&(r[s]=c)})),{mapValue:{fields:r}}}function fx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof et||i instanceof gr||i instanceof Ln||i instanceof Tt||i instanceof dh||i instanceof yr)}function $m(i,e,r){if(!fx(r)||!X2(r)){const s=Wu(r);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function am(i,e,r){if((e=vr(e))instanceof hh)return e._internalPath;if(typeof e=="string")return Qm(i,e);throw Gu("Field path arguments must be of type string or ",i,!1,void 0,r)}const G5=new RegExp("[~\\*/\\[\\]]");function Qm(i,e,r){if(e.search(G5)>=0)throw Gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new hh(...e.split("."))._internalPath}catch{throw Gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Gu(i,e,r,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;r&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new he(ee.INVALID_ARGUMENT,p+i+y)}function mx(i,e){return i.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,r,s,o,c){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Y5 extends px{data(){return super.data()}}function mh(i,e){return typeof e=="string"?Qm(i,e):e instanceof hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Km{}class gx extends Km{}function Xm(i,e,...r){let s=[];e instanceof Km&&s.push(e),s=s.concat(r),(function(c){const f=c.filter((y=>y instanceof Zm)).length,p=c.filter((y=>y instanceof ph)).length;if(f>1||f>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class ph extends gx{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new ph(e,r,s)}_apply(e){const r=this._parse(e);return yx(e._query,r),new Ys(e.firestore,e.converter,Kf(e._query,r))}_parse(e){const r=Gm(e.firestore);return(function(c,f,p,y,v,x,T){let R;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){H1(T,x);const F=[];for(const Q of T)F.push(q1(y,c,Q));R={arrayValue:{values:F}}}else R=q1(y,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||H1(T,x),R=F5(p,f,T,x==="in"||x==="not-in");return wt.create(v,x,R)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Q5(i,e,r){const s=e,o=mh("where",i);return ph._create(o,s,r)}class Zm extends Km{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Zm(e,r)}_parse(e){const r=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:Wn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const y of p)yx(f,y),f=Kf(f,y)})(e._query,r),new Ys(e.firestore,e.converter,Kf(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wm extends gx{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Wm(e,r)}_apply(e){const r=(function(o,c,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mo(c,f)})(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new el(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,r))}}function Jm(i,e="asc"){const r=e,s=mh("orderBy",i);return Wm._create(s,r)}function q1(i,e,r){if(typeof(r=vr(r))=="string"){if(r==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fv(e)&&r.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(rt.fromString(r));if(!ye.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return s1(i,new ye(s))}if(r instanceof Tt)return s1(i,r._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wu(r)}.`)}function H1(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yx(i,e){const r=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class K5{convertValue(e,r="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Wi(e,((o,c)=>{s[o]=this.convertValue(c,r)})),s}convertVectorValue(e){const r=e.fields?.[zu].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new yr(r)}convertGeoPoint(e){return new gr(vt(e.latitude),vt(e.longitude))}convertArray(e,r){return(e.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const s=th(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const r=Yi(e);return new et(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=rt.fromString(e);Ge(Ov(s),9688,{name:e});const o=new Do(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return o.isEqual(r)||Xr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(i,e,r){let s;return s=i?i.toFirestore(e):e,s}class yo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends px{constructor(e,r,s,o,c,f){super(e,r,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(mh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ps._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Et("string",Ps._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Su extends Ps{data(e={}){return super.data(e)}}class Ba{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((s=>{e.call(r,new Su(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new Su(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Su(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return p.type!==0&&(v=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),x=f.indexOf(p.doc.key)),{type:Z5(p.type),doc:y,oldIndex:v,newIndex:x}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z5(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(i){i=Zr(i,Tt);const e=Zr(i.firestore,nl);return M5(Hm(e),i._key).then((r=>J5(e,i,r)))}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Et("string",Ba._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class vx extends K5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,r)}}function qa(i){i=Zr(i,Ys);const e=Zr(i.firestore,nl),r=Hm(e),s=new vx(e);return $5(i._query),V5(r,i._query).then((o=>new Ba(e,s,i,o)))}function xx(i,e,r,...s){i=Zr(i,Tt);const o=Zr(i.firestore,nl),c=Gm(o);let f;return f=typeof(e=vr(e))=="string"||e instanceof hh?H5(c,"updateDoc",i._key,e,r,s):q5(c,"updateDoc",i._key,e),ep(o,[f.toMutation(i._key,Xn.exists(!0))])}function Yu(i){return ep(Zr(i.firestore,nl),[new Am(i._key,Xn.none())])}function To(i,e){const r=Zr(i.firestore,nl),s=Zi(i),o=X5(i.converter,e);return ep(r,[B5(Gm(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function ep(i,e){return(function(s,o){const c=new $r;return s.asyncQueue.enqueueAndForget((async()=>b5(await I5(s),o,c))),c.promise})(Hm(i),e)}function J5(i,e,r){const s=r.docs.get(e._key),o=new vx(i);return new Ps(i,o,e._key,s,new yo(r.hasPendingWrites,r.fromCache),e.converter)}function e4(){return new Ym("serverTimestamp")}(function(e,r=!0){(function(o){Za=o})(k2),Ro(new Ha("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new nl(new BS(s.getProvider("auth-internal")),new FS(f,s.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(v.options.projectId,x)})(f,o),f);return c={useFetchStreams:r,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),qi(Yy,$y,e),qi(Yy,$y,"esm2020")})();var t4="firebase",n4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(t4,n4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebasestorage.googleapis.com",r4="storageBucket",i4=120*1e3,s4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Hs{constructor(e,r,s=0){super(Mf(e),`Firebase Storage: ${r} (${Mf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _r;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_r||(_r={}));function Mf(i){return"storage/"+i}function a4(){const i="An unknown error occurred, please check the error payload for server response.";return new wr(_r.UNKNOWN,i)}function l4(){return new wr(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o4(){return new wr(_r.CANCELED,"User canceled the upload/download.")}function c4(i){return new wr(_r.INVALID_URL,"Invalid URL '"+i+"'.")}function u4(i){return new wr(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function F1(i){return new wr(_r.INVALID_ARGUMENT,i)}function bx(){return new wr(_r.APP_DELETED,"The Firebase app was deleted.")}function h4(i){return new wr(_r.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=Kn.makeFromUrl(e,r)}catch{return new Kn(e,"")}if(s.path==="")return s;throw u4(e)}static makeFromUrl(e,r){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function v(ae){ae.path_=decodeURIComponent(ae.path)}const x="v[A-Za-z0-9_]+",T=r.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${x}/b/${o}/o${R}`,"i"),F={bucket:1,path:3},Q=r===_x?"(?:storage.googleapis.com|storage.cloud.google.com)":r,z="([^?#]*)",$=new RegExp(`^https?://${Q}/${o}/${z}`,"i"),se=[{regex:p,indices:y,postModify:c},{regex:O,indices:F,postModify:v},{regex:$,indices:{bucket:1,path:2},postModify:v}];for(let ae=0;ae<se.length;ae++){const ie=se[ae],le=ie.regex.exec(e);if(le){const j=le[ie.indices.bucket];let A=le[ie.indices.path];A||(A=""),s=new Kn(j,A),ie.postModify(s);break}}if(s==null)throw c4(e);return s}}class d4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(i,e,r){let s=1,o=null,c=null,f=!1,p=0;function y(){return p===2}let v=!1;function x(...z){v||(v=!0,e.apply(null,z))}function T(z){o=setTimeout(()=>{o=null,i(O,y())},z)}function R(){c&&clearTimeout(c)}function O(z,...$){if(v){R();return}if(z){R(),x.call(null,z,...$);return}if(y()||f){R(),x.call(null,z,...$);return}s<64&&(s*=2);let se;p===1?(p=2,se=0):se=(s+Math.random())*1e3,T(se)}let F=!1;function Q(z){F||(F=!0,R(),!v&&(o!==null?(z||(p=2),clearTimeout(o),T(0)):z||(p=1)))}return T(0),c=setTimeout(()=>{f=!0,Q(!0)},r),Q}function m4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(i){return i!==void 0}function G1(i,e,r,s){if(s<e)throw F1(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>r)throw F1(`Invalid value for '${i}'. Expected ${r} or less.`)}function g4(i){const e=encodeURIComponent;let r="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);r=r+o+"&"}return r=r.slice(0,-1),r}var $u;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})($u||($u={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(i,e){const r=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return r||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,r,s,o,c,f,p,y,v,x,T,R=!0,O=!1){this.url_=e,this.method_=r,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=y,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=T,this.retry=R,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,Q)=>{this.resolve_=F,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new yu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const y=p.loaded,v=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,v)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===$u.NO_ERROR,y=c.getStatus();if(!p||y4(y,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===$u.ABORT;s(!1,new yu(!1,null,x));return}const v=this.successCodes_.indexOf(y)!==-1;s(!0,new yu(v,c))})},r=(s,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());p4(y)?c(y):c()}catch(y){f(y)}else if(p!==null){const y=a4();y.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,y)):f(y)}else if(o.canceled){const y=this.appDelete_?bx():o4();f(y)}else{const y=l4();f(y)}};this.canceled_?r(!1,new yu(!1,null,!0)):this.backoffId_=f4(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yu{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function x4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function _4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function w4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function E4(i,e,r,s,o,c,f=!0,p=!1){const y=g4(i.urlParams),v=i.url+y,x=Object.assign({},i.headers);return b4(x,e),x4(x,r),_4(x,c),w4(x,s),new v4(v,i.method,x,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function S4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,r){this._service=e,r instanceof Kn?this._location=r:this._location=Kn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Qu(e,r)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S4(this._location.path)}get storage(){return this._service}get parent(){const e=T4(this._location.path);if(e===null)return null;const r=new Kn(this._location.bucket,e);return new Qu(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw h4(e)}}function Y1(i,e){const r=e?.[r4];return r==null?null:Kn.makeFromBucketSpec(r,i)}function A4(i,e,r,s={}){i.host=`${e}:${r}`;const o=Zu(e);o&&(R2(`https://${i.host}/b`),C2("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(i._overrideAuthToken=typeof c=="string"?c:N2(c,i.app.options.projectId))}class R4{constructor(e,r,s,o,c,f=!1){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=_x,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i4,this._maxUploadRetryTime=s4,this._requests=new Set,o!=null?this._bucket=Kn.makeFromBucketSpec(o,this._host):this._bucket=Y1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=Y1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(O2(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qu(this,e)}_makeRequest(e,r,s,o,c=!0){if(this._deleted)return new d4(bx());{const f=E4(e,this._appId,s,o,r,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,r){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,o).getPromise()}}const $1="@firebase/storage",Q1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="storage";function N4(i=z2(),e){i=vr(i);const s=V2(i,wx).getImmediate({identifier:e}),o=S2("storage");return o&&C4(s,...o),s}function C4(i,e,r,s={}){A4(i,e,r,s)}function j4(i,{instanceIdentifier:e}){const r=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new R4(r,s,o,e,k2)}function D4(){Ro(new Ha(wx,j4,"PUBLIC").setMultipleInstances(!0)),qi($1,Q1,""),qi($1,Q1,"esm2020")}D4();const I4={apiKey:"AIzaSyDo7pLpmv04Eyk3K-fBZtUvKIZLCcqot1o",authDomain:"codme-cb7b4.firebaseapp.com",projectId:"codme-cb7b4",storageBucket:"codme-cb7b4.firebasestorage.app",messagingSenderId:"167915856115",appId:"1:167915856115:web:96cc761a1524122ab6d786",measurementId:"G-QK16ETLM16"},Ex=L2(I4),zt=k5(Ex);N4(Ex);const rl="news",Tx=(i,e=150)=>i.length<=e?i:i.substring(0,e).trim()+"...",gh=i=>{const e=i.toDate(),r={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("th-TH",r)},Sx=async()=>{try{const i=Xm(Qn(zt,rl),Q5("status","==","published"),Jm("createdAt","desc")),e=await qa(i),r=[];return e.forEach(s=>{const o=s.data();r.push({id:s.id,...o,date:gh(o.createdAt),fullContent:o.content})}),r}catch(i){throw console.error("Error fetching published news:",i),i}},M4=async()=>{try{const i=Xm(Qn(zt,rl),Jm("createdAt","desc")),e=await qa(i),r=[];return e.forEach(s=>{const o=s.data();r.push({id:s.id,...o,date:gh(o.createdAt)})}),r}catch(i){throw console.error("Error fetching all news:",i),i}},V4=async i=>{try{const e=Zi(zt,rl,i),r=await W5(e);if(r.exists()){const s=r.data();return{id:r.id,...s,date:gh(s.createdAt)}}else throw new Error("News not found")}catch(e){throw console.error("Error fetching news by ID:",e),e}},O4=async i=>{try{const e=et.now(),r={title:i.title,content:i.content,excerpt:Tx(i.content),image:i.image||null,author:i.author||"ฝ่ายประชาสัมพันธ์",category:i.category||"ทั่วไป",status:i.status||"draft",createdAt:e,updatedAt:e};return{id:(await To(Qn(zt,rl),r)).id,...r,date:gh(e)}}catch(e){throw console.error("Error creating news:",e),e}},k4=async(i,e)=>{try{const r=Zi(zt,rl,i),s={...e,excerpt:e.content?Tx(e.content):void 0,updatedAt:et.now()};return Object.keys(s).forEach(o=>s[o]===void 0&&delete s[o]),await xx(r,s),await V4(i)}catch(r){throw console.error("Error updating news:",r),r}},L4=async i=>{try{const e=Zi(zt,rl,i);return await Yu(e),{success:!0,id:i}}catch(e){throw console.error("Error deleting news:",e),e}},z4=()=>{const[i,e]=L.useState([]),[r,s]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{s(!0);const f=(await Sx()).slice(0,3);e(f)}catch(c){console.error("Error loading news:",c),e([])}finally{s(!1)}})()},[]),d.jsxs(d.Fragment,{children:[d.jsx("style",{children:`
                    /* Mobile (default) */
                    .news-responsive {
                        margin-top: -130px;
                    }

                    /* Notebook - ประมาณ 1024px - 1599px */
                    @media (min-width: 1024px) and (max-width: 1599px) {
                        .news-responsive {
                            margin-top: -130px;
                        }
                    }

                    /* Desktop - 1600px ขึ้นไป */
                    @media (min-width: 1600px) {
                        .news-responsive {
                            margin-top: -430px;
                        }
                    }
                `}),d.jsxs("div",{className:"relative news-responsive",children:[d.jsx("img",{src:Jt.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",right:"-130px"}}),d.jsx("div",{id:"News",className:"relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:d.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[d.jsxs("div",{className:"text-center max-w-4xl",children:[d.jsx(mm,{title:"ข่าวประชาสัมพันธ์",desc:"ติดตามข่าวสารและกิจกรรมต่างๆ ของคณะวิศวกรรมคอมพิวเตอร์และวิศวกรรมสื่อดิจิตอล มหาวิทยาลัยขอนแก่น"}),d.jsx(jt,{to:"/activity",children:d.jsx("button",{className:"mt-6 px-5 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white text-sm font-semibold rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-300",children:"ดูข่าวทั้งหมด →"})})]}),r?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(vo,{className:"animate-spin mb-4",size:48,color:"#dc2626"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"กำลังโหลดข่าวล่าสุด..."})]}):i.length>0?d.jsx(d.Fragment,{children:d.jsx("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:i.map((o,c)=>d.jsx(jt,{to:"/activity",className:"block transition-transform hover:scale-105",children:d.jsx(cT,{news:o})},c))})}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"ยังไม่มีข่าวสารในขณะนี้"}),d.jsx(jt,{to:"/activity",children:d.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300",children:"ไปหน้าข่าวสาร"})})]})]})})]})]})},P4=({service:i})=>{const[e,r]=L.useState(!1);return d.jsxs("div",{className:`
        group relative overflow-hidden rounded-2xl p-6
        transition-all duration-500 ease-out
        hover:scale-[1.02] active:scale-[1.02]
        flex items-center gap-6
        min-h-[160px] w-full
        cursor-pointer
        liquid-glass
      `,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[d.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),d.jsx("div",{className:`\r
          absolute inset-0 rounded-2xl\r
          border-2 border-transparent\r
          group-hover:border-red-400/60 group-active:border-red-400/60\r
          transition-all duration-500\r
          pointer-events-none\r
        `}),d.jsx("div",{className:`\r
          flex-shrink-0 w-16 h-16 rounded-xl \r
          flex items-center justify-center\r
          group-hover:scale-105 group-active:scale-105\r
          transition-all duration-300 ease-out\r
          relative z-10\r
        `,children:i?.icon?d.jsx("img",{src:i.icon,alt:i.title,className:"w-8 h-8 object-contain filter drop-shadow-lg"}):d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-red-600 rounded-lg"})}),d.jsxs("div",{className:"relative z-10 flex-1 min-w-0",children:[d.jsx("h3",{className:"text-lg font-bold mb-2 truncate text-black",children:i?.title||"Service Title"}),d.jsx("p",{className:"leading-relaxed line-clamp-2 font-medium text-sm text-black",children:i?.description||"Service description goes here with details about what this service offers."})]})]})},U4=()=>{const i=[{title:"เกณฑ์การรับเข้า",description:"อธิบายคุณสมบัติและขั้นตอนการสมัครสำหรับผู้สนใจเข้าศึกษา",icon:Jt.graduation_hat,link:"/admission"},{title:"ข้อมูลหลักสูตร",description:"แนะนำรายละเอียดหลักสูตร โครงสร้างรายวิชา และโอกาสทางอาชีพหลังสำเร็จการศึกษา",icon:Jt.book_open,link:"/course"},{title:"แนะแนว & กิจกรรม",description:"ให้คำปรึกษาด้านการเรียน พร้อมกิจกรรมเสริมสร้างทักษะและประสบการณ์นอกห้องเรียน",icon:Jt.megaphone,link:"/activity"},{title:"ติดต่อ",description:"รวมช่องทางการติดต่อสถาบัน เช่น ที่อยู่ เบอร์โทร อีเมล และช่องทางออนไลน์",icon:Jt.location,link:"/contact"}];return d.jsxs("div",{className:"relative py-20",children:[d.jsx("style",{children:`
                .services-wrapper {
                    margin-top: -130px; /* mobile default */
                }

                @media (min-width: 640px) {
                    .services-wrapper {
                        margin-top: -40px; /* tablet */
                    }
                }

                @media (min-width: 1024px) {
                    .services-wrapper {
                        margin-top: -64px; /* laptop */
                    }
                }
            `}),d.jsx("img",{src:Jt.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",left:"-130px"}}),d.jsx("div",{id:"services",className:"services-wrapper relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:d.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[d.jsx("div",{className:"text-center max-w-4xl",children:d.jsx(mm,{title:"ข้อมูลการศึกษา",desc:"รวมข้อมูลสำคัญสำหรับผู้สนใจ ตั้งแต่เกณฑ์การรับเข้า หลักสูตร กิจกรรม ไปจนถึงช่องทางการติดต่อสถาบัน"})}),d.jsx("div",{className:"w-full max-w-7xl mx-auto",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 place-items-center md:place-items-stretch",children:i.map((e,r)=>d.jsx(jt,{to:e.link,className:"w-full max-w-lg md:max-w-none block",children:d.jsx(P4,{service:e,index:r})},r))})})]})})]})},B4=[{title:"วิศวกรรมศาสตรบัณฑิต (วิศวกรรมคอมพิวเตอร์)",engTitle:"Bachelor of Engineering (Computer Engineering)",campus:"ขอนแก่น",fee:"20,000 บาท/เทอม",seats:{r1:32,r2:38,r3:34,r4:"ยังไม่เปิดรับสมัคร"}},{title:"วิศวกรรมศาสตรบัณฑิต (วิศวกรรมสื่อดิจิทัล) หลักสูตรนานาชาติ",engTitle:"Bachelor of Engineering (Digital Media Engineering) International Program",campus:"ขอนแก่น",fee:"50,000 บาท/เทอม",seats:{r1:21,r2:10,r3:20,r4:"ยังไม่เปิดรับสมัคร"}}],q4={0:{1:[{title:"วิศวกรรมคอมพิวเตอร์ โครงการผู้มีศักยภาพสูง",seats:24,sections:{base:"รับผู้สมัครที่จบจาก รร. หลักสูตรแกนกลาง, นานาชาติ, อาชีวะ และ GED ไม่รับหลักสูตรตามอัธยาศัย คะแนน GPAX ต่ำสุด 3.00",detail:"เป็นผู้ที่กำลังศึกษาอยู่ในชั้น ม.6 หรือเทียบเท่า (ปวช.) หรือผู้ที่มีคะแนน GED",criteria:"พิจารณาคุณภาพผลงาน + สัมภาษณ์ (ถ้ามี)",extra:"มีผลงานทางวิชาการด้านวิทยาศาสตร์ คณิตศาสตร์ หรือคอมพิวเตอร์ ในระดับจังหวัด ภูมิภาค ชาติ หรือนานาชาติ"}},{title:"วิศวกรรมคอมพิวเตอร์ โครงการรับนักเรียนจากโรงเรียนที่มีศักยภาพสูง",seats:8,sections:{base:"ต้องเป็นโรงเรียนเครือข่ายที่ภาควิชากำหนด",detail:"แนบหนังสือรับรอง/ผลงานที่เกี่ยวข้อง",criteria:"คัดเลือกตามเกณฑ์โครงการ",extra:"ประสานครูแนะแนวเพื่อเอกสาร"}}],2:[{title:"วิศวกรรมคอมพิวเตอร์ โควตาภาคตะวันออกเฉียงเหนือ",seats:38,sections:{base:"เฉพาะโรงเรียนในพื้นที่ภาคตะวันออกเฉียงเหนือ",detail:"GPAX ≥ 3.00 และแนบผลสอบวิชาสามัญ/วิชาเฉพาะตามประกาศ",criteria:"เรียงตามคะแนนรวมตามสูตรที่ประกาศ",extra:"รายละเอียดอื่น ๆ เป็นไปตามประกาศมหาวิทยาลัย"}}],3:[{title:"วิศวกรรมคอมพิวเตอร์",seats:34,sections:{base:"รับผ่านระบบกลาง TCAS",detail:"องค์ประกอบ: GPAX, GAT/PAT, วิชาสามัญ",criteria:"ผ่านขั้นต่ำและเรียงคะแนนรวม",extra:"สูตรคะแนนระบุในประกาศรับสมัคร"}}]},1:{1:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โครงการรับนักเรียนจากโรงเรียนที่มีศักยภาพสูง",seats:4,sections:{base:"โชว์เคสงานสื่อดิจิทัล (PDF/ลิงก์)",detail:"แนะนำแนบวิดีโอ/รีล/สตอรี่บอร์ดประกอบ",criteria:"สัมภาษณ์อธิบายแนวคิด (EN/TH)",extra:"แนบลิงก์ผลงานออนไลน์ได้"}},{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โครงการผู้มีศักยภาพสูง",seats:20,sections:{base:"ยื่นผลงานภาพนิ่ง/วิดีโอ พร้อมอธิบายกระบวนการ",detail:"ควรมีเครดิต/เครื่องมือที่ใช้",criteria:"พิจารณาคุณภาพผลงานและการสื่อสาร",extra:"อาจมี Workshop/Interview เพิ่ม"}}],2:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โควตาภาคตะวันออกเฉียงเหนือ",seats:12,sections:{base:"จบจาก EP/International หรือเทียบเท่า",detail:"ผลสอบภาษาอังกฤษขั้นต่ำ + GPAX ตามเกณฑ์",criteria:"คัดตามคะแนนรวม",extra:"สัมภาษณ์เป็นภาษาอังกฤษ"}}],3:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ",seats:9,sections:{base:"รับผ่าน TCAS",detail:"GPAX + วิชาสามัญ (EN, MTH, SCI)",criteria:"ผ่านขั้นต่ำและเรียงคะแนนรวม",extra:"สูตรคะแนนตามประกาศ"}}]}};function H4({title:i,seats:e,children:r,defaultOpen:s=!0}){const[o,c]=L.useState(s);return d.jsxs("div",{className:`accord ${o?"open":""}`,children:[d.jsxs("button",{className:"accord-head",onClick:()=>c(!o),children:[d.jsx("span",{className:"accord-title",children:i}),d.jsxs("span",{className:"accord-right",children:[typeof e<"u"&&d.jsxs("span",{className:"accord-badge",children:["รับ ",e," คน"]}),d.jsx("span",{className:`accord-caret ${o?"up":""}`,"aria-hidden":!0,children:"▾"})]})]}),o&&d.jsx("div",{className:"accord-body",children:r})]})}function F4({base:i,detail:e,criteria:r,extra:s}){return d.jsxs("div",{className:"section-wrap",children:[d.jsx("h4",{className:"section-title",children:"ข้อมูลพื้นฐาน"}),d.jsx("div",{className:"section-body",children:i}),d.jsx("h4",{className:"section-title",children:"รายละเอียด"}),d.jsx("div",{className:"section-body",children:e}),d.jsx("h4",{className:"section-title",children:"เงื่อนไขการรับ"}),d.jsx("div",{className:"section-body",children:r}),d.jsx("h4",{className:"section-title",children:"รายละเอียดเพิ่มเติม"}),d.jsx("div",{className:"section-body",children:s})]})}function G4({course:i,index:e}){const[r,s]=L.useState(0),o={0:"รายละเอียด",1:"รอบ 1 Portfolio",2:"รอบ 2 Quota",3:"รอบ 3 Admission",4:"รอบ 4 Direct Admission"},c=f=>{if(f===0)return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"kv",children:[d.jsx("div",{className:"k",children:"ชื่อหลักสูตร"}),d.jsx("div",{className:"v",children:i.title})]}),d.jsxs("div",{className:"kv",children:[d.jsx("div",{className:"k",children:"ชื่อหลักสูตรภาษาอังกฤษ"}),d.jsx("div",{className:"v",children:i.engTitle})]}),d.jsxs("div",{className:"kv",children:[d.jsx("div",{className:"k",children:"ประเภทหลักสูตร"}),d.jsx("div",{className:"v",children:e===0?"ภาษาไทย ปกติ":"หลักสูตรนานาชาติ"})]}),d.jsxs("div",{className:"kv",children:[d.jsx("div",{className:"k",children:"วิทยาเขต"}),d.jsx("div",{className:"v",children:i.campus})]}),d.jsxs("div",{className:"kv",children:[d.jsx("div",{className:"k",children:"ค่าใช้จ่าย"}),d.jsx("div",{className:"v",children:i.fee})]}),d.jsx("hr",{className:"divider"}),d.jsxs("div",{className:"round-sum",children:[d.jsxs("div",{children:["รอบ 1 Portfolio: ",d.jsx("b",{children:i.seats.r1})," คน"]}),d.jsxs("div",{children:["รอบ 2 Quota: ",d.jsx("b",{children:i.seats.r2})," คน"]}),d.jsxs("div",{children:["รอบ 3 Admission: ",d.jsx("b",{children:i.seats.r3})," คน"]}),d.jsxs("div",{children:["รอบ 4 Direct Admission: ",d.jsx("b",{children:i.seats.r4})]})]})]});if(f===4)return d.jsx("p",{children:"ยังไม่เปิดรับสมัคร"});const p=q4[e]?.[f]||[];return d.jsx(d.Fragment,{children:p.map((y,v)=>d.jsx(H4,{title:y.title,seats:y.seats,defaultOpen:v===0,children:d.jsx(F4,{base:y.sections.base,detail:y.sections.detail,criteria:y.sections.criteria,extra:y.sections.extra})},v))})};return d.jsxs("section",{className:"card card-translucent",children:[d.jsxs("div",{className:"round-rail",children:[d.jsx("button",{className:`round-pill ${r===0?"is-active":""}`,onClick:()=>s(0),children:"i"}),[1,2,3,4].map(f=>d.jsxs("button",{className:`round-pill ${r===f?"is-active":""}`,onClick:()=>s(f),children:["รอบ ",f]},f))]}),d.jsxs("div",{className:"card-inner",children:[d.jsxs("header",{className:"card-head",children:[d.jsx("div",{className:"card-logo",children:d.jsx("img",{src:Jt.official_logo,alt:"KKU logo",className:"card-logo-img"})}),d.jsxs("div",{className:"card-title-wrap",children:[d.jsx("h2",{className:"card-title",children:i.title}),d.jsx("div",{className:"card-dash"})]})]}),d.jsx("h3",{className:"card-sub",children:o[r]}),d.jsx("div",{className:"card-detail fade-in",children:c(r)},r)]})]})}function Y4(){return d.jsxs("main",{className:"card-wrap",style:{position:"relative",paddingBottom:"170px"},children:[d.jsx("img",{src:Jt.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),d.jsx("img",{src:Jt.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"700px",left:"10px",zIndex:0}}),d.jsxs("div",{style:{position:"relative",zIndex:10},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[d.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"เกณฑ์การรับเข้า"}),d.jsx("div",{style:{width:"80px",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),d.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"คุณสมบัติและขั้นตอนการสมัครสำหรับผู้สนใจเข้าศึกษา"})]}),B4.map((i,e)=>d.jsx(G4,{course:i,index:e},e))]})]})}const K1=[{id:"com",title:"วิศวกรรมคอมพิวเตอร์",engTitle:"Computer Engineering",file:"/codme/course/มคอ2-COM-65.pdf",code:"COM",year:"2565"},{id:"dme",title:"วิศวกรรมสื่อดิจิทัล",engTitle:"Digital Media Engineering",file:"/codme/course/มคอ2-DME-65.pdf",code:"DME",year:"2565"}],$4=()=>{const[i,e]=L.useState(K1[0]),[r,s]=L.useState(!0),[o,c]=L.useState(!1);L.useEffect(()=>{const x=()=>{c(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[]),L.useEffect(()=>{s(!0)},[i]);const f=x=>{x.id!==i.id&&e(x)},p=()=>{s(!1)},y=()=>{console.error("Failed to load PDF in iframe or PDF is not displayable."),s(!1)},v=x=>`${x}#view=FitH`;return d.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(500px, 80vh, 700px)",left:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[d.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ข้อมูลหลักสูตร"}),d.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),d.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:"รายละเอียดหลักสูตรและเอกสาร มคอ.2"})]}),d.jsx("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",justifyContent:"center",flexWrap:"wrap",padding:"0 1rem"},children:K1.map(x=>d.jsx("button",{onClick:()=>f(x),style:{padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1.25rem, 3vw, 2rem)",borderRadius:"50px",border:i.id===x.id?"3px solid #dc2626":"2px solid rgba(0,0,0,0.1)",background:i.id===x.id?"#dc2626":"rgba(255,255,255,0.9)",color:i.id===x.id?"white":"#333",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:i.id===x.id?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0,0,0,0.1)",whiteSpace:"nowrap"},onMouseEnter:T=>{i.id!==x.id&&(T.target.style.transform="translateY(-2px)",T.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},onMouseLeave:T=>{i.id!==x.id&&(T.target.style.transform="translateY(0)",T.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")},children:x.title},x.id))}),d.jsxs("section",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[d.jsxs("header",{style:{display:"flex",flexDirection:o?"column":"row",alignItems:o?"center":"flex-start",textAlign:o?"center":"left",gap:"1.5rem",marginBottom:"clamp(1.5rem, 3vw, 2rem)",paddingBottom:"clamp(1rem, 2.5vw, 1.5rem)",borderBottom:"2px solid rgba(0,0,0,0.1)"},children:[d.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"clamp(60px, 10vw, 80px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.jsx("span",{style:{fontSize:"clamp(2rem, 4vw, 2.5rem)"},children:"📚"})}),d.jsxs("div",{style:{flex:1},children:[d.jsx("h2",{style:{fontSize:"clamp(1.25rem, 3vw, 1.75rem)",fontWeight:"bold",marginBottom:"0.25rem",color:"#1a1a1a"},children:i.title}),d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"0.5rem",margin:o?"0.5rem auto":"0.5rem 0",borderRadius:"2px"}}),d.jsx("p",{style:{color:"#666",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:i.engTitle})]})]}),d.jsx("div",{style:{background:"rgba(220, 38, 38, 0.05)",padding:"clamp(1rem, 2.5vw, 1.5rem)",borderRadius:"clamp(12px, 2vw, 16px)",marginBottom:"clamp(1rem, 2.5vw, 1.5rem)",border:"1px solid rgba(220, 38, 38, 0.1)"},children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"clamp(1rem, 2.5vw, 1.5rem)"},children:[d.jsxs("div",{children:[d.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"รหัสหลักสูตร"}),d.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:i.code})]}),d.jsxs("div",{children:[d.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"ปีหลักสูตร"}),d.jsxs("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:["พ.ศ. ",i.year]})]}),d.jsxs("div",{children:[d.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"ประเภทเอกสาร"}),d.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:"มคอ.2"})]}),d.jsxs("div",{children:[d.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"คณะ"}),d.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:"วิศวกรรมศาสตร์"})]})]})}),d.jsx("div",{style:{position:"relative",minHeight:o?"auto":"clamp(600px, 80vh, 800px)"},children:o?d.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa",borderRadius:"12px",border:"2px solid rgba(0,0,0,0.1)"},children:[d.jsx("p",{style:{color:"#666",marginBottom:"1.5rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",lineHeight:"1.6"},children:"บนอุปกรณ์มือถือ ขอแนะนำให้เปิดเอกสารในแอปพลิเคชันภายนอกเพื่อประสบการณ์ที่ดีที่สุด"}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"300px",margin:"0 auto"},children:[d.jsxs("a",{href:i.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},children:[d.jsx("span",{children:"🔗"}),d.jsx("span",{children:"เปิดเอกสาร"})]}),d.jsxs("a",{href:i.file,download:!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},children:[d.jsx("span",{children:"⬇"}),d.jsx("span",{children:"ดาวน์โหลดเอกสาร"})]})]})]}):d.jsxs(d.Fragment,{children:[r&&d.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,textAlign:"center"},children:[d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",border:"4px solid rgba(220, 38, 38, 0.2)",borderTop:"4px solid #dc2626",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),d.jsx("p",{style:{color:"#666",fontWeight:"500",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"กำลังโหลดเอกสาร..."})]}),d.jsx("div",{style:{borderRadius:"12px",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",background:"#f8f9fa",visibility:r?"hidden":"visible",height:r?"0":"clamp(600px, 80vh, 800px)",transition:"visibility 0s, height 0s, opacity 0.3s ease-in-out",opacity:r?0:1},children:d.jsx("iframe",{src:v(i.file),title:`Course Document for ${i.title}`,width:"100%",height:"100%",style:{border:"none",display:"block"},onLoad:p,onError:y,allow:"fullscreen",children:d.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa"},children:[d.jsx("p",{style:{color:"#666",marginBottom:"1rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)"},children:"เบราว์เซอร์ของคุณไม่รองรับการแสดง PDF โดยตรง หรือเกิดข้อผิดพลาดในการโหลด"}),d.jsxs("a",{href:i.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)"},children:[d.jsx("span",{children:"⬇"}),d.jsx("span",{children:"ดาวน์โหลดเอกสาร PDF"})]})]})},i.id)})]})}),!o&&d.jsxs("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginTop:"clamp(1rem, 2.5vw, 1.5rem)",justifyContent:"center",flexWrap:"wrap"},children:[d.jsxs("a",{href:i.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},onMouseEnter:x=>{x.currentTarget.style.transform="translateY(-2px)",x.currentTarget.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.5)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.4)"},children:[d.jsx("span",{children:"🔗"}),d.jsx("span",{children:"เปิดในหน้าต่างใหม่"})]}),d.jsxs("a",{href:i.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onMouseEnter:x=>{x.currentTarget.style.transform="translateY(-2px)",x.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[d.jsx("span",{children:"⬇"}),d.jsx("span",{children:"ดาวน์โหลดเอกสาร"})]})]})]}),d.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:d.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[d.jsx("strong",{style:{color:"#1a1a1a"},children:"หมายเหตุ:"})," เอกสาร มคอ.2 เป็นรายละเอียดหลักสูตรตามมาตรฐานคุณวุฒิระดับอุดมศึกษา ประกอบด้วยข้อมูลโครงสร้างหลักสูตร แผนการศึกษา และรายละเอียดรายวิชา"]})})]}),d.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Vf=6,Q4=()=>{const[i,e]=L.useState(null),[r,s]=L.useState(1),[o,c]=L.useState([]),[f,p]=L.useState(!0),[y,v]=L.useState(null);L.useEffect(()=>{(async()=>{try{p(!0);const q=await Sx();c(q),v(null)}catch(q){console.error("Error loading news:",q),v("ไม่สามารถโหลดข่าวได้ กรุณาลองใหม่อีกครั้ง")}finally{p(!1)}})()},[]);const x=Math.ceil(o.length/Vf),T=(r-1)*Vf,R=T+Vf,O=o.slice(T,R),F=()=>{r<x&&(s(r+1),window.scrollTo({top:0,behavior:"smooth"}))},Q=()=>{r>1&&(s(r-1),window.scrollTo({top:0,behavior:"smooth"}))},z=$=>({กิจกรรม:"bg-blue-100 text-blue-700",ความสำเร็จ:"bg-green-100 text-green-700",ประกาศ:"bg-red-100 text-red-700",อบรม:"bg-purple-100 text-purple-700",ความร่วมมือ:"bg-yellow-100 text-yellow-700",สัมมนา:"bg-indigo-100 text-indigo-700",ทุนวิจัย:"bg-pink-100 text-pink-700",กิจกรรมอาสา:"bg-teal-100 text-teal-700",ทั่วไป:"bg-gray-100 text-gray-700"})[$]||"bg-gray-100 text-gray-700";return f?d.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx(vo,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),d.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"กำลังโหลดข่าวสาร..."})]})}):y?d.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:d.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.9)",padding:"2rem",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[d.jsx("p",{style:{color:"#dc2626",fontSize:"1.1rem",marginBottom:"1rem"},children:y}),d.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",cursor:"pointer"},children:"โหลดใหม่"})]})}):i?d.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"900px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[d.jsxs("button",{onClick:()=>e(null),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 2vw, 0.75rem) clamp(1rem, 3vw, 1.5rem)",marginBottom:"clamp(1rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:$=>{$.target.style.transform="translateX(-4px)",$.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:$=>{$.target.style.transform="translateX(0)",$.target.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[d.jsx(Ao,{size:20}),d.jsx("span",{children:"กลับไปหน้าข่าว"})]}),d.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[i.image&&d.jsx("img",{src:i.image,alt:i.title,style:{width:"100%",height:"clamp(250px, 40vw, 400px)",objectFit:"cover"}}),d.jsxs("div",{style:{padding:"clamp(1.5rem, 4vw, 2.5rem)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"clamp(1rem, 2vw, 1.5rem)",flexWrap:"wrap"},children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${z(i.category)}`,children:i.category}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[d.jsx(Cu,{size:16}),d.jsx("span",{children:i.date})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[d.jsx(Du,{size:16}),d.jsx("span",{children:i.author})]})]}),d.jsx("h1",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a",lineHeight:"1.3"},children:i.title}),d.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",borderRadius:"2px"}}),d.jsx("p",{style:{fontSize:"clamp(1rem, 2vw, 1.125rem)",lineHeight:"1.8",color:"#333",whiteSpace:"pre-line"},children:i.fullContent})]})]})]})]}):d.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[d.jsx("h1",{style:{fontSize:"clamp(1.75rem, 5vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ข่าวสารและกิจกรรม"}),d.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),d.jsx("p",{style:{color:"#666",fontSize:"clamp(0.9rem, 2vw, 1.1rem)"},children:"ติดตามข่าวสารและกิจกรรมของคณะวิศวกรรมคอมพิวเตอร์ มหาวิทยาลัยขอนแก่น"})]}),o.length===0?d.jsx("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.85)",borderRadius:"16px"},children:d.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"ยังไม่มีข่าวสารในขณะนี้"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:O.map($=>d.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-8px)",q.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.15)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.1)"},children:[d.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[$.image?d.jsx("img",{src:$.image,alt:$.title,style:{width:"100%",height:"clamp(180px, 30vw, 200px)",objectFit:"cover",transition:"transform 0.3s ease"},onMouseEnter:q=>{q.target.style.transform="scale(1.1)"},onMouseLeave:q=>{q.target.style.transform="scale(1)"}}):d.jsx("div",{style:{width:"100%",height:"clamp(180px, 30vw, 200px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem",fontWeight:"bold"},children:"ข่าว"}),d.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem"},children:d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${z($.category)}`,children:$.category})})]}),d.jsxs("div",{style:{padding:"clamp(1rem, 3vw, 1.5rem)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"1rem",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)",color:"#666",flexWrap:"wrap"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[d.jsx(Cu,{size:14}),d.jsx("span",{children:$.date})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[d.jsx(Du,{size:14}),d.jsx("span",{children:$.author})]})]}),d.jsx("h3",{style:{fontSize:"clamp(1.1rem, 2.5vw, 1.25rem)",fontWeight:"bold",marginBottom:"0.75rem",color:"#1a1a1a",lineHeight:"1.4"},children:$.title}),d.jsx("p",{style:{color:"#666",lineHeight:"1.6",marginBottom:"1rem",fontSize:"clamp(0.85rem, 1.8vw, 0.95rem)"},children:$.excerpt}),d.jsxs("button",{onClick:()=>e($),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.625rem) clamp(1rem, 2.5vw, 1.25rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"clamp(0.8rem, 1.5vw, 0.875rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseEnter:q=>{q.target.style.transform="translateX(4px)",q.target.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.4)"},onMouseLeave:q=>{q.target.style.transform="translateX(0)",q.target.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},children:[d.jsx("span",{children:"อ่านเพิ่มเติม"}),d.jsx(fE,{size:16})]})]})]},$.id))}),x>1&&d.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginTop:"clamp(2rem, 4vw, 3rem)",flexWrap:"wrap"},children:[d.jsxs("button",{onClick:Q,disabled:r===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:r===1?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:r===1?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:r===1?.5:1},children:[d.jsx(Ao,{size:20}),d.jsx("span",{children:"ก่อนหน้า"})]}),d.jsx("div",{style:{display:"flex",gap:"clamp(0.25rem, 1vw, 0.5rem)",alignItems:"center"},children:Array.from({length:x},($,q)=>q+1).map($=>d.jsx("button",{onClick:()=>{s($),window.scrollTo({top:0,behavior:"smooth"})},style:{width:"clamp(32px, 8vw, 40px)",height:"clamp(32px, 8vw, 40px)",borderRadius:"8px",border:r===$?"none":"2px solid rgba(0,0,0,0.1)",background:r===$?"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)":"rgba(255, 255, 255, 0.9)",color:r===$?"white":"#333",fontWeight:"600",fontSize:"clamp(0.85rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:r===$?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:$},$))}),d.jsxs("button",{onClick:F,disabled:r===x,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:r===x?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:r===x?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:r===x?.5:1},children:[d.jsx("span",{children:"ถัดไป"}),d.jsx(_E,{size:20})]})]})]})]})]})},K4=()=>{const[i,e]=L.useState({name:"",email:"",subject:"",message:""});return d.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vh, 100px)",left:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),d.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[d.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ติดต่อเรา"}),d.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),d.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:"ติดต่อสอบถามข้อมูล หรือนัดหมายเยี่ยมชมคณะวิศวกรรมคอมพิวเตอร์"})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:d.jsx(BE,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),d.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"ที่อยู่"}),d.jsxs("p",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:["ภาควิชาวิศวกรรมคอมพิวเตอร์",d.jsx("br",{}),"คณะวิศวกรรมศาสตร์",d.jsx("br",{}),"มหาวิทยาลัยขอนแก่น",d.jsx("br",{}),"123 ถนนมิตรภาพ ต.ในเมือง",d.jsx("br",{}),"อ.เมือง จ.ขอนแก่น 40002"]})]}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:d.jsx($E,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),d.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"โทรศัพท์"}),d.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[d.jsxs("p",{style:{marginBottom:"0.5rem"},children:[d.jsx("strong",{children:"สำนักงานภาควิชา:"}),d.jsx("br",{}),"043-202-845"]}),d.jsxs("p",{style:{marginBottom:"0.5rem"},children:[d.jsx("strong",{children:"หัวหน้าภาควิชา:"}),d.jsx("br",{}),"043-202-846"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"ฝ่ายวิชาการ:"}),d.jsx("br",{}),"043-202-847"]})]})]}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:d.jsx(Lf,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),d.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"อีเมล"}),d.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)",wordBreak:"break-word"},children:[d.jsxs("p",{style:{marginBottom:"0.5rem"},children:[d.jsx("strong",{children:"ทั่วไป:"}),d.jsx("br",{}),d.jsx("a",{href:"mailto:com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"com@kku.ac.th"})]}),d.jsxs("p",{style:{marginBottom:"0.5rem"},children:[d.jsx("strong",{children:"สอบถามหลักสูตร:"}),d.jsx("br",{}),d.jsx("a",{href:"mailto:admission.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"admission.com@kku.ac.th"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"ฝ่ายวิจัย:"}),d.jsx("br",{}),d.jsx("a",{href:"mailto:research.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"research.com@kku.ac.th"})]})]})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:d.jsx(RE,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),d.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"เวลาทำการ"}),d.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[d.jsxs("p",{style:{marginBottom:"0.5rem"},children:[d.jsx("strong",{children:"จันทร์ - ศุกร์"}),d.jsx("br",{}),"08:30 - 16:30 น."]}),d.jsxs("p",{style:{marginBottom:"0.5rem"},children:[d.jsx("strong",{children:"เสาร์ - อาทิตย์"}),d.jsx("br",{}),"ปิดทำการ"]}),d.jsx("p",{style:{padding:"0.75rem",background:"rgba(220, 38, 38, 0.1)",borderRadius:"8px",marginTop:"1rem",fontSize:"clamp(0.8rem, 1.8vw, 0.9rem)"},children:"💡 หยุดตามวันหยุดนักขัตฤกษ์"})]})]}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:d.jsx(Dy,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),d.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"ช่องทางออนไลน์"}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[d.jsxs("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#1877f2",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:r=>{r.currentTarget.style.transform="translateX(4px)",r.currentTarget.style.boxShadow="0 4px 12px rgba(24, 119, 242, 0.3)"},onMouseLeave:r=>{r.currentTarget.style.transform="translateX(0)",r.currentTarget.style.boxShadow="none"},children:[d.jsx(DE,{size:24}),d.jsx("span",{children:"Facebook Page"})]}),d.jsxs("a",{href:"https://eng.kku.ac.th",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#dc2626",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:r=>{r.currentTarget.style.transform="translateX(4px)",r.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseLeave:r=>{r.currentTarget.style.transform="translateX(0)",r.currentTarget.style.boxShadow="none"},children:[d.jsx(Dy,{size:24}),d.jsx("span",{children:"เว็บไซต์คณะ"})]})]})]})]}),d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[d.jsx("h2",{style:{fontSize:"clamp(1.5rem, 3.5vw, 2rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"แผนที่ตั้ง"}),d.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}})]}),d.jsx("div",{style:{borderRadius:"clamp(12px, 2vw, 16px)",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",height:"clamp(300px, 50vw, 450px)",background:"#f0f0f0"},children:d.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3826.664755555556!2d102.81472!3d16.46778!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31228a1b3f0d1b1f%3A0x1b1b1b1b1b1b1b1b!2sKhon%20Kaen%20University!5e0!3m2!1sen!2sth!4v1234567890",width:"100%",height:"100%",style:{border:"none"},allowFullScreen:!0,loading:"lazy",title:"แผนที่คณะวิศวกรรมศาสตร์ มข."})})]}),d.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:d.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[d.jsx("strong",{style:{color:"#1a1a1a"},children:"หมายเหตุ:"})," หากต้องการข้อมูลเพิ่มเติมหรือนัดหมายเข้าพบ กรุณาติดต่อล่วงหน้าอย่างน้อย 3 วันทำการ เพื่อให้เราสามารถเตรียมการต้อนรับท่านได้อย่างเหมาะสม"]})})]})]})},X4=({rating:i,onRatingChange:e})=>{const[r,s]=L.useState(0);return d.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(o=>d.jsx("button",{type:"button",className:`w-8 h-8 focus:outline-none transition-colors duration-200 ${o<=(r||i)?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-yellow-300"}`,onClick:()=>e(o),onMouseEnter:()=>s(o),onMouseLeave:()=>s(0),children:d.jsx("svg",{className:"w-full h-full fill-current",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},o)),d.jsx("span",{className:"ml-2 text-sm text-gray-600",children:i>0?`${i}/5 ดาว`:"กรุณาให้คะแนน"})]})};function Z4(){const[i,e]=L.useState(""),[r,s]=L.useState(""),[o,c]=L.useState("general"),[f,p]=L.useState(""),[y,v]=L.useState(0),[x,T]=L.useState(!1),[R,O]=L.useState(!1),[F,Q]=L.useState(""),z=async q=>{if(q.preventDefault(),y===0){Q("กรุณาให้คะแนนก่อนส่ง");return}if(!f.trim()){Q("กรุณากรอกข้อความ");return}O(!0),Q("");try{await To(Qn(zt,"feedbacks"),{name:i.trim()||"ไม่ระบุชื่อ",email:r.trim()||null,feedbackType:o,message:f.trim(),rating:y,timestamp:e4(),status:"unread"}),console.log("Feedback saved to Firebase successfully!"),T(!0)}catch(se){console.error("Error saving feedback:",se),Q("เกิดข้อผิดพลาดในการส่ง Feedback กรุณาลองอีกครั้ง")}finally{O(!1)}},$=()=>{T(!1),e(""),s(""),c("general"),p(""),v(0),Q("")};return d.jsxs("main",{className:"card-wrap",style:{position:"relative"},children:[d.jsx("img",{src:Jt.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),d.jsxs("div",{style:{position:"relative",zIndex:10},children:[d.jsx(mm,{title:"ส่งความคิดเห็นถึงเรา",desc:"เรารับฟังทุกข้อเสนอแนะเพื่อการพัฒนาที่ดีขึ้น"}),d.jsx("section",{className:"card card-translucent",children:d.jsx("div",{className:"card-inner",children:x?d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),d.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"ขอบคุณสำหรับความคิดเห็นของคุณ! 🎉"}),d.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"เราได้รับข้อความของคุณแล้วและจะนำไปพิจารณา"}),y>0&&d.jsxs("p",{className:"text-md text-gray-500",children:["คะแนนที่ให้: ",y,"/5 ดาว ⭐"]})]}),d.jsx("button",{onClick:$,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl",children:"ส่งความคิดเห็นอีกครั้ง"})]}):d.jsxs("form",{onSubmit:z,className:"space-y-6",children:[F&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[d.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsx("div",{className:"flex-1",children:d.jsx("p",{className:"text-red-800 text-sm",children:F})}),d.jsx("button",{type:"button",onClick:()=>Q(""),className:"text-red-600 hover:text-red-800",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg border border-yellow-200",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"ให้คะแนนความพึงพอใจโดยรวม *"}),d.jsx(X4,{rating:y,onRatingChange:v})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"ชื่อ (ไม่บังคับ)"}),d.jsx("input",{type:"text",id:"name",value:i,onChange:q=>e(q.target.value),disabled:R,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"กรอกชื่อของคุณ"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"อีเมล (สำหรับติดต่อกลับ, ไม่บังคับ)"}),d.jsx("input",{type:"email",id:"email",value:r,onChange:q=>s(q.target.value),disabled:R,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"example@email.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-gray-700",children:"ประเภทความคิดเห็น"}),d.jsxs("select",{id:"feedbackType",value:o,onChange:q=>c(q.target.value),disabled:R,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[d.jsx("option",{value:"general",children:"💬 ทั่วไป"}),d.jsx("option",{value:"bug",children:"🐛 แจ้งปัญหา/บั๊ก"}),d.jsx("option",{value:"suggestion",children:"💡 ข้อเสนอแนะ/ปรับปรุง"}),d.jsx("option",{value:"compliment",children:"👏 คำชม"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"ข้อความของคุณ *"}),d.jsx("textarea",{id:"message",rows:"5",value:f,onChange:q=>p(q.target.value),required:!0,disabled:R,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"แบ่งปันความคิดเห็นของคุณกับเรา..."})]}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx("button",{type:"button",onClick:$,disabled:R,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"เคลียร์ฟอร์ม"}),d.jsx("button",{type:"submit",disabled:!f.trim()||y===0||R,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:R?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"กำลังส่ง..."]}):d.jsx(d.Fragment,{children:"ส่งความคิดเห็น 📤"})})]}),(!f.trim()||y===0)&&!R&&d.jsx("div",{className:"text-sm text-gray-500 text-center",children:"* กรุณากรอกข้อความและให้คะแนนก่อนส่ง"})]})})})]})]})}const W4=({sidebarOpen:i,setSidebarOpen:e,currentMenu:r,setCurrentMenu:s,setSelectedCourse:o,setShowNewsForm:c})=>d.jsxs("div",{className:`${i?"w-full md:w-64":"w-0"} bg-gradient-to-b from-[#dc2626] to-[#7d1315] transition-all duration-300 overflow-hidden flex flex-col fixed md:relative h-full z-20`,children:[d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-white",children:"CODME"}),d.jsx("button",{onClick:()=>e(!1),className:"text-white hover:bg-white/10 p-1 rounded",children:d.jsx(Ao,{size:24})})]}),d.jsxs("nav",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>{s("courses"),o(null)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${r==="courses"?"bg-white/10":"hover:bg-white/10"}`,children:[d.jsx(x2,{size:20}),d.jsx("span",{children:"จัดการหลักสูตร"})]}),d.jsxs("button",{onClick:()=>{s("news"),o(null),c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${r==="news"?"bg-white/10":"hover:bg-white/10"}`,children:[d.jsx(b2,{size:20}),d.jsx("span",{children:"จัดการข่าวสาร"})]}),d.jsxs("button",{onClick:()=>{s("feedback"),o(null),c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${r==="feedback"?"bg-white/10":"hover:bg-white/10"}`,children:[d.jsx(Pa,{size:20}),d.jsx("span",{children:"จัดการ Feedback"})]}),d.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg hover:bg-white/10 transition-colors",children:[d.jsx(gE,{size:20}),d.jsx("span",{children:"ตั้งค่า AI"})]})]})]}),d.jsx("div",{className:"mt-auto p-6 border-t border-white/20",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-bold",children:"A"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium text-sm",children:"Admin User"}),d.jsx("p",{className:"text-red-200 text-xs",children:"Administrator"})]})]})})]}),J4=()=>{const[i]=L.useState([{id:"com",name:"วิศวกรรมคอมพิวเตอร์",engName:"Computer Engineering",courseId:"COM-2565"},{id:"dme",name:"วิศวกรรมสื่อดิจิทัล",engName:"Digital Media Engineering",courseId:"DME-2565"}]),[e,r]=L.useState(null),[s,o]=L.useState({}),[c,f]=L.useState(!1),[p,y]=L.useState(0),[v,x]=L.useState(""),[T,R]=L.useState("");L.useEffect(()=>{O()},[]);const O=async()=>{try{const ae=await qa(Qn(zt,"courseFiles")),ie={};ae.forEach(le=>{const j=le.data();ie[j.courseId]||(ie[j.courseId]=[]),ie[j.courseId].push({id:le.id,...j})}),o(ie)}catch(ae){console.error("Error loading files:",ae),R("ไม่สามารถโหลดข้อมูลไฟล์ได้")}},F=async ae=>new Promise((ie,le)=>{const j=new FileReader;j.onload=async A=>{try{const E=A.target.result,N=new Uint8Array(E),I=1024*1024;let M="";for(let Ee=0;Ee<N.length;Ee+=I){const X=N.slice(Ee,Math.min(Ee+I,N.length));M+=btoa(Array.from(X).reduce((Z,ue)=>Z+String.fromCharCode(ue),""))}M="data:application/pdf;base64,"+M;const C=ae.size,ve=M.length;ie({data:M,originalSize:C,compressedSize:ve,compressionRatio:Math.round(ve/C*100)})}catch(E){le(E)}},j.onerror=()=>le(new Error("ไม่สามารถอ่านไฟล์ได้")),j.readAsArrayBuffer(ae)}),Q=(ae,ie=3.5*1024*1024)=>{const le=[],j=ie;for(let A=0;A<ae.length;A+=j)le.push(ae.substring(A,A+j));return le},z=async ae=>{const ie=Array.from(ae.target.files);if(ie.length===0)return;const le=ie.filter(A=>A.type==="application/pdf");if(le.length!==ie.length){R("กรุณาอัพโหลดเฉพาะไฟล์ PDF เท่านั้น");return}f(!0),R(""),x("");let j=0;for(const A of le)try{x(`กำลังประมวลผลไฟล์ ${A.name} (${q(A.size)})...`);const E=await F(A);100-E.compressionRatio>0&&x(`ประมวลผล: ${q(E.originalSize)} → ${q(E.compressedSize)}`);const I=E.data.length;if(I<=3.5*1024*1024)x(`กำลังอัพโหลด ${A.name}...`),await To(Qn(zt,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:A.name,fileSize:q(A.size),originalSize:A.size,compressedSize:I,uploadDate:new Date().toLocaleDateString("th-TH"),fileData:E.data,fileType:A.type,isMultiPart:!1});else{x(`กำลังแบ่งไฟล์ ${A.name} เป็นส่วนๆ...`);const M=Q(E.data),C=`${e.id}_${Date.now()}_${A.name}`;x(`แบ่งไฟล์เป็น ${M.length} ส่วน กำลังอัพโหลด...`),await To(Qn(zt,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:A.name,fileSize:q(A.size),originalSize:A.size,compressedSize:I,uploadDate:new Date().toLocaleDateString("th-TH"),fileType:A.type,isMultiPart:!0,totalParts:M.length,fileId:C});for(let ve=0;ve<M.length;ve++){x(`อัพโหลดส่วนที่ ${ve+1}/${M.length} ของ ${A.name}...`),await To(Qn(zt,"courseFileParts"),{fileId:C,partNumber:ve,data:M[ve]});const Ee=(ve+1)/M.length*(100/le.length);y(j+Ee)}}j+=100/le.length,y(j),x(`อัพโหลด ${A.name} สำเร็จ!`)}catch(E){console.error("Error uploading file:",E),R(`ไม่สามารถอัพโหลด ${A.name} ได้: ${E.message}`)}f(!1),y(0),x(""),await O(),ae.target.value=""},$=async(ae,ie,le)=>{if(window.confirm("คุณต้องการลบไฟล์นี้หรือไม่?"))try{if(x("กำลังลบไฟล์..."),await Yu(Zi(zt,"courseFiles",ie)),le.isMultiPart){x(`กำลังลบไฟล์ส่วนๆ (${le.totalParts} ส่วน)...`);const j=await qa(Qn(zt,"courseFileParts")),A=[];j.forEach(E=>{E.data().fileId===le.fileId&&A.push(Yu(Zi(zt,"courseFileParts",E.id)))}),await Promise.all(A)}x("ลบไฟล์สำเร็จ!"),setTimeout(()=>x(""),2e3),await O()}catch(j){console.error("Error removing file:",j),R("ไม่สามารถลบไฟล์ได้")}},q=ae=>{if(ae===0)return"0 Bytes";const ie=1024,le=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(ae)/Math.log(ie));return Math.round(ae/Math.pow(ie,j)*100)/100+" "+le[j]},se=async ae=>{try{let ie=ae.fileData;if(ae.isMultiPart){x(`กำลังเตรียมไฟล์ (${ae.totalParts} ส่วน)...`);const j=await qa(Qn(zt,"courseFileParts")),A=[];j.forEach(E=>{const N=E.data();N.fileId===ae.fileId&&A.push({partNumber:N.partNumber,data:N.data})}),A.sort((E,N)=>E.partNumber-N.partNumber),x("กำลังรวมไฟล์..."),ie=A.map(E=>E.data).join(""),x("เตรียมดาวน์โหลด...")}const le=document.createElement("a");le.href=ie,le.download=ae.fileName,document.body.appendChild(le),le.click(),document.body.removeChild(le),x("ดาวน์โหลดสำเร็จ!"),setTimeout(()=>x(""),2e3)}catch(ie){console.error("Error downloading file:",ie),R("ไม่สามารถดาวน์โหลดไฟล์ได้")}};return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"จัดการเอกสารหลักสูตร"}),d.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"อัพโหลดและจัดการเอกสาร PDF สำหรับแต่ละหลักสูตร"})]}),d.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[d.jsx(_2,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"ข้อมูลการอัพโหลด:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[d.jsx("li",{children:"รองรับไฟล์ PDF ทุกขนาด (ไม่จำกัด)"}),d.jsx("li",{children:"ไฟล์ขนาดเล็ก (<3.5MB): อัพโหลดทันที"}),d.jsx("li",{children:"ไฟล์ขนาดใหญ่ (>3.5MB): แบ่งเก็บเป็นส่วนๆ อัตโนมัติ"}),d.jsx("li",{children:"ระบบจะแบ่งและรวมไฟล์โดยอัตโนมัติ"})]})]})]}),T&&d.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[d.jsx(fm,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-red-800",children:T}),d.jsx("button",{onClick:()=>R(""),className:"text-sm text-red-600 underline mt-1",children:"ปิด"})]})]}),v&&d.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsx("p",{className:"text-green-800 text-sm",children:v})}),e?d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>r(null),className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors font-medium",children:[d.jsx(Ao,{size:20,className:"mr-1"}),"กลับ"]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.name}),d.jsx("p",{className:"text-gray-600",children:e.engName})]}),d.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"อัพโหลดเอกสาร PDF"}),d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors group",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[d.jsx(w2,{className:"w-12 h-12 text-gray-400 mb-3 group-hover:text-red-600 transition-colors"}),d.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:[d.jsx("span",{className:"font-semibold",children:"คลิกเพื่อเลือกไฟล์"})," หรือลากไฟล์มาวาง"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"รองรับเฉพาะไฟล์ PDF (ทุกขนาด)"})]}),d.jsx("input",{type:"file",className:"hidden",accept:".pdf,application/pdf",multiple:!0,onChange:z,disabled:c})]}),c&&d.jsxs("div",{className:"mt-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"กำลังอัพโหลด..."}),d.jsxs("span",{className:"text-sm font-medium text-red-600",children:[Math.round(p),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-800 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]})]}),s[e.id]?.length>0&&d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:["ไฟล์ที่อัพโหลด (",s[e.id].length,")"]}),d.jsx("div",{className:"space-y-3",children:s[e.id].map(ae=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[d.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[d.jsx(ME,{className:"text-red-600 flex-shrink-0",size:24}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"font-medium text-gray-800 truncate",children:ae.fileName}),d.jsxs("p",{className:"text-sm text-gray-500",children:[ae.fileSize," • อัพโหลดเมื่อ ",ae.uploadDate,ae.isMultiPart&&d.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Multi-part"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[d.jsx("button",{onClick:()=>se(ae),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"ดาวน์โหลด"}),d.jsx("button",{onClick:()=>$(e.id,ae.id,ae),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(ju,{size:18})})]})]},ae.id))})]})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(ae=>d.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1",children:ae.name}),s[ae.id]?.length>0&&d.jsxs("span",{className:"bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full font-medium",children:[s[ae.id].length," ไฟล์"]})]}),d.jsx("p",{className:"text-gray-600 text-sm mb-1",children:ae.engName}),d.jsxs("p",{className:"text-gray-500 text-xs",children:["รหัส: ",ae.courseId]})]}),d.jsx("button",{onClick:()=>r(ae),className:"w-full px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-800 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:"จัดการไฟล์"})]})},ae.id))})]})})},eR=async(i,e={})=>{const{maxWidth:r=1200,maxHeight:s=800,quality:o=.8,maxSizeKB:c=500}=e;return new Promise((f,p)=>{const y=new FileReader;y.onload=v=>{const x=new Image;x.onload=()=>{let T=x.width,R=x.height;if(T>r||R>s){const q=Math.min(r/T,s/R);T=Math.floor(T*q),R=Math.floor(R*q)}const O=document.createElement("canvas");O.width=T,O.height=R;const F=O.getContext("2d");F.imageSmoothingEnabled=!0,F.imageSmoothingQuality="high",F.drawImage(x,0,0,T,R);let Q=O.toDataURL("image/jpeg",o),z=o;for(;X1(Q)>c&&z>.1;)z-=.1,Q=O.toDataURL("image/jpeg",z);const $=X1(Q);console.log(`✅ Image compressed: ${Math.round(i.size/1024)}KB → ${$}KB (Quality: ${Math.round(z*100)}%)`),f(Q)},x.onerror=()=>{p(new Error("ไม่สามารถโหลดรูปภาพได้"))},x.src=v.target.result},y.onerror=()=>{p(new Error("ไม่สามารถอ่านไฟล์ได้"))},y.readAsDataURL(i)})},X1=i=>{const r=(i.split(",")[1]||i).length*3/4;return Math.round(r/1024)},tR=i=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(i.type),nR=i=>i<1024?i+" B":i<1024*1024?(i/1024).toFixed(1)+" KB":(i/(1024*1024)).toFixed(1)+" MB",rR=({message:i,type:e,onClose:r})=>{const s={success:d.jsx(EE,{size:20}),error:d.jsx(SE,{size:20}),warning:d.jsx(fm,{size:20}),info:d.jsx(_2,{size:20})},o={success:"bg-gradient-to-r from-green-500 to-emerald-600 text-white",error:"bg-gradient-to-r from-red-500 to-rose-600 text-white",warning:"bg-gradient-to-r from-amber-500 to-orange-600 text-white",info:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white"};return L.useEffect(()=>{const c=setTimeout(r,3500);return()=>clearTimeout(c)},[r]),d.jsxs("div",{className:`${o[e]} rounded-lg shadow-2xl p-4 flex items-center space-x-3 min-w-[300px] max-w-md animate-slide-in`,children:[d.jsx("div",{className:"flex-shrink-0",children:s[e]}),d.jsx("div",{className:"flex-1 font-medium",children:i}),d.jsx("button",{onClick:r,className:"flex-shrink-0 hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-colors",children:d.jsx(Iu,{size:18})})]})},iR=({toasts:i,removeToast:e})=>d.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3",children:i.map(r=>d.jsx(rR,{message:r.message,type:r.type,onClose:()=>e(r.id)},r.id))}),sR=({message:i,onConfirm:e,onCancel:r})=>d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:d.jsx(fm,{size:24,className:"text-red-600"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"ยืนยันการลบ"})]}),d.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:i}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:opacity-90 transition-opacity font-medium shadow-md",children:"ใช่, ลบเลย"}),d.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"ยกเลิก"})]})]})}),aR=()=>{const[i,e]=L.useState([]),[r,s]=L.useState(!1),[o,c]=L.useState(null),[f,p]=L.useState(null),[y,v]=L.useState(!0),[x,T]=L.useState(!1),[R,O]=L.useState(!1),[F,Q]=L.useState([]),[z,$]=L.useState(null),[q,se]=L.useState({title:"",content:"",author:"ฝ่ายประชาสัมพันธ์",category:"ทั่วไป",status:"draft"}),ae=["กิจกรรม","ความสำเร็จ","ประกาศ","อบรม","ความร่วมมือ","สัมมนา","ทุนวิจัย","กิจกรรมอาสา","ทั่วไป"],ie=(Z,ue="info")=>{const Ce=Date.now()+Math.random();Q(V=>[...V,{id:Ce,message:Z,type:ue}])},le=Z=>{Q(ue=>ue.filter(Ce=>Ce.id!==Z))},j=Z=>new Promise(ue=>{$({message:Z,resolve:ue})}),A=Z=>{z&&(z.resolve(Z),$(null))};L.useEffect(()=>{E()},[]),L.useEffect(()=>{o?(se({title:o.title||"",content:o.content||"",author:o.author||"ฝ่ายประชาสัมพันธ์",category:o.category||"ทั่วไป",status:o.status||"draft"}),p(o.image)):N()},[o]);const E=async()=>{try{v(!0);const Z=await M4();e(Z)}catch(Z){console.error("Error loading news:",Z),ie("ไม่สามารถโหลดข่าวได้: "+Z.message,"error")}finally{v(!1)}},N=()=>{se({title:"",content:"",author:"ฝ่ายประชาสัมพันธ์",category:"ทั่วไป",status:"draft"}),p(null)},I=async Z=>{const ue=Z.target.files[0];if(!ue)return;if(!tR(ue)){ie("กรุณาเลือกไฟล์รูปภาพ (JPG, PNG, GIF, WEBP)","error");return}const Ce=nR(ue.size);console.log("📸 Original image size:",Ce);try{O(!0);const V=await eR(ue,{maxWidth:1200,maxHeight:800,quality:.85,maxSizeKB:400});p(V);const re=Math.round(V.length*3/4/1024);console.log(`✅ Compressed to: ${re}KB`),ie("บีบอัดรูปภาพสำเร็จ!","success")}catch(V){console.error("Error compressing image:",V),ie("ไม่สามารถประมวลผลรูปภาพได้: "+V.message,"error")}finally{O(!1)}},M=()=>{p(null)},C=async Z=>{if(Z.preventDefault(),!q.title||!q.content){ie("กรุณากรอกข้อมูลให้ครบถ้วน","warning");return}T(!0);try{const ue={...q,image:f||null};o?(await k4(o.id,ue),ie("แก้ไขข่าวสำเร็จ!","success")):(await O4(ue),ie("เพิ่มข่าวสำเร็จ!","success")),await E(),X()}catch(ue){console.error("Error saving news:",ue),ie("เกิดข้อผิดพลาด: "+ue.message,"error")}finally{T(!1)}},ve=async Z=>{if(await j("คุณแน่ใจหรือไม่ว่าต้องการลบข่าวนี้?"))try{await L4(Z),ie("ลบข่าวสำเร็จ!","success"),await E()}catch(Ce){console.error("Error deleting news:",Ce),ie("ไม่สามารถลบข่าวได้: "+Ce.message,"error")}},Ee=Z=>{c(Z),s(!0)},X=()=>{s(!1),c(null),N()};return y?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx(vo,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"กำลังโหลดข้อมูล..."})]})}):d.jsxs(d.Fragment,{children:[d.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scale-in {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
        .animate-scale-in {
          animation: scale-in 0.3s ease-out;
        }
      `}),d.jsx(iR,{toasts:F,removeToast:le}),z&&d.jsx(sR,{message:z.message,onConfirm:()=>A(!0),onCancel:()=>A(!1)}),d.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8",children:"📰 จัดการข่าวสาร"}),r?d.jsxs("div",{children:[d.jsxs("button",{onClick:X,className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors group",children:[d.jsx(Ao,{size:20,className:"mr-1 group-hover:-translate-x-1 transition-transform"}),d.jsx("span",{className:"font-medium",children:"กลับ"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 max-w-4xl",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-6",children:o?"✏️ แก้ไขข่าว":"📝 เขียนข่าวใหม่"}),d.jsxs("form",{onSubmit:C,children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🖼️ รูปภาพประกอบข่าว (ไม่บังคับ)"}),f?d.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-gray-300",children:[d.jsx("img",{src:f,alt:"Preview",className:"w-full h-64 object-cover"}),d.jsx("button",{type:"button",onClick:M,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:d.jsx(Iu,{size:20})}),d.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-3 py-1 rounded-full",children:"✅ รูปพร้อมใช้งาน"})]}):d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-[#dc2626] transition-colors cursor-pointer",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden",id:"image-upload",disabled:R}),d.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${R?"opacity-50":""}`,children:R?d.jsxs(d.Fragment,{children:[d.jsx(vo,{className:"animate-spin text-[#dc2626] mb-2",size:40}),d.jsx("span",{className:"text-[#dc2626] font-medium",children:"กำลังบีบอัดรูปภาพ..."}),d.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"กรุณารอสักครู่"})]}):d.jsxs(d.Fragment,{children:[d.jsx(w2,{size:40,className:"text-gray-400 mb-2"}),d.jsx("span",{className:"text-gray-600 font-medium",children:"คลิกเพื่ออัปโหลดรูปภาพ"}),d.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"รองรับไฟล์ JPG, PNG, GIF, WEBP"}),d.jsx("span",{className:"text-green-600 text-sm mt-2 font-medium",children:"✨ ระบบจะบีบอัดรูปอัตโนมัติให้ ~400KB"})]})})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["💡 ",d.jsx("strong",{children:"ระบบจะบีบอัดรูปอัตโนมัติ"})," เพื่อให้โหลดเร็วและประหยัดพื้นที่"]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["📌 หัวข้อข่าว ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:q.title,onChange:Z=>se({...q,title:Z.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",placeholder:"ใส่หัวข้อข่าว..."})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["📄 เนื้อหาข่าว ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:q.content,onChange:Z=>se({...q,content:Z.target.value}),required:!0,rows:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent resize-none",placeholder:"เขียนเนื้อหาข่าว..."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ℹ️ Excerpt (ข้อความย่อ) จะถูกสร้างอัตโนมัติจาก 150 ตัวอักษรแรก"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"✍️ ผู้เขียน"}),d.jsx("input",{type:"text",value:q.author,onChange:Z=>se({...q,author:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🏷️ หมวดหมู่"}),d.jsx("select",{value:q.category,onChange:Z=>se({...q,category:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:ae.map(Z=>d.jsx("option",{value:Z,children:Z},Z))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🔖 สถานะ"}),d.jsxs("select",{value:q.status,onChange:Z=>se({...q,status:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:[d.jsx("option",{value:"draft",children:"📝 ฉบับร่าง"}),d.jsx("option",{value:"published",children:"✅ เผยแพร่"})]})]})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{type:"submit",disabled:x,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:x?d.jsxs(d.Fragment,{children:[d.jsx(vo,{className:"animate-spin",size:20}),d.jsx("span",{children:"กำลังบันทึก..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(WE,{size:20}),d.jsx("span",{children:o?"บันทึกการแก้ไข":"เผยแพร่ข่าว"})]})}),d.jsx("button",{type:"button",onClick:X,disabled:x,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:"ยกเลิก"})]})]})]})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[d.jsxs("p",{className:"text-gray-600",children:["จำนวนข่าวทั้งหมด: ",d.jsx("span",{className:"font-bold text-[#dc2626]",children:i.length})," รายการ"]}),d.jsxs("button",{onClick:()=>{c(null),s(!0)},className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity shadow-md font-medium",children:[d.jsx(Iy,{size:20}),d.jsx("span",{children:"เขียนข่าวใหม่"})]})]}),i.length===0?d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[d.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"ยังไม่มีข่าวสารในระบบ"}),d.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-[#dc2626] text-white rounded-lg hover:opacity-90 transition-opacity",children:[d.jsx(Iy,{size:20}),d.jsx("span",{children:"สร้างข่าวแรก"})]})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(Z=>d.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 overflow-hidden hover:-translate-y-1",children:[Z.image&&d.jsx("div",{className:"w-full h-48 overflow-hidden bg-gray-100",children:d.jsx("img",{src:Z.image,alt:Z.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1 pr-2 line-clamp-2",children:Z.title}),d.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium whitespace-nowrap ${Z.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:Z.status==="published"?"✅ เผยแพร่":"📝 ฉบับร่าง"})]}),d.jsx("div",{className:"flex items-center space-x-2 mb-3",children:d.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:Z.category})}),d.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:Z.excerpt||Z.content}),d.jsxs("p",{className:"text-gray-400 text-xs mb-4",children:["📅 ",Z.date," • ✍️ ",Z.author]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:()=>Ee(Z),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[d.jsx(eT,{size:16}),d.jsx("span",{children:"แก้ไข"})]}),d.jsxs("button",{onClick:()=>ve(Z.id),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[d.jsx(ju,{size:16}),d.jsx("span",{children:"ลบ"})]})]})]})]},Z.id))})]})]})})]})},lR=()=>{const[i,e]=L.useState([]),[r,s]=L.useState(!0),[o,c]=L.useState(null),[f,p]=L.useState("all"),[y,v]=L.useState("all"),[x,T]=L.useState({total:0,avgRating:0,byType:{},byRating:{}}),[R,O]=L.useState(""),[F,Q]=L.useState(!1);L.useEffect(()=>{z()},[]);const z=async()=>{try{s(!0),O("");const E=Xm(Qn(zt,"feedbacks"),Jm("timestamp","desc")),I=(await qa(E)).docs.map(M=>({id:M.id,...M.data(),timestamp:M.data().timestamp?.toDate()||new Date}));e(I),q(I)}catch(E){console.error("Error loading feedbacks:",E),O("ไม่สามารถโหลดข้อมูล Feedback ได้ กรุณาลองอีกครั้ง")}finally{s(!1)}},$=async()=>{Q(!0),await z(),Q(!1)},q=E=>{const N=E.length,I=N>0?E.reduce((ve,Ee)=>ve+(Ee.rating||0),0)/N:0,M=E.reduce((ve,Ee)=>(ve[Ee.feedbackType]=(ve[Ee.feedbackType]||0)+1,ve),{}),C=E.reduce((ve,Ee)=>(ve[Ee.rating]=(ve[Ee.rating]||0)+1,ve),{});T({total:N,avgRating:I,byType:M,byRating:C})},se=async E=>{if(window.confirm("คุณต้องการลบ Feedback นี้หรือไม่?"))try{O(""),await Yu(Zi(zt,"feedbacks",E));const N=i.filter(I=>I.id!==E);e(N),q(N),c(null)}catch(N){console.error("Error deleting feedback:",N),O("ไม่สามารถลบ Feedback ได้ กรุณาลองอีกครั้ง")}},ae=async E=>{try{await xx(Zi(zt,"feedbacks",E),{status:"read"});const N=i.map(I=>I.id===E?{...I,status:"read"}:I);e(N)}catch(N){console.error("Error updating feedback:",N)}},ie=E=>({general:"💬",bug:"🐛",suggestion:"💡",compliment:"👏"})[E]||"💬",le=E=>({general:"ทั่วไป",bug:"แจ้งปัญหา",suggestion:"ข้อเสนอแนะ",compliment:"คำชม"})[E]||"ทั่วไป",j=i.filter(E=>!(f!=="all"&&E.feedbackType!==f||y!=="all"&&E.rating!==parseInt(y))),A=({rating:E})=>d.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(N=>d.jsx(My,{size:16,className:N<=E?"fill-yellow-400 text-yellow-400":"text-gray-300"},N)),d.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[E,"/5"]})]});return r?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"กำลังโหลดข้อมูล..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(Pa,{className:"text-red-600",size:32}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"จัดการ Feedback"})]}),d.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"ดูและจัดการความคิดเห็นจากผู้ใช้งาน"})]}),d.jsxs("button",{onClick:$,disabled:F,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 disabled:opacity-50",children:[d.jsx(XE,{size:18,className:F?"animate-spin":""}),"รีเฟรช"]})]})}),R&&d.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[d.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsx("div",{className:"flex-1",children:d.jsx("p",{className:"text-red-800 text-sm",children:R})}),d.jsx("button",{onClick:()=>O(""),className:"text-red-600 hover:text-red-800",children:d.jsx(Iu,{size:18})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Feedback ทั้งหมด"}),d.jsx("p",{className:"text-3xl font-bold text-gray-800",children:x.total})]}),d.jsx(Pa,{className:"text-blue-600",size:32})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"คะแนนเฉลี่ย"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:x.avgRating.toFixed(1)})]}),d.jsx(My,{className:"text-yellow-400 fill-yellow-400",size:32})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"คำชม"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:x.byType.compliment||0})]}),d.jsx(iT,{className:"text-green-600",size:32})]})}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"แจ้งปัญหา"}),d.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.byType.bug||0})]}),d.jsx("span",{className:"text-4xl",children:"🐛"})]})})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:d.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[d.jsx(OE,{className:"text-gray-600",size:20}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"ประเภท:"}),d.jsxs("select",{value:f,onChange:E=>p(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[d.jsx("option",{value:"all",children:"ทั้งหมด"}),d.jsx("option",{value:"general",children:"ทั่วไป"}),d.jsx("option",{value:"bug",children:"แจ้งปัญหา"}),d.jsx("option",{value:"suggestion",children:"ข้อเสนอแนะ"}),d.jsx("option",{value:"compliment",children:"คำชม"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"คะแนน:"}),d.jsxs("select",{value:y,onChange:E=>v(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[d.jsx("option",{value:"all",children:"ทั้งหมด"}),d.jsx("option",{value:"5",children:"5 ดาว"}),d.jsx("option",{value:"4",children:"4 ดาว"}),d.jsx("option",{value:"3",children:"3 ดาว"}),d.jsx("option",{value:"2",children:"2 ดาว"}),d.jsx("option",{value:"1",children:"1 ดาว"})]})]})]})}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[d.jsx("div",{className:"p-6 border-b border-gray-200",children:d.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Feedback ทั้งหมด (",j.length,")"]})}),j.length===0?d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(Pa,{className:"mx-auto mb-4 text-gray-400",size:48}),d.jsx("p",{className:"text-gray-600",children:i.length===0?"ยังไม่มี Feedback":"ไม่พบ Feedback ที่ตรงกับเงื่อนไขการค้นหา"})]}):d.jsx("div",{className:"divide-y divide-gray-200",children:j.map(E=>d.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${E.status==="unread"?"bg-blue-50":""}`,children:d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[d.jsx("span",{className:"text-2xl",children:ie(E.feedbackType)}),d.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:le(E.feedbackType)}),E.status==="unread"&&d.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"ใหม่"}),d.jsx(A,{rating:E.rating})]}),d.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-600 flex-wrap",children:[E.name&&E.name!=="ไม่ระบุชื่อ"&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Du,{size:14}),d.jsx("span",{children:E.name})]}),E.email&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Lf,{size:14}),d.jsx("span",{children:E.email})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Cu,{size:14}),d.jsx("span",{children:E.timestamp.toLocaleDateString("th-TH")})]})]}),d.jsx("p",{className:"text-gray-700 line-clamp-2",children:E.message})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{c(E),E.status==="unread"&&ae(E.id)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"ดูรายละเอียด",children:d.jsx(CE,{size:18})}),d.jsx("button",{onClick:()=>se(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"ลบ",children:d.jsx(ju,{size:18})})]})]})},E.id))})]})]}),o&&d.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-white bg-opacity-30 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"รายละเอียด Feedback"}),d.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(Iu,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("span",{className:"text-3xl",children:ie(o.feedbackType)}),d.jsx("div",{children:d.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full font-medium",children:le(o.feedbackType)})})]}),d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"คะแนนความพึงพอใจ"}),d.jsx(A,{rating:o.rating})]}),o.name&&o.name!=="ไม่ระบุชื่อ"&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[d.jsx(Du,{size:16}),"ชื่อผู้ส่ง"]}),d.jsx("p",{className:"text-gray-800 font-medium",children:o.name})]}),o.email&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[d.jsx(Lf,{size:16}),"อีเมล"]}),d.jsx("p",{className:"text-gray-800 font-medium",children:o.email})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[d.jsx(Cu,{size:16}),"วันที่ส่ง"]}),d.jsx("p",{className:"text-gray-800 font-medium",children:o.timestamp.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center gap-2",children:[d.jsx(Pa,{size:16}),"ข้อความ"]}),d.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:d.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.message})})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsxs("button",{onClick:()=>se(o.id),className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[d.jsx(ju,{size:18}),"ลบ Feedback"]}),d.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"ปิด"})]})]})]})})]})},oR=()=>{const[i,e]=L.useState("courses"),[r,s]=L.useState(null),[o,c]=L.useState({course1:[],course2:[]}),[f,p]=L.useState(!0),[y,v]=L.useState([{id:1,title:"ประกาศเปิดรับสมัครหลักสูตรใหม่",date:"2025-10-25",content:"เรามีหลักสูตรใหม่เปิดให้บริการแล้ว...",status:"published"},{id:2,title:"อัพเดทระบบใหม่",date:"2025-10-20",content:"ระบบได้รับการปรับปรุงให้ดีขึ้น...",status:"draft"}]),[x,T]=L.useState(null),[R,O]=L.useState(!1),F=[{id:"course1",name:"หลักสูตรการเขียนโปรแกรม Python",courseId:"1"},{id:"course2",name:"หลักสูตรการตลาดดิจิทัลขั้นสูง",courseId:"2"}],Q=le=>{const A=Array.from(le.target.files).filter(E=>E.type==="application/pdf");A.length>0&&c(E=>({...E,[r.id]:[...E[r.id]||[],...A.map(N=>({name:N.name,size:(N.size/1024).toFixed(2)+" KB",uploadDate:new Date().toLocaleDateString("th-TH")}))]}))},z=(le,j)=>{c(A=>({...A,[le]:A[le].filter((E,N)=>N!==j)}))},$=le=>{le.preventDefault();const j=new FormData(le.target),A={id:x?x.id:Date.now(),title:j.get("title"),content:j.get("content"),date:new Date().toISOString().split("T")[0],status:j.get("status")};v(x?y.map(E=>E.id===x.id?A:E):[A,...y]),O(!1),T(null)},q=le=>{confirm("คุณต้องการลบข่าวนี้ใช่หรือไม่?")&&v(y.filter(j=>j.id!==le))},se=le=>{T(le),O(!0)},ie=i==="news"?{icon:d.jsx(b2,{className:"mr-3 text-[#dc2626]",size:28}),title:R?x?"แก้ไขข่าวสาร":"เขียนข่าวสารใหม่":"จัดการข่าวสาร"}:i==="feedback"?{icon:d.jsx(Pa,{className:"mr-3 text-[#dc2626]",size:28}),title:"จัดการ Feedback"}:{icon:d.jsx(x2,{className:"mr-3 text-[#dc2626]",size:28}),title:r?r.name:"จัดการหลักสูตรทั้งหมด"};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(W4,{sidebarOpen:f,setSidebarOpen:p,currentMenu:i,setCurrentMenu:e,setSelectedCourse:s,setShowNewsForm:O}),d.jsxs("div",{className:"flex-1 overflow-auto",children:[d.jsx("div",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center sticky top-0 z-10",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[!f&&d.jsx("button",{onClick:()=>p(!0),className:"p-2 hover:bg-gray-100 rounded-lg",children:d.jsx(HE,{size:24})}),d.jsx("div",{children:d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[ie.icon,ie.title]})})]})}),d.jsx("div",{className:"p-8",children:i==="courses"?d.jsx(J4,{courses:F,selectedCourse:r,setSelectedCourse:s,uploadedFiles:o,handleFileUpload:Q,removeFile:z}):i==="news"?d.jsx(aR,{news:y,showNewsForm:R,setShowNewsForm:O,editingNews:x,setEditingNews:T,handleNewsSubmit:$,handleDeleteNews:q,handleEditNews:se}):d.jsx(lR,{})})]})]})},cR=()=>{const{pathname:i}=ei();return L.useEffect(()=>{window.scrollTo(0,0)},[i]),null},ks=({children:i})=>d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsx(Hw,{}),i,d.jsx(Jw,{}),d.jsx(sE,{})]}),uR=({children:i})=>d.jsx("div",{className:"min-h-screen bg-white",children:i}),hR=()=>d.jsxs("div",{className:"overflow-x-hidden",children:[d.jsx(aE,{}),d.jsx(U4,{}),d.jsx(z4,{})]}),dR=()=>d.jsx("div",{className:"min-h-screen p-4",children:d.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600",children:"ไม่พบหน้าที่คุณค้นหา"})]})})}),fR=()=>d.jsxs(Ew,{children:[d.jsx(cR,{}),d.jsxs(ew,{children:[d.jsx(Gr,{path:"/",element:d.jsx(ks,{children:d.jsx(hR,{})})}),d.jsx(Gr,{path:"/admission",element:d.jsx(ks,{children:d.jsx(Y4,{})})}),d.jsx(Gr,{path:"/course",element:d.jsx(ks,{children:d.jsx($4,{})})}),d.jsx(Gr,{path:"/activity",element:d.jsx(ks,{children:d.jsx(Q4,{})})}),d.jsx(Gr,{path:"/contact",element:d.jsx(ks,{children:d.jsx(K4,{})})}),d.jsx(Gr,{path:"/feedback",element:d.jsx(ks,{children:d.jsx(Z4,{})})}),d.jsx(Gr,{path:"/AdminDashboard",element:d.jsx(uR,{children:d.jsx(oR,{})})}),d.jsx(Gr,{path:"*",element:d.jsx(ks,{children:d.jsx(dR,{})})})]})]});cb.createRoot(document.getElementById("root")).render(d.jsx(Pi.StrictMode,{children:d.jsx(fR,{})}));
