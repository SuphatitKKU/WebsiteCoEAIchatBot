(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function L_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ym={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function bE(){if(Ov)return ql;Ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var Vv;function wE(){return Vv||(Vv=1,ym.exports=bE()),ym.exports}var h=wE(),vm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function EE(){if(Pv)return ke;Pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Y={};function L(D,re,de){this.props=D,this.context=re,this.refs=Y,this.updater=de||O}L.prototype.isReactComponent={},L.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function K(){}K.prototype=L.prototype;function F(D,re,de){this.props=D,this.context=re,this.refs=Y,this.updater=de||O}var ie=F.prototype=new K;ie.constructor=F,z(ie,L.prototype),ie.isPureReactComponent=!0;var ae=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function I(D,re,de,ce,ge,De){return de=De.ref,{$$typeof:r,type:D,key:re,ref:de!==void 0?de:null,props:De}}function R(D,re){return I(D.type,re,void 0,void 0,void 0,D.props)}function T(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function j(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(de){return re[de]})}var C=/\/+/g;function V(D,re){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):re.toString(36)}function N(){}function ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function me(D,re,de,ce,ge){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(De){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case r:case e:we=!0;break;case _:return we=D._init,me(we(D._payload),re,de,ce,ge)}}if(we)return ge=ge(D),we=ce===""?"."+V(D,0):ce,ae(ge)?(de="",we!=null&&(de=we.replace(C,"$&/")+"/"),me(ge,re,de,"",function(xn){return xn})):ge!=null&&(T(ge)&&(ge=R(ge,de+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(C,"$&/")+"/")+we)),re.push(ge)),1;we=0;var It=ce===""?".":ce+":";if(ae(D))for(var $e=0;$e<D.length;$e++)ce=D[$e],De=It+V(ce,$e),we+=me(ce,re,de,De,ge);else if($e=A(D),typeof $e=="function")for(D=$e.call(D),$e=0;!(ce=D.next()).done;)ce=ce.value,De=It+V(ce,$e++),we+=me(ce,re,de,De,ge);else if(De==="object"){if(typeof D.then=="function")return me(ve(D),re,de,ce,ge);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(D,re,de){if(D==null)return D;var ce=[],ge=0;return me(D,ce,"","",function(De){return re.call(de,De,ge++)}),ce}function W(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(de){(D._status===0||D._status===-1)&&(D._status=1,D._result=de)},function(de){(D._status===0||D._status===-1)&&(D._status=2,D._result=de)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Te(){}return ke.Children={map:$,forEach:function(D,re,de){$(D,function(){re.apply(this,arguments)},de)},count:function(D){var re=0;return $(D,function(){re++}),re},toArray:function(D){return $(D,function(re){return re})||[]},only:function(D){if(!T(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ke.Component=L,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=F,ke.StrictMode=s,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return se.H.useMemoCache(D)}},ke.cache=function(D){return function(){return D.apply(null,arguments)}},ke.cloneElement=function(D,re,de){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ce=z({},D.props),ge=D.key,De=void 0;if(re!=null)for(we in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(ge=""+re.key),re)!ue.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ce[we]=re[we]);var we=arguments.length-2;if(we===1)ce.children=de;else if(1<we){for(var It=Array(we),$e=0;$e<we;$e++)It[$e]=arguments[$e+2];ce.children=It}return I(D.type,ge,void 0,void 0,De,ce)},ke.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},ke.createElement=function(D,re,de){var ce,ge={},De=null;if(re!=null)for(ce in re.key!==void 0&&(De=""+re.key),re)ue.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=re[ce]);var we=arguments.length-2;if(we===1)ge.children=de;else if(1<we){for(var It=Array(we),$e=0;$e<we;$e++)It[$e]=arguments[$e+2];ge.children=It}if(D&&D.defaultProps)for(ce in we=D.defaultProps,we)ge[ce]===void 0&&(ge[ce]=we[ce]);return I(D,De,void 0,void 0,null,ge)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(D){return{$$typeof:p,render:D}},ke.isValidElement=T,ke.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:W}},ke.memo=function(D,re){return{$$typeof:y,type:D,compare:re===void 0?null:re}},ke.startTransition=function(D){var re=se.T,de={};se.T=de;try{var ce=D(),ge=se.S;ge!==null&&ge(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Te,oe)}catch(De){oe(De)}finally{se.T=re}},ke.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},ke.use=function(D){return se.H.use(D)},ke.useActionState=function(D,re,de){return se.H.useActionState(D,re,de)},ke.useCallback=function(D,re){return se.H.useCallback(D,re)},ke.useContext=function(D){return se.H.useContext(D)},ke.useDebugValue=function(){},ke.useDeferredValue=function(D,re){return se.H.useDeferredValue(D,re)},ke.useEffect=function(D,re,de){var ce=se.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(D,re)},ke.useId=function(){return se.H.useId()},ke.useImperativeHandle=function(D,re,de){return se.H.useImperativeHandle(D,re,de)},ke.useInsertionEffect=function(D,re){return se.H.useInsertionEffect(D,re)},ke.useLayoutEffect=function(D,re){return se.H.useLayoutEffect(D,re)},ke.useMemo=function(D,re){return se.H.useMemo(D,re)},ke.useOptimistic=function(D,re){return se.H.useOptimistic(D,re)},ke.useReducer=function(D,re,de){return se.H.useReducer(D,re,de)},ke.useRef=function(D){return se.H.useRef(D)},ke.useState=function(D){return se.H.useState(D)},ke.useSyncExternalStore=function(D,re,de){return se.H.useSyncExternalStore(D,re,de)},ke.useTransition=function(){return se.H.useTransition()},ke.version="19.1.1",ke}var Lv;function yp(){return Lv||(Lv=1,vm.exports=EE()),vm.exports}var M=yp();const os=L_(M);var _m={exports:{}},Hl={},xm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function TE(){return Uv||(Uv=1,(function(r){function e($,W){var oe=$.length;$.push(W);e:for(;0<oe;){var Te=oe-1>>>1,D=$[Te];if(0<o(D,W))$[Te]=W,$[oe]=D,oe=Te;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var W=$[0],oe=$.pop();if(oe!==W){$[0]=oe;e:for(var Te=0,D=$.length,re=D>>>1;Te<re;){var de=2*(Te+1)-1,ce=$[de],ge=de+1,De=$[ge];if(0>o(ce,oe))ge<D&&0>o(De,ce)?($[Te]=De,$[ge]=oe,Te=ge):($[Te]=ce,$[de]=oe,Te=de);else if(ge<D&&0>o(De,oe))$[Te]=De,$[ge]=oe,Te=ge;else break e}}return W}function o($,W){var oe=$.sortIndex-W.sortIndex;return oe!==0?oe:$.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],_=1,E=null,A=3,O=!1,z=!1,Y=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ae($){for(var W=n(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=$)s(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(y)}}function se($){if(Y=!1,ae($),!z)if(n(g)!==null)z=!0,ue||(ue=!0,V());else{var W=n(y);W!==null&&me(se,W.startTime-$)}}var ue=!1,I=-1,R=5,T=-1;function j(){return L?!0:!(r.unstable_now()-T<R)}function C(){if(L=!1,ue){var $=r.unstable_now();T=$;var W=!0;try{e:{z=!1,Y&&(Y=!1,F(I),I=-1),O=!0;var oe=A;try{t:{for(ae($),E=n(g);E!==null&&!(E.expirationTime>$&&j());){var Te=E.callback;if(typeof Te=="function"){E.callback=null,A=E.priorityLevel;var D=Te(E.expirationTime<=$);if($=r.unstable_now(),typeof D=="function"){E.callback=D,ae($),W=!0;break t}E===n(g)&&s(g),ae($)}else s(g);E=n(g)}if(E!==null)W=!0;else{var re=n(y);re!==null&&me(se,re.startTime-$),W=!1}}break e}finally{E=null,A=oe,O=!1}W=void 0}}finally{W?V():ue=!1}}}var V;if(typeof ie=="function")V=function(){ie(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ve=N.port2;N.port1.onmessage=C,V=function(){ve.postMessage(null)}}else V=function(){K(C,0)};function me($,W){I=K(function(){$(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var W=3;break;default:W=A}var oe=A;A=W;try{return $()}finally{A=oe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=A;A=$;try{return W()}finally{A=oe}},r.unstable_scheduleCallback=function($,W,oe){var Te=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Te+oe:Te):oe=Te,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=oe+D,$={id:_++,callback:W,priorityLevel:$,startTime:oe,expirationTime:D,sortIndex:-1},oe>Te?($.sortIndex=oe,e(y,$),n(g)===null&&$===n(y)&&(Y?(F(I),I=-1):Y=!0,me(se,oe-Te))):($.sortIndex=D,e(g,$),z||O||(z=!0,ue||(ue=!0,V()))),$},r.unstable_shouldYield=j,r.unstable_wrapCallback=function($){var W=A;return function(){var oe=A;A=W;try{return $.apply(this,arguments)}finally{A=oe}}}})(bm)),bm}var zv;function SE(){return zv||(zv=1,xm.exports=TE()),xm.exports}var wm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function AE(){if(Bv)return nn;Bv=1;var r=yp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},nn.flushSync=function(g){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=_,s.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:O}):_==="script"&&s.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,_){return f.H.useFormState(g,y,_)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var Fv;function RE(){if(Fv)return wm.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=AE(),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function NE(){if(qv)return Hl;qv=1;var r=SE(),e=yp(),n=RE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,w=d.child;w;){if(w===a){b=!0,a=d,l=m;break}if(w===l){b=!0,l=d,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,l=d;break}if(w===l){b=!0,l=m,a=d;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case L:return"Profiler";case Y:return"StrictMode";case se:return"Suspense";case ue:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ve(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ve(t(i))}catch{}}return null}var me=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Te=[],D=-1;function re(t){return{current:t}}function de(t){0>D||(t.current=Te[D],Te[D]=null,D--)}function ce(t,i){D++,Te[D]=t.current,t.current=i}var ge=re(null),De=re(null),we=re(null),It=re(null);function $e(t,i){switch(ce(we,i),ce(De,t),ce(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=cv(i),t=uv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(ge),ce(ge,t)}function xn(){de(ge),de(De),de(we)}function _a(t){t.memoizedState!==null&&ce(It,t);var i=ge.current,a=uv(i,t.type);i!==a&&(ce(De,t),ce(ge,a))}function vi(t){De.current===t&&(de(ge),de(De)),It.current===t&&(de(It),Ll._currentValue=oe)}var _i=Object.prototype.hasOwnProperty,Vr=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,Vt=r.unstable_shouldYield,xa=r.unstable_requestPaint,Jt=r.unstable_now,ba=r.unstable_getCurrentPriorityLevel,ft=r.unstable_ImmediatePriority,mt=r.unstable_UserBlockingPriority,Pt=r.unstable_NormalPriority,wa=r.unstable_LowPriority,Hn=r.unstable_IdlePriority,Ne=r.log,pt=r.unstable_setDisableYieldValue,Gn=null,Lt=null;function In(t){if(typeof Ne=="function"&&pt(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Gn,t)}catch{}}var cn=Math.clz32?Math.clz32:Mc,xd=Math.log,Dc=Math.LN2;function Mc(t){return t>>>=0,t===0?32:31-(xd(t)/Dc|0)|0}var ur=256,xi=4194304;function $n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?d=$n(l):(b&=w,b!==0?d=$n(b):a||(a=w&~t,a!==0&&(d=$n(a))))):(w=l&~m,w!==0?d=$n(w):b!==0?d=$n(b):a||(a=l&~t,a!==0&&(d=$n(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function bi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ea(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=ur;return ur<<=1,(ur&4194048)===0&&(ur=256),t}function wi(){var t=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),t}function Ta(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oc(t,i,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,k=t.expirationTimes,H=t.hiddenUpdates;for(a=b&~a;0<a;){var Z=31-cn(a),te=1<<Z;w[Z]=0,k[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&Ei(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~i))}function Ei(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-cn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ti(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-cn(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Bo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pr(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function bd(t,i){var a=W.p;try{return W.p=t,i()}finally{W.p=a}}var hr=Math.random().toString(36).slice(2),yt="__reactFiber$"+hr,Gt="__reactProps$"+hr,Lr="__reactContainer$"+hr,Ts="__reactEvents$"+hr,Ss="__reactListeners$"+hr,wd="__reactHandles$"+hr,Kn="__reactResources$"+hr,Si="__reactMarker$"+hr;function Sa(t){delete t[yt],delete t[Gt],delete t[Ts],delete t[Ss],delete t[wd]}function dr(t){var i=t[yt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Lr]||a[yt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=mv(t);t!==null;){if(a=t[yt])return a;t=mv(t)}return i}t=a,a=t.parentNode}return null}function fr(t){if(t=t[yt]||t[Lr]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ai(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ri(t){var i=t[Kn];return i||(i=t[Kn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(t){t[Si]=!0}var Vc=new Set,As={};function mr(t,i){pr(t,i),pr(t+"Capture",i)}function pr(t,i){for(As[t]=i,t=0;t<i.length;t++)Vc.add(i[t])}var Rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},Aa={};function Ed(t){return _i.call(Aa,t)?!0:_i.call(gr,t)?!1:Rs.test(t)?Aa[t]=!0:(gr[t]=!0,!1)}function Ns(t,i,a){if(Ed(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Cs(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function jn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Is,Ra;function Ur(t){if(Is===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Is=i&&i[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+t+Ra}var Na=!1;function Ca(t,i){if(!t||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var G=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){G=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){G=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var k=b.split(`
`),H=w.split(`
`);for(d=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===k.length||d===H.length)for(l=k.length-1,d=H.length-1;1<=l&&0<=d&&k[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(k[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||k[l]!==H[d]){var Z=`
`+k[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ur(a):""}function Td(t){switch(t.tag){case 26:case 27:case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Ca(t.type,!1);case 11:return Ca(t.type.render,!1);case 1:return Ca(t.type,!0);case 31:return Ur("Activity");default:return""}}function Yn(t){try{var i="";do i+=Td(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ni(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ks(t){var i=Ni(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ci(t){t._valueTracker||(t._valueTracker=ks(t))}function Xe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ni(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var js=/[\n"\\]/g;function Ut(t){return t.replace(js,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qo(t,i,a,l,d,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ot(i)):t.value!==""+ot(i)&&(t.value=""+ot(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?Go(t,b,ot(i)):a!=null?Go(t,b,ot(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+ot(w):t.removeAttribute("name")}function Ho(t,i,a,l,d,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+ot(a):"",i=i!=null?""+ot(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Go(t,i,a){i==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ot(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Pc(t,i,a){if(i!=null&&(i=""+ot(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ot(a):""}function Lc(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ot(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Br.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&$o(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&$o(t,m,i[m])}function Ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(t){return zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yo=null;function Qo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,un=null;function Bc(t){var i=fr(t);if(i&&(t=i.stateNode)){var a=t[Gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(qo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Gt]||null;if(!d)throw Error(s(90));qo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Xe(l)}break e;case"textarea":Pc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var Ds=!1;function Ms(t,i,a){if(Ds)return t(i,a);Ds=!0;try{var l=t(i);return l}finally{if(Ds=!1,(ki!==null||un!==null)&&(Iu(),ki&&(i=ki,t=un,un=ki=null,Bc(i),t)))for(i=0;i<t.length;i++)Bc(t[i])}}function ji(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(hn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Fr=!1}var Mn=null,nt=null,ka=null;function Fc(){if(ka)return ka;var t,i=nt,a=i.length,l,d="value"in Mn?Mn.value:Mn.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===d[m-l];l++);return ka=d.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vs(){return!0}function Xo(){return!1}function kt(t){function i(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vs:Xo,this.isPropagationStopped=Xo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),i}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=kt(en),Ls=_({},en,{view:0,detail:0}),Us=kt(Ls),ja,zs,yr,Bs=_({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yr&&(yr&&t.type==="mousemove"?(ja=t.screenX-yr.screenX,zs=t.screenY-yr.screenY):zs=ja=0,yr=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),Fs=kt(Bs),Sd=_({},Bs,{dataTransfer:0}),qc=kt(Sd),qs=_({},Ls,{relatedTarget:0}),Da=kt(qs),Hc=_({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=kt(Hc),Zo=_({},en,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gc=kt(Zo),Ma=_({},en,{data:0}),Jo=kt(Ma),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Kc[t])?!!i[t]:!1}function Oa(){return Yc}var Qc=_({},Ls,{key:function(t){if(t.key){var i=$c[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Va=kt(Qc),dn=_({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=kt(dn),Xc=_({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Mi=kt(Xc),u=_({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=kt(u),x=_({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=kt(x),q=_({},en,{newState:0,oldState:0}),X=kt(q),le=[9,13,27,32],Ce=hn&&"CompositionEvent"in window,st=null;hn&&"documentMode"in document&&(st=document.documentMode);var Ke=hn&&"TextEvent"in window&&!st,_t=hn&&(!Ce||st&&8<st&&11>=st),bn=" ",vr=!1;function Xn(t,i){switch(t){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zn=!1;function tl(t,i){switch(t){case"compositionend":return Wn(i);case"keypress":return i.which!==32?null:(vr=!0,bn);case"textInput":return t=i.data,t===bn&&vr?null:t;default:return null}}function Yb(t,i){if(Zn)return t==="compositionend"||!Ce&&Xn(t,i)?(t=Fc(),ka=nt=Mn=null,Zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _t&&i.locale!=="ko"?null:i.data;default:return null}}var Qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Qb[t.type]:i==="textarea"}function Tg(t,i,a,l){ki?un?un.push(l):un=[l]:ki=l,i=Vu(i,"onChange"),0<i.length&&(a=new Ps("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var nl=null,rl=null;function Xb(t){iv(t,0)}function Wc(t){var i=Ai(t);if(Xe(i))return t}function Sg(t,i){if(t==="change")return i}var Ag=!1;if(hn){var Ad;if(hn){var Rd="oninput"in document;if(!Rd){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Rd=typeof Rg.oninput=="function"}Ad=Rd}else Ad=!1;Ag=Ad&&(!document.documentMode||9<document.documentMode)}function Ng(){nl&&(nl.detachEvent("onpropertychange",Cg),rl=nl=null)}function Cg(t){if(t.propertyName==="value"&&Wc(rl)){var i=[];Tg(i,rl,t,Qo(t)),Ms(Xb,i)}}function Wb(t,i,a){t==="focusin"?(Ng(),nl=i,rl=a,nl.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ng()}function Zb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(rl)}function Jb(t,i){if(t==="click")return Wc(i)}function ew(t,i){if(t==="input"||t==="change")return Wc(i)}function tw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wn=typeof Object.is=="function"?Object.is:tw;function il(t,i){if(wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!_i.call(i,d)||!wn(t[d],i[d]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,i){var a=Ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=zr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=zr(t.document)}return i}function Nd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var nw=hn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Cd=null,sl=null,Id=!1;function Mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Id||Pa==null||Pa!==zr(l)||(l=Pa,"selectionStart"in l&&Nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Vu(Cd,"onSelect"),0<l.length&&(i=new Ps("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Pa)))}function Hs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var La={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},kd={},Og={};hn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Gs(t){if(kd[t])return kd[t];if(!La[t])return t;var i=La[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Og)return kd[t]=i[a];return t}var Vg=Gs("animationend"),Pg=Gs("animationiteration"),Lg=Gs("animationstart"),rw=Gs("transitionrun"),iw=Gs("transitionstart"),sw=Gs("transitioncancel"),Ug=Gs("transitionend"),zg=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function Jn(t,i){zg.set(t,i),mr(i,[t])}var Bg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Yn(i)},Bg.set(t,i),i)}return{value:t,source:i,stack:Yn(i)}}var Vn=[],Ua=0,Dd=0;function Zc(){for(var t=Ua,i=Dd=Ua=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var d=Vn[i];Vn[i++]=null;var m=Vn[i];if(Vn[i++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&Fg(a,d,m)}}function Jc(t,i,a,l){Vn[Ua++]=t,Vn[Ua++]=i,Vn[Ua++]=a,Vn[Ua++]=l,Dd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Md(t,i,a,l){return Jc(t,i,a,l),eu(t)}function za(t,i){return Jc(t,null,null,i),eu(t)}function Fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-cn(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),m):null}function eu(t){if(50<Il)throw Il=0,Bf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ba={};function aw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new aw(t,i,a,l)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hr(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tu(t,i,a,l,d,m){var b=0;if(l=t,typeof t=="function")Od(t)&&(b=1);else if(typeof t=="string")b=lE(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=En(31,a,i,d),t.elementType=T,t.lanes=m,t;case z:return $s(a.children,d,m,i);case Y:b=8,d|=24;break;case L:return t=En(12,a,i,d|2),t.elementType=L,t.lanes=m,t;case se:return t=En(13,a,i,d),t.elementType=se,t.lanes=m,t;case ue:return t=En(19,a,i,d),t.elementType=ue,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case ie:b=10;break e;case F:b=9;break e;case ae:b=11;break e;case I:b=14;break e;case R:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(b,a,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function $s(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function Vd(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function Pd(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fa=[],qa=0,nu=null,ru=0,Pn=[],Ln=0,Ks=null,Gr=1,$r="";function Ys(t,i){Fa[qa++]=ru,Fa[qa++]=nu,nu=t,ru=i}function Hg(t,i,a){Pn[Ln++]=Gr,Pn[Ln++]=$r,Pn[Ln++]=Ks,Ks=t;var l=Gr;t=$r;var d=32-cn(l)-1;l&=~(1<<d),a+=1;var m=32-cn(i)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Gr=1<<32-cn(i)+d|a<<d|l,$r=m+t}else Gr=1<<m|a<<d|l,$r=t}function Ld(t){t.return!==null&&(Ys(t,1),Hg(t,1,0))}function Ud(t){for(;t===nu;)nu=Fa[--qa],Fa[qa]=null,ru=Fa[--qa],Fa[qa]=null;for(;t===Ks;)Ks=Pn[--Ln],Pn[Ln]=null,$r=Pn[--Ln],Pn[Ln]=null,Gr=Pn[--Ln],Pn[Ln]=null}var fn=null,ht=null,He=!1,Qs=null,_r=!1,zd=Error(s(519));function Xs(t){var i=Error(s(418,""));throw ll(On(i,t)),zd}function Gg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[yt]=t,i[Gt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)Ve(jl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ho(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ci(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Lc(i,l.value,l.defaultValue,l.children),Ci(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||lv(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Pu),i=!0):i=!1,i||Xs(t)}function $g(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:fn=fn.return}}function al(t){if(t!==fn)return!1;if(!He)return $g(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&ht&&Xs(t),$g(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=tr(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,Xi(t.type)?(t=om,om=null,ht=t):ht=i):ht=fn?tr(t.stateNode.nextSibling):null;return!0}function ol(){ht=fn=null,He=!1}function Kg(){var t=Qs;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Qs=null),t}function ll(t){Qs===null?Qs=[t]:Qs.push(t)}var Bd=re(null),Ws=null,Kr=null;function Oi(t,i,a){ce(Bd,i._currentValue),i._currentValue=a}function Yr(t){t._currentValue=Bd.current,de(Bd)}function Fd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function qd(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var k=0;k<i.length;k++)if(w.context===i[k]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Fd(m.return,a,t),l||(b=null);break e}m=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Fd(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function cl(t,i,a,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=d.type;wn(d.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(d===It.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}d=d.return}t!==null&&qd(i,t,a,l),i.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zs(t){Ws=t,Kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Yg(Ws,t)}function su(t,i){return Ws===null&&Zs(t),Yg(t,i)}function Yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Kr===null){if(t===null)throw Error(s(308));Kr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Kr=Kr.next=i;return a}var ow=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},lw=r.unstable_scheduleCallback,cw=r.unstable_NormalPriority,jt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new ow,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&lw(cw,function(){t.controller.abort()})}var hl=null,Gd=0,Ha=0,Ga=null;function uw(t,i){if(hl===null){var a=hl=[];Gd=0,Ha=Yf(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gd++,i.then(Qg,Qg),i}function Qg(){if(--Gd===0&&hl!==null){Ga!==null&&(Ga.status="fulfilled");var t=hl;hl=null,Ha=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Xg=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&uw(t,i),Xg!==null&&Xg(t,i)};var Js=re(null);function $d(){var t=Js.current;return t!==null?t:rt.pooledCache}function au(t,i){i===null?ce(Js,Js.current):ce(Js,i.pool)}function Wg(){var t=$d();return t===null?null:{parent:jt._currentValue,pool:t}}var dl=Error(s(460)),Zg=Error(s(474)),ou=Error(s(542)),Kd={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lu(){}function e0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(lu,lu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,n0(t),t;default:if(typeof i.status=="string")i.then(lu,lu);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,n0(t),t}throw fl=i,dl}}var fl=null;function t0(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function n0(t){if(t===dl||t===ou)throw Error(s(483))}var Vi=!1;function Yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=eu(t),Fg(t,null,a),i}return Jc(t,l,i,a),eu(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ti(t,a)}}function Xd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wd=!1;function pl(){if(Wd){var t=Ga;if(t!==null)throw t}}function gl(t,i,a,l){Wd=!1;var d=t.updateQueue;Vi=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var k=w,H=k.next;k.next=null,b===null?m=H:b.next=H,b=k;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==b&&(w===null?Z.firstBaseUpdate=H:w.next=H,Z.lastBaseUpdate=k))}if(m!==null){var te=d.baseState;b=0,Z=H=k=null,w=m;do{var G=w.lane&-536870913,Q=G!==w.lane;if(Q?(ze&G)===G:(l&G)===G){G!==0&&G===Ha&&(Wd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Se=t,xe=w;G=i;var Je=a;switch(xe.tag){case 1:if(Se=xe.payload,typeof Se=="function"){te=Se.call(Je,te,G);break e}te=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=xe.payload,G=typeof Se=="function"?Se.call(Je,te,G):Se,G==null)break e;te=_({},te,G);break e;case 2:Vi=!0}}G=w.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(H=Z=Q,k=te):Z=Z.next=Q,b|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);Z===null&&(k=te),d.baseState=k,d.firstBaseUpdate=H,d.lastBaseUpdate=Z,m===null&&(d.shared.lanes=0),$i|=b,t.lanes=b,t.memoizedState=te}}function r0(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function i0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)r0(a[t],i)}var $a=re(null),cu=re(0);function s0(t,i){t=ti,ce(cu,t),ce($a,i),ti=t|i.baseLanes}function Zd(){ce(cu,ti),ce($a,$a.current)}function Jd(){ti=cu.current,de($a),de(cu)}var Ui=0,je=null,We=null,Et=null,uu=!1,Ka=!1,ea=!1,hu=0,yl=0,Ya=null,dw=0;function xt(){throw Error(s(321))}function ef(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!wn(t[a],i[a]))return!1;return!0}function tf(t,i,a,l,d,m){return Ui=m,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?F0:q0,ea=!1,m=a(l,d),ea=!1,Ka&&(m=o0(i,a,l,d)),a0(t),m}function a0(t){$.H=yu;var i=We!==null&&We.next!==null;if(Ui=0,Et=We=je=null,uu=!1,yl=0,Ya=null,i)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&iu(t)&&(zt=!0))}function o0(t,i,a,l){je=t;var d=0;do{if(Ka&&(Ya=null),yl=0,Ka=!1,25<=d)throw Error(s(301));if(d+=1,Et=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=_w,m=i(a,l)}while(Ka);return m}function fw(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?vl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(je.flags|=1024),i}function nf(){var t=hu!==0;return hu=0,t}function rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sf(t){if(uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uu=!1}Ui=0,Et=We=je=null,Ka=!1,yl=hu=0,Ya=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?je.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(We===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Et===null?je.memoizedState:Et.next;if(i!==null)Et=i,We=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?je.memoizedState=Et=t:Et=Et.next=t}return Et}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var i=yl;return yl+=1,Ya===null&&(Ya=[]),t=e0(Ya,t,i),i=je,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?F0:q0),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===ie)return tn(t)}throw Error(s(438,String(t)))}function of(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=af(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=j;return i.index++,a}function Qr(t,i){return typeof i=="function"?i(t):i}function fu(t){var i=Tt();return lf(i,We,t)}function lf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var w=b=null,k=null,H=i,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(ze&te)===te:(Ui&te)===te){var G=H.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Ha&&(Z=!0);else if((Ui&G)===G){H=H.next,G===Ha&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(w=k=te,b=m):k=k.next=te,je.lanes|=G,$i|=G;te=H.action,ea&&a(m,te),m=H.hasEagerState?H.eagerState:a(m,te)}else G={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(w=k=G,b=m):k=k.next=G,je.lanes|=te,$i|=te;H=H.next}while(H!==null&&H!==i);if(k===null?b=m:k.next=w,!wn(m,t.memoizedState)&&(zt=!0,Z&&(a=Ga,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=k,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);wn(m,i.memoizedState)||(zt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function l0(t,i,a){var l=je,d=Tt(),m=He;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!wn((We||d).memoizedState,a);b&&(d.memoizedState=a,zt=!0),d=d.queue;var w=h0.bind(null,l,d,t);if(_l(2048,8,w,[t]),d.getSnapshot!==i||b||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Qa(9,mu(),u0.bind(null,l,d,a,i),null),rt===null)throw Error(s(349));m||(Ui&124)!==0||c0(l,i,a)}return a}function c0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=af(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function u0(t,i,a,l){i.value=a,i.getSnapshot=l,d0(i)&&f0(t)}function h0(t,i,a){return a(function(){d0(i)&&f0(t)})}function d0(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!wn(t,a)}catch{return!0}}function f0(t){var i=za(t,2);i!==null&&Nn(i,t,2)}function uf(t){var i=mn();if(typeof t=="function"){var a=t;if(t=a(),ea){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:t},i}function m0(t,i,a,l){return t.baseState=a,lf(t,We,typeof l=="function"?l:Qr)}function mw(t,i,a,l,d){if(gu(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};$.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,p0(i,m)):(m.next=a.next,i.pending=a.next=m)}}function p0(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=$.T,b={};$.T=b;try{var w=a(d,l),k=$.S;k!==null&&k(b,w),g0(t,i,w)}catch(H){hf(t,i,H)}finally{$.T=m}}else try{m=a(d,l),g0(t,i,m)}catch(H){hf(t,i,H)}}function g0(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){y0(t,i,l)},function(l){return hf(t,i,l)}):y0(t,i,a)}function y0(t,i,a){i.status="fulfilled",i.value=a,v0(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,p0(t,a)))}function hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,v0(i),i=i.next;while(i!==l)}t.action=null}function v0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function _0(t,i){return i}function x0(t,i){if(He){var a=rt.formState;if(a!==null){e:{var l=je;if(He){if(ht){t:{for(var d=ht,m=_r;d.nodeType!==8;){if(!m){d=null;break t}if(d=tr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ht=tr(d.nextSibling),l=d.data==="F!";break e}}Xs(l)}l=!1}l&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_0,lastRenderedState:i},a.queue=l,a=U0.bind(null,je,l),l.dispatch=a,l=uf(!1),m=gf.bind(null,je,!1,l.queue),l=mn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=mw.bind(null,je,d,m,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function b0(t){var i=Tt();return w0(i,We,t)}function w0(t,i,a){if(i=lf(t,i,_0)[0],t=fu(Qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(b){throw b===dl?ou:b}else l=i;i=Tt();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(je.flags|=2048,Qa(9,mu(),pw.bind(null,d,a),null)),[l,m,t]}function pw(t,i){t.action=i}function E0(t){var i=Tt(),a=We;if(a!==null)return w0(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=af(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function mu(){return{destroy:void 0,resource:void 0}}function T0(){return Tt().memoizedState}function pu(t,i,a,l){var d=mn();l=l===void 0?null:l,je.flags|=t,d.memoizedState=Qa(1|i,mu(),a,l)}function _l(t,i,a,l){var d=Tt();l=l===void 0?null:l;var m=d.memoizedState.inst;We!==null&&l!==null&&ef(l,We.memoizedState.deps)?d.memoizedState=Qa(i,m,a,l):(je.flags|=t,d.memoizedState=Qa(1|i,m,a,l))}function S0(t,i){pu(8390656,8,t,i)}function A0(t,i){_l(2048,8,t,i)}function R0(t,i){return _l(4,2,t,i)}function N0(t,i){return _l(4,4,t,i)}function C0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function I0(t,i,a){a=a!=null?a.concat([t]):null,_l(4,4,C0.bind(null,i,t),a)}function df(){}function k0(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ef(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function j0(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ef(i,l[1]))return l[0];if(l=t(),ea){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function ff(t,i,a){return a===void 0||(Ui&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Oy(),je.lanes|=t,$i|=t,a)}function D0(t,i,a,l){return wn(a,i)?a:$a.current!==null?(t=ff(t,a,l),wn(t,i)||(zt=!0),t):(Ui&42)===0?(zt=!0,t.memoizedState=a):(t=Oy(),je.lanes|=t,$i|=t,i)}function M0(t,i,a,l,d){var m=W.p;W.p=m!==0&&8>m?m:8;var b=$.T,w={};$.T=w,gf(t,!1,i,a);try{var k=d(),H=$.S;if(H!==null&&H(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=hw(k,l);xl(t,i,Z,Rn(t))}else xl(t,i,l,Rn(t))}catch(te){xl(t,i,{then:function(){},status:"rejected",reason:te},Rn())}finally{W.p=m,$.T=b}}function gw(){}function mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=O0(t).queue;M0(t,d,i,oe,a===null?gw:function(){return V0(t),a(l)})}function O0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function V0(t){var i=O0(t).next.queue;xl(t,i,{},Rn())}function pf(){return tn(Ll)}function P0(){return Tt().memoizedState}function L0(){return Tt().memoizedState}function yw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=Pi(a);var l=Li(i,t,a);l!==null&&(Nn(l,i,a),ml(l,i,a)),i={cache:Hd()},t.payload=i;return}i=i.return}}function vw(t,i,a){var l=Rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gu(t)?z0(i,a):(a=Md(t,i,a,l),a!==null&&(Nn(a,t,l),B0(a,i,l)))}function U0(t,i,a){var l=Rn();xl(t,i,a,l)}function xl(t,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gu(t))z0(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,w=m(b,a);if(d.hasEagerState=!0,d.eagerState=w,wn(w,b))return Jc(t,i,d,0),rt===null&&Zc(),!1}catch{}finally{}if(a=Md(t,i,d,l),a!==null)return Nn(a,t,l),B0(a,i,l),!0}return!1}function gf(t,i,a,l){if(l={lane:2,revertLane:Yf(),action:l,hasEagerState:!1,eagerState:null,next:null},gu(t)){if(i)throw Error(s(479))}else i=Md(t,a,l,2),i!==null&&Nn(i,t,2)}function gu(t){var i=t.alternate;return t===je||i!==null&&i===je}function z0(t,i){Ka=uu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function B0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ti(t,a)}}var yu={readContext:tn,use:du,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},F0={readContext:tn,use:du,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:tn,useEffect:S0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,pu(4194308,4,C0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return pu(4194308,4,t,i)},useInsertionEffect:function(t,i){pu(4,2,t,i)},useMemo:function(t,i){var a=mn();i=i===void 0?null:i;var l=t();if(ea){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=mn();if(a!==void 0){var d=a(i);if(ea){In(!0);try{a(i)}finally{In(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=vw.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=uf(t);var i=t.queue,a=U0.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:df,useDeferredValue:function(t,i){var a=mn();return ff(a,t,i)},useTransition:function(){var t=uf(!1);return t=M0.bind(null,je,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,d=mn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(ze&124)!==0||c0(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,S0(h0.bind(null,l,m,t),[t]),l.flags|=2048,Qa(9,mu(),u0.bind(null,l,m,a,i),null),a},useId:function(){var t=mn(),i=rt.identifierPrefix;if(He){var a=$r,l=Gr;a=(l&~(1<<32-cn(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=hu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=dw++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:pf,useFormState:x0,useActionState:x0,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gf.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:of,useCacheRefresh:function(){return mn().memoizedState=yw.bind(null,je)}},q0={readContext:tn,use:du,useCallback:k0,useContext:tn,useEffect:A0,useImperativeHandle:I0,useInsertionEffect:R0,useLayoutEffect:N0,useMemo:j0,useReducer:fu,useRef:T0,useState:function(){return fu(Qr)},useDebugValue:df,useDeferredValue:function(t,i){var a=Tt();return D0(a,We.memoizedState,t,i)},useTransition:function(){var t=fu(Qr)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:l0,useId:P0,useHostTransitionStatus:pf,useFormState:b0,useActionState:b0,useOptimistic:function(t,i){var a=Tt();return m0(a,We,t,i)},useMemoCache:of,useCacheRefresh:L0},_w={readContext:tn,use:du,useCallback:k0,useContext:tn,useEffect:A0,useImperativeHandle:I0,useInsertionEffect:R0,useLayoutEffect:N0,useMemo:j0,useReducer:cf,useRef:T0,useState:function(){return cf(Qr)},useDebugValue:df,useDeferredValue:function(t,i){var a=Tt();return We===null?ff(a,t,i):D0(a,We.memoizedState,t,i)},useTransition:function(){var t=cf(Qr)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:l0,useId:P0,useHostTransitionStatus:pf,useFormState:E0,useActionState:E0,useOptimistic:function(t,i){var a=Tt();return We!==null?m0(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:L0},Xa=null,bl=0;function vu(t){var i=bl;return bl+=1,Xa===null&&(Xa=[]),e0(Xa,t,i)}function wl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function _u(t,i){throw i.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function H0(t){var i=t._init;return i(t._payload)}function G0(t){function i(U,P){if(t){var B=U.deletions;B===null?(U.deletions=[P],U.flags|=16):B.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function d(U,P){return U=Hr(U,P),U.index=0,U.sibling=null,U}function m(U,P,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<P?(U.flags|=67108866,P):B):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,P,B,J){return P===null||P.tag!==6?(P=Vd(B,U.mode,J),P.return=U,P):(P=d(P,B),P.return=U,P)}function k(U,P,B,J){var pe=B.type;return pe===z?Z(U,P,B.props.children,J,B.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&H0(pe)===P.type)?(P=d(P,B.props),wl(P,B),P.return=U,P):(P=tu(B.type,B.key,B.props,null,U.mode,J),wl(P,B),P.return=U,P)}function H(U,P,B,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Pd(B,U.mode,J),P.return=U,P):(P=d(P,B.children||[]),P.return=U,P)}function Z(U,P,B,J,pe){return P===null||P.tag!==7?(P=$s(B,U.mode,J,pe),P.return=U,P):(P=d(P,B),P.return=U,P)}function te(U,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Vd(""+P,U.mode,B),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return B=tu(P.type,P.key,P.props,null,U.mode,B),wl(B,P),B.return=U,B;case O:return P=Pd(P,U.mode,B),P.return=U,P;case R:var J=P._init;return P=J(P._payload),te(U,P,B)}if(me(P)||V(P))return P=$s(P,U.mode,B,null),P.return=U,P;if(typeof P.then=="function")return te(U,vu(P),B);if(P.$$typeof===ie)return te(U,su(U,P),B);_u(U,P)}return null}function G(U,P,B,J){var pe=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:w(U,P,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===pe?k(U,P,B,J):null;case O:return B.key===pe?H(U,P,B,J):null;case R:return pe=B._init,B=pe(B._payload),G(U,P,B,J)}if(me(B)||V(B))return pe!==null?null:Z(U,P,B,J,null);if(typeof B.then=="function")return G(U,P,vu(B),J);if(B.$$typeof===ie)return G(U,P,su(U,B),J);_u(U,B)}return null}function Q(U,P,B,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,w(P,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return U=U.get(J.key===null?B:J.key)||null,k(P,U,J,pe);case O:return U=U.get(J.key===null?B:J.key)||null,H(P,U,J,pe);case R:var Me=J._init;return J=Me(J._payload),Q(U,P,B,J,pe)}if(me(J)||V(J))return U=U.get(B)||null,Z(P,U,J,pe,null);if(typeof J.then=="function")return Q(U,P,B,vu(J),pe);if(J.$$typeof===ie)return Q(U,P,B,su(P,J),pe);_u(P,J)}return null}function Se(U,P,B,J){for(var pe=null,Me=null,ye=P,be=P=0,Ft=null;ye!==null&&be<B.length;be++){ye.index>be?(Ft=ye,ye=null):Ft=ye.sibling;var qe=G(U,ye,B[be],J);if(qe===null){ye===null&&(ye=Ft);break}t&&ye&&qe.alternate===null&&i(U,ye),P=m(qe,P,be),Me===null?pe=qe:Me.sibling=qe,Me=qe,ye=Ft}if(be===B.length)return a(U,ye),He&&Ys(U,be),pe;if(ye===null){for(;be<B.length;be++)ye=te(U,B[be],J),ye!==null&&(P=m(ye,P,be),Me===null?pe=ye:Me.sibling=ye,Me=ye);return He&&Ys(U,be),pe}for(ye=l(ye);be<B.length;be++)Ft=Q(ye,U,be,B[be],J),Ft!==null&&(t&&Ft.alternate!==null&&ye.delete(Ft.key===null?be:Ft.key),P=m(Ft,P,be),Me===null?pe=Ft:Me.sibling=Ft,Me=Ft);return t&&ye.forEach(function(ts){return i(U,ts)}),He&&Ys(U,be),pe}function xe(U,P,B,J){if(B==null)throw Error(s(151));for(var pe=null,Me=null,ye=P,be=P=0,Ft=null,qe=B.next();ye!==null&&!qe.done;be++,qe=B.next()){ye.index>be?(Ft=ye,ye=null):Ft=ye.sibling;var ts=G(U,ye,qe.value,J);if(ts===null){ye===null&&(ye=Ft);break}t&&ye&&ts.alternate===null&&i(U,ye),P=m(ts,P,be),Me===null?pe=ts:Me.sibling=ts,Me=ts,ye=Ft}if(qe.done)return a(U,ye),He&&Ys(U,be),pe;if(ye===null){for(;!qe.done;be++,qe=B.next())qe=te(U,qe.value,J),qe!==null&&(P=m(qe,P,be),Me===null?pe=qe:Me.sibling=qe,Me=qe);return He&&Ys(U,be),pe}for(ye=l(ye);!qe.done;be++,qe=B.next())qe=Q(ye,U,be,qe.value,J),qe!==null&&(t&&qe.alternate!==null&&ye.delete(qe.key===null?be:qe.key),P=m(qe,P,be),Me===null?pe=qe:Me.sibling=qe,Me=qe);return t&&ye.forEach(function(xE){return i(U,xE)}),He&&Ys(U,be),pe}function Je(U,P,B,J){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var pe=B.key;P!==null;){if(P.key===pe){if(pe=B.type,pe===z){if(P.tag===7){a(U,P.sibling),J=d(P,B.props.children),J.return=U,U=J;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&H0(pe)===P.type){a(U,P.sibling),J=d(P,B.props),wl(J,B),J.return=U,U=J;break e}a(U,P);break}else i(U,P);P=P.sibling}B.type===z?(J=$s(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=tu(B.type,B.key,B.props,null,U.mode,J),wl(J,B),J.return=U,U=J)}return b(U);case O:e:{for(pe=B.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(U,P.sibling),J=d(P,B.children||[]),J.return=U,U=J;break e}else{a(U,P);break}else i(U,P);P=P.sibling}J=Pd(B,U.mode,J),J.return=U,U=J}return b(U);case R:return pe=B._init,B=pe(B._payload),Je(U,P,B,J)}if(me(B))return Se(U,P,B,J);if(V(B)){if(pe=V(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),xe(U,P,B,J)}if(typeof B.then=="function")return Je(U,P,vu(B),J);if(B.$$typeof===ie)return Je(U,P,su(U,B),J);_u(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(U,P.sibling),J=d(P,B),J.return=U,U=J):(a(U,P),J=Vd(B,U.mode,J),J.return=U,U=J),b(U)):a(U,P)}return function(U,P,B,J){try{bl=0;var pe=Je(U,P,B,J);return Xa=null,pe}catch(ye){if(ye===dl||ye===ou)throw ye;var Me=En(29,ye,null,U.mode);return Me.lanes=J,Me.return=U,Me}finally{}}}var Wa=G0(!0),$0=G0(!1),Un=re(null),xr=null;function zi(t){var i=t.alternate;ce(Dt,Dt.current&1),ce(Un,t),xr===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(xr=t)}function K0(t){if(t.tag===22){if(ce(Dt,Dt.current),ce(Un,t),xr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(xr=t)}}else Bi()}function Bi(){ce(Dt,Dt.current),ce(Un,Un.current)}function Xr(t){de(Un),xr===t&&(xr=null),de(Dt)}var Dt=re(0);function xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||am(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),d=Pi(l);d.payload=i,a!=null&&(d.callback=a),i=Li(t,d,l),i!==null&&(Nn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),d=Pi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Li(t,d,l),i!==null&&(Nn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=Pi(a);l.tag=2,i!=null&&(l.callback=i),i=Li(t,l,a),i!==null&&(Nn(i,t,a),ml(i,t,a))}};function Y0(t,i,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(d,m):!0}function Q0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&vf.enqueueReplaceState(i,i.state,null)}function ta(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function X0(t){bu(t)}function W0(t){console.error(t)}function Z0(t){bu(t)}function wu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function J0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _f(t,i,a){return a=Pi(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(t,i)},a}function ey(t){return t=Pi(t),t.tag=3,t}function ty(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){J0(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){J0(i,a,l),typeof d!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function xw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&cl(i,a,d,!0),a=Un.current,a!==null){switch(a.tag){case 13:return xr===null?qf():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Kd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gf(t,l,d)),!1;case 22:return a.flags|=65536,l===Kd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gf(t,l,d)),!1}throw Error(s(435,a.tag))}return Gf(t,l,d),qf(),!1}if(He)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==zd&&(t=Error(s(422),{cause:l}),ll(On(t,a)))):(l!==zd&&(i=Error(s(423),{cause:l}),ll(On(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=On(l,a),d=_f(t.stateNode,l,d),Xd(t,d),dt!==4&&(dt=2)),!1;var m=Error(s(520),{cause:l});if(m=On(m,a),Cl===null?Cl=[m]:Cl.push(m),dt!==4&&(dt=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=_f(a.stateNode,l,t),Xd(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ki===null||!Ki.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=ey(d),ty(d,t,a,l),Xd(a,d),!1}a=a.return}while(a!==null);return!1}var ny=Error(s(461)),zt=!1;function $t(t,i,a,l){i.child=t===null?$0(i,null,a,l):Wa(i,t.child,a,l)}function ry(t,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Zs(i),l=tf(t,i,a,b,m,d),w=nf(),t!==null&&!zt?(rf(t,i,d),Wr(t,i,d)):(He&&w&&Ld(i),i.flags|=1,$t(t,i,l,d),i.child)}function iy(t,i,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Od(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,sy(t,i,m,l,d)):(t=tu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Rf(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(b,l)&&t.ref===i.ref)return Wr(t,i,d)}return i.flags|=1,t=Hr(m,l),t.ref=i.ref,t.return=i,i.child=t}function sy(t,i,a,l,d){if(t!==null){var m=t.memoizedProps;if(il(m,l)&&t.ref===i.ref)if(zt=!1,i.pendingProps=l=m,Rf(t,d))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,Wr(t,i,d)}return xf(t,i,a,l,d)}function ay(t,i,a){var l=i.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=i.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return oy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(i,m!==null?m.cachePool:null),m!==null?s0(i,m):Zd(),K0(i);else return i.lanes=i.childLanes=536870912,oy(t,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(au(i,m.cachePool),s0(i,m),Bi(),i.memoizedState=null):(t!==null&&au(i,null),Zd(),Bi());return $t(t,i,d,a),i.child}function oy(t,i,a,l){var d=$d();return d=d===null?null:{parent:jt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&au(i,null),Zd(),K0(i),t!==null&&cl(t,i,l,!0),null}function Eu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xf(t,i,a,l,d){return Zs(i),a=tf(t,i,a,l,void 0,d),l=nf(),t!==null&&!zt?(rf(t,i,d),Wr(t,i,d)):(He&&l&&Ld(i),i.flags|=1,$t(t,i,a,d),i.child)}function ly(t,i,a,l,d,m){return Zs(i),i.updateQueue=null,a=o0(i,l,a,d),a0(t),l=nf(),t!==null&&!zt?(rf(t,i,m),Wr(t,i,m)):(He&&l&&Ld(i),i.flags|=1,$t(t,i,a,m),i.child)}function cy(t,i,a,l,d){if(Zs(i),i.stateNode===null){var m=Ba,b=a.contextType;typeof b=="object"&&b!==null&&(m=tn(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Yd(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?tn(b):Ba,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(yf(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&vf.enqueueReplaceState(m,m.state,null),gl(i,l,m,d),pl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,k=ta(a,w);m.props=k;var H=m.context,Z=a.contextType;b=Ba,typeof Z=="object"&&Z!==null&&(b=tn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||H!==b)&&Q0(i,m,l,b),Vi=!1;var G=i.memoizedState;m.state=G,gl(i,l,m,d),pl(),H=i.memoizedState,w||G!==H||Vi?(typeof te=="function"&&(yf(i,a,te,l),H=i.memoizedState),(k=Vi||Y0(i,a,k,l,G,H,b))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),m.props=l,m.state=H,m.context=b,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Qd(t,i),b=i.memoizedProps,Z=ta(a,b),m.props=Z,te=i.pendingProps,G=m.context,H=a.contextType,k=Ba,typeof H=="object"&&H!==null&&(k=tn(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||G!==k)&&Q0(i,m,l,k),Vi=!1,G=i.memoizedState,m.state=G,gl(i,l,m,d),pl();var Q=i.memoizedState;b!==te||G!==Q||Vi||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof w=="function"&&(yf(i,a,w,l),Q=i.memoizedState),(Z=Vi||Y0(i,a,Z,l,G,Q,k)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=k,l=Z):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Eu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Wa(i,t.child,null,d),i.child=Wa(i,null,a,d)):$t(t,i,a,d),i.memoizedState=m.state,t=i.child):t=Wr(t,i,d),t}function uy(t,i,a,l){return ol(),i.flags|=256,$t(t,i,a,l),i.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(t){return{baseLanes:t,cachePool:Wg()}}function Ef(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=zn),t}function hy(t,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(d?zi(i):Bi(),He){var w=ht,k;if(k=w){e:{for(k=w,w=_r;k.nodeType!==8;){if(!w){w=null;break e}if(k=tr(k.nextSibling),k===null){w=null;break e}}w=k}w!==null?(i.memoizedState={dehydrated:w,treeContext:Ks!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},k=En(18,null,null,0),k.stateNode=w,k.return=i,i.child=k,fn=i,ht=null,k=!0):k=!1}k||Xs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return am(w)?i.lanes=32:i.lanes=536870912,null;Xr(i)}return w=l.children,l=l.fallback,d?(Bi(),d=i.mode,w=Tu({mode:"hidden",children:w},d),l=$s(l,d,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,d=i.child,d.memoizedState=wf(a),d.childLanes=Ef(t,b,a),i.memoizedState=bf,l):(zi(i),Tf(i,w))}if(k=t.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(m)i.flags&256?(zi(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(Bi(),i.child=t.child,i.flags|=128,i=null):(Bi(),d=l.fallback,w=i.mode,l=Tu({mode:"visible",children:l.children},w),d=$s(d,w,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,Wa(i,t.child,null,a),l=i.child,l.memoizedState=wf(a),l.childLanes=Ef(t,b,a),i.memoizedState=bf,i=d);else if(zi(i),am(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(s(419)),l.stack="",l.digest=b,ll({value:l,source:null,stack:null}),i=Sf(t,i,a)}else if(zt||cl(t,i,a,!1),b=(a&t.childLanes)!==0,zt||b){if(b=rt,b!==null&&(l=a&-a,l=(l&42)!==0?1:Bo(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,za(t,l),Nn(b,t,l),ny;w.data==="$?"||qf(),i=Sf(t,i,a)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=k.treeContext,ht=tr(w.nextSibling),fn=i,He=!0,Qs=null,_r=!1,t!==null&&(Pn[Ln++]=Gr,Pn[Ln++]=$r,Pn[Ln++]=Ks,Gr=t.id,$r=t.overflow,Ks=i),i=Tf(i,l.children),i.flags|=4096);return i}return d?(Bi(),d=l.fallback,w=i.mode,k=t.child,H=k.sibling,l=Hr(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,H!==null?d=Hr(H,d):(d=$s(d,w,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,w=t.child.memoizedState,w===null?w=wf(a):(k=w.cachePool,k!==null?(H=jt._currentValue,k=k.parent!==H?{parent:H,pool:H}:k):k=Wg(),w={baseLanes:w.baseLanes|a,cachePool:k}),d.memoizedState=w,d.childLanes=Ef(t,b,a),i.memoizedState=bf,l):(zi(i),a=t.child,t=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function Tf(t,i){return i=Tu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Tu(t,i){return t=En(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sf(t,i,a){return Wa(i,t.child,null,a),t=Tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function dy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Fd(t.return,i,a)}function Af(t,i,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function fy(t,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;if($t(t,i,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,a,i);else if(t.tag===19)dy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Dt,l),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&xu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Af(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&xu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Af(i,!0,a,null,m);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),$i|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(cl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function bw(t,i,a){switch(i.tag){case 3:$e(i,i.stateNode.containerInfo),Oi(i,jt,t.memoizedState.cache),ol();break;case 27:case 5:_a(i);break;case 4:$e(i,i.stateNode.containerInfo);break;case 10:Oi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?hy(t,i,a):(zi(i),t=Wr(t,i,a),t!==null?t.sibling:null);zi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(cl(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return fy(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,ay(t,i,a);case 24:Oi(i,jt,t.memoizedState.cache)}return Wr(t,i,a)}function my(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!Rf(t,a)&&(i.flags&128)===0)return zt=!1,bw(t,i,a);zt=(t.flags&131072)!==0}else zt=!1,He&&(i.flags&1048576)!==0&&Hg(i,ru,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Od(l)?(t=ta(l,t),i.tag=1,i=cy(null,i,l,t,a)):(i.tag=0,i=xf(null,i,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===ae){i.tag=11,i=ry(null,i,l,t,a);break e}else if(d===I){i.tag=14,i=iy(null,i,l,t,a);break e}}throw i=ve(l)||l,Error(s(306,i,""))}}return i;case 0:return xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=ta(l,i.pendingProps),cy(t,i,l,d,a);case 3:e:{if($e(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,Qd(t,i),gl(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Oi(i,jt,l),l!==m.cache&&qd(i,[jt],a,!0),pl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=uy(t,i,l,a);break e}else if(l!==d){d=On(Error(s(424)),i),ll(d),i=uy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=tr(t.firstChild),fn=i,He=!0,Qs=null,_r=!0,a=$0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ol(),l===d){i=Wr(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return Eu(t,i),t===null?(a=vv(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Lu(we.current).createElement(a),l[yt]=i,l[Gt]=t,Yt(l,a,t),vt(l),i.stateNode=l):i.memoizedState=vv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _a(i),t===null&&He&&(l=i.stateNode=pv(i.type,i.pendingProps,we.current),fn=i,_r=!0,d=ht,Xi(i.type)?(om=d,ht=tr(l.firstChild)):ht=d),$t(t,i,i.pendingProps.children,a),Eu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((d=l=ht)&&(l=Qw(l,i.type,i.pendingProps,_r),l!==null?(i.stateNode=l,fn=i,ht=tr(l.firstChild),_r=!1,d=!0):d=!1),d||Xs(i)),_a(i),d=i.type,m=i.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,rm(d,m)?l=null:b!==null&&rm(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=tf(t,i,fw,null,null,a),Ll._currentValue=d),Eu(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ht)&&(a=Xw(a,i.pendingProps,_r),a!==null?(i.stateNode=a,fn=i,ht=null,t=!0):t=!1),t||Xs(i)),null;case 13:return hy(t,i,a);case 4:return $e(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Wa(i,null,l,a):$t(t,i,l,a),i.child;case 11:return ry(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Oi(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Zs(i),d=tn(d),l=l(d),i.flags|=1,$t(t,i,l,a),i.child;case 14:return iy(t,i,i.type,i.pendingProps,a);case 15:return sy(t,i,i.type,i.pendingProps,a);case 19:return fy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Tu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Hr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ay(t,i,a);case 24:return Zs(i),l=tn(jt),t===null?(d=$d(),d===null&&(d=rt,m=Hd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},Yd(i),Oi(i,jt,d)):((t.lanes&a)!==0&&(Qd(t,i),gl(i,null,null,a),pl()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Oi(i,jt,l)):(l=m.cache,Oi(i,jt,l),l!==d.cache&&qd(i,[jt],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zr(t){t.flags|=4}function py(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i)){if(i=Un.current,i!==null&&((ze&4194048)===ze?xr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==xr))throw fl=Kd,Zg;t.flags|=8192}}function Su(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wi():536870912,t.lanes|=i,to|=i)}function El(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ww(t,i,a){var l=i.pendingProps;switch(Ud(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yr(jt),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(i)?Zr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kg())),lt(i),null;case 26:return a=i.memoizedState,t===null?(Zr(i),a!==null?(lt(i),py(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Zr(i),lt(i),py(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Zr(i),lt(i),i.flags&=-16777217),null;case 27:vi(i),a=we.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ge.current,al(i)?Gg(i):(t=pv(d,l,a),i.stateNode=t,Zr(i))}return lt(i),null;case 5:if(vi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=ge.current,al(i))Gg(i);else{switch(d=Lu(we.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[yt]=i,t[Gt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(Yt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zr(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,al(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=fn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[yt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(t.nodeValue,a)),t||Xs(i)}else t=Lu(t).createTextNode(l),t[yt]=i,i.stateNode=t}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=al(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[yt]=i}else ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),d=!1}else d=Kg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Xr(i),i):(Xr(i),null)}if(Xr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Su(i,i.updateQueue),lt(i),null;case 4:return xn(),t===null&&Zf(i.stateNode.containerInfo),lt(i),null;case 10:return Yr(i.type),lt(i),null;case 19:if(de(Dt),d=i.memoizedState,d===null)return lt(i),null;if(l=(i.flags&128)!==0,m=d.rendering,m===null)if(l)El(d,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=xu(t),m!==null){for(i.flags|=128,El(d,!1),t=m.updateQueue,i.updateQueue=t,Su(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qg(a,t),a=a.sibling;return ce(Dt,Dt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Jt()>Nu&&(i.flags|=128,l=!0,El(d,!1),i.lanes=4194304)}else{if(!l)if(t=xu(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Su(i,t),El(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!He)return lt(i),null}else 2*Jt()-d.renderingStartTime>Nu&&a!==536870912&&(i.flags|=128,l=!0,El(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(t=d.last,t!==null?t.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Jt(),i.sibling=null,t=Dt.current,ce(Dt,l?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return Xr(i),Jd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&Su(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&de(Js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yr(jt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ew(t,i){switch(Ud(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yr(jt),xn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vi(i),null;case 13:if(Xr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ol()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return de(Dt),null;case 4:return xn(),null;case 10:return Yr(i.type),null;case 22:case 23:return Xr(i),Jd(),t!==null&&de(Js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yr(jt),null;case 25:return null;default:return null}}function gy(t,i){switch(Ud(i),i.tag){case 3:Yr(jt),xn();break;case 26:case 27:case 5:vi(i);break;case 4:xn();break;case 13:Xr(i);break;case 19:de(Dt);break;case 10:Yr(i.type);break;case 22:case 23:Xr(i),Jd(),t!==null&&de(Js);break;case 24:Yr(jt)}}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(w){et(i,i.return,w)}}function Fi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=i;var k=a,H=w;try{H()}catch(Z){et(d,k,Z)}}}l=l.next}while(l!==m)}}catch(Z){et(i,i.return,Z)}}function yy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{i0(i,a)}catch(l){et(t,t.return,l)}}}function vy(t,i,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){et(t,i,d)}}function br(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){et(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){et(t,i,d)}else a.current=null}function _y(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){et(t,t.return,d)}}function Nf(t,i,a){try{var l=t.stateNode;Hw(l,t.type,a,i),l[Gt]=i}catch(d){et(t,t.return,d)}}function xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xi(t.type)||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pu));else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(If(t,i,a),t=t.sibling;t!==null;)If(t,i,a),t=t.sibling}function Au(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Au(t,i,a),t=t.sibling;t!==null;)Au(t,i,a),t=t.sibling}function by(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Yt(i,l,a),i[yt]=t,i[Gt]=a}catch(m){et(t,t.return,m)}}var Jr=!1,bt=!1,kf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Tw(t,i){if(t=t.containerInfo,tm=Hu,t=Dg(t),Nd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,w=-1,k=-1,H=0,Z=0,te=t,G=null;t:for(;;){for(var Q;te!==a||d!==0&&te.nodeType!==3||(w=b+d),te!==m||l!==0&&te.nodeType!==3||(k=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Q=te.firstChild)!==null;)G=te,te=Q;for(;;){if(te===t)break t;if(G===a&&++H===d&&(w=b),G===m&&++Z===l&&(k=b),(Q=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Q}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},Hu=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Se=ta(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){et(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function Ey(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&Tl(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){et(a,a.return,b)}else{var d=ta(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){et(a,a.return,b)}}l&64&&yy(a),l&512&&Sl(a,a.return);break;case 3:if(qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{i0(t,i)}catch(b){et(a,a.return,b)}}break;case 27:i===null&&l&4&&by(a);case 26:case 5:qi(t,a),i===null&&l&4&&_y(a),l&512&&Sl(a,a.return);break;case 12:qi(t,a);break;case 13:qi(t,a),l&4&&Ay(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Dw.bind(null,a),Ww(t,a))));break;case 22:if(l=a.memoizedState!==null||Jr,!l){i=i!==null&&i.memoizedState!==null||bt,d=Jr;var m=bt;Jr=l,(bt=i)&&!m?Hi(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),Jr=d,bt=m}break;case 30:break;default:qi(t,a)}}function Ty(t){var i=t.alternate;i!==null&&(t.alternate=null,Ty(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,pn=!1;function ei(t,i,a){for(a=a.child;a!==null;)Sy(t,i,a),a=a.sibling}function Sy(t,i,a){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:bt||br(a,i),ei(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||br(a,i);var l=at,d=pn;Xi(a.type)&&(at=a.stateNode,pn=!1),ei(t,i,a),Ml(a.stateNode),at=l,pn=d;break;case 5:bt||br(a,i);case 6:if(l=at,d=pn,at=null,ei(t,i,a),at=l,pn=d,at!==null)if(pn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(m){et(a,i,m)}else try{at.removeChild(a.stateNode)}catch(m){et(a,i,m)}break;case 18:at!==null&&(pn?(t=at,fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fl(t)):fv(at,a.stateNode));break;case 4:l=at,d=pn,at=a.stateNode.containerInfo,pn=!0,ei(t,i,a),at=l,pn=d;break;case 0:case 11:case 14:case 15:bt||Fi(2,a,i),bt||Fi(4,a,i),ei(t,i,a);break;case 1:bt||(br(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vy(a,i,l)),ei(t,i,a);break;case 21:ei(t,i,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,ei(t,i,a),bt=l;break;default:ei(t,i,a)}}function Ay(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(a){et(i,i.return,a)}}function Sw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new wy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new wy),i;default:throw Error(s(435,t.tag))}}function jf(t,i){var a=Sw(t);i.forEach(function(l){var d=Mw.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Tn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=i,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Xi(w.type)){at=w.stateNode,pn=!1;break e}break;case 5:at=w.stateNode,pn=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,pn=!0;break e}w=w.return}if(at===null)throw Error(s(160));Sy(m,b,d),at=null,pn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ry(i,t),i=i.sibling}var er=null;function Ry(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(i,t),Sn(t),l&4&&(Fi(3,t,t.return),Tl(3,t),Fi(5,t,t.return));break;case 1:Tn(i,t),Sn(t),l&512&&(bt||a===null||br(a,a.return)),l&64&&Jr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=er;if(Tn(i,t),Sn(t),l&512&&(bt||a===null||br(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Si]||m[yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Yt(m,l,a),m[yt]=t,vt(m),l=m;break e;case"link":var b=bv("link","href",d).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;case"meta":if(b=bv("meta","content",d).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[yt]=t,vt(m),l=m}t.stateNode=l}else wv(d,t.type,t.stateNode);else t.stateNode=xv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?wv(d,t.type,t.stateNode):xv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,t),Sn(t),l&512&&(bt||a===null||br(a,a.return)),a!==null&&l&4&&Nf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,t),Sn(t),l&512&&(bt||a===null||br(a,a.return)),t.flags&32){d=t.stateNode;try{Dn(d,"")}catch(Q){et(t,t.return,Q)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Nf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(kf=!0);break;case 6:if(Tn(i,t),Sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){et(t,t.return,Q)}}break;case 3:if(Bu=null,d=er,er=Uu(i.containerInfo),Tn(i,t),er=d,Sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(i.containerInfo)}catch(Q){et(t,t.return,Q)}kf&&(kf=!1,Ny(t));break;case 4:l=er,er=Uu(t.stateNode.containerInfo),Tn(i,t),Sn(t),er=l;break;case 12:Tn(i,t),Sn(t);break;case 13:Tn(i,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lf=Jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jf(t,l)));break;case 22:d=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,H=Jr,Z=bt;if(Jr=H||d,bt=Z||k,Tn(i,t),bt=Z,Jr=H,Sn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||k||Jr||bt||na(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(m=k.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=k.stateNode;var te=k.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){et(k,k.return,Q)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(Q){et(k,k.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jf(t,a))));break;case 19:Tn(i,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jf(t,l)));break;case 30:break;case 21:break;default:Tn(i,t),Sn(t)}}function Sn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(xy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=Cf(t);Au(t,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Dn(b,""),a.flags&=-33);var w=Cf(t);Au(t,w,b);break;case 3:case 4:var k=a.stateNode.containerInfo,H=Cf(t);If(t,H,k);break;default:throw Error(s(161))}}catch(Z){et(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ny(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ey(t,i.alternate,i),i=i.sibling}function na(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),na(i);break;case 1:br(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&vy(i,i.return,a),na(i);break;case 27:Ml(i.stateNode);case 26:case 5:br(i,i.return),na(i);break;case 22:i.memoizedState===null&&na(i);break;case 30:na(i);break;default:na(i)}t=t.sibling}}function Hi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Hi(d,m,a),Tl(4,m);break;case 1:if(Hi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){et(l,l.return,H)}if(l=m,d=l.updateQueue,d!==null){var w=l.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)r0(k[d],w)}catch(H){et(l,l.return,H)}}a&&b&64&&yy(m),Sl(m,m.return);break;case 27:by(m);case 26:case 5:Hi(d,m,a),a&&l===null&&b&4&&_y(m),Sl(m,m.return);break;case 12:Hi(d,m,a);break;case 13:Hi(d,m,a),a&&b&4&&Ay(d,m);break;case 22:m.memoizedState===null&&Hi(d,m,a),Sl(m,m.return);break;case 30:break;default:Hi(d,m,a)}i=i.sibling}}function Df(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Mf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function wr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cy(t,i,a,l),i=i.sibling}function Cy(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:wr(t,i,a,l),d&2048&&Tl(9,i);break;case 1:wr(t,i,a,l);break;case 3:wr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(d&2048){wr(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){et(i,i.return,k)}}else wr(t,i,a,l);break;case 13:wr(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?wr(t,i,a,l):Al(t,i):m._visibility&2?wr(t,i,a,l):(m._visibility|=2,Za(t,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&Df(b,i);break;case 24:wr(t,i,a,l),d&2048&&Mf(i.alternate,i);break;default:wr(t,i,a,l)}}function Za(t,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,b=i,w=a,k=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:Za(m,b,w,k,d),Tl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Za(m,b,w,k,d):Al(m,b):(Z._visibility|=2,Za(m,b,w,k,d)),d&&H&2048&&Df(b.alternate,b);break;case 24:Za(m,b,w,k,d),d&&H&2048&&Mf(b.alternate,b);break;default:Za(m,b,w,k,d)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Al(a,l),d&2048&&Df(l.alternate,l);break;case 24:Al(a,l),d&2048&&Mf(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var Rl=8192;function Ja(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 26:Ja(t),t.flags&Rl&&t.memoizedState!==null&&uE(er,t.memoizedState,t.memoizedProps);break;case 5:Ja(t);break;case 3:case 4:var i=er;er=Uu(t.stateNode.containerInfo),Ja(t),er=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,Ja(t),Rl=i):Ja(t));break;default:Ja(t)}}function ky(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Dy(l,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ru(t)):Nl(t);break;default:Nl(t)}}function Ru(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Dy(l,t)}ky(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),Ru(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ru(i));break;default:Ru(i)}t=t.sibling}}function Dy(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Fi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var d=l.sibling,m=l.return;if(Ty(l),l===a){Bt=null;break e}if(d!==null){d.return=m,Bt=d;break e}Bt=m}}}var Aw={getCacheForType:function(t){var i=tn(jt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Rw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Oe=null,ze=0,Qe=0,An=null,Gi=!1,eo=!1,Of=!1,ti=0,dt=0,$i=0,ra=0,Vf=0,zn=0,to=0,Cl=null,gn=null,Pf=!1,Lf=0,Nu=1/0,Cu=null,Ki=null,Kt=0,Yi=null,no=null,ro=0,Uf=0,zf=null,My=null,Il=0,Bf=null;function Rn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if($.T!==null){var t=Ha;return t!==0?t:Yf()}return Pr()}function Oy(){zn===0&&(zn=(ze&536870912)===0||He?zo():536870912);var t=Un.current;return t!==null&&(t.flags|=32),zn}function Nn(t,i,a){(t===rt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(io(t,0),Qi(t,ze,zn,!1)),gt(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(ra|=a),dt===4&&Qi(t,ze,zn,!1)),Er(t))}function Vy(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||bi(t,i),d=l?Iw(t,i):Hf(t,i,!0),m=l;do{if(d===0){eo&&!l&&Qi(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!Nw(a)){d=Hf(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var w=t;d=Cl;var k=w.current.memoizedState.isDehydrated;if(k&&(io(w,b).flags|=256),b=Hf(w,b,!1),b!==2){if(Of&&!k){w.errorRecoveryDisabledLanes|=m,ra|=m,d=4;break e}m=gn,gn=d,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){io(t,0),Qi(t,i,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qi(l,i,zn,!Gi);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Lf+300-Jt(),10<d)){if(Qi(l,i,zn,!Gi),kn(l,0,!0)!==0)break e;l.timeoutHandle=hv(Py.bind(null,l,a,gn,Cu,Pf,i,zn,ra,to,Gi,m,2,-0,0),d);break e}Py(l,a,gn,Cu,Pf,i,zn,ra,to,Gi,m,0,-0,0)}}break}while(!0);Er(t)}function Py(t,i,a,l,d,m,b,w,k,H,Z,te,G,Q){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:cE},Iy(i),te=hE(),te!==null)){t.cancelPendingCommit=te(Hy.bind(null,t,i,m,a,l,d,b,w,k,Z,1,G,Q)),Qi(t,m,b,!H);return}Hy(t,i,m,a,l,d,b,w,k)}function Nw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!wn(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(t,i,a,l){i&=~Vf,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-cn(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&Ei(t,a,i)}function Iu(){return(Ye&6)===0?(kl(0),!1):!0}function Ff(){if(Oe!==null){if(Qe===0)var t=Oe.return;else t=Oe,Kr=Ws=null,sf(t),Xa=null,bl=0,t=Oe;for(;t!==null;)gy(t.alternate,t),t=t.return;Oe=null}}function io(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$w(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ff(),rt=t,Oe=a=Hr(t.current,null),ze=i,Qe=0,An=null,Gi=!1,eo=bi(t,i),Of=!1,to=zn=Vf=ra=$i=dt=0,gn=Cl=null,Pf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-cn(l),m=1<<d;i|=t[d],l&=~m}return ti=i,Zc(),a}function Ly(t,i){je=null,$.H=yu,i===dl||i===ou?(i=t0(),Qe=3):i===Zg?(i=t0(),Qe=4):Qe=i===ny?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Oe===null&&(dt=1,wu(t,On(i,t.current)))}function Uy(){var t=$.H;return $.H=yu,t===null?yu:t}function zy(){var t=$.A;return $.A=Aw,t}function qf(){dt=4,Gi||(ze&4194048)!==ze&&Un.current!==null||(eo=!0),($i&134217727)===0&&(ra&134217727)===0||rt===null||Qi(rt,ze,zn,!1)}function Hf(t,i,a){var l=Ye;Ye|=2;var d=Uy(),m=zy();(rt!==t||ze!==i)&&(Cu=null,io(t,i)),i=!1;var b=dt;e:do try{if(Qe!==0&&Oe!==null){var w=Oe,k=An;switch(Qe){case 8:Ff(),b=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var H=Qe;if(Qe=0,An=null,so(t,w,k,H),a&&eo){b=0;break e}break;default:H=Qe,Qe=0,An=null,so(t,w,k,H)}}Cw(),b=dt;break}catch(Z){Ly(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Kr=Ws=null,Ye=l,$.H=d,$.A=m,Oe===null&&(rt=null,ze=0,Zc()),b}function Cw(){for(;Oe!==null;)By(Oe)}function Iw(t,i){var a=Ye;Ye|=2;var l=Uy(),d=zy();rt!==t||ze!==i?(Cu=null,Nu=Jt()+500,io(t,i)):eo=bi(t,i);e:do try{if(Qe!==0&&Oe!==null){i=Oe;var m=An;t:switch(Qe){case 1:Qe=0,An=null,so(t,i,m,1);break;case 2:case 9:if(Jg(m)){Qe=0,An=null,Fy(i);break}i=function(){Qe!==2&&Qe!==9||rt!==t||(Qe=7),Er(t)},m.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Jg(m)?(Qe=0,An=null,Fy(i)):(Qe=0,An=null,so(t,i,m,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var w=Oe;if(!b||Ev(b)){Qe=0,An=null;var k=w.sibling;if(k!==null)Oe=k;else{var H=w.return;H!==null?(Oe=H,ku(H)):Oe=null}break t}}Qe=0,An=null,so(t,i,m,5);break;case 6:Qe=0,An=null,so(t,i,m,6);break;case 8:Ff(),dt=6;break e;default:throw Error(s(462))}}kw();break}catch(Z){Ly(t,Z)}while(!0);return Kr=Ws=null,$.H=l,$.A=d,Ye=a,Oe!==null?0:(rt=null,ze=0,Zc(),dt)}function kw(){for(;Oe!==null&&!Vt();)By(Oe)}function By(t){var i=my(t.alternate,t,ti);t.memoizedProps=t.pendingProps,i===null?ku(t):Oe=i}function Fy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ly(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=ly(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:sf(i);default:gy(a,i),i=Oe=qg(i,ti),i=my(a,i,ti)}t.memoizedProps=t.pendingProps,i===null?ku(t):Oe=i}function so(t,i,a,l){Kr=Ws=null,sf(i),Xa=null,bl=0;var d=i.return;try{if(xw(t,d,i,a,ze)){dt=1,wu(t,On(a,t.current)),Oe=null;return}}catch(m){if(d!==null)throw Oe=d,m;dt=1,wu(t,On(a,t.current)),Oe=null;return}i.flags&32768?(He||l===1?t=!0:eo||(ze&536870912)!==0?t=!1:(Gi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),qy(i,t)):ku(i)}function ku(t){var i=t;do{if((i.flags&32768)!==0){qy(i,Gi);return}t=i.return;var a=ww(i.alternate,i,ti);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function qy(t,i){do{var a=Ew(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function Hy(t,i,a,l,d,m,b,w,k){t.cancelPendingCommit=null;do ju();while(Kt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Dd,Oc(t,a,m,b,w,k),t===rt&&(Oe=rt=null,ze=0),no=i,Yi=t,ro=a,Uf=m,zf=d,My=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ow(Pt,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,d=W.p,W.p=2,b=Ye,Ye|=4;try{Tw(t,i,a)}finally{Ye=b,W.p=d,$.T=l}}Kt=1,Gy(),$y(),Ky()}}function Gy(){if(Kt===1){Kt=0;var t=Yi,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=W.p;W.p=2;var d=Ye;Ye|=4;try{Ry(i,t);var m=nm,b=Dg(t.containerInfo),w=m.focusedElem,k=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&jg(w.ownerDocument.documentElement,w)){if(k!==null&&Nd(w)){var H=k.start,Z=k.end;if(Z===void 0&&(Z=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(Z,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Se=w.textContent.length,xe=Math.min(k.start,Se),Je=k.end===void 0?xe:Math.min(k.end,Se);!Q.extend&&xe>Je&&(b=Je,Je=xe,xe=b);var U=kg(w,xe),P=kg(w,Je);if(U&&P&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var B=te.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),xe>Je?(Q.addRange(B),Q.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),Q.addRange(B))}}}}for(te=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Hu=!!tm,nm=tm=null}finally{Ye=d,W.p=l,$.T=a}}t.current=i,Kt=2}}function $y(){if(Kt===2){Kt=0;var t=Yi,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=W.p;W.p=2;var d=Ye;Ye|=4;try{Ey(t,i.alternate,i)}finally{Ye=d,W.p=l,$.T=a}}Kt=3}}function Ky(){if(Kt===4||Kt===3){Kt=0,xa();var t=Yi,i=no,a=ro,l=My;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,no=Yi=null,Yy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ki=null),Fo(a),i=i.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,d=W.p,W.p=2,$.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{$.T=i,W.p=d}}(ro&3)!==0&&ju(),Er(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Bf?Il++:(Il=0,Bf=t):Il=0,kl(0)}}function Yy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function ju(t){return Gy(),$y(),Ky(),Qy()}function Qy(){if(Kt!==5)return!1;var t=Yi,i=Uf;Uf=0;var a=Fo(ro),l=$.T,d=W.p;try{W.p=32>a?32:a,$.T=null,a=zf,zf=null;var m=Yi,b=ro;if(Kt=0,no=Yi=null,ro=0,(Ye&6)!==0)throw Error(s(331));var w=Ye;if(Ye|=4,jy(m.current),Cy(m,m.current,b,a),Ye=w,kl(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Gn,m)}catch{}return!0}finally{W.p=d,$.T=l,Yy(t,i)}}function Xy(t,i,a){i=On(a,i),i=_f(t.stateNode,i,2),t=Li(t,i,2),t!==null&&(gt(t,2),Er(t))}function et(t,i,a){if(t.tag===3)Xy(t,t,a);else for(;i!==null;){if(i.tag===3){Xy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ki===null||!Ki.has(l))){t=On(a,t),a=ey(2),l=Li(i,a,2),l!==null&&(ty(a,l,i,t),gt(l,2),Er(l));break}}i=i.return}}function Gf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Rw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Of=!0,d.add(a),t=jw.bind(null,t,i,a),i.then(t,t))}function jw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(ze&a)===a&&(dt===4||dt===3&&(ze&62914560)===ze&&300>Jt()-Lf?(Ye&2)===0&&io(t,0):Vf|=a,to===ze&&(to=0)),Er(t)}function Wy(t,i){i===0&&(i=wi()),t=za(t,i),t!==null&&(gt(t,i),Er(t))}function Dw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Wy(t,a)}function Mw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Wy(t,a)}function Ow(t,i){return Vr(t,i)}var Du=null,ao=null,$f=!1,Mu=!1,Kf=!1,ia=0;function Er(t){t!==ao&&t.next===null&&(ao===null?Du=ao=t:ao=ao.next=t),Mu=!0,$f||($f=!0,Pw())}function kl(t,i){if(!Kf&&Mu){Kf=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-cn(42|t)+1)-1,m&=d&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,tv(l,m))}else m=ze,m=kn(l,l===rt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||bi(l,m)||(a=!0,tv(l,m));l=l.next}while(a);Kf=!1}}function Vw(){Zy()}function Zy(){Mu=$f=!1;var t=0;ia!==0&&(Gw()&&(t=ia),ia=0);for(var i=Jt(),a=null,l=Du;l!==null;){var d=l.next,m=Jy(l,i);m===0?(l.next=null,a===null?Du=d:a.next=d,d===null&&(ao=a)):(a=l,(t!==0||(m&3)!==0)&&(Mu=!0)),l=d}kl(t)}function Jy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-cn(m),w=1<<b,k=d[b];k===-1?((w&a)===0||(w&l)!==0)&&(d[b]=Ea(w,i)):k<=i&&(t.expiredLanes|=w),m&=~w}if(i=rt,a=ze,a=kn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&cr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||bi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&cr(l),Fo(a)){case 2:case 8:a=mt;break;case 32:a=Pt;break;case 268435456:a=Hn;break;default:a=Pt}return l=ev.bind(null,t),a=Vr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&cr(l),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,i){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ju()&&t.callbackNode!==a)return null;var l=ze;return l=kn(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Vy(t,l,i),Jy(t,Jt()),t.callbackNode!=null&&t.callbackNode===a?ev.bind(null,t):null)}function tv(t,i){if(ju())return null;Vy(t,i,!0)}function Pw(){Kw(function(){(Ye&6)!==0?Vr(ft,Vw):Zy()})}function Yf(){return ia===0&&(ia=zo()),ia}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qn(""+t)}function rv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Lw(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=nv((d[Gt]||null).action),b=l.submitter;b&&(i=(i=b[Gt]||null)?nv(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var w=new Ps("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var k=b?rv(d,b):new FormData(d);mf(a,{pending:!0,data:k,method:d.method,action:m},null,k)}}else typeof m=="function"&&(w.preventDefault(),k=b?rv(d,b):new FormData(d),mf(a,{pending:!0,data:k,method:d.method,action:m},m,k))},currentTarget:d}]})}}for(var Qf=0;Qf<jd.length;Qf++){var Xf=jd[Qf],Uw=Xf.toLowerCase(),zw=Xf[0].toUpperCase()+Xf.slice(1);Jn(Uw,"on"+zw)}Jn(Vg,"onAnimationEnd"),Jn(Pg,"onAnimationIteration"),Jn(Lg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(rw,"onTransitionRun"),Jn(iw,"onTransitionStart"),Jn(sw,"onTransitionCancel"),Jn(Ug,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function iv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var w=l[b],k=w.instance,H=w.currentTarget;if(w=w.listener,k!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=H;try{m(d)}catch(Z){bu(Z)}d.currentTarget=null,m=k}else for(b=0;b<l.length;b++){if(w=l[b],k=w.instance,H=w.currentTarget,w=w.listener,k!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=H;try{m(d)}catch(Z){bu(Z)}d.currentTarget=null,m=k}}}}function Ve(t,i){var a=i[Ts];a===void 0&&(a=i[Ts]=new Set);var l=t+"__bubble";a.has(l)||(sv(i,t,2,!1),a.add(l))}function Wf(t,i,a){var l=0;i&&(l|=4),sv(a,t,l,i)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[Ou]){t[Ou]=!0,Vc.forEach(function(a){a!=="selectionchange"&&(Bw.has(a)||Wf(a,!1,t),Wf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ou]||(i[Ou]=!0,Wf("selectionchange",!1,i))}}function sv(t,i,a,l){switch(Cv(i)){case 2:var d=mE;break;case 8:d=pE;break;default:d=dm}a=d.bind(null,i,a,t),d=void 0,!Fr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Jf(t,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=l.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=dr(w),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){l=m=b;continue e}w=w.parentNode}}l=l.return}Ms(function(){var H=m,Z=Qo(a),te=[];e:{var G=zg.get(t);if(G!==void 0){var Q=Ps,Se=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":Q=Va;break;case"focusin":Se="focus",Q=Da;break;case"focusout":Se="blur",Q=Da;break;case"beforeblur":case"afterblur":Q=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mi;break;case Vg:case Pg:case Lg:Q=Wo;break;case Ug:Q=v;break;case"scroll":case"scrollend":Q=Us;break;case"wheel":Q=S;break;case"copy":case"cut":case"paste":Q=Gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=X}var xe=(i&4)!==0,Je=!xe&&(t==="scroll"||t==="scrollend"),U=xe?G!==null?G+"Capture":null:G;xe=[];for(var P=H,B;P!==null;){var J=P;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=ji(P,U),J!=null&&xe.push(Dl(P,J,B))),Je)break;P=P.return}0<xe.length&&(G=new Q(G,Se,null,a,Z),te.push({event:G,listeners:xe}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Yo&&(Se=a.relatedTarget||a.fromElement)&&(dr(Se)||Se[Lr]))break e;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Se=a.relatedTarget||a.toElement,Q=H,Se=Se?dr(Se):null,Se!==null&&(Je=c(Se),xe=Se.tag,Se!==Je||xe!==5&&xe!==27&&xe!==6)&&(Se=null)):(Q=null,Se=H),Q!==Se)){if(xe=Fs,J="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(xe=el,J="onPointerLeave",U="onPointerEnter",P="pointer"),Je=Q==null?G:Ai(Q),B=Se==null?G:Ai(Se),G=new xe(J,P+"leave",Q,a,Z),G.target=Je,G.relatedTarget=B,J=null,dr(Z)===H&&(xe=new xe(U,P+"enter",Se,a,Z),xe.target=B,xe.relatedTarget=Je,J=xe),Je=J,Q&&Se)t:{for(xe=Q,U=Se,P=0,B=xe;B;B=oo(B))P++;for(B=0,J=U;J;J=oo(J))B++;for(;0<P-B;)xe=oo(xe),P--;for(;0<B-P;)U=oo(U),B--;for(;P--;){if(xe===U||U!==null&&xe===U.alternate)break t;xe=oo(xe),U=oo(U)}xe=null}else xe=null;Q!==null&&av(te,G,Q,xe,!1),Se!==null&&Je!==null&&av(te,Je,Se,xe,!0)}}e:{if(G=H?Ai(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var pe=Sg;else if(Eg(G))if(Ag)pe=ew;else{pe=Zb;var Me=Wb}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ia(H.elementType)&&(pe=Sg):pe=Jb;if(pe&&(pe=pe(t,H))){Tg(te,pe,a,Z);break e}Me&&Me(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Go(G,"number",G.value)}switch(Me=H?Ai(H):window,t){case"focusin":(Eg(Me)||Me.contentEditable==="true")&&(Pa=Me,Cd=H,sl=null);break;case"focusout":sl=Cd=Pa=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Mg(te,a,Z);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":Mg(te,a,Z)}var ye;if(Ce)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Zn?Xn(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_t&&a.locale!=="ko"&&(Zn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Zn&&(ye=Fc()):(Mn=Z,nt="value"in Mn?Mn.value:Mn.textContent,Zn=!0)),Me=Vu(H,be),0<Me.length&&(be=new Jo(be,t,null,a,Z),te.push({event:be,listeners:Me}),ye?be.data=ye:(ye=Wn(a),ye!==null&&(be.data=ye)))),(ye=Ke?tl(t,a):Yb(t,a))&&(be=Vu(H,"onBeforeInput"),0<be.length&&(Me=new Jo("onBeforeInput","beforeinput",null,a,Z),te.push({event:Me,listeners:be}),Me.data=ye)),Lw(te,t,H,a,Z)}iv(te,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vu(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ji(t,a),d!=null&&l.unshift(Dl(t,d,m)),d=ji(t,i),d!=null&&l.push(Dl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function av(t,i,a,l,d){for(var m=i._reactName,b=[];a!==null&&a!==l;){var w=a,k=w.alternate,H=w.stateNode;if(w=w.tag,k!==null&&k===l)break;w!==5&&w!==26&&w!==27||H===null||(k=H,d?(H=ji(a,m),H!=null&&b.unshift(Dl(a,H,k))):d||(H=ji(a,m),H!=null&&b.push(Dl(a,H,k)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var Fw=/\r\n?/g,qw=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(Fw,`
`).replace(qw,"")}function lv(t,i){return i=ov(i),ov(t)===i}function Pu(){}function Ze(t,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(t,""+l);break;case"className":Cs(t,"class",l);break;case"tabIndex":Cs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(t,a,l);break;case"style":Ko(t,l,m);break;case"data":if(i!=="object"){Cs(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",d.name,d,null),Ze(t,i,"formEncType",d.formEncType,d,null),Ze(t,i,"formMethod",d.formMethod,d,null),Ze(t,i,"formTarget",d.formTarget,d,null)):(Ze(t,i,"encType",d.encType,d,null),Ze(t,i,"method",d.method,d,null),Ze(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pu);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Ns(t,"popover",l);break;case"xlinkActuate":jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ns(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uc.get(a)||a,Ns(t,a,l))}}function em(t,i,a,l,d,m){switch(a){case"style":Ko(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!As.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=t[Gt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ns(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,m,b,a,null)}}d&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var w=m=b=d=null,k=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":b=Z;break;case"checked":k=Z;break;case"defaultChecked":H=Z;break;case"value":m=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Z,a,null)}}Ho(t,m,w,k,H,b,d,!1),Ci(t);return;case"select":Ve("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Ze(t,i,d,w,a,null)}i=m,a=b,t.multiple=!!l,i!=null?Ii(t,!!l,i,!1):a!=null&&Ii(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ze(t,i,b,w,a,null)}Lc(t,l,d,m),Ci(t);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,k,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Ve(jl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(Ia(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&em(t,i,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Ze(t,i,w,l,a,null))}function Hw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,w=null,k=null,H=null,Z=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=te;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,te)}}for(var G in l){var Q=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Q!=null||te!=null))switch(G){case"type":m=Q;break;case"name":d=Q;break;case"checked":H=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==te&&Ze(t,i,G,Q,l,te)}}qo(t,b,w,k,H,Z,m,d);return;case"select":Q=b=w=G=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":Q=k;default:l.hasOwnProperty(m)||Ze(t,i,m,null,l,k)}for(d in l)if(m=l[d],k=a[d],l.hasOwnProperty(d)&&(m!=null||k!=null))switch(d){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==k&&Ze(t,i,d,m,l,k)}i=w,a=b,l=Q,G!=null?Ii(t,!!a,G,!1):!!l!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(t,i,w,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":G=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Ze(t,i,b,d,l,m)}Pc(t,G,Q);return;case"option":for(var Se in a)if(G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Ze(t,i,Se,null,l,G)}for(k in l)if(G=l[k],Q=a[k],l.hasOwnProperty(k)&&G!==Q&&(G!=null||Q!=null))switch(k){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,i,k,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)G=a[xe],a.hasOwnProperty(xe)&&G!=null&&!l.hasOwnProperty(xe)&&Ze(t,i,xe,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ze(t,i,H,G,l,Q)}return;default:if(Ia(i)){for(var Je in a)G=a[Je],a.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&em(t,i,Je,void 0,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||em(t,i,Z,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,G);for(te in l)G=l[te],Q=a[te],!l.hasOwnProperty(te)||G===Q||G==null&&Q==null||Ze(t,i,te,G,l,Q)}var tm=null,nm=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function Gw(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,$w=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(Yw)}:hv;function Yw(t){setTimeout(function(){throw t})}function Xi(t){return t==="head"}function fv(t,i){var a=i,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Ml(b.documentElement),a&2&&Ml(b.body),a&4)for(a=b.head,Ml(a),b=a.firstChild;b;){var w=b.nextSibling,k=b.nodeName;b[Si]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(d===0){t.removeChild(m),Fl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Fl(i)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Qw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Si])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=tr(t.nextSibling),t===null)break}return null}function Xw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=tr(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ww(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function tr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var om=null;function mv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function pv(t,i,a){switch(i=Lu(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sa(t)}var Bn=new Map,gv=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ni=W.d;W.d={f:Zw,r:Jw,D:eE,C:tE,L:nE,m:rE,X:sE,S:iE,M:aE};function Zw(){var t=ni.f(),i=Iu();return t||i}function Jw(t){var i=fr(t);i!==null&&i.tag===5&&i.type==="form"?V0(i):ni.r(t)}var lo=typeof document>"u"?null:document;function yv(t,i,a){var l=lo;if(l&&typeof i=="string"&&i){var d=Ut(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),gv.has(d)||(gv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Yt(i,"link",t),vt(i),l.head.appendChild(i)))}}function eE(t){ni.D(t),yv("dns-prefetch",t,null)}function tE(t,i){ni.C(t,i),yv("preconnect",t,i)}function nE(t,i,a){ni.L(t,i,a);var l=lo;if(l&&t&&i){var d='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ut(a.imageSizes)+'"]')):d+='[href="'+Ut(t)+'"]';var m=d;switch(i){case"style":m=co(t);break;case"script":m=uo(t)}Bn.has(m)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ol(m))||i==="script"&&l.querySelector(Vl(m))||(i=l.createElement("link"),Yt(i,"link",t),vt(i),l.head.appendChild(i)))}}function rE(t,i){ni.m(t,i);var a=lo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(t)}if(!Bn.has(m)&&(t=_({rel:"modulepreload",href:t},i),Bn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(m)))return}l=a.createElement("link"),Yt(l,"link",t),vt(l),a.head.appendChild(l)}}}function iE(t,i,a){ni.S(t,i,a);var l=lo;if(l&&t){var d=Ri(l).hoistableStyles,m=co(t);i=i||"default";var b=d.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Ol(m)))w.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(m))&&lm(t,a);var k=b=l.createElement("link");vt(k),Yt(k,"link",t),k._p=new Promise(function(H,Z){k.onload=H,k.onerror=Z}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,zu(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(m,b)}}}function sE(t,i){ni.X(t,i);var a=lo;if(a&&t){var l=Ri(a).hoistableScripts,d=uo(t),m=l.get(d);m||(m=a.querySelector(Vl(d)),m||(t=_({src:t,async:!0},i),(i=Bn.get(d))&&cm(t,i),m=a.createElement("script"),vt(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function aE(t,i){ni.M(t,i);var a=lo;if(a&&t){var l=Ri(a).hoistableScripts,d=uo(t),m=l.get(d);m||(m=a.querySelector(Vl(d)),m||(t=_({src:t,async:!0,type:"module"},i),(i=Bn.get(d))&&cm(t,i),m=a.createElement("script"),vt(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function vv(t,i,a,l){var d=(d=we.current)?Uu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=co(a.href),a=Ri(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var m=Ri(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(Ol(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),m||oE(d,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(a),a=Ri(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+Ut(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function oE(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),vt(i),t.head.appendChild(i))}function uo(t){return'[src="'+Ut(t)+'"]'}function Vl(t){return"script[async]"+t}function xv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(l)return i.instance=l,vt(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Yt(l,"style",d),zu(l,a.precedence,t),i.instance=l;case"stylesheet":d=co(a.href);var m=t.querySelector(Ol(d));if(m)return i.state.loading|=4,i.instance=m,vt(m),m;l=_v(a),(d=Bn.get(d))&&lm(l,d),m=(t.ownerDocument||t).createElement("link"),vt(m);var b=m;return b._p=new Promise(function(w,k){b.onload=w,b.onerror=k}),Yt(m,"link",l),i.state.loading|=4,zu(m,a.precedence,t),i.instance=m;case"script":return m=uo(a.src),(d=t.querySelector(Vl(m)))?(i.instance=d,vt(d),d):(l=a,(d=Bn.get(m))&&(l=_({},a),cm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),vt(d),Yt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zu(l,a.precedence,t));return i.instance}function zu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===i)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bu=null;function bv(t,i,a){if(Bu===null){var l=new Map,d=Bu=new Map;d.set(a,l)}else d=Bu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Si]||m[yt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=t+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function wv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function lE(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function cE(){}function uE(t,i,a){if(Pl===null)throw Error(s(475));var l=Pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=co(a.href),m=t.querySelector(Ol(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fu.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,vt(m);return}m=t.ownerDocument||t,a=_v(a),(d=Bn.get(d))&&lm(a,d),m=m.createElement("link"),vt(m);var b=m;b._p=new Promise(function(w,k){b.onload=w,b.onerror=k}),Yt(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fu.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function hE(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&um(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&um(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fu(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qu=null;function um(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qu=new Map,i.forEach(dE,t),qu=null,Fu.call(t))}function dE(t,i){if(!(i.state.loading&4)){var a=qu.get(t);if(a)var l=a.get(null);else{a=new Map,qu.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=i.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Fu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:ie,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function fE(t,i,a,l,d,m,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Tv(t,i,a,l,d,m,b,w,k,H,Z,te){return t=new fE(t,i,a,b,w,k,H,te),i=1,m===!0&&(i|=24),m=En(3,null,null,i),t.current=m,m.stateNode=t,i=Hd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Yd(m),t}function Sv(t){return t?(t=Ba,t):Ba}function Av(t,i,a,l,d,m){d=Sv(d),l.context===null?l.context=d:l.pendingContext=d,l=Pi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Li(t,l,i),a!==null&&(Nn(a,t,i),ml(a,t,i))}function Rv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hm(t,i){Rv(t,i),(t=t.alternate)&&Rv(t,i)}function Nv(t){if(t.tag===13){var i=za(t,67108864);i!==null&&Nn(i,t,67108864),hm(t,67108864)}}var Hu=!0;function mE(t,i,a,l){var d=$.T;$.T=null;var m=W.p;try{W.p=2,dm(t,i,a,l)}finally{W.p=m,$.T=d}}function pE(t,i,a,l){var d=$.T;$.T=null;var m=W.p;try{W.p=8,dm(t,i,a,l)}finally{W.p=m,$.T=d}}function dm(t,i,a,l){if(Hu){var d=fm(l);if(d===null)Jf(t,i,l,Gu,a),Iv(t,l);else if(yE(d,t,i,a,l))l.stopPropagation();else if(Iv(t,l),i&4&&-1<gE.indexOf(t)){for(;d!==null;){var m=fr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=$n(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var k=1<<31-cn(b);w.entanglements[1]|=k,b&=~k}Er(m),(Ye&6)===0&&(Nu=Jt()+500,kl(0))}}break;case 13:w=za(m,2),w!==null&&Nn(w,m,2),Iu(),hm(m,2)}if(m=fm(l),m===null&&Jf(t,i,l,Gu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Jf(t,i,l,null,a)}}function fm(t){return t=Qo(t),mm(t)}var Gu=null;function mm(t){if(Gu=null,t=dr(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gu=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ba()){case ft:return 2;case mt:return 8;case Pt:case wa:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var pm=!1,Wi=null,Zi=null,Ji=null,Ul=new Map,zl=new Map,es=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,i){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=fr(i),i!==null&&Nv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function yE(t,i,a,l,d){switch(i){case"focusin":return Wi=Bl(Wi,t,i,a,l,d),!0;case"dragenter":return Zi=Bl(Zi,t,i,a,l,d),!0;case"mouseover":return Ji=Bl(Ji,t,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ul.set(m,Bl(Ul.get(m)||null,t,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,zl.set(m,Bl(zl.get(m)||null,t,i,a,l,d)),!0}return!1}function kv(t){var i=dr(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,bd(t.priority,function(){if(a.tag===13){var l=Rn();l=Bo(l);var d=za(a,l);d!==null&&Nn(d,a,l),hm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=fr(a),i!==null&&Nv(i),t.blockedOn=a,!1;i.shift()}return!0}function jv(t,i,a){$u(t)&&a.delete(i)}function vE(){pm=!1,Wi!==null&&$u(Wi)&&(Wi=null),Zi!==null&&$u(Zi)&&(Zi=null),Ji!==null&&$u(Ji)&&(Ji=null),Ul.forEach(jv),zl.forEach(jv)}function Ku(t,i){t.blockedOn===i&&(t.blockedOn=null,pm||(pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vE)))}var Yu=null;function Dv(t){Yu!==t&&(Yu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yu===t&&(Yu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var m=fr(a);m!==null&&(t.splice(i,3),i-=3,mf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Fl(t){function i(k){return Ku(k,t)}Wi!==null&&Ku(Wi,t),Zi!==null&&Ku(Zi,t),Ji!==null&&Ku(Ji,t),Ul.forEach(i),zl.forEach(i);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)kv(a),a.blockedOn===null&&es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[Gt]||null;if(typeof m=="function")b||Dv(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Gt]||null)w=b.formAction;else if(mm(d)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Dv(a)}}}function gm(t){this._internalRoot=t}Qu.prototype.render=gm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();Av(a,l,t,i,null,null)},Qu.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),Iu(),i[Lr]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<es.length&&i!==0&&i<es[a].priority;a++);es.splice(a,0,t),a===0&&kv(t)}};var Mv=e.version;if(Mv!=="19.1.1")throw Error(s(527,Mv,"19.1.1"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var _E={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Gn=Xu.inject(_E),Lt=Xu}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=X0,m=W0,b=Z0,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Tv(t,1,!1,null,null,a,l,d,m,b,w,null),t[Lr]=i.current,Zf(t),new gm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",m=X0,b=W0,w=Z0,k=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=Tv(t,1,!0,i,a??null,l,d,m,b,w,k,H),i.context=Sv(null),a=i.current,l=Rn(),l=Bo(l),d=Pi(l),d.callback=null,Li(a,d,l),a=l,i.current.lanes=a,gt(i,a),Er(i),t[Lr]=i.current,Zf(t),new Qu(i)},Hl.version="19.1.1",Hl}var Hv;function CE(){if(Hv)return _m.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=NE(),_m.exports}var IE=CE();const kE=L_(IE);/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function jE(r={}){function e(o,c){let{pathname:f="/",search:p="",hash:g=""}=ma(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),zm("",{pathname:f,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:sc(c))}function s(o,c){or(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return ME(e,n,s,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function or(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DE(){return Math.random().toString(36).substring(2,10)}function $v(r,e){return{usr:r.state,key:r.key,idx:e}}function zm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:n,key:e&&e.key||s||DE()}}function sc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ma(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ME(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,p="POP",g=null,y=_();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function _(){return(f.state||{idx:null}).idx}function E(){p="POP";let L=_(),K=L==null?null:L-y;y=L,g&&g({action:p,location:Y.location,delta:K})}function A(L,K){p="PUSH";let F=zm(Y.location,L,K);n&&n(F,L),y=_()+1;let ie=$v(F,y),ae=Y.createHref(F);try{f.pushState(ie,"",ae)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ae)}c&&g&&g({action:p,location:Y.location,delta:1})}function O(L,K){p="REPLACE";let F=zm(Y.location,L,K);n&&n(F,L),y=_();let ie=$v(F,y),ae=Y.createHref(F);f.replaceState(ie,"",ae),c&&g&&g({action:p,location:Y.location,delta:0})}function z(L){return OE(L)}let Y={get action(){return p},get location(){return r(o,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,E),g=L,()=>{o.removeEventListener(Gv,E),g=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let K=z(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:A,replace:O,go(L){return f.go(L)}};return Y}function OE(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:sc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function U_(r,e,n="/"){return VE(r,e,n,!1)}function VE(r,e,n,s){let o=typeof e=="string"?ma(e):e,c=ci(o.pathname||"/",n);if(c==null)return null;let f=z_(r);PE(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=YE(c);p=$E(f[g],y,s)}return p}function z_(r,e=[],n=[],s="",o=!1){let c=(f,p,g=o,y)=>{let _={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&g)return;ct(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let E=oi([s,_.relativePath]),A=n.concat(_);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),z_(f.children,e,A,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:HE(E,f.index),routesMeta:A})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let g of B_(f.path))c(f,p,!0,g)}),e}function B_(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=B_(s.join("/")),p=[];return p.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function PE(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:GE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var LE=/^:[\w-]+$/,UE=3,zE=2,BE=1,FE=10,qE=-2,Kv=r=>r==="*";function HE(r,e){let n=r.split("/"),s=n.length;return n.some(Kv)&&(s+=qE),e&&(s+=zE),n.filter(o=>!Kv(o)).reduce((o,c)=>o+(LE.test(c)?UE:c===""?BE:FE),s)}function GE(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function $E(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,_=c==="/"?e:e.slice(c.length)||"/",E=yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),A=g.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:oi([c,E.pathname]),pathnameBase:ZE(oi([c,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(c=oi([c,E.pathnameBase]))}return f}function yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KE(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:E},A)=>{if(_==="*"){let z=p[A]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const O=p[A];return E&&!O?y[_]=void 0:y[_]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function KE(r,e=!1,n=!0){or(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function YE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return or(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ci(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function QE(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ma(r):r;return{pathname:n?n.startsWith("/")?n:XE(n,e):e,search:JE(s),hash:eT(o)}}function XE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F_(r){let e=WE(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function q_(r,e,n,s=!1){let o;typeof r=="string"?o=ma(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=n;else{let E=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}p=E>=0?e[E]:"/"}let g=QE(o,p),y=f&&f!=="/"&&f.endsWith("/"),_=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var oi=r=>r.join("/").replace(/\/\/+/g,"/"),ZE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var H_=["POST","PUT","PATCH","DELETE"];new Set(H_);var nT=["GET",...H_];new Set(nT);var Io=M.createContext(null);Io.displayName="DataRouter";var Gh=M.createContext(null);Gh.displayName="DataRouterState";M.createContext(!1);var G_=M.createContext({isTransitioning:!1});G_.displayName="ViewTransition";var rT=M.createContext(new Map);rT.displayName="Fetchers";var iT=M.createContext(null);iT.displayName="Await";var Dr=M.createContext(null);Dr.displayName="Navigation";var yc=M.createContext(null);yc.displayName="Location";var gi=M.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var vp=M.createContext(null);vp.displayName="RouteError";function sT(r,{relative:e}={}){ct(vc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Dr),{hash:o,pathname:c,search:f}=_c(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:oi([n,c])),s.createHref({pathname:p,search:f,hash:o})}function vc(){return M.useContext(yc)!=null}function yi(){return ct(vc(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(yc).location}var $_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(r){M.useContext(Dr).static||M.useLayoutEffect(r)}function aT(){let{isDataRoute:r}=M.useContext(gi);return r?_T():oT()}function oT(){ct(vc(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(Io),{basename:e,navigator:n}=M.useContext(Dr),{matches:s}=M.useContext(gi),{pathname:o}=yi(),c=JSON.stringify(F_(s)),f=M.useRef(!1);return K_(()=>{f.current=!0}),M.useCallback((g,y={})=>{if(or(f.current,$_),!f.current)return;if(typeof g=="number"){n.go(g);return}let _=q_(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:oi([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,c,o,r])}M.createContext(null);function _c(r,{relative:e}={}){let{matches:n}=M.useContext(gi),{pathname:s}=yi(),o=JSON.stringify(F_(n));return M.useMemo(()=>q_(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function lT(r,e){return Y_(r,e)}function Y_(r,e,n,s,o){ct(vc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(Dr),{matches:f}=M.useContext(gi),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",E=p&&p.route;{let F=E&&E.path||"";Q_(y,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let A=yi(),O;if(e){let F=typeof e=="string"?ma(e):e;ct(_==="/"||F.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${F.pathname}" was given in the \`location\` prop.`),O=F}else O=A;let z=O.pathname||"/",Y=z;if(_!=="/"){let F=_.replace(/^\//,"").split("/");Y="/"+z.replace(/^\//,"").split("/").slice(F.length).join("/")}let L=U_(r,{pathname:Y});or(E||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),or(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=fT(L&&L.map(F=>Object.assign({},F,{params:Object.assign({},g,F.params),pathname:oi([_,c.encodeLocation?c.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?_:oi([_,c.encodeLocation?c.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),f,n,s,o);return e&&K?M.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function cT(){let r=vT(),e=tT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,f)}var uT=M.createElement(cT,null),hT=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?M.createElement(gi.Provider,{value:this.props.routeContext},M.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dT({routeContext:r,match:e,children:n}){let s=M.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(gi.Provider,{value:r},n)}function fT(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,f=n?.errors;if(f!=null){let y=c.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:E,errors:A}=n,O=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||O){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,_,E)=>{let A,O=!1,z=null,Y=null;n&&(A=f&&_.route.id?f[_.route.id]:void 0,z=_.route.errorElement||uT,p&&(g<0&&E===0?(Q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,Y=null):g===E&&(O=!0,Y=_.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,E+1)),K=()=>{let F;return A?F=z:O?F=Y:_.route.Component?F=M.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=y,M.createElement(dT,{match:_,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?M.createElement(hT,{location:n.location,revalidation:n.revalidation,component:z,error:A,children:K(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):K()},null)}function _p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mT(r){let e=M.useContext(Io);return ct(e,_p(r)),e}function pT(r){let e=M.useContext(Gh);return ct(e,_p(r)),e}function gT(r){let e=M.useContext(gi);return ct(e,_p(r)),e}function xp(r){let e=gT(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yT(){return xp("useRouteId")}function vT(){let r=M.useContext(vp),e=pT("useRouteError"),n=xp("useRouteError");return r!==void 0?r:e.errors?.[n]}function _T(){let{router:r}=mT("useNavigate"),e=xp("useNavigate"),n=M.useRef(!1);return K_(()=>{n.current=!0}),M.useCallback(async(o,c={})=>{or(n.current,$_),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Yv={};function Q_(r,e,n){!e&&!Yv[r]&&(Yv[r]=!0,or(!1,n))}M.memo(xT);function xT({routes:r,future:e,state:n,unstable_onError:s}){return Y_(r,void 0,n,s,e)}function ri(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bT({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){ct(!vc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof n=="string"&&(n=ma(n));let{pathname:g="/",search:y="",hash:_="",state:E=null,key:A="default"}=n,O=M.useMemo(()=>{let z=ci(g,f);return z==null?null:{location:{pathname:z,search:y,hash:_,state:E,key:A},navigationType:s}},[f,g,y,_,E,A,s]);return or(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:M.createElement(Dr.Provider,{value:p},M.createElement(yc.Provider,{children:e,value:O}))}function wT({children:r,location:e}){return lT(Bm(r),e)}function Bm(r,e=[]){let n=[];return M.Children.forEach(r,(s,o)=>{if(!M.isValidElement(s))return;let c=[...e,o];if(s.type===M.Fragment){n.push.apply(n,Bm(s.props.children,c));return}ct(s.type===ri,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bm(s.props.children,c)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function $h(r){return r!=null&&typeof r.tagName=="string"}function ET(r){return $h(r)&&r.tagName.toLowerCase()==="button"}function TT(r){return $h(r)&&r.tagName.toLowerCase()==="form"}function ST(r){return $h(r)&&r.tagName.toLowerCase()==="input"}function AT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function RT(r,e){return r.button===0&&(!e||e==="_self")&&!AT(r)}var Wu=null;function NT(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var CT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!CT.has(r)?(or(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function IT(r,e){let n,s,o,c,f;if(TT(r)){let p=r.getAttribute("action");s=p?ci(p,e):null,n=r.getAttribute("method")||sh,o=Tm(r.getAttribute("enctype"))||ah,c=new FormData(r)}else if(ET(r)||ST(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?ci(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||sh,o=Tm(r.getAttribute("formenctype"))||Tm(p.getAttribute("enctype"))||ah,c=new FormData(p,r),!NT()){let{name:y,type:_,value:E}=r;if(_==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,E)}}else{if($h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kT(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ci(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function MT(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await jT(c,n);return f.links?f.links():[]}return[]}));return LT(s.flat(1).filter(DT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qv(r,e,n,s,o,c){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function OT(r,e,{includeHydrateFallback:n}={}){return VT(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function VT(r){return[...new Set(r)]}function PT(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function LT(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(PT(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function X_(){let r=M.useContext(Io);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function UT(){let r=M.useContext(Gh);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wp=M.createContext(void 0);wp.displayName="FrameworkContext";function W_(){let r=M.useContext(wp);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function zT(r,e){let n=M.useContext(wp),[s,o]=M.useState(!1),[c,f]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,A=M.useRef(null);M.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=K=>{K.forEach(F=>{f(F.isIntersecting)})},L=new IntersectionObserver(Y,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),M.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let O=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:Gl(p,O),onBlur:Gl(g,z),onMouseEnter:Gl(y,O),onMouseLeave:Gl(_,z),onTouchStart:Gl(E,O)}]:[!1,A,{}]}function Gl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function BT({page:r,...e}){let{router:n}=X_(),s=M.useMemo(()=>U_(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?M.createElement(qT,{page:r,matches:s,...e}):null}function FT(r){let{manifest:e,routeModules:n}=W_(),[s,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return MT(r,e,n).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,n]),s}function qT({page:r,matches:e,...n}){let s=yi(),{manifest:o,routeModules:c}=W_(),{basename:f}=X_(),{loaderData:p,matches:g}=UT(),y=M.useMemo(()=>Qv(r,e,g,o,s,"data"),[r,e,g,o,s]),_=M.useMemo(()=>Qv(r,e,g,o,s,"assets"),[r,e,g,o,s]),E=M.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,Y=!1;if(e.forEach(K=>{let F=o.routes[K.route.id];!F||!F.hasLoader||(!y.some(ie=>ie.route.id===K.route.id)&&K.route.id in p&&c[K.route.id]?.shouldRevalidate||F.hasClientLoader?Y=!0:z.add(K.route.id))}),z.size===0)return[];let L=kT(r,f,"data");return Y&&z.size>0&&L.searchParams.set("_routes",e.filter(K=>z.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[f,p,s,o,y,e,r,c]),A=M.useMemo(()=>OT(_,o),[_,o]),O=FT(_);return M.createElement(M.Fragment,null,E.map(z=>M.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),A.map(z=>M.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),O.map(({key:z,link:Y})=>M.createElement("link",{key:z,nonce:n.nonce,...Y})))}function HT(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z_&&(window.__reactRouterVersion="7.9.2")}catch{}function GT({basename:r,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=jE({window:n,v5Compat:!0}));let o=s.current,[c,f]=M.useState({action:o.action,location:o.location}),p=M.useCallback(g=>{M.startTransition(()=>f(g))},[f]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.createElement(bT,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:p,target:g,to:y,preventScrollReset:_,viewTransition:E,...A},O){let{basename:z}=M.useContext(Dr),Y=typeof y=="string"&&J_.test(y),L,K=!1;if(typeof y=="string"&&Y&&(L=y,Z_))try{let T=new URL(window.location.href),j=y.startsWith("//")?new URL(T.protocol+y):new URL(y),C=ci(j.pathname,z);j.origin===T.origin&&C!=null?y=C+j.search+j.hash:K=!0}catch{or(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=sT(y,{relative:o}),[ie,ae,se]=zT(s,A),ue=QT(y,{replace:f,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:E});function I(T){e&&e(T),T.defaultPrevented||ue(T)}let R=M.createElement("a",{...A,...se,href:L||F,onClick:K||c?e:I,ref:HT(O,ae),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return ie&&!Y?M.createElement(M.Fragment,null,R,M.createElement(BT,{page:F})):R});Mt.displayName="Link";var $T=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:p,children:g,...y},_){let E=_c(f,{relative:y.relative}),A=yi(),O=M.useContext(Gh),{navigator:z,basename:Y}=M.useContext(Dr),L=O!=null&&eS(E)&&p===!0,K=z.encodeLocation?z.encodeLocation(E).pathname:E.pathname,F=A.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(F=F.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&Y&&(ie=ci(ie,Y)||ie);const ae=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let se=F===K||!o&&F.startsWith(K)&&F.charAt(ae)==="/",ue=ie!=null&&(ie===K||!o&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),I={isActive:se,isPending:ue,isTransitioning:L},R=se?e:void 0,T;typeof s=="function"?T=s(I):T=[s,se?"active":null,ue?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(I):c;return M.createElement(Mt,{...y,"aria-current":R,className:T,ref:_,style:j,to:f,viewTransition:p},typeof g=="function"?g(I):g)});$T.displayName="NavLink";var KT=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:f=sh,action:p,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:E,...A},O)=>{let z=ZT(),Y=JT(p,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&J_.test(p),F=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let ae=ie.nativeEvent.submitter,se=ae?.getAttribute("formmethod")||f;z(ae||ie.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:c,relative:y,preventScrollReset:_,viewTransition:E})};return M.createElement("form",{ref:O,method:L,action:Y,onSubmit:s?g:F,...A,"data-discover":!K&&r==="render"?"true":void 0})});KT.displayName="Form";function YT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e2(r){let e=M.useContext(Io);return ct(e,YT(r)),e}function QT(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=aT(),g=yi(),y=_c(r,{relative:c});return M.useCallback(_=>{if(RT(_,e)){_.preventDefault();let E=n!==void 0?n:sc(g)===sc(y);p(r,{replace:E,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[g,p,y,n,s,e,r,o,c,f])}var XT=0,WT=()=>`__${String(++XT)}__`;function ZT(){let{router:r}=e2("useSubmit"),{basename:e}=M.useContext(Dr),n=yT();return M.useCallback(async(s,o={})=>{let{action:c,method:f,encType:p,formData:g,body:y}=IT(s,e);if(o.navigate===!1){let _=o.fetcherKey||WT();await r.fetch(_,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function JT(r,{relative:e}={}){let{basename:n}=M.useContext(Dr),s=M.useContext(gi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={..._c(r||".",{relative:e})},f=yi();if(r==null){c.search=f.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let _=p.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:oi([n,c.pathname])),sc(c)}function eS(r,{relative:e}={}){let n=M.useContext(G_);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=e2("useViewTransitionState"),o=_c(r,{relative:e});if(!n.isTransitioning)return!1;let c=ci(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ci(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,c)!=null}const tS="/codme/assets/Logo-CAkruFtu.png",nS="/codme/assets/blur_bg-1-CSoOZOH3.png",rS="/codme/assets/Hero_arduino-DwUUAWH5.png",iS="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Menu_Alt_02'%3e%3cpath%20id='Vector'%20d='M11%2017H19M5%2012H19M11%207H19'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",sS="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Close_LG'%3e%3cpath%20id='Vector'%20d='M21%2021L12%2012M12%2012L3%203M12%2012L21.0001%203M12%2012L3%2021.0001'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",aS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2017.211%2017.211'%20xml:space='preserve'%20fill='%239a1518'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cg%3e%3cpath%20style='fill:%239a1518;'%20d='M14.148,7.781l-5.579,3.327L3.097,7.781l-0.455,2.841c0.002-0.004,0.006-0.007,0.011-0.013%20c-0.065,0.109-0.102,0.222-0.102,0.337c0,1.003,4.418,4.094,5.821,4.094c1.404,0,6.323-3.091,6.323-4.094%20c0-0.109-0.036-0.214-0.092-0.532L14.148,7.781z'/%3e%3cpath%20style='fill:%239a1518;'%20d='M17.211,4.873L8.635,2.17l-7.66,2.443C0.867,4.63,0.765,4.658,0.684,4.706l0,0l0,0%20c-0.098,0.058-0.165,0.142-0.17,0.266C0.473,5.468,0,11.17,0,11.17l0.514,1.708l0.477-1.708L0.789,5.294l7.823,4.813L17.211,4.873%20z%20M8.015,5.118H0.783l0.756-0.413h6.385C8.007,4.56,8.203,4.458,8.431,4.458c0.304,0,0.55,0.181,0.55,0.403%20c0,0.223-0.246,0.404-0.55,0.404C8.261,5.267,8.115,5.207,8.015,5.118z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",oS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.063%2021.7917C10.3894%2022.1483%2011%2021.9534%2011%2021.4699V4C10%203%208.91255%202.57151%207.78361%202.32246C5.78311%201.88113%204.0024%201.97693%202.91265%202.11876C1.70543%202.27587%201%203.34931%201%204.40561V17.5662C1%2018.9895%202.18834%2020.1115%203.56807%2020.066C4.71011%2020.0284%206.2952%2020.0688%207.73105%2020.4158C8.82596%2020.6803%209.52237%2021.2009%2010.063%2021.7917Z'%20fill='%239a1518'/%3e%3cpath%20d='M13.937%2021.7917C13.6106%2022.1483%2013%2021.9534%2013%2021.4699V4C14%203%2015.0874%202.57151%2016.2164%202.32246C18.2169%201.88113%2019.9976%201.97693%2021.0873%202.11876C22.2946%202.27587%2023%203.34931%2023%204.40561V17.5662C23%2018.9895%2021.8117%2020.1115%2020.4319%2020.066C19.2899%2020.0284%2017.7048%2020.0688%2016.269%2020.4158C15.174%2020.6803%2014.4776%2021.2009%2013.937%2021.7917Z'%20fill='%239a1518'/%3e%3c/g%3e%3c/svg%3e",lS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-1%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3emegaphone%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-206.000000,%20-310.000000)'%20fill='%239a1518'%3e%3cpath%20d='M224,330%20L227,330%20L227,316%20L224,316%20L224,330%20Z%20M236,310%20L229,314.667%20L229,331.333%20L236,336%20C237.104,336%20238,335.104%20238,334%20L238,312%20C238,310.896%20237.104,310%20236,310%20L236,310%20Z%20M206,323%20C206,326.733%20208.561,329.148%20212.019,329.81%20L212,330%20L212,338%20C212,339.104%20212.896,340%20214,340%20L217,340%20C218.104,340%20219,339.104%20219,338%20L219,330%20L222,330%20L222,316%20L214,316%20C209.582,316%20206,318.582%20206,323%20L206,323%20Z'%20id='megaphone'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",cS="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-4%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3elocation%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-106.000000,%20-413.000000)'%20fill='%239a1518'%3e%3cpath%20d='M118,422%20C116.343,422%20115,423.343%20115,425%20C115,426.657%20116.343,428%20118,428%20C119.657,428%20121,426.657%20121,425%20C121,423.343%20119.657,422%20118,422%20L118,422%20Z%20M118,430%20C115.239,430%20113,427.762%20113,425%20C113,422.238%20115.239,420%20118,420%20C120.761,420%20123,422.238%20123,425%20C123,427.762%20120.761,430%20118,430%20L118,430%20Z%20M118,413%20C111.373,413%20106,418.373%20106,425%20C106,430.018%20116.005,445.011%20118,445%20C119.964,445.011%20130,429.95%20130,425%20C130,418.373%20124.627,413%20118,413%20L118,413%20Z'%20id='location'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",uS="/codme/assets/official-logo-CJy_pXel.png",on={official_logo:uS,location:cS,megaphone:lS,book_open:oS,graduation_hat:aS,logo:tS,bgImage1:nS,hero_img:rS,menu_icon:iS,close_icon:sS},hS=()=>{const[r,e]=M.useState(!1),n=yi(),s=o=>n.pathname===o;return h.jsxs("div",{className:`flex justify-between items-center px-4 sm:px-12 lg:px-24 xl:px-40 py-4\r
                 sticky top-0 z-50 backdrop-blur-xl bg-white/20 border border-white/30\r
                 shadow-[0_4px_30px_rgba(0,0,0,0.1)]\r
                 before:content-[""] before:absolute before:inset-0\r
                 before:bg-gradient-to-br before:from-white/40 before:to-transparent\r
                 before:pointer-events-none relative`,children:[h.jsx(Mt,{to:"/",className:"flex-shrink-0",children:h.jsx("img",{src:on.logo,className:"w-28 sm:w-32 md:w-36 lg:w-40 relative z-10 cursor-pointer",alt:"Logo"})}),h.jsxs("div",{className:"hidden lg:flex items-center gap-6 lg:gap-8 text-gray-700 text-base lg:text-lg",children:[h.jsx(Mt,{to:"/",className:`hover:text-primary transition-colors ${s("/")?"text-primary font-semibold":""}`,children:"หน้าหลัก"}),h.jsx(Mt,{to:"/admission",className:`hover:text-primary transition-colors ${s("/admission")?"text-primary font-semibold":""}`,children:"เกณฑ์การรับเข้า"}),h.jsx(Mt,{to:"/course",className:`hover:text-primary transition-colors ${s("/course")?"text-primary font-semibold":""}`,children:"ข้อมูลหลักสูตร"}),h.jsx(Mt,{to:"/activity",className:`hover:text-primary transition-colors ${s("/activity")?"text-primary font-semibold":""}`,children:"แนะแนว&กิจกรรม"}),h.jsx(Mt,{to:"/contact",className:`hover:text-primary transition-colors ${s("/contact")?"text-primary font-semibold":""}`,children:"ติดต่อ"})]}),h.jsxs("div",{className:`fixed top-0 bottom-0 right-0 z-50
          ${r?"w-72":"w-0"}
          overflow-hidden transition-all duration-300 ease-in-out
          bg-primary text-white min-h-screen flex flex-col pt-16
          lg:hidden`,children:[h.jsx("img",{src:on.close_icon,alt:"Close",className:"w-6 absolute right-4 top-4 cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1)}),h.jsxs("div",{className:"flex flex-col gap-6 px-8 py-8",children:[h.jsx(Mt,{to:"/",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/")?"font-semibold text-white":"text-white/90"}`,children:"หน้าหลัก"}),h.jsx(Mt,{to:"/admission",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/admission")?"font-semibold text-white":"text-white/90"}`,children:"เกณฑ์การรับเข้า"}),h.jsx(Mt,{to:"/course",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/course")?"font-semibold text-white":"text-white/90"}`,children:"ข้อมูลหลักสูตร"}),h.jsx(Mt,{to:"/activity",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/activity")?"font-semibold text-white":"text-white/90"}`,children:"แนะแนว&กิจกรรม"}),h.jsx(Mt,{to:"/contact",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/contact")?"font-semibold text-white":"text-white/90"}`,children:"ติดต่อ"}),h.jsx(Mt,{to:"/feedback",onClick:()=>e(!1),className:`flex items-center justify-center gap-2\r
                       bg-white text-primary px-6 py-3 rounded-full mt-6\r
                       cursor-pointer hover:scale-105 transition-all\r
                       font-semibold text-base shadow-lg`,children:"ข้อเสนอแนะ →"})]})]}),h.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[h.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-black/10 rounded-lg transition-colors lg:hidden","aria-label":"Open menu",children:h.jsx("img",{src:on.menu_icon,alt:"Menu",className:"w-6 h-6"})}),h.jsx(Mt,{to:"/feedback",className:`hidden lg:flex items-center gap-2\r
                     bg-primary text-white px-4 py-2 lg:px-6 lg:py-3 rounded-full\r
                     cursor-pointer hover:scale-105 hover:bg-primary/90 \r
                     transition-all font-medium text-sm lg:text-base\r
                     shadow-lg hover:shadow-xl`,children:"ข้อเสนอแนะ →"})]})]})};var t2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xv=os.createContext&&os.createContext(t2),dS=["attr","size","title"];function fS(r,e){if(r==null)return{};var n=mS(r,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function mS(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function vh(){return vh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},vh.apply(this,arguments)}function Wv(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function _h(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wv(Object(n),!0).forEach(function(s){pS(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function pS(r,e,n){return e=gS(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function gS(r){var e=yS(r,"string");return typeof e=="symbol"?e:e+""}function yS(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function n2(r){return r&&r.map((e,n)=>os.createElement(e.tag,_h({key:n},e.attr),n2(e.child)))}function vS(r){return e=>os.createElement(_S,vh({attr:_h({},r.attr)},e),n2(r.child))}function _S(r){var e=n=>{var{attr:s,size:o,title:c}=r,f=fS(r,dS),p=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),os.createElement("svg",vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:_h(_h({color:r.color||n.color},n.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&os.createElement("title",null,c),r.children)};return Xv!==void 0?os.createElement(Xv.Consumer,null,n=>e(n)):e(t2)}function xS(r){return vS({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}const bS=()=>h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
          @media (min-width: 1600px) {
            .footer-desktop {
              margin-top: -120px;
            }
          }
        `}),h.jsxs("footer",{className:"bg-gray-100 py-6 px-4 mt-10 footer-desktop",children:[h.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 mt-5",children:[h.jsxs("div",{className:"col-span-1",children:[h.jsx("div",{className:"flex items-center mb-4",children:h.jsx("img",{src:on.logo,alt:"โลโก้มหาวิทยาลัยขอนแก่น",className:"w-32 sm:w-40 relative z-10"})}),h.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"แหล่งรวมข้อมูลและความรู้ด้านวิศวกรรมคอมพิวเตอร์และวิศวกรรมสื่อดิจิตอล มหาวิทยาลัยขอนแก่น เพื่อการเรียนรู้และพัฒนาในยุคเทคโนโลยี"}),h.jsxs("nav",{className:"flex space-x-4",children:[h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"หน้าแรก"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"เกณฑ์การรับเข้า"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"ข้อมูลหลักสูตร"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"แนะแนว&กิจกรรม"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"ติดต่อเรา"})]})]}),h.jsxs("div",{className:"col-span-1 flex flex-col items-start",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"ติดตามข่าวสาร"}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"ติดตามเราในโซเชียลมีเดียเพื่อรับข้อมูลข่าวสารและความรู้ใหม่ๆ ด้านเทคโนโลยีและวิศวกรรม"}),h.jsx("div",{className:"flex space-x-4",children:h.jsx("a",{href:"#",className:"text-gray-600 hover:[color:#9a1518] transition-colors",children:h.jsx(xS,{size:20})})})]})]}),h.jsx("hr",{className:"my-8 border-gray-300"}),h.jsx("div",{className:"max-w-7xl mx-auto flex justify-center text-sm text-gray-600",children:h.jsx("p",{children:"ลิขสิทธิ์ 2568 © วิศวกรรมคอมพิวเตอร์และสื่อดิจิตอล มหาวิทยาลัยขอนแก่น - สงวนสิทธิ์ทุกประการ"})})]})]}),wS={BASE_URL:"/codme/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"/codme/",VITE_GEMINI_API_KEY:"AIzaSyBprj3OSZ2AI5OQNvzvuLu25UFF1biCLJo"},Sm="AIzaSyBprj3OSZ2AI5OQNvzvuLu25UFF1biCLJo",ES="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",TS=()=>{const[r,e]=M.useState(!1),[n,s]=M.useState(!1),[o,c]=M.useState([]),[f,p]=M.useState(""),[g,y]=M.useState(!1),[_,E]=M.useState(!1),[A,O]=M.useState(""),[z,Y]=M.useState(""),L=M.useRef(null),K=M.useRef(!1),F=M.useRef(!1),ie=M.useRef(!1),ae=async(C,V)=>{try{console.log("Fetching course data from:",C);const N=await fetch(C);if(!N.ok)throw new Error(`HTTP error! status: ${N.status} from ${C}`);const ve=await N.text();console.log(`✅ Successfully loaded data from ${C}`),V(ve)}catch(N){console.error(`❌ Error loading course knowledge from ${C}:`,N)}},se=M.useCallback(C=>{const N=C.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").split(`
`);let ve=!1,me=[];for(let $ of N)if($.trim().startsWith("*")&&!$.trim().startsWith("**")){ve||(me.push('<ul class="list-disc list-inside space-y-1 mt-2">'),ve=!0);const W=$.trim().substring(1).trim();me.push(`<li>${W}</li>`)}else ve&&(me.push("</ul>"),ve=!1),$.trim()&&me.push(`<p class="mb-2">${$}</p>`);return ve&&me.push("</ul>"),me.join("")},[]);M.useEffect(()=>{ie.current||(ie.current=!0,console.log("🔍 Checking API Key..."),console.log("📋 All environment variables:",wS),console.log("✅ GEMINI_API_KEY loaded successfully"),console.log("🔑 API Key length:",Sm.length),console.log("🔑 API Key preview:",Sm.substring(0,10)+"..."))},[]),M.useEffect(()=>{if(!F.current){F.current=!0;const C="/codme/";ae(`${C}data/course_coe.txt`,O),ae(`${C}data/course_dme.txt`,Y)}},[]),M.useEffect(()=>{K.current||(c([{sender:"ai",text:"สวัสดีครับ! ฉันคือผู้ช่วยอัจฉริยะของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล มหาวิทยาลัยขอนแก่น พร้อมให้คำปรึกษาเกี่ยวกับหลักสูตรและวิชาเรียนต่างๆ มีอะไรให้ช่วยไหมครับ?"}]),K.current=!0)},[]),M.useEffect(()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight)},[o]);const ue=()=>{r?(e(!1),setTimeout(()=>s(!1),300)):(s(!0),setTimeout(()=>e(!0),10))},I=M.useCallback(async(C,V)=>{if(!C.trim())return;const N=C.toLowerCase(),me=["ยื่นคำร้อง","ยื่น คำร้อง","คำร้อง","ขอคำร้อง","ลาพักการศึกษา","ลาพัก","ลาถอน","ขอถอน","ขอลาพัก","ยื่นลาพักการศึกษา","ยื่นลาพัก","ยื่นถอน","ถอนทุกวิชา"].some(Ne=>C.includes(Ne));me&&E(!0);const W=["เรียนเกิน","ลงทะเบียนเกิน","หน่วยกิตเกิน","เกิน 22","เกิน 22 หน่วยกิต","ลงเกิน"].some(Ne=>N.includes(Ne)),Te=["รีเกรด","regrade","สามารถรีเกรด","ขอรีเกรด","อยากรีเกรด"].some(Ne=>N.includes(Ne)),re=["ถอน","ถอนวิชา"].some(Ne=>N.includes(Ne)),ce=["F","f","เกรด F","grade F"].some(Ne=>N.includes(Ne)),ge=N.includes("เกียรตินิยม")&&N.includes("ถอน"),De=N.includes("เกียรตินิยม")&&N.includes("F"),It=["พอร์ท","พอร์ต","Portfolio","Port","รอบ 1","รอบ1","รอบแรก"].some(Ne=>N.includes(Ne)),xn=["แรนด้อม","หลุด","Random"].some(Ne=>N.includes(Ne)),vi=["ที่นั่งสำรอง","สำรอง","Reserve"].some(Ne=>N.includes(Ne));y(!0),c(Ne=>[...Ne,{sender:"user",text:C}]),p("");const _i="คุณเป็น AI ผู้ช่วยของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล มหาวิทยาลัยขอนแก่น ให้คำแนะนำเกี่ยวกับหลักสูตรและวิชาเรียนต่างๆ",Vr=N.includes("หลักสูตร")||N.includes("วิชา")||N.includes("คณะ")||N.includes("เรียน")||N.includes("สาขา")||N.includes("คอมพิวเตอร์")||N.includes("ดิจิตอล")||N.includes("ภาควิชา")||N.includes("อาจารย์")||N.includes("ผู้สอน")||N.includes("ชื่ออาจารย์")||N.includes("ใครสอน");let cr="";(A||z)&&Vr&&(cr=`ข้อมูลหลักสูตรและวิชาเรียน รวมถึงอาจารย์ผู้สอน:
${A?`--- หลักสูตรวิศวกรรมคอมพิวเตอร์ ---
${A}`:""}
${z?`--- หลักสูตรสื่อดิจิทัล ---
${z}`:""}
กรุณาตอบคำถามโดยอ้างอิงจากข้อมูลด้านบนเป็นหลัก ถ้าคำถามไม่เกี่ยวข้องกับข้อมูลที่มี ให้ตอบตามความรู้ทั่วไปแต่แจ้งให้ผู้ใช้ทราบว่าข้อมูลนี้ไม่ได้มาจากฐานข้อมูลหลักสูตร`);let Vt="";me&&(Vt+=`คำถามเกี่ยวกับการยื่นคำร้อง: ตอบว่า "คุณสามารถยื่นคำร้องต่างๆ ได้ผ่านเว็บไซต์ https://req.kku.ac.th โดยสามารถดูรายละเอียดวันที่เปิดให้ยื่นคำร้องได้ที่กลุ่มหรือเพจของทางสาขา COE: CoE Students KKU, DME: Digital Media Engineering KKU"

`,Vt+=`คำถามเกี่ยวกับการลาพักการศึกษา: ตอบว่า "หากคุณต้องการลาพักการศึกษา คุณสามารถยื่นคำร้องได้ผ่านเว็บไซต์ https://req.kku.ac.th ในช่วงเวลาที่มีการเปิดให้ยื่นคำร้อง ในการลาพักไม่นับเป็นระยะเวลาในการศึกษา โดยนักศึกษามีเวลาเรียน 8 ปี ในระหว่างนั้นหากคุณประสบปัญหาใดๆขณะเรียนที่ทำให้ต้องพักการศึกษา คุณสามารถยื่นลาพักได้ โดยการลาพักนั้นจะไม่นับเป็นเวลาการศึกษา"

`,Vt+=`คำถามเกี่ยวกับการถอนทุกรายวิชา: ตอบว่า "ในการที่จะถอนทุกวิชานั้น คุณจำเป็นต้องยื่นลาพักก่อนครับ ซึ่งการยื่นลาพักจะหมดเขตก่อน ฉะนั้นควรรีบยื่นแต่เนิ่นๆครับ มิฉะนั้นจะมีค่าธรรมเนียมเพิ่มหากยื่นช้า"

`),W&&(Vt+=`คำถามเกี่ยวกับการลงทะเบียนหน่วยกิตเกิน: ตอบว่า "คุณสามารถทำได้นะครับ! แต่ถ้าหากต้องการลงทะเบียนหน่วยกิตเกิน 22 หน่วยกิต จำเป็นต้องติดต่อขอลงทะเบียนมากกว่ากำหนดกับฝ่ายทะเบียนของคณะหรือสาขา เพื่อดำเนินการตามขั้นตอนต่อไป"

`),Te&&(Vt+=`คำถามเกี่ยวกับการรีเกรด: ตอบว่า "หากต้องการรีเกรด คุณสามารถรีเกรดได้แค่เกรด F, D และ D+ เท่านั้นนะครับ ยกเว้นในกรณีที่เกรดเฉลี่ยรวมไม่เพียงพอในการจบการศึกษา ถึงจะสามารถรีเกรด C ได้ครับ"

`),re&&(Vt+=`คำถามเกี่ยวกับการถอน: ตอบว่า "การถอนรายวิชานั้น ไม่มีผลต่อการคิดเกรดซึ่งจะมีการแสดงผลในทรานสคริปต์ระหว่างเรียน แต่ไม่แสดงผลในทรานสคริปต์เมื่อเรียนจบครับ"

`),ce&&(Vt+=`คำถามเกี่ยวกับการติดF: ตอบว่า "ในการติด F หากเป็นรายวิชาที่ไม่บังคับ (วิชาเสรีและวิชาภาค) สามารถติดได้นะครับ ถ้าเกรดยังผ่านเกณฑ์จะยังสามารถเรียนจบได้อยู่ แต่ในทางที่ดีควรทำการลงเรียนเพื่อแก้ F เนื่องจากจะขึ้นแสดงในทรานสคริปต์หลังจากเรียนจบ หากทำการแก้ ในทรานสคริปต์จะขึ้นแสดงเฉพาะเกรดที่ดีที่สุดครับ"

`),De&&(Vt+=`คำถามเกี่ยวกับเกียรตินิยมหากติดF: ตอบว่า "หากติด F ถือว่าหมดสิทธิ์ในการได้เกียรตินิยมอย่างไม่มีข้อยกเว้นครับ แต่อย่าพึ่งท้อ ลองหาเป้าหมายอื่นๆดูไหมครับ"

`,Vt+=`คำถามเกี่ยวกับเกียรตินิยมหากติดF: ต้องตอบชัดเจนว่า ติด F ถือว่าหมดสิทธิ์ในการได้เกียรตินิยมอย่างไม่มีข้อยกเว้น สามารถให้กำลังใจได้ แต่ย้ำชัดเจนว่า หมดสิทธิ์ในการได้เกียรตินิยม

`),ge&&(Vt+=`คำถามเกี่ยวกับเกียรตินิยมและการถอน: ตอบว่า "การถอนไม่ส่งผลต่อการได้รับเกียรตินิยมครับ ใดๆก็ตามหากต้องการเกียรตินิยมควรระวังเนื่องจากหากติด F จะหมดสิทธิ์ในการได้เกียรตินิยมทันที โดยต่อให้ถอนเพื่อรีเกรดให้สูงขึ้นแต่ในการคำนวณเกรดจะคิดตามเกรดจริงที่ได้ในครั้งแรกครับ"

`),It&&(Vt+=`คำถามเกี่ยวกับการเข้ารอบพอร์ตฟอลิโอ: ตอบว่า "หากคุณต้องการเข้ารอบ Portfolio แนะนำให้ตรวจดูรายละเอียดได้ที่เว็บไซต์ https://kku.world/porten69 พอร์ทที่จะส่งควรถูกต้องและตรงตามระเบียบเกณฑ์ของมหาวิทยาลัย มีประทับตราอย่างชัดเจน"

`),xn&&(Vt+=`คำถามเกี่ยวกับการrandom: ตอบว่า "การลงทะเบียนเรียนแล้วมีการแรนด้อมมาจากการที่วิชาที่คุณลงนั้นเป็นวิชาที่มีจำนวนคนลงสูง หรือคุณเลือกลงในเซคที่มีคนลงเยอะ หรือวิชาเสรีที่มีคนสนใจเป็นจำนวนมาก จึงต้องมีการแรนด้อมเพื่อความเท่าเทียมแก่นักศึกษาครับ"

`),vi&&(Vt+=`คำถามเกี่ยวกับที่นั่งสำรอง: ตอบว่า "ในปกติ แต่ละวิชาจะมีที่นั่งพอสำหรับนักศึกษาในภาคเรียนนั้นๆ การที่รายวิชาดังกล่าวเต็มอาจมาจากการที่คุณต้องการลงเรียนซ้ำและไม่ได้สำรองที่นั่ง คุณสามารถยื่นสำรองที่นั่งได้ผ่านเว็บไซต์ https://req.kku.ac.th โดยต้องเตรียมเอกสารแบบแผนการเรียนที่คุณได้วางไว้ เพื่อประกอบการพิจารณาในการให้สิทธิสำรองที่นั่ง"

`);const Jt=V.filter(Ne=>Ne.sender==="user"||Ne.sender==="ai").slice(Math.max(V.length-8,0)).map(Ne=>({role:Ne.sender==="user"?"user":"model",parts:[{text:Ne.text}]})),ba=`${_i}
${Vt}${cr?`${cr}

`:""}คำถาม: ${C}`,ft=[...Jt,{role:"user",parts:[{text:ba}]}],mt=3;let Pt=0,wa=!1,Hn="ขออภัย ไม่ได้รับคำตอบจาก AI หรือเกิดข้อผิดพลาดในการเชื่อมต่อ";for(;Pt<mt&&!wa;){Pt++;try{console.log(`🔄 Attempt ${Pt} - Sending request to Gemini API...`);const Ne=await fetch(ES,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":Sm},body:JSON.stringify({contents:ft,safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(console.log(`📡 Response status: ${Ne.status}`),!Ne.ok){if(Ne.status===429||Ne.status>=500){console.warn(`Attempt ${Pt} failed with status ${Ne.status}. Retrying...`),await new Promise(Lt=>setTimeout(Lt,1e3*Pt));continue}const Gn=await Ne.text();throw console.error("API error response:",Gn),new Error(`API error ${Ne.status}: ${Gn}`)}const pt=await Ne.json();console.log("✅ Received response from Gemini API"),pt.promptFeedback&&pt.promptFeedback.blockReason?Hn=`ข้อความของคุณถูกบล็อกโดยระบบความปลอดภัยของ AI: ${pt.promptFeedback.blockReason}`:pt.candidates?.[0]?.finishReason==="SAFETY"?Hn="ขออภัย คำตอบของ AI ถูกบล็อกโดยระบบความปลอดภัย":Hn=pt.candidates?.[0]?.content?.parts?.[0]?.text||"ไม่ได้รับคำตอบจาก AI ที่ถูกต้อง",wa=!0}catch(Ne){if(console.error(`❌ Attempt ${Pt} failed:`,Ne),Pt===mt){let pt="ขออภัย เกิดข้อผิดพลาดในการเชื่อมต่อกับ AI";Ne.message.includes("API key")?pt+=`

🔑 ปัญหา: API Key ไม่ถูกต้อง
กรุณาตรวจสอบว่า API Key ถูกต้องและยังใช้งานได้`:Ne.message.includes("Failed to fetch")?pt+=`

🌐 ปัญหา: ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้
กรุณาตรวจสอบการเชื่อมต่ออินเทอร์เน็ต`:Ne.message.includes("400")?pt+=`

⚠️ ปัญหา: คำขอไม่ถูกต้อง
อาจเป็นเพราะ API Key หมดอายุหรือไม่ถูกต้อง`:pt+=`

📋 รายละเอียด: ${Ne.message}`,Hn=pt}await new Promise(pt=>setTimeout(pt,1e3*Pt))}}c(Ne=>[...Ne,{sender:"ai",text:Hn}]),y(!1)},[A,z]),R=()=>{f.trim()&&!g&&I(f,o)},T=C=>{C.key==="Enter"&&(C.preventDefault(),R())},j=o.length===1&&o[0].sender==="ai";return{isOpen:r,isVisible:n,messages:o,inputMessage:f,isLoading:g,chatContentRef:L,toggleChat:ue,setInputMessage:p,handleSendMessage:R,handleKeyPress:T,formatAIResponse:se,showInitialWelcomeUI:j,setMessages:c,showPetitionAlert:_,setShowPetitionAlert:E}},r2=({sender:r,text:e,formatAIResponse:n})=>h.jsx("div",{className:`flex ${r==="user"?"justify-end":"justify-start"} animate-fadeIn`,children:h.jsx("div",{className:`max-w-[80%] p-2 rounded-xl shadow-lg transition-all duration-200 hover:shadow-xl text-sm ${r==="user"?"bg-gradient-to-br from-[#9a1518] to-[#c41e22] text-white rounded-br-sm":"bg-white/80 backdrop-blur-sm text-gray-800 border border-white/50 rounded-bl-sm"}`,dangerouslySetInnerHTML:{__html:r==="ai"?n(e):e}})}),i2=({setInputMessage:r})=>h.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 px-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"mt-3 w-20 h-20 bg-gradient-to-br from-[#9a1518] to-[#c41e22] rounded-2xl flex items-center justify-center shadow-xl rotate-6 hover:rotate-12 transition-transform duration-300",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),h.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-green-400 rounded-full border-3 border-white animate-pulse"})]}),h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h4",{className:"text-xl font-bold text-gray-800",children:"ยินดีต้อนรับ! 👋"}),h.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed max-w-xs",children:["ฉันคือผู้ช่วยอัจฉริยะของสาขาวิศวกรรมคอมพิวเตอร์ และ สื่อดิจิตอล",h.jsx("br",{}),h.jsx("span",{className:"text-[#9a1518] font-semibold",children:"มหาวิทยาลัยขอนแก่น"})]})]}),h.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[h.jsx("p",{className:"text-xs text-gray-500 text-center font-medium",children:"คำถามแนะนำ:"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("button",{onClick:()=>r("วิชาเลือกสำหรับคนที่ชอบเขียนเว็บมีอะไรบ้าง"),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:"💻 วิชาเลือกสำหรับคนที่ชอบเขียนเว็บ"}),h.jsx("button",{onClick:()=>r("หลักสูตรของคณะมีอะไรบ้าง"),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:"📚 หลักสูตรของคณะมีอะไรบ้าง"})]})]})]}),SS=({isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O})=>{const z="bg-[#9a1518]",Y="hover:bg-[#7e1214]";return e?h.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-96 md:w-[420px] lg:w-[460px]
                    h-[380px] md:h-[430px] lg:h-[480px] // ขนาดคงที่
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    hidden sm:flex`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[A&&h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[h.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:"🔔 แจ้งเตือน: การยื่นคำร้อง"}),h.jsx("p",{className:"text-gray-700 text-base",children:"เนื่องจากการดำเนินการต้องใช้เวลา **กรุณาตรวจสอบกำหนดเวลายื่นคำร้องตามที่ท่านประสงค์**"}),h.jsx("div",{className:"flex justify-end mt-4",children:h.jsx("button",{onClick:()=>O(!1),className:`${z} ${Y} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:"รับทราบ"})})]})}),h.jsxs("div",{className:`p-3 flex justify-between items-center ${z} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[h.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[h.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),h.jsx("p",{className:"text-xs text-white/80",children:"พร้อมให้คำปรึกษาตลอด 24 ชม."})]})]}),h.jsx("button",{onClick:f,"aria-label":"ปิดหน้าต่างแชท",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),h.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[E?h.jsx(i2,{setInputMessage:p}):n.map((L,K)=>h.jsx(r2,{sender:L.sender,text:L.text,formatAIResponse:_},K)),o&&h.jsx("div",{className:"flex justify-start animate-fadeIn",children:h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),h.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",placeholder:"พิมพ์ข้อความของคุณที่นี่...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200\r
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent\r
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:L=>p(L.target.value),onKeyPress:y,disabled:o,"aria-label":"ช่องป้อนข้อความแชท"}),h.jsx("button",{onClick:g,className:`${z} ${Y} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"ส่งข้อความ",children:o?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},AS=({isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O})=>{const z="bg-[#9a1518]",Y="hover:bg-[#7e1214]";return e?h.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-[calc(100vw-3rem)] // Full width minus margin on mobile
                    h-[calc(100vh-150px)] // Adjusted height for mobile, e.g., slightly shorter than full screen
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    sm:hidden`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[A&&h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[h.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:"🔔 แจ้งเตือน: การยื่นคำร้อง"}),h.jsx("p",{className:"text-gray-700 text-base",children:"เนื่องจากการดำเนินการต้องใช้เวลา **กรุณาตรวจสอบกำหนดเวลายื่นคำร้องตามที่ท่านประสงค์**"}),h.jsx("div",{className:"flex justify-end mt-4",children:h.jsx("button",{onClick:()=>O(!1),className:`${z} ${Y} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:"รับทราบ"})})]})}),h.jsxs("div",{className:`p-3 flex justify-between items-center ${z} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[h.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[h.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),h.jsx("p",{className:"text-xs text-white/80",children:"พร้อมให้คำปรึกษาตลอด 24 ชม."})]})]}),h.jsx("button",{onClick:f,"aria-label":"ปิดหน้าต่างแชท",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),h.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[E?h.jsx(i2,{setInputMessage:p}):n.map((L,K)=>h.jsx(r2,{sender:L.sender,text:L.text,formatAIResponse:_},K)),o&&h.jsx("div",{className:"flex justify-start animate-fadeIn",children:h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),h.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",placeholder:"พิมพ์ข้อความของคุณที่นี่...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200\r
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent\r
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:L=>p(L.target.value),onKeyPress:y,disabled:o,"aria-label":"ช่องป้อนข้อความแชท"}),h.jsx("button",{onClick:g,className:`${z} ${Y} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"ส่งข้อความ",children:o?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},RS=()=>{const{isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O}=TS(),z="bg-[#9a1518]",Y="hover:bg-[#7e1214]",L="focus:ring-[#9a1518]",K={isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:O};return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:f,"aria-label":r?"ปิดหน้าต่างแชท":"เปิดหน้าต่างแชท",className:`fixed bottom-6 right-6 ${z} ${Y} text-white p-4 rounded-full shadow-2xl z-50 focus:outline-none focus:ring-4 ${L} focus:ring-opacity-50 transition-all duration-300 hover:scale-110 active:scale-95 hover:shadow-[0_0_30px_rgba(154,21,24,0.5)]`,children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform duration-300 ${r?"rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r?h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"}):h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&h.jsx(SS,{...K}),e&&h.jsx(AS,{...K}),h.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }

        /* Custom Scrollbar */
        *::-webkit-scrollbar {
          width: 6px;
        }

        *::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb {
          background: rgba(154, 21, 24, 0.5);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb:hover {
          background: rgba(154, 21, 24, 0.7);
        }
      `})]})},NS=()=>h.jsxs("div",{id:"hero",className:`flex flex-col items-center gap-6 py-15 px-4 sm:px-12 lg:px-24\r
    xl:px-40 text-center w-full overflow-hidden text-gray-700 relative`,children:[h.jsxs("h1",{className:"font-medium xl:leading-[70px] max-w-5xl relative z-20 text-black",children:[h.jsx("span",{className:"text-lg sm:text-xl md:text-2xl xl:text-3xl font-regular",children:"ศูนย์ข้อมูลและคำปรึกษาออนไลน์"})," ",h.jsx("br",{}),h.jsx("span",{className:"text-4xl sm:text-4xl md:text-4xl lg:text-5xl xl:text-6xl font-medium block sm:inline",children:"วิศวกรรมคอมพิวเตอร์และสื่อดิจิทัล"}),h.jsx("span",{className:"hidden sm:inline",children:" "}),h.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl xl:text-5xl bg-gradient-to-r from-[#dc2626] to-[#7d1315] bg-clip-text text-transparent font-medium",children:"มหาวิทยาลัยขอนแก่น"})]}),h.jsx("p",{className:"text-sm sm:text-lg font-regular text-gray-500 max-w-4/5 sm:max-w-lg pb-3 -mt-5 relative z-20",children:"พัฒนาความรู้ ฝึกฝนทักษะ และเติบโตไปพร้อมกับเทคโนโลยีสมัยใหม่"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("img",{src:on.hero_img,alt:"",className:"w-full max-w-6xl rounded-4xl relative z-10"}),h.jsx("img",{src:on.bgImage1,alt:"",className:"absolute w-[1000px] h-[1000px] z-0 pointer-events-none",style:{top:"-350px",right:"-330px"}})]})]});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Zv=r=>{const e=IS(r);return e.charAt(0).toUpperCase()+e.slice(1)},s2=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),kS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=M.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...p},g)=>M.createElement("svg",{ref:g,...jS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:s2("lucide",o),...!c&&!kS(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,_])=>M.createElement(y,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(r,e)=>{const n=M.forwardRef(({className:s,...o},c)=>M.createElement(DS,{ref:c,iconNode:e,className:s2(`lucide-${CS(Zv(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Zv(r),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],OS=Fe("arrow-right",MS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],a2=Fe("book-open",VS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xh=Fe("calendar",PS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ac=Fe("chevron-left",LS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zS=Fe("chevron-right",US);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ep=Fe("circle-alert",BS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qS=Fe("circle-check-big",FS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GS=Fe("circle-x",HS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KS=Fe("clock",$S);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QS=Fe("eye",YS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],WS=Fe("facebook",XS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],JS=Fe("file-text",ZS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],tA=Fe("funnel",eA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Jv=Fe("globe",nA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],o2=Fe("info",rA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Xl=Fe("loader",iA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aA=Fe("log-out",sA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fm=Fe("mail",oA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cA=Fe("map-pin",lA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hA=Fe("menu",uA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],go=Fe("message-square",dA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],l2=Fe("newspaper",fA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pA=Fe("phone",mA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],e1=Fe("plus",gA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vA=Fe("refresh-cw",yA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xA=Fe("save",_A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wA=Fe("square-pen",bA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],t1=Fe("star",EA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bh=Fe("trash-2",TA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],AA=Fe("trending-up",SA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],NA=Fe("triangle-alert",RA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],c2=Fe("upload",CA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wh=Fe("user",IA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eh=Fe("x",kA),Tp=({title:r,desc:e})=>h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("h2",{className:"text-3xl sm:text-5xl font-medium text-center",children:r}),h.jsx("p",{className:"max-w-lg text-center text-gray-500 mt-5 font-regular",children:e})]}),jA=`
@keyframes liquid-gradient-animation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.liquid-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    overflow: hidden;
    transform-style: preserve-3d;
}

.liquid-overlay {
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.1) 0%,
        rgba(255, 255, 255, 0.05) 20%,
        transparent 50%,
        rgba(255, 255, 255, 0.05) 80%,
        rgba(255, 255, 255, 0.1) 100%
    );
    background-size: 200% 200%;
    animation: liquid-gradient-animation 15s ease infinite;
    opacity: 0.7;
    pointer-events: none;
    z-index: 0;
    filter: blur(5px);
    transition: opacity 0.3s ease;
}

.liquid-glass:hover .liquid-overlay {
    opacity: 0.9;
}

.liquid-glass::before,
.liquid-glass::after {
    content: '';
    position: absolute;
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
}

.liquid-glass::before {
    inset: 0;
    background: radial-gradient(
        circle at top left,
        rgba(255, 255, 255, 0.3) 0%,
        transparent 30%
    );
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::before {
    opacity: 1;
}

.liquid-glass::after {
    inset: 1px;
    background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%
    );
    opacity: 0.5;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::after {
    opacity: 0.7;
}

.liquid-glass h3 {
    color: #000000 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass:hover h3 {
    color: #111111 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.9);
}

.liquid-glass p {
    color: #333333 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.6);
}

.liquid-glass:hover p {
    color: #000000 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px) saturate(150%);
    -webkit-backdrop-filter: blur(10px) saturate(150%);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    color: #000000;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.2) 0%,
        transparent 50%,
        rgba(255, 255, 255, 0.1) 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
}

.liquid-glass-button:hover::before {
    opacity: 0.3;
}

.liquid-glass-button:hover {
    background: linear-gradient(
        135deg,
        rgba(154, 21, 24, 0.8) 0%,
        rgba(154, 21, 24, 0.9) 50%,
        rgba(120, 16, 19, 0.8) 100%
    );
    box-shadow: 0 6px 20px rgba(154, 21, 24, 0.4);
    transform: translateY(-1px);
    border-color: rgba(154, 21, 24, 0.6) !important;
    color: white !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
`,DA=({news:r})=>{const[e,n]=M.useState(!1),s=o=>({กิจกรรม:"bg-blue-100 text-blue-700",ความสำเร็จ:"bg-green-100 text-green-700",ประกาศ:"bg-red-100 text-red-700",อบรม:"bg-purple-100 text-purple-700",ความร่วมมือ:"bg-yellow-100 text-yellow-700",สัมมนา:"bg-indigo-100 text-indigo-700",ทุนวิจัย:"bg-pink-100 text-pink-700",กิจกรรมอาสา:"bg-teal-100 text-teal-700",ทั่วไป:"bg-gray-100 text-gray-700"})[o]||"bg-gray-100 text-gray-700";return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:jA}}),h.jsxs("div",{className:`
                    group relative overflow-hidden rounded-2xl
                    transition-all duration-500 ease-out
                    hover:scale-[1.02] active:scale-[1.02]
                    flex flex-col
                    cursor-pointer
                    liquid-glass
                    shadow-lg hover:shadow-2xl
                    bg-gradient-to-br from-blue-50 to-purple-50
                `,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{minHeight:"450px"},children:[h.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),h.jsx("div",{className:`\r
                        absolute inset-0 rounded-2xl\r
                        border-2 border-transparent\r
                        group-hover:border-red-400/60 group-active:border-red-400/60\r
                        transition-all duration-500\r
                        pointer-events-none\r
                    `}),h.jsxs("div",{className:"w-full h-48 sm:h-56 overflow-hidden relative rounded-t-2xl",children:[h.jsx("img",{src:r?.image||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=400&h=300&fit=crop",alt:r?.title||"ข่าวสาร",className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 ease-in-out"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-white/10 opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),r?.category&&h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold shadow-lg ${s(r.category)}`,children:r.category})})]}),h.jsxs("div",{className:"p-6 flex flex-col flex-grow relative z-10",children:[(r?.date||r?.author)&&h.jsxs("div",{className:"flex items-center gap-3 mb-3 text-xs text-gray-600 flex-wrap",children:[r?.date&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),h.jsx("span",{children:r.date})]}),r?.author&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),h.jsx("span",{children:r.author})]})]}),h.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-2",children:r?.title||"ข่าวสารล่าสุด"}),h.jsx("p",{className:"text-base mb-4 flex-grow line-clamp-3",children:r?.excerpt||"รายละเอียดข่าวสาร..."}),h.jsx("div",{className:"mt-auto pt-4",children:h.jsxs("div",{className:`
                                inline-flex items-center gap-2 px-4 py-2 rounded-lg
                                font-medium text-sm
                                liquid-glass-button
                                border border-white/30
                                hover:border-red-600/60
                                transition-all duration-300
                                group/button
                            `,children:["อ่านเพิ่มเติม",h.jsx("span",{className:"transform group-hover/button:translate-x-1 transition-transform duration-300",children:"→"})]})})]})]})]})},MA=()=>{};var n1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},OA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},h2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,_=c>>2,E=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,O=y&63;g||(O=64,f||(A=64)),s.push(n[_],n[E],n[A],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(u2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):OA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new VA;const A=c<<2|p>>4;if(s.push(A),y!==64){const O=p<<4&240|y>>2;if(s.push(O),E!==64){const z=y<<6&192|E;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class VA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(r){const e=u2(r);return h2.encodeByteArray(e,!0)},Th=function(r){return PA(r).replace(/\./g,"")},d2=function(r){try{return h2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=()=>LA().__FIREBASE_DEFAULTS__,zA=()=>{if(typeof process>"u"||typeof n1>"u")return;const r=n1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&d2(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return MA()||UA()||zA()||BA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},f2=r=>Kh()?.emulatorHosts?.[r],Sp=r=>{const e=f2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},m2=()=>Kh()?.config,p2=r=>Kh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yh(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const Wl={};function qA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?r.emulator.push(e):r.prod.push(e);return r}function HA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let r1=!1;function Qh(r,e){if(typeof window>"u"||typeof document>"u"||!bs(window.location.host)||Wl[r]===e||Wl[r]||r1)return;Wl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=qA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{r1=!0,f()},A}function _(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=HA(s),O=n("text"),z=document.getElementById(O)||document.createElement("span"),Y=n("learnmore"),L=document.getElementById(Y)||document.createElement("a"),K=n("preprendIcon"),F=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;p(ie),_(L,Y);const ae=y();g(F,K),ie.append(F,z,L,ae),document.body.appendChild(ie)}c?(z.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function $A(){const r=Kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XA(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function WA(){return!$A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="FirebaseError";class Mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=eR,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?tR(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Mr(o,p,s)}}function tR(r,e){return r.replace(nR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const nR=/\{\$([^}]+)}/g;function rR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ua(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(i1(c)&&i1(f)){if(!ua(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function i1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iR(r,e){const n=new sR(r,e);return n.subscribe.bind(n)}class sR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");aR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r){return r&&r._delegate?r._delegate:r}class ui{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new FA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cR(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(r){return r===aa?void 0:r}function cR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const hR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},dR=Pe.INFO,fR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},mR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=fR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const pR=(r,e)=>e.some(n=>r instanceof n);let s1,a1;function gR(){return s1||(s1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return a1||(a1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y2=new WeakMap,qm=new WeakMap,v2=new WeakMap,Rm=new WeakMap,Rp=new WeakMap;function vR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(ls(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&y2.set(n,r)}).catch(()=>{}),Rp.set(e,r),e}function _R(r){if(qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});qm.set(r,e)}let Hm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||v2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xR(r){Hm=r(Hm)}function bR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Nm(this),e,...n);return v2.set(s,e.sort?e.sort():[e]),ls(s)}:yR().includes(r)?function(...e){return r.apply(Nm(this),e),ls(y2.get(this))}:function(...e){return ls(r.apply(Nm(this),e))}}function wR(r){return typeof r=="function"?bR(r):(r instanceof IDBTransaction&&_R(r),pR(r,gR())?new Proxy(r,Hm):r)}function ls(r){if(r instanceof IDBRequest)return vR(r);if(Rm.has(r))return Rm.get(r);const e=wR(r);return e!==r&&(Rm.set(r,e),Rp.set(e,r)),e}const Nm=r=>Rp.get(r);function ER(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),p=ls(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ls(f.result),g.oldVersion,g.newVersion,ls(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const TR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],Cm=new Map;function o1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=SR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||TR.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Cm.set(e,c),c}xR(r=>({...r,get:(e,n,s)=>o1(e,n)||r.get(e,n,s),has:(e,n)=>!!o1(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RR(r){return r.getComponent()?.type==="VERSION"}const Gm="@firebase/app",l1="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Ap("@firebase/app"),NR="@firebase/app-compat",CR="@firebase/analytics-compat",IR="@firebase/analytics",kR="@firebase/app-check-compat",jR="@firebase/app-check",DR="@firebase/auth",MR="@firebase/auth-compat",OR="@firebase/database",VR="@firebase/data-connect",PR="@firebase/database-compat",LR="@firebase/functions",UR="@firebase/functions-compat",zR="@firebase/installations",BR="@firebase/installations-compat",FR="@firebase/messaging",qR="@firebase/messaging-compat",HR="@firebase/performance",GR="@firebase/performance-compat",$R="@firebase/remote-config",KR="@firebase/remote-config-compat",YR="@firebase/storage",QR="@firebase/storage-compat",XR="@firebase/firestore",WR="@firebase/ai",ZR="@firebase/firestore-compat",JR="firebase",e3="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",t3={[Gm]:"fire-core",[NR]:"fire-core-compat",[IR]:"fire-analytics",[CR]:"fire-analytics-compat",[jR]:"fire-app-check",[kR]:"fire-app-check-compat",[DR]:"fire-auth",[MR]:"fire-auth-compat",[OR]:"fire-rtdb",[VR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[LR]:"fire-fn",[UR]:"fire-fn-compat",[zR]:"fire-iid",[BR]:"fire-iid-compat",[FR]:"fire-fcm",[qR]:"fire-fcm-compat",[HR]:"fire-perf",[GR]:"fire-perf-compat",[$R]:"fire-rc",[KR]:"fire-rc-compat",[YR]:"fire-gcs",[QR]:"fire-gcs-compat",[XR]:"fire-fst",[ZR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,n3=new Map,Km=new Map;function c1(r,e){try{r.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function fs(r){const e=r.name;if(Km.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,r);for(const n of Sh.values())c1(n,r);for(const n of n3.values())c1(n,r);return!0}function wc(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new xc("app","Firebase",r3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=e3;function _2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=m2()),!n)throw cs.create("no-options");const c=Sh.get(o);if(c){if(ua(n,c.options)&&ua(s,c.config))return c;throw cs.create("duplicate-app",{appName:o})}const f=new uR(o);for(const g of Km.values())f.addComponent(g);const p=new i3(n,s,f);return Sh.set(o,p),p}function Xh(r=$m){const e=Sh.get(r);if(!e&&r===$m&&m2())return _2();if(!e)throw cs.create("no-app",{appName:r});return e}function qn(r,e,n){let s=t3[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(f.join(" "));return}fs(new ui(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="firebase-heartbeat-database",a3=1,oc="firebase-heartbeat-store";let Im=null;function x2(){return Im||(Im=ER(s3,a3,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(oc)}catch(n){console.warn(n)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),Im}async function o3(r){try{const n=(await x2()).transaction(oc),s=await n.objectStore(oc).get(b2(r));return await n.done,s}catch(e){if(e instanceof Mr)hi.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e?.message});hi.warn(n.message)}}}async function u1(r,e){try{const s=(await x2()).transaction(oc,"readwrite");await s.objectStore(oc).put(e,b2(r)),await s.done}catch(n){if(n instanceof Mr)hi.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n?.message});hi.warn(s.message)}}}function b2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=1024,c3=30;class u3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>c3){const o=f3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h1(),{heartbeatsToSend:n,unsentEntries:s}=h3(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hi.warn(e),""}}}function h1(){return new Date().toISOString().substring(0,10)}function h3(r,e=l3){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),d1(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),d1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return u1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return u1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d1(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function f3(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(r){fs(new ui("platform-logger",e=>new AR(e),"PRIVATE")),fs(new ui("heartbeat",e=>new u3(e),"PRIVATE")),qn(Gm,l1,r),qn(Gm,l1,"esm2020"),qn("fire-js","")}m3("");var f1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,w2;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function T(){}T.prototype=R.prototype,I.F=R.prototype,I.prototype=new T,I.prototype.constructor=I,I.D=function(j,C,V){for(var N=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)N[ve-2]=arguments[ve];return R.prototype[C].apply(j,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,T){T||(T=0);const j=Array(16);if(typeof R=="string")for(var C=0;C<16;++C)j[C]=R.charCodeAt(T++)|R.charCodeAt(T++)<<8|R.charCodeAt(T++)<<16|R.charCodeAt(T++)<<24;else for(C=0;C<16;++C)j[C]=R[T++]|R[T++]<<8|R[T++]<<16|R[T++]<<24;R=I.g[0],T=I.g[1],C=I.g[2];let V=I.g[3],N;N=R+(V^T&(C^V))+j[0]+3614090360&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+j[1]+3905402710&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+j[2]+606105819&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+j[3]+3250441966&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(V^T&(C^V))+j[4]+4118548399&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+j[5]+1200080426&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+j[6]+2821735955&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+j[7]+4249261313&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(V^T&(C^V))+j[8]+1770035416&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+j[9]+2336552879&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+j[10]+4294925233&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+j[11]+2304563134&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(V^T&(C^V))+j[12]+1804603682&4294967295,R=T+(N<<7&4294967295|N>>>25),N=V+(C^R&(T^C))+j[13]+4254626195&4294967295,V=R+(N<<12&4294967295|N>>>20),N=C+(T^V&(R^T))+j[14]+2792965006&4294967295,C=V+(N<<17&4294967295|N>>>15),N=T+(R^C&(V^R))+j[15]+1236535329&4294967295,T=C+(N<<22&4294967295|N>>>10),N=R+(C^V&(T^C))+j[1]+4129170786&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+j[6]+3225465664&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+j[11]+643717713&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+j[0]+3921069994&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(C^V&(T^C))+j[5]+3593408605&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+j[10]+38016083&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+j[15]+3634488961&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+j[4]+3889429448&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(C^V&(T^C))+j[9]+568446438&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+j[14]+3275163606&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+j[3]+4107603335&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+j[8]+1163531501&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(C^V&(T^C))+j[13]+2850285829&4294967295,R=T+(N<<5&4294967295|N>>>27),N=V+(T^C&(R^T))+j[2]+4243563512&4294967295,V=R+(N<<9&4294967295|N>>>23),N=C+(R^T&(V^R))+j[7]+1735328473&4294967295,C=V+(N<<14&4294967295|N>>>18),N=T+(V^R&(C^V))+j[12]+2368359562&4294967295,T=C+(N<<20&4294967295|N>>>12),N=R+(T^C^V)+j[5]+4294588738&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+j[8]+2272392833&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+j[11]+1839030562&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+j[14]+4259657740&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(T^C^V)+j[1]+2763975236&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+j[4]+1272893353&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+j[7]+4139469664&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+j[10]+3200236656&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(T^C^V)+j[13]+681279174&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+j[0]+3936430074&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+j[3]+3572445317&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+j[6]+76029189&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(T^C^V)+j[9]+3654602809&4294967295,R=T+(N<<4&4294967295|N>>>28),N=V+(R^T^C)+j[12]+3873151461&4294967295,V=R+(N<<11&4294967295|N>>>21),N=C+(V^R^T)+j[15]+530742520&4294967295,C=V+(N<<16&4294967295|N>>>16),N=T+(C^V^R)+j[2]+3299628645&4294967295,T=C+(N<<23&4294967295|N>>>9),N=R+(C^(T|~V))+j[0]+4096336452&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+j[7]+1126891415&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+j[14]+2878612391&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+j[5]+4237533241&4294967295,T=C+(N<<21&4294967295|N>>>11),N=R+(C^(T|~V))+j[12]+1700485571&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+j[3]+2399980690&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+j[10]+4293915773&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+j[1]+2240044497&4294967295,T=C+(N<<21&4294967295|N>>>11),N=R+(C^(T|~V))+j[8]+1873313359&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+j[15]+4264355552&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+j[6]+2734768916&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+j[13]+1309151649&4294967295,T=C+(N<<21&4294967295|N>>>11),N=R+(C^(T|~V))+j[4]+4149444226&4294967295,R=T+(N<<6&4294967295|N>>>26),N=V+(T^(R|~C))+j[11]+3174756917&4294967295,V=R+(N<<10&4294967295|N>>>22),N=C+(R^(V|~T))+j[2]+718787259&4294967295,C=V+(N<<15&4294967295|N>>>17),N=T+(V^(C|~R))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const T=R-this.blockSize,j=this.C;let C=this.h,V=0;for(;V<R;){if(C==0)for(;V<=T;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(j[C++]=I.charCodeAt(V++),C==this.blockSize){o(this,j),C=0;break}}else for(;V<R;)if(j[C++]=I[V++],C==this.blockSize){o(this,j),C=0;break}}this.h=C,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var T=I.length-8;T<I.length;++T)I[T]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,T=0;T<4;++T)for(let j=0;j<32;j+=8)I[R++]=this.g[T]>>>j&255;return I};function c(I,R){var T=p;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=R(I)}function f(I,R){this.h=R;const T=[];let j=!0;for(let C=I.length-1;C>=0;C--){const V=I[C]|0;j&&V==R||(T[C]=V,j=!1)}this.g=T}var p={};function g(I){return-128<=I&&I<128?c(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return L(y(-I));const R=[];let T=1;for(let j=0;I>=T;j++)R[j]=I/T|0,T*=4294967296;return new f(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return L(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=y(Math.pow(R,8));let j=E;for(let V=0;V<I.length;V+=8){var C=Math.min(8,I.length-V);const N=parseInt(I.substring(V,V+C),R);C<8?(C=y(Math.pow(R,C)),j=j.j(C).add(y(N))):(j=j.j(T),j=j.add(y(N)))}return j}var E=g(0),A=g(1),O=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-L(this).m();let I=0,R=1;for(let T=0;T<this.g.length;T++){const j=this.i(T);I+=(j>=0?j:4294967296+j)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(Y(this))return"-"+L(this).toString(I);const R=y(Math.pow(I,6));var T=this;let j="";for(;;){const C=ae(T,R).g;T=K(T,C.j(R));let V=((T.g.length>0?T.g[0]:T.h)>>>0).toString(I);if(T=C,z(T))return V+j;for(;V.length<6;)V="0"+V;j=V+j}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=K(this,I),Y(I)?-1:z(I)?0:1};function L(I){const R=I.g.length,T=[];for(let j=0;j<R;j++)T[j]=~I.g[j];return new f(T,~I.h).add(A)}r.abs=function(){return Y(this)?L(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),T=[];let j=0;for(let C=0;C<=R;C++){let V=j+(this.i(C)&65535)+(I.i(C)&65535),N=(V>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);j=N>>>16,V&=65535,N&=65535,T[C]=N<<16|V}return new f(T,T[T.length-1]&-2147483648?-1:0)};function K(I,R){return I.add(L(R))}r.j=function(I){if(z(this)||z(I))return E;if(Y(this))return Y(I)?L(this).j(L(I)):L(L(this).j(I));if(Y(I))return L(this.j(L(I)));if(this.l(O)<0&&I.l(O)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,T=[];for(var j=0;j<2*R;j++)T[j]=0;for(j=0;j<this.g.length;j++)for(let C=0;C<I.g.length;C++){const V=this.i(j)>>>16,N=this.i(j)&65535,ve=I.i(C)>>>16,me=I.i(C)&65535;T[2*j+2*C]+=N*me,F(T,2*j+2*C),T[2*j+2*C+1]+=V*me,F(T,2*j+2*C+1),T[2*j+2*C+1]+=N*ve,F(T,2*j+2*C+1),T[2*j+2*C+2]+=V*ve,F(T,2*j+2*C+2)}for(I=0;I<R;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=R;I<2*R;I++)T[I]=0;return new f(T,0)};function F(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ie(I,R){this.g=I,this.h=R}function ae(I,R){if(z(R))throw Error("division by zero");if(z(I))return new ie(E,E);if(Y(I))return R=ae(L(I),R),new ie(L(R.g),L(R.h));if(Y(R))return R=ae(I,L(R)),new ie(L(R.g),R.h);if(I.g.length>30){if(Y(I)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var T=A,j=R;j.l(I)<=0;)T=se(T),j=se(j);var C=ue(T,1),V=ue(j,1);for(j=ue(j,2),T=ue(T,2);!z(j);){var N=V.add(j);N.l(I)<=0&&(C=C.add(T),V=N),j=ue(j,1),T=ue(T,1)}return R=K(I,C.j(R)),new ie(C,R)}for(C=E;I.l(R)>=0;){for(T=Math.max(1,Math.floor(I.m()/R.m())),j=Math.ceil(Math.log(T)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),V=y(T),N=V.j(R);Y(N)||N.l(I)>0;)T-=j,V=y(T),N=V.j(R);z(V)&&(V=A),C=C.add(V),I=K(I,N)}return new ie(C,I)}r.B=function(I){return ae(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let j=0;j<R;j++)T[j]=this.i(j)&I.i(j);return new f(T,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let j=0;j<R;j++)T[j]=this.i(j)|I.i(j);return new f(T,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let j=0;j<R;j++)T[j]=this.i(j)^I.i(j);return new f(T,this.h^I.h)};function se(I){const R=I.g.length+1,T=[];for(let j=0;j<R;j++)T[j]=I.i(j)<<1|I.i(j-1)>>>31;return new f(T,I.h)}function ue(I,R){const T=R>>5;R%=32;const j=I.g.length-T,C=[];for(let V=0;V<j;V++)C[V]=R>0?I.i(V+T)>>>R|I.i(V+T+1)<<32-R:I.i(V+T);return new f(C,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,w2=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,us=f}).apply(typeof f1<"u"?f1:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E2,$l,T2,oh,Ym,S2,A2,R2;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var v=0;v<u.length;++v){var x=u[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var x=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in x))break e;x=x[q]}u=u[u.length-1],S=x[u],v=v(S),v!=S&&v!=null&&e(x,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var x=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&x.push([S,v[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,x){return u.call.apply(u.bind,arguments)}function y(u,v,x){return y=g,y.apply(null,arguments)}function _(u,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,v){function x(){}x.prototype=v.prototype,u.Z=v.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(S,q,X){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return v.prototype[q].apply(S,le)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function O(u){const v=u.length;if(v>0){const x=Array(v);for(let S=0;S<v;S++)x[S]=u[S];return x}return[]}function z(u,v){for(let S=1;S<arguments.length;S++){const q=arguments[S];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=u.length||0;const X=q.length||0;u.length=x+X;for(let le=0;le<X;le++)u[x+le]=q[le]}else u.push(q)}}class Y{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(u){f.setTimeout(()=>{throw u},0)}function K(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,x){const S=ie.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new Y(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,I=new F,R=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(T)}};function T(){for(var u;u=K();){try{u.h.call(u.g)}catch(x){L(x)}var v=ie;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ue=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};f.addEventListener("test",x,v),f.removeEventListener("test",x,v)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ve(u,v){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(ve,C),ve.prototype.init=function(u,v){const x=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(x=="mouseover"?v=u.fromElement:x=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),$=0;function W(u,v,x,S,q){this.listener=u,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=q,this.key=++$,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Te(u,v,x){for(const S in u)v.call(x,u[S],S,u)}function D(u,v){for(const x in u)v.call(void 0,u[x],x,u)}function re(u){const v={};for(const x in u)v[x]=u[x];return v}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,v){let x,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(x in S)u[x]=S[x];for(let X=0;X<de.length;X++)x=de[X],Object.prototype.hasOwnProperty.call(S,x)&&(u[x]=S[x])}}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,v,x,S,q){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const le=we(u,v,S,q);return le>-1?(v=u[le],x||(v.fa=!1)):(v=new W(v,this.src,X,!!S,q),v.fa=x,u.push(v)),v};function De(u,v){const x=v.type;if(x in u.g){var S=u.g[x],q=Array.prototype.indexOf.call(S,v,void 0),X;(X=q>=0)&&Array.prototype.splice.call(S,q,1),X&&(oe(v),u.g[x].length==0&&(delete u.g[x],u.h--))}}function we(u,v,x,S){for(let q=0;q<u.length;++q){const X=u[q];if(!X.da&&X.listener==v&&X.capture==!!x&&X.ha==S)return q}return-1}var It="closure_lm_"+(Math.random()*1e6|0),$e={};function xn(u,v,x,S,q){if(Array.isArray(v)){for(let X=0;X<v.length;X++)xn(u,v[X],x,S,q);return null}return x=ba(x),u&&u[me]?u.J(v,x,p(S)?!!S.capture:!1,q):_a(u,v,x,!1,S,q)}function _a(u,v,x,S,q,X){if(!v)throw Error("Invalid event type");const le=p(q)?!!q.capture:!!q;let Ce=xa(u);if(Ce||(u[It]=Ce=new ge(u)),x=Ce.add(v,x,S,le,X),x.proxy)return x;if(S=vi(),x.proxy=S,S.src=u,S.listener=x,u.addEventListener)V||(q=le),q===void 0&&(q=!1),u.addEventListener(v.toString(),S,q);else if(u.attachEvent)u.attachEvent(cr(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function vi(){function u(x){return v.call(u.src,u.listener,x)}const v=Vt;return u}function _i(u,v,x,S,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)_i(u,v[X],x,S,q);else S=p(S)?!!S.capture:!!S,x=ba(x),u&&u[me]?(u=u.i,X=String(v).toString(),X in u.g&&(v=u.g[X],x=we(v,x,S,q),x>-1&&(oe(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete u.g[X],u.h--)))):u&&(u=xa(u))&&(v=u.g[v.toString()],u=-1,v&&(u=we(v,x,S,q)),(x=u>-1?v[u]:null)&&Vr(x))}function Vr(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[me])De(v.i,u);else{var x=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(x,S,u.capture):v.detachEvent?v.detachEvent(cr(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=xa(v))?(De(x,u),x.h==0&&(x.src=null,v[It]=null)):oe(u)}}}function cr(u){return u in $e?$e[u]:$e[u]="on"+u}function Vt(u,v){if(u.da)u=!0;else{v=new ve(v,this);const x=u.listener,S=u.ha||u.src;u.fa&&Vr(u),u=x.call(S,v)}return u}function xa(u){return u=u[It],u instanceof ge?u:null}var Jt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ba(u){return typeof u=="function"?u:(u[Jt]||(u[Jt]=function(v){return u.handleEvent(v)}),u[Jt])}function ft(){j.call(this),this.i=new ge(this),this.M=this,this.G=null}E(ft,j),ft.prototype[me]=!0,ft.prototype.removeEventListener=function(u,v,x,S){_i(this,u,v,x,S)};function mt(u,v){var x,S=u.G;if(S)for(x=[];S;S=S.G)x.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new C(v,u);else if(v instanceof C)v.target=v.target||u;else{var q=v;v=new C(S,u),ce(v,q)}q=!0;let X,le;if(x)for(le=x.length-1;le>=0;le--)X=v.g=x[le],q=Pt(X,S,!0,v)&&q;if(X=v.g=u,q=Pt(X,S,!0,v)&&q,q=Pt(X,S,!1,v)&&q,x)for(le=0;le<x.length;le++)X=v.g=x[le],q=Pt(X,S,!1,v)&&q}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const x=u.g[v];for(let S=0;S<x.length;S++)oe(x[S]);delete u.g[v],u.h--}}this.G=null},ft.prototype.J=function(u,v,x,S){return this.i.add(String(u),v,!1,x,S)},ft.prototype.K=function(u,v,x,S){return this.i.add(String(u),v,!0,x,S)};function Pt(u,v,x,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let X=0;X<v.length;++X){const le=v[X];if(le&&!le.da&&le.capture==x){const Ce=le.listener,st=le.ha||le.src;le.fa&&De(u.i,le),q=Ce.call(st,S)!==!1&&q}}return q&&!S.defaultPrevented}function wa(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(u,v||0)}function Hn(u){u.g=wa(()=>{u.g=null,u.i&&(u.i=!1,Hn(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Ne extends j{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(u){j.call(this),this.h=u,this.g={}}E(pt,j);var Gn=[];function Lt(u){Te(u.g,function(v,x){this.g.hasOwnProperty(x)&&Vr(v)},u),u.g={}}pt.prototype.N=function(){pt.Z.N.call(this),Lt(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=f.JSON.stringify,cn=f.JSON.parse,xd=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Dc(){}function Mc(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xi(){C.call(this,"d")}E(xi,C);function $n(){C.call(this,"c")}E($n,C);var kn={},bi=null;function Ea(){return bi=bi||new ft}kn.Ia="serverreachability";function zo(u){C.call(this,kn.Ia,u)}E(zo,C);function wi(u){const v=Ea();mt(v,new zo(v))}kn.STAT_EVENT="statevent";function Ta(u,v){C.call(this,kn.STAT_EVENT,u),this.stat=v}E(Ta,C);function gt(u){const v=Ea();mt(v,new Ta(v,u))}kn.Ja="timingevent";function Oc(u,v){C.call(this,kn.Ja,u),this.size=v}E(Oc,C);function Ei(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},v)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function Bo(u,v,x,S,q,X){u.info(function(){if(u.g)if(X){var le="",Ce=X.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var st=Ce[Ke].split("=");if(st.length>1){const _t=st[0];st=st[1];const bn=_t.split("_");le=bn.length>=2&&bn[1]=="type"?le+(_t+"="+st+"&"):le+(_t+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+x+`
`+le})}function Fo(u,v,x,S,q,X,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+x+`
`+X+" "+le})}function Pr(u,v,x,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+hr(u,x)+(S?" "+S:"")})}function bd(u,v){u.info(function(){return"TIMEOUT: "+v})}Ti.prototype.info=function(){};function hr(u,v){if(!u.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var x=X[u];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return In(X)}catch{return v}}var yt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lr;function Ts(){}E(Ts,Dc),Ts.prototype.g=function(){return new XMLHttpRequest},Lr=new Ts;function Ss(u){return encodeURIComponent(String(u))}function wd(u){var v=1;u=u.split(":");const x=[];for(;v>0&&u.length;)x.push(u.shift()),v--;return u.length&&x.push(u.join(":")),x}function Kn(u,v,x,S){this.j=u,this.i=v,this.l=x,this.S=S||1,this.V=new pt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var Sa={},dr={};function fr(u,v,x){u.M=1,u.A=zr(ot(v)),u.u=x,u.R=!0,Ai(u,null)}function Ai(u,v){u.F=Date.now(),As(u),u.B=ot(u.A);var x=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Uc(x.i,"t",S),u.C=0,x=u.j.L,u.h=new Si,u.g=Oa(u.j,x?v:null,!u.u),u.P>0&&(u.O=new Ne(y(u.Y,u,u.g),u.P)),v=u.V,x=u.g,S=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Gn[0]=q.toString()),q=Gn);for(let X=0;X<q.length;X++){const le=xn(x,q[X],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.J?re(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),wi(),Bo(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const v=this.O;v&&en(u)==3?v.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=en(this.g),st=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ps(this.g)))){this.K||Ce!=4||st==7||(st==8||Ke<=0?wi(3):wi(2)),pr(this);var v=this.g.ca();this.X=v;var x=Ri(this);if(this.o=v==200,Fo(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var X=S;break t}}X=null}if(u=X)Pr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Aa(this,u);else{this.o=!1,this.m=3,gt(12),gr(this),Rs(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<x.length;)if(_t=Vc(this,x),_t==dr){Ce==4&&(this.m=4,gt(14),u=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Sa){this.m=4,gt(15),Pr(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Pr(this.i,this.l,_t,null),Aa(this,_t);if(vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||x.length!=0||this.h.h||(this.m=1,gt(16),u=!1),this.o=this.o&&u,!u)Pr(this.i,this.l,x,"[Invalid Chunked Response]"),gr(this),Rs(this);else if(x.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Zo(le),le.P=!0,gt(11))}}else Pr(this.i,this.l,x,null),Aa(this,x);Ce==4&&gr(this),this.o&&!this.K&&(Ce==4?Jo(this.j,this):(this.o=!1,As(this)))}else Ls(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),gr(this),Rs(this)}}}catch{}finally{}};function Ri(u){if(!vt(u))return u.g.la();const v=Ps(u.g);if(v==="")return"";let x="";const S=v.length,q=en(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gr(u),Rs(u),"";u.h.i=new f.TextDecoder}for(let X=0;X<S;X++)u.h.h=!0,x+=u.h.i.decode(v[X],{stream:!(q&&X==S-1)});return v.length=0,u.h.g+=x,u.C=0,u.h.g}function vt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Vc(u,v){var x=u.C,S=v.indexOf(`
`,x);return S==-1?dr:(x=Number(v.substring(x,S)),isNaN(x)?Sa:(S+=1,S+x>v.length?dr:(v=v.slice(S,S+x),u.C=S+x,v)))}Kn.prototype.cancel=function(){this.K=!0,gr(this)};function As(u){u.T=Date.now()+u.H,mr(u,u.H)}function mr(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ei(y(u.aa,u),v)}function pr(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(bd(this.i,this.B),this.M!=2&&(wi(),gt(17)),gr(this),this.m=2,Rs(this)):mr(this,this.T-u)};function Rs(u){u.j.I==0||u.K||Jo(u.j,u)}function gr(u){pr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Lt(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Aa(u,v){try{var x=u.j;if(x.I!=0&&(x.g==u||Is(x.h,u))){if(!u.L&&Is(x.h,u)&&x.I==3){try{var S=x.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Ma(x),yr(x);else break e;Wo(x),gt(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ei(y(x.Va,x),6e3));jn(x.h)<=1&&x.ta&&(x.ta=void 0)}else qr(x,11)}else if((u.L||x.g==u)&&Ma(x),!N(v))for(q=x.Ba.g.parse(v),v=0;v<q.length;v++){let Ke=q[v];const _t=Ke[0];if(!(_t<=x.K))if(x.K=_t,Ke=Ke[1],x.I==2)if(Ke[0]=="c"){x.M=Ke[1],x.ba=Ke[2];const bn=Ke[3];bn!=null&&(x.ka=bn,x.j.info("VER="+x.ka));const vr=Ke[4];vr!=null&&(x.za=vr,x.j.info("SVER="+x.za));const Xn=Ke[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const Wn=u.g;if(Wn){const Zn=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var X=S.h;X.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ra(X,X.h),X.h=null))}if(S.G){const tl=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.wa=tl,Xe(S.J,S.G,tl))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var le=u;if(S.na=Yc(S,S.L?S.ba:null,S.W),le.L){Ur(S.h,le);var Ce=le,st=S.O;st&&(Ce.H=st),Ce.D&&(pr(Ce),As(Ce)),S.g=le}else Hc(S);x.i.length>0&&Fs(x)}else Ke[0]!="stop"&&Ke[0]!="close"||qr(x,7);else x.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?qr(x,7):zs(x):Ke[0]!="noop"&&x.l&&x.l.qa(Ke),x.A=0)}}wi(4)}catch{}}var Ed=class{constructor(u,v){this.g=u,this.map=v}};function Ns(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jn(u){return u.h?1:u.g?u.g.size:0}function Is(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Ra(u,v){u.g?u.g.add(v):u.h=v}function Ur(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Ns.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Na(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const x of u.g.values())v=v.concat(x.G);return v}return O(u.i)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Td(u,v){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const S=u[x].indexOf("=");let q,X=null;S>=0?(q=u[x].substring(0,S),X=u[x].substring(S+1)):q=u[x],v(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Yn?(this.l=u.l,Ni(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,Ci(this,zc(u.i)),this.m=u.m):u&&(v=String(u).match(Ca))?(this.l=!1,Ni(this,v[1]||"",!0),this.o=js(v[2]||""),this.g=js(v[3]||"",!0),ks(this,v[4]),this.h=js(v[5]||"",!0),Ci(this,v[6]||"",!0),this.m=js(v[7]||"")):(this.l=!1,this.i=new Dn(null,this.l))}Yn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Ut(v,Ho,!0),":");var x=this.g;return(x||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ut(v,Ho,!0),"@"),u.push(Ss(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Ut(x,x.charAt(0)=="/"?Ii:Go,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Ut(x,Lc)),u.join("")},Yn.prototype.resolve=function(u){const v=ot(this);let x=!!u.j;x?Ni(v,u.j):x=!!u.o,x?v.o=u.o:x=!!u.g,x?v.g=u.g:x=u.u!=null;var S=u.h;if(x)ks(v,u.u);else if(x=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=v.h.lastIndexOf("/");q!=-1&&(S=v.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let le=0;le<q.length;){const Ce=q[le++];Ce=="."?S&&le==q.length&&X.push(""):Ce==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),S&&le==q.length&&X.push("")):(X.push(Ce),S=!0)}S=X.join("/")}else S=q}return x?v.h=S:x=u.i.toString()!=="",x?Ci(v,zc(u.i)):x=!!u.m,x&&(v.m=u.m),v};function ot(u){return new Yn(u)}function Ni(u,v,x){u.j=x?js(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Ci(u,v,x){v instanceof Dn?(u.i=v,Yo(u.i,u.l)):(x||(v=Ut(v,Pc)),u.i=new Dn(v,u.l))}function Xe(u,v,x){u.i.set(v,x)}function zr(u){return Xe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function js(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ut(u,v,x){return typeof u=="string"?(u=encodeURI(u).replace(v,qo),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ho=/[#\/\?@]/g,Go=/[#\?:]/g,Ii=/[#\?]/g,Pc=/[#\?@]/g,Lc=/#/g;function Dn(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Br(u){u.g||(u.g=new Map,u.h=0,u.i&&Td(u.i,function(v,x){u.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}r=Dn.prototype,r.add=function(u,v){Br(this),this.i=null,u=Qn(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(v),this.h+=1,this};function $o(u,v){Br(u),v=Qn(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ko(u,v){return Br(u),v=Qn(u,v),u.g.has(v)}r.forEach=function(u,v){Br(this),this.g.forEach(function(x,S){x.forEach(function(q){u.call(v,q,S,this)},this)},this)};function Ia(u,v){Br(u);let x=[];if(typeof v=="string")Ko(u,v)&&(x=x.concat(u.g.get(Qn(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)x=x.concat(u[v]);return x}r.set=function(u,v){return Br(this),this.i=null,u=Qn(this,u),Ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=Ia(this,u),u.length>0?String(u[0]):v):v};function Uc(u,v,x){$o(u,v),x.length>0&&(u.i=null,u.g.set(Qn(u,v),O(x)),u.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var x=v[S];const q=Ss(x);x=Ia(this,x);for(let X=0;X<x.length;X++){let le=q;x[X]!==""&&(le+="="+Ss(x[X])),u.push(le)}}return this.i=u.join("&")};function zc(u){const v=new Dn;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Qn(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Yo(u,v){v&&!u.j&&(Br(u),u.i=null,u.g.forEach(function(x,S){const q=S.toLowerCase();S!=q&&($o(this,S),Uc(this,q,x))},u)),u.j=v}function Qo(u,v){const x=new Ti;if(f.Image){const S=new Image;S.onload=_(un,x,"TestLoadImage: loaded",!0,v,S),S.onerror=_(un,x,"TestLoadImage: error",!1,v,S),S.onabort=_(un,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=_(un,x,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function ki(u,v){const x=new Ti,S=new AbortController,q=setTimeout(()=>{S.abort(),un(x,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(X=>{clearTimeout(q),X.ok?un(x,"TestPingServer: ok",!0,v):un(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),un(x,"TestPingServer: error",!1,v)})}function un(u,v,x,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(x)}catch{}}function Bc(){this.g=new xd}function Ds(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Ds,Dc),Ds.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(u,v){ft.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ms,ft),r=Ms.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Fr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hn(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ji(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ji(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?hn(this):Fr(this),this.readyState==3&&ji(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hn(this))},r.Na=function(u){this.g&&(this.response=u,hn(this))},r.ga=function(){this.g&&hn(this)};function hn(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fr(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=v.next();return u.join(`\r
`)};function Fr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Di(u){let v="";return Te(u,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function Mn(u,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Di(x),typeof u=="string"?x!=null&&Ss(x):Xe(u,v,x))}function nt(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(nt,ft);var ka=/^https?$/i,Fc=["POST","PUT"];r=nt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lr.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(X){Os(this,X);return}if(u=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)x.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())x.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Fc,v,void 0)>=0)||S||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of x)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){Os(this,X)}};function Os(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Vs(u),kt(u)}function Vs(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,mt(this,"complete"),mt(this,"abort"),kt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kt(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xo(this):this.Xa())},r.Xa=function(){Xo(this)};function Xo(u){if(u.h&&typeof c<"u"){if(u.v&&en(u)==4)setTimeout(u.Ca.bind(u),0);else if(mt(u,"readystatechange"),en(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=X===0){let le=String(u.D).match(Ca)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),S=!ka.test(le?le.toLowerCase():"")}x=S}if(x)mt(u,"complete"),mt(u,"success");else{u.o=6;try{var q=en(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Vs(u)}}finally{kt(u)}}}}function kt(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,v||mt(u,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}r.ca=function(){try{return en(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),cn(v)}};function Ps(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ls(u){const v={};u=(u.g&&en(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var x=wd(u[S]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=v[q]||[];v[q]=X,X.push(x)}D(v,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(u,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||v}function ja(u){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Us("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Us("baseRetryDelayMs",5e3,u),this.Za=Us("retryDelaySeedMs",1e4,u),this.Ta=Us("forwardChannelMaxRetries",2,u),this.va=Us("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ns(u&&u.concurrentRequestLimit),this.Ba=new Bc,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ja.prototype,r.ka=8,r.I=1,r.connect=function(u,v,x,S){gt(0),this.W=u,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=Yc(this,null,this.W),Fs(this)};function zs(u){if(Bs(u),u.I==3){var v=u.V++,x=ot(u.J);if(Xe(x,"SID",u.M),Xe(x,"RID",v),Xe(x,"TYPE","terminate"),qs(u,x),v=new Kn(u,u.j,v),v.M=2,v.A=zr(ot(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=v.A,x=!0),x||(v.g=Oa(v.j,null),v.g.ea(v.A)),v.F=Date.now(),As(v)}Kc(u)}function yr(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function Bs(u){yr(u),u.v&&(f.clearTimeout(u.v),u.v=null),Ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Fs(u){if(!Cs(u.h)&&!u.m){u.m=!0;var v=u.Ea;se||R(),ue||(se(),ue=!0),I.add(v,u),u.D=0}}function Sd(u,v){return jn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ei(y(u.Ea,u,v),$c(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Kn(this,this.j,u);let X=this.o;if(this.U&&(X?(X=re(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Da(this,q,v),x=ot(this.J),Xe(x,"RID",u),Xe(x,"CVER",22),this.G&&Xe(x,"X-HTTP-Session-Id",this.G),qs(this,x),X&&(this.R?v="headers="+Ss(Di(X))+"&"+v:this.u&&Mn(x,this.u,X)),Ra(this.h,q),this.Ra&&Xe(x,"TYPE","init"),this.S?(Xe(x,"$req",v),Xe(x,"SID","null"),q.U=!0,fr(q,x,null)):fr(q,x,v),this.I=2}}else this.I==3&&(u?qc(this,u):this.i.length==0||Cs(this.h)||qc(this))};function qc(u,v){var x;v?x=v.l:x=u.V++;const S=ot(u.J);Xe(S,"SID",u.M),Xe(S,"RID",x),Xe(S,"AID",u.K),qs(u,S),u.u&&u.o&&Mn(S,u.u,u.o),x=new Kn(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Da(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ra(u.h,x),fr(x,S,v)}function qs(u,v){u.H&&Te(u.H,function(x,S){Xe(v,S,x)}),u.l&&Te({},function(x,S){Xe(v,S,x)})}function Da(u,v,x){x=Math.min(u.i.length,x);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var q=u.i;let Ce=-1;for(;;){const st=["count="+x];Ce==-1?x>0?(Ce=q[0].g,st.push("ofs="+Ce)):Ce=0:st.push("ofs="+Ce);let Ke=!0;for(let _t=0;_t<x;_t++){var X=q[_t].g;const bn=q[_t].map;if(X-=Ce,X<0)Ce=Math.max(0,q[_t].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var le=bn instanceof Map?bn:Object.entries(bn);for(const[vr,Xn]of le){let Wn=Xn;p(Xn)&&(Wn=In(Xn)),st.push(X+vr+"="+encodeURIComponent(Wn))}}catch(vr){throw st.push(X+"type="+encodeURIComponent("_badmap")),vr}}catch{S&&S(bn)}}if(Ke){le=st.join("&");break e}}le=void 0}return u=u.i.splice(0,x),v.G=u,le}function Hc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;se||R(),ue||(se(),ue=!0),I.add(v,u),u.A=0}}function Wo(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ei(y(u.Da,u),$c(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),yr(this),Gc(this))};function Zo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Gc(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=ot(u.na);Xe(v,"RID","rpc"),Xe(v,"SID",u.M),Xe(v,"AID",u.K),Xe(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xe(v,"TO",u.ia),Xe(v,"TYPE","xmlhttp"),qs(u,v),u.u&&u.o&&Mn(v,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=zr(ot(v)),x.u=null,x.R=!0,Ai(x,u)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Wo(this),gt(19))};function Ma(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Jo(u,v){var x=null;if(u.g==v){Ma(u),Zo(u),u.g=null;var S=2}else if(Is(u.h,v))x=v.G,Ur(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var q=u.D;S=Ea(),mt(S,new Oc(S,x)),Fs(u)}else Hc(u);else if(q=v.m,q==3||q==0&&v.X>0||!(S==1&&Sd(u,v)||S==2&&Wo(u)))switch(x&&x.length>0&&(v=u.h,v.i=v.i.concat(x)),q){case 1:qr(u,5);break;case 4:qr(u,10);break;case 3:qr(u,6);break;default:qr(u,2)}}}function $c(u,v){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*v}function qr(u,v){if(u.j.info("Error code "+v),v==2){var x=y(u.bb,u),S=u.Ua;const q=!S;S=new Yn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ni(S,"https"),zr(S),q?Qo(S.toString(),x):ki(S.toString(),x)}else gt(2);u.I=0,u.l&&u.l.pa(v),Kc(u),Bs(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Kc(u){if(u.I=0,u.ja=[],u.l){const v=Na(u.h);(v.length!=0||u.i.length!=0)&&(z(u.ja,v),z(u.ja,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.oa()}}function Yc(u,v,x){var S=x instanceof Yn?ot(x):new Yn(x);if(S.g!="")v&&(S.g=v+"."+S.g),ks(S,S.u);else{var q=f.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const X=new Yn(null);S&&Ni(X,S),v&&(X.g=v),q&&ks(X,q),x&&(X.h=x),S=X}return x=u.G,v=u.wa,x&&v&&Xe(S,x,v),Xe(S,"VER",u.ka),qs(u,S),S}function Oa(u,v,x){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new nt(new Ds({ab:x})):new nt(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}r=Qc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Va(){}Va.prototype.g=function(u,v){return new dn(u,v)};function dn(u,v){ft.call(this),this.g=new ja(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!N(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Mi(this)}E(dn,ft),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){zs(this.g)},dn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=In(u),u=x);v.i.push(new Ed(v.Ya++,u)),v.I==3&&Fs(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,zs(this.g),delete this.g,dn.Z.N.call(this)};function el(u){xi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const x in v){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(el,xi);function Xc(){$n.call(this),this.status=1}E(Xc,$n);function Mi(u){this.g=u}E(Mi,Qc),Mi.prototype.ra=function(){mt(this.g,"a")},Mi.prototype.qa=function(u){mt(this.g,new el(u))},Mi.prototype.pa=function(u){mt(this.g,new Xc)},Mi.prototype.oa=function(){mt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,R2=function(){return new Va},A2=function(){return Ea()},S2=kn,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,oh=yt,Gt.COMPLETE="complete",T2=Gt,Mc.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",ft.prototype.listen=ft.prototype.J,$l=Mc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,E2=nt}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const m1="@firebase/firestore",p1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Ap("@firebase/firestore");function ho(){return ha.logLevel}function fe(r,...e){if(ha.logLevel<=Pe.DEBUG){const n=e.map(Np);ha.debug(`Firestore (${ko}): ${r}`,...n)}}function di(r,...e){if(ha.logLevel<=Pe.ERROR){const n=e.map(Np);ha.error(`Firestore (${ko}): ${r}`,...n)}}function Eo(r,...e){if(ha.logLevel<=Pe.WARN){const n=e.map(Np);ha.warn(`Firestore (${ko}): ${r}`,...n)}}function Np(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,N2(r,s,n)}function N2(r,e,n){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw di(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||N2(e,o,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class g3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class y3{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new li;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new li,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new li)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new C2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class v3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new v3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=b3(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return km(o)===km(c)?Le(o,c):km(o)?1:-1}return Le(r.length,e.length)}const w3=55296,E3=57343;function km(r){const e=r.charCodeAt(0);return e>=w3&&e<=E3}function To(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="__name__";class Tr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Tr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const s=Tr.isNumericId(e),o=Tr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class it extends Tr{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const T3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Tr{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return T3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y1}static keyField(){return new Wt([y1])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function S3(r,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function v1(r){if(!_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _1(r){if(_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function k2(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function fi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ec(r,e){if(!k2(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-62135596800,b1=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*b1);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x1)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b1}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Rt("string",tt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new tt(0,0))}static max(){return new Re(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=-1;function A3(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new ms(o,_e.empty(),e)}function R3(r){return new ms(r.readTime,r.key,lc)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(Re.min(),_e.empty(),lc)}static max(){return new ms(Re.max(),_e.empty(),lc)}}function N3(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==C3)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&n()}),(g=>s(g)))})),f=!0,c===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{f[y]=_,++p,p===c&&s(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function k3(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Jh(r){return r==null}function Ah(r){return r===0&&1/r==-1/0}function j3(r){return typeof r=="number"&&Number.isInteger(r)&&!Ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="";function D3(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=w1(e)),e=M3(r.get(n),e);return w1(e)}function M3(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case j2:n+="";break;default:n+=c}}return n}function w1(r){return r+j2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function D2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T1(this.data.getIterator())}getIteratorFrom(e){return new T1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class T1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ot(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M2("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const O3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=O3.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gs(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="server_timestamp",V2="__type__",P2="__previous_value__",L2="__local_write_time__";function kp(r){return(r?.mapValue?.fields||{})[V2]?.stringValue===O2}function ed(r){const e=r.mapValue.fields[P2];return kp(e)?ed(e):e}function cc(r){const e=ps(r.mapValue.fields[L2].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,s,o,c,f,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Rh="(default)";class uc{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__type__",P3="__max__",eh={mapValue:{}},z2="__vector__",Nh="value";function ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kp(r)?4:U3(r)?9007199254740991:L3(r)?10:11:Ee(28295,{value:r})}function Ir(r,e){if(r===e)return!0;const n=ys(r);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return cc(r).isEqual(cc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=ps(o.timestampValue),p=ps(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return gs(o.bytesValue).isEqual(gs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return wt(o.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return wt(o.integerValue)===wt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=wt(o.doubleValue),p=wt(c.doubleValue);return f===p?Ah(f)===Ah(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(E1(f)!==E1(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Ir(f[g],p[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function hc(r,e){return(r.values||[]).find((n=>Ir(n,e)))!==void 0}function So(r,e){if(r===e)return 0;const n=ys(r),s=ys(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=wt(c.integerValue||c.doubleValue),g=wt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return S1(r.timestampValue,e.timestampValue);case 4:return S1(cc(r),cc(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return(function(c,f){const p=gs(c),g=gs(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Le(p[y],g[y]);if(_!==0)return _}return Le(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=Le(wt(c.latitude),wt(f.latitude));return p!==0?p:Le(wt(c.longitude),wt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return A1(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},g=f.fields||{},y=p[Nh]?.arrayValue,_=g[Nh]?.arrayValue,E=Le(y?.values?.length||0,_?.values?.length||0);return E!==0?E:A1(y,_)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===eh.mapValue&&f===eh.mapValue)return 0;if(c===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=f.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const A=Qm(g[E],_[E]);if(A!==0)return A;const O=So(p[g[E]],y[_[E]]);if(O!==0)return O}return Le(g.length,_.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function S1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=ps(r),s=ps(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function A1(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=So(n[o],s[o]);if(c)return c}return Le(n.length,s.length)}function Ao(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Xm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function lh(r){switch(ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+lh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ws(s.fields,((c,f)=>{o+=c.length+lh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function R1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function N1(r){return!!r&&"nullValue"in r}function C1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function L3(r){return(r?.mapValue?.fields||{})[U2]?.stringValue===z2}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(r.arrayValue.values[n]);return e}return{...r}}function U3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===P3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Zl(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new _n(Zl(this.value))}}function B2(r){const e=[];return ws(r.fields,((n,s)=>{const o=new Wt([n]);if(ch(s)){const c=B2(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s,o,c,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new an(e,0,Re.min(),Re.min(),Re.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Re.min(),Re.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Re.min(),Re.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function I1(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=So(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function k1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ir(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function z3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{}class At extends F2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new F3(e,n,s):n==="array-contains"?new G3(e,s):n==="in"?new $3(e,s):n==="not-in"?new K3(e,s):n==="array-contains-any"?new Y3(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new q3(e,s):new H3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends F2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lr(e,n)}matches(e){return q2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q2(r){return r.op==="and"}function H2(r){return B3(r)&&q2(r)}function B3(r){for(const e of r.filters)if(e instanceof lr)return!1;return!0}function Zm(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(H2(r))return r.filters.map((e=>Zm(e))).join(",");{const e=r.filters.map((n=>Zm(n))).join(",");return`${r.op}(${e})`}}function G2(r,e){return r instanceof At?(function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)})(r,e):r instanceof lr?(function(s,o){return o instanceof lr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,p)=>c&&G2(f,o.filters[p])),!0):!1})(r,e):void Ee(19439)}function $2(r){return r instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(r):r instanceof lr?(function(n){return n.op.toString()+" {"+n.getFilters().map($2).join(" ,")+"}"})(r):"Filter"}class F3 extends At{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class q3 extends At{constructor(e,n){super(e,"in",n),this.keys=K2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H3 extends At{constructor(e,n){super(e,"not-in",n),this.keys=K2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function K2(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class G3 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&hc(n.arrayValue,this.value)}}class $3 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class K3 extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hc(this.value.arrayValue,n)}}class Y3 extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n=null,s=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function j1(r,e=null,n=[],s=[],o=null,c=null,f=null){return new Q3(r,e,n,s,o,c,f)}function Dp(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ao(s))).join(",")),e.Te=n}return e.Te}function Mp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!z3(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!G2(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!k1(r.startAt,e.startAt)&&k1(r.endAt,e.endAt)}function Jm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X3(r,e,n,s,o,c,f,p){return new Mo(r,e,n,s,o,c,f,p)}function Op(r){return new Mo(r)}function D1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Y2(r){return r.collectionGroup!==null}function Jl(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ot(Wt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dc(c,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new dc(Wt.keyField(),s))}return e.Ie}function Sr(r){const e=Ie(r);return e.Ee||(e.Ee=W3(e,Jl(r))),e.Ee}function W3(r,e){if(r.limitType==="F")return j1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dc(o.field,c)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return j1(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ep(r,e){const n=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function tp(r,e,n){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function td(r,e){return Mp(Sr(r),Sr(e))&&r.limitType===e.limitType}function Q2(r){return`${Dp(Sr(r))}|lt:${r.limitType}`}function fo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>$2(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${s})`})(Sr(r))}; limitType=${r.limitType})`}function nd(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Jl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=I1(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(f,p,g){const y=I1(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Jl(s),o))})(r,e)}function Z3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X2(r){return(e,n)=>{let s=!1;for(const o of Jl(r)){const c=J3(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function J3(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,f,p){const g=f.data.field(c),y=p.data.field(c);return g!==null&&y!==null?So(g,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return D2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new ut(_e.comparator);function mi(){return eN}const W2=new ut(_e.comparator);function Kl(...r){let e=W2;for(const n of r)e=e.insert(n.key,n);return e}function Z2(r){let e=W2;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return ec()}function J2(){return ec()}function ec(){return new ga((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tN=new ut(_e.comparator),nN=new Ot(_e.comparator);function Ue(...r){let e=nN;for(const n of r)e=e.add(n);return e}const rN=new Ot(Le);function iN(){return rN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function ex(r){return{integerValue:""+r}}function sN(r,e){return j3(e)?ex(e):Vp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function aN(r,e,n){return r instanceof fc?(function(o,c){const f={fields:{[V2]:{stringValue:O2},[L2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&kp(c)&&(c=ed(c)),c&&(f.fields[P2]=c),{mapValue:f}})(n,e):r instanceof mc?nx(r,e):r instanceof pc?rx(r,e):(function(o,c){const f=tx(o,c),p=M1(f)+M1(o.Ae);return Wm(f)&&Wm(o.Ae)?ex(p):Vp(o.serializer,p)})(r,e)}function oN(r,e,n){return r instanceof mc?nx(r,e):r instanceof pc?rx(r,e):n}function tx(r,e){return r instanceof Ih?(function(s){return Wm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class fc extends rd{}class mc extends rd{constructor(e){super(),this.elements=e}}function nx(r,e){const n=ix(e);for(const s of r.elements)n.some((o=>Ir(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pc extends rd{constructor(e){super(),this.elements=e}}function rx(r,e){let n=ix(e);for(const s of r.elements)n=n.filter((o=>!Ir(o,s)));return{arrayValue:{values:n}}}class Ih extends rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function M1(r){return wt(r.integerValue||r.doubleValue)}function ix(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.field=e,this.transform=n}}function cN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof mc&&o instanceof mc||s instanceof pc&&o instanceof pc?To(s.elements,o.elements,Ir):s instanceof Ih&&o instanceof Ih?Ir(s.Ae,o.Ae):s instanceof fc&&o instanceof fc})(r.transform,e.transform)}class uN{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class id{}function sx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pp(r.key,sr.none()):new Tc(r.key,r.data,sr.none());{const n=r.data,s=_n.empty();let o=new Ot(Wt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Es(r.key,s,new Cn(o.toArray()),sr.none())}}function hN(r,e,n){r instanceof Tc?(function(o,c,f){const p=o.value.clone(),g=V1(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Es?(function(o,c,f){if(!uh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=V1(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(ax(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function tc(r,e,n,s){return r instanceof Tc?(function(c,f,p,g){if(!uh(c.precondition,f))return p;const y=c.value.clone(),_=P1(c.fieldTransforms,g,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Es?(function(c,f,p,g){if(!uh(c.precondition,f))return p;const y=P1(c.fieldTransforms,g,f),_=f.data;return _.setAll(ax(c)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(c,f,p){return uh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function dN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=tx(s.transform,o||null);c!=null&&(n===null&&(n=_n.empty()),n.set(s.field,c))}return n||null}function O1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,((c,f)=>cN(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tc extends id{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends id{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ax(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function V1(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=e.data.field(c.field);s.set(c.field,oN(f,p,n[o]))}return s}function P1(r,e,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,aN(c,f,e))}return s}class Pp extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fN extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&hN(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=J2();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=sx(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((n,s)=>O1(n,s)))&&To(this.baseMutations,e.baseMutations,((n,s)=>O1(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return tN})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Lp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function yN(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function ox(r){if(r===void 0)return di("GRPC error has no .code"),ee.UNKNOWN;switch(r){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new us([4294967295,4294967295],0);function L1(r){const e=vN().encode(r),n=new w2;return n.update(e),new Uint8Array(n.digest())}function U1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new us([n,s],0),new us([o,c],0)]}class Up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(_N)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L1(e),[s,o]=U1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Up(c,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=L1(e),[s,o]=U1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new sd(Re.min(),o,new ut(Le),mi(),Ue())}}class Sc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Sc(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class lx{constructor(e,n){this.targetId=e,this.Ce=n}}class cx{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class z1{constructor(){this.ve=0,this.Fe=B1(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:c})}})),new Sc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=B1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xN{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.Je=th(),this.He=th(),this.Ye=new ut(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Jm(c))if(s===0){const f=new _e(c.path);this.et(n,f,an.newNoDocument(f,Re.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=gs(s).toUint8Array()}catch(g){if(g instanceof M2)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Up(f,o,c)}catch(g){return Eo(g instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&Jm(p.target)){const g=new _e(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,an.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Ue();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new sd(e,n,this.Ye,this.je,s);return this.je=mi(),this.Je=th(),this.He=th(),this.Ye=new ut(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new z1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new ut(_e.comparator)}function B1(){return new ut(_e.comparator)}const bN={asc:"ASCENDING",desc:"DESCENDING"},wN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EN={and:"AND",or:"OR"};class TN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ux(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SN(r,e){return kh(r,e.toTimestamp())}function Ar(r){return Ge(!!r,49232),Re.fromTimestamp((function(n){const s=ps(n);return new tt(s.seconds,s.nanos)})(r))}function zp(r,e){return rp(r,e).canonicalString()}function rp(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function hx(r){const e=it.fromString(r);return Ge(gx(e),10190,{key:e.toString()}),e}function ip(r,e){return zp(r.databaseId,e.path)}function jm(r,e){const n=hx(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(fx(n))}function dx(r,e){return zp(r.databaseId,e)}function AN(r){const e=hx(r);return e.length===4?it.emptyPath():fx(e)}function sp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fx(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F1(r,e,n){return{name:ip(r,e),fields:n.value.mapValue.fields}}function RN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Zt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Zt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const _=y.code===void 0?ee.UNKNOWN:ox(y.code);return new he(_,y.message||"")})(f);n=new cx(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(r,s.document.name),c=Ar(s.document.updateTime),f=s.document.createTime?Ar(s.document.createTime):Re.min(),p=new _n({mapValue:{fields:s.document.fields}}),g=an.newFoundDocument(o,c,f,p),y=s.targetIds||[],_=s.removedTargetIds||[];n=new hh(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(r,s.document),c=s.readTime?Ar(s.readTime):Re.min(),f=an.newNoDocument(o,c),p=s.removedTargetIds||[];n=new hh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(r,s.document),c=s.removedTargetIds||[];n=new hh([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new gN(o,c),p=s.targetId;n=new lx(p,f)}}return n}function NN(r,e){let n;if(e instanceof Tc)n={update:F1(r,e.key,e.value)};else if(e instanceof Pp)n={delete:ip(r,e.key)};else if(e instanceof Es)n={update:F1(r,e.key,e.data),updateMask:PN(e.fieldMask)};else{if(!(e instanceof fN))return Ee(16599,{Vt:e.type});n={verify:ip(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const p=f.transform;if(p instanceof fc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof mc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof pc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:SN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),n}function CN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,c){let f=o.updateTime?Ar(o.updateTime):Ar(c);return f.isEqual(Re.min())&&(f=Ar(c)),new uN(f,o.transformResults||[])})(n,e)))):[]}function IN(r,e){return{documents:[dx(r,e.path)]}}function kN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dx(r,o);const c=(function(y){if(y.length!==0)return px(lr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((_=>(function(A){return{field:mo(A.field),direction:MN(A.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=np(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function jN(r){let e=AN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(E){const A=mx(E);return A instanceof lr&&H2(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((A=>(function(z){return new dc(po(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,Jh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(E){const A=!!E.before,O=E.values||[];return new Ch(O,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const A=!E.before,O=E.values||[];return new Ch(O,A)})(n.endAt)),X3(e,o,f,c,p,"F",g,y)}function DN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(n.unaryFilter.field);return At.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return At.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return lr.create(n.compositeFilter.filters.map((s=>mx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function MN(r){return bN[r]}function ON(r){return wN[r]}function VN(r){return EN[r]}function mo(r){return{fieldPath:r.canonicalString()}}function po(r){return Wt.fromServerFormat(r.fieldPath)}function px(r){return r instanceof At?(function(n){if(n.op==="=="){if(C1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(N1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(N1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:ON(n.op),value:n.value}}})(r):r instanceof lr?(function(n){const s=n.getFilters().map((o=>px(o)));return s.length===1?s[0]:{compositeFilter:{op:VN(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function PN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,s,o,c=Re.min(),f=Re.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.yt=e}}function UN(r){const e=jN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Cn=new BN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ms.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class BN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(it.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yx=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(yx,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="LruGarbageCollector",FN=1048576;function G1([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class qN{constructor(e){this.Ir=e,this.buffer=new Ot(G1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();G1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(H1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?fe(H1,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)}))}}class GN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Zh.ce);const s=new qN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(q1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,f,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),ho()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function $N(r,e){return new GN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tc(s.mutation,o,Cn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let f=Kl();return c.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let c=mi();const f=ec(),p=(function(){return ec()})();return n.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Es)?c=c.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),tc(_.mutation,y,_.mutation.getFieldMask(),tt.now())):f.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>f.set(y,_))),n.forEach(((y,_)=>p.set(y,new YN(_,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=ec();let o=new ut(((f,p)=>f-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=s.get(g)||Cn.empty();_=p.applyToLocalView(y,_),s.set(g,_);const E=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,E=J2();_.forEach((A=>{if(!c.has(A)){const O=sx(n.get(A),s.get(A));O!==null&&E.set(A,O),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ne.resolve(oa());let p=lc,g=c;return f.next((y=>ne.forEach(y,((_,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((_=>({batchId:p,changes:Z2(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(E,A){return new Mo(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((E,A)=>{f=f.insert(E,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((f=>{c.forEach(((g,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,an.newInvalidDocument(_)))}));let p=Kl();return f.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&tc(_.mutation,y,Cn.empty(),tt.now()),nd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:UN(o.bundledQuery),readTime:Ar(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.overlays=new ut(_e.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),c=n.length+1,f=new _e(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ut(((y,_)=>y-_));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let _=c.get(y.largestBatchId);_===null&&(_=oa(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=oa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return ne.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new pN(n,s));let c=this.qr.get(n);c===void 0&&(c=Ue(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.Qr=new Ot(qt.$r),this.Ur=new Ot(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new it([])),s=new qt(n,e),o=new qt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new it([])),s=new qt(n,e),o=new qt(n,e+1);let c=Ue();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new mN(c,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Le);return n.forEach((o=>{const c=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const f=new qt(new _e(c),0);let p=new Ot(Le);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const c=new qt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.ri=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=mi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=mi();const f=n.path,p=new _e(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||N3(R3(_),s)<=0||(o.has(_.key)||nd(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new t5(this)}getSize(e){return ne.resolve(this.size)}}class t5 extends KN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.persistence=e,this.si=new ga((n=>Dp(n)),Mp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Bp,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new ZN,this.referenceDelegate=e(this),this.Pi=new n5(this),this.indexManager=new zN,this.remoteDocumentCache=(function(o){return new e5(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new LN(n),this.Ii=new XN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new JN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new r5(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class r5 extends I3{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Ri=new Bp,this.Vi=null}static mi(e){return new Fp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new ga((s=>D3(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=$N(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,c.removeEntry(f,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WA()?8:k3(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new i5;return this.Ss(e,n,f).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ho()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ho()<=Pe.DEBUG&&fe("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ho()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):ne.resolve())}ys(e,n){if(D1(n))return ne.resolve(null);let s=Sr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tp(n,null,"F"),s=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Ue(...c);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,tp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return D1(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,o)?ne.resolve(null):(ho()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,f,n,A3(o,lc)).next((p=>p)))}))}Ds(e,n){let s=new Ot(X2(e));return n.forEach(((o,c)=>{nd(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return ho()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,ms.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="LocalStore",a5=3e8;class o5{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Le),this.xs=new ga((c=>Dp(c)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function l5(r,e,n,s){return new o5(r,e,n,s)}async function _x(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],p=[];let g=Ue();for(const y of o){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function c5(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const E=y.batch,A=E.keys();let O=ne.resolve();return A.forEach((z=>{O=O.next((()=>_.getEntry(g,z))).next((Y=>{const L=y.docVersions.get(z);Ge(L!==null,48541),Y.version.compareTo(L)<0&&(E.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),_.addEntry(Y)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function xx(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function u5(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,E)=>{const A=o.get(E);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,E))));let O=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(Zt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(E,O),(function(Y,L,K){return Y.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=a5?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(A,O,_)&&p.push(n.Pi.updateTargetData(c,O))}));let g=mi(),y=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(h5(c,f,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Re.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return ne.waitFor(p).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function h5(r,e,n){let s=Ue(),o=Ue();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=mi();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):fe(Hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function d5(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function f5(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new as(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ap(r,e,n){const s=Ie(r),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Do(f))throw f;fe(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function $1(r,e,n){const s=Ie(r);let o=Re.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,_){const E=Ie(g),A=E.xs.get(_);return A!==void 0?ne.resolve(E.Ms.get(A)):E.Pi.getTargetData(y,_)})(s,f,Sr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?c:Ue()))).next((p=>(m5(s,Z3(e),p),{documents:p,Qs:c})))))}function m5(r,e,n){let s=r.Os.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class K1{constructor(){this.activeTargetIds=iN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p5{constructor(){this.Mo=new K1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="ConnectivityMonitor";class Q1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Y1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function op(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const f=op(),p=this.zo(e,n.toUriEncodedString());fe(Dm,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),_=bs(y);return this.Jo(e,p,g,s,_).then((E=>(fe(Dm,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw Eo(Dm,`RPC '${e}' ${f} failed with error: `,E,"url: ",p,"request:",s),E}))}Ho(e,n,s,o,c,f){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=y5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class x5 extends v5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const f=op();return new Promise(((p,g)=>{const y=new E2;y.setWithCredentials(!0),y.listenOnce(T2.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case oh.NO_ERROR:const E=y.getResponseJson();fe(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),p(E);break;case oh.TIMEOUT:fe(rn,`RPC '${e}' ${f} timed out`),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const A=y.getStatus();if(fe(rn,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const z=O?.error;if(z&&z.status&&z.message){const Y=(function(K){const F=K.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(F)>=0?F:ee.UNKNOWN})(z.status);g(new he(Y,z.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(rn,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);fe(rn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=op(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R2(),p=A2(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=c.join("");fe(rn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const E=f.createWebChannel(_,g);this.I_(E);let A=!1,O=!1;const z=new _5({Yo:L=>{O?fe(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(fe(rn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),fe(rn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),Y=(L,K,F)=>{L.listen(K,(ie=>{try{F(ie)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return Y(E,$l.EventType.OPEN,(()=>{O||(fe(rn,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),Y(E,$l.EventType.CLOSE,(()=>{O||(O=!0,fe(rn,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(E))})),Y(E,$l.EventType.ERROR,(L=>{O||(O=!0,Eo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),z.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(E,$l.EventType.MESSAGE,(L=>{if(!O){const K=L.data[0];Ge(!!K,16349);const F=K,ie=F?.error||F[0]?.error;if(ie){fe(rn,`RPC '${e}' stream ${o} received error:`,ie);const ae=ie.status;let se=(function(R){const T=St[R];if(T!==void 0)return ox(T)})(ae),ue=ie.message;se===void 0&&(se=ee.INTERNAL,ue="Unknown error status: "+ae+" with message "+ie.message),O=!0,z.a_(new he(se,ue)),E.close()}else fe(rn,`RPC '${e}' stream ${o} received:`,K),z.u_(K)}})),Y(p,S2.STAT_EVENT,(L=>{L.stat===Ym.PROXY?fe(rn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Ym.NOPROXY&&fe(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(r){return new TN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="PersistentStream";class wx{constructor(e,n,s,o,c,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(X1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class b5 extends wx{constructor(e,n,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RN(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Ar(f.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(c,f){let p;const g=f.target;if(p=Jm(g)?{documents:IN(c,g)}:{query:kN(c,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=ux(c,f.resumeToken);const y=np(c,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){p.readTime=kh(c,f.snapshotVersion.toTimestamp());const y=np(c,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=DN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class w5 extends wx{constructor(e,n,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CN(e.writeResults,e.commitTime),s=Ar(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>NN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{}class T5 extends E5{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,rp(n,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,rp(n,s),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class S5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(di(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class A5{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ya(this)&&(fe(da,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await Ac(y),y.Ra.set("Unknown"),y.Ea.delete(4),await od(y)})(this))}))})),this.Ra=new S5(s,o)}}async function od(r){if(ya(r))for(const e of r.da)await e(!0)}async function Ac(r){for(const e of r.da)await e(!1)}function Ex(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yp(n)?Kp(n):Oo(n).O_()&&$p(n,e))}function Gp(r,e){const n=Ie(r),s=Oo(n);n.Ia.delete(e),s.O_()&&Tx(n,e),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Ra.set("Unknown"))}function $p(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Y_(e)}function Tx(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function Kp(r){r.Va=new xN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function Yp(r){return ya(r)&&!Oo(r).x_()&&r.Ia.size>0}function ya(r){return Ie(r).Ea.size===0}function Sx(r){r.Va=void 0}async function R5(r){r.Ra.set("Online")}async function N5(r){r.Ia.forEach(((e,n)=>{$p(r,e)}))}async function C5(r,e){Sx(r),Yp(r)?(r.Ra.ha(e),Kp(r)):r.Ra.set("Unknown")}async function I5(r,e,n){if(r.Ra.set("Online"),e instanceof cx&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){fe(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof lx?r.Va.st(e):r.Va.tt(e),!n.isEqual(Re.min()))try{const s=await xx(r.localStore);n.compareTo(s)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(Zt.EMPTY_BYTE_STRING,_.snapshotVersion)),Tx(c,g);const E=new as(_.target,g,y,_.sequenceNumber);$p(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){fe(da,"Failed to raise snapshot:",s),await Dh(r,s)}}async function Dh(r,e,n){if(!Do(e))throw e;r.Ea.add(1),await Ac(r),r.Ra.set("Offline"),n||(n=()=>xx(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await od(r)}))}function Ax(r,e){return e().catch((n=>Dh(r,n,e)))}async function ld(r){const e=Ie(r),n=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;k5(e);)try{const o=await d5(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,j5(e,o)}catch(o){await Dh(e,o)}Rx(e)&&Nx(e)}function k5(r){return ya(r)&&r.Ta.length<10}function j5(r,e){r.Ta.push(e);const n=vs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Rx(r){return ya(r)&&!vs(r).x_()&&r.Ta.length>0}function Nx(r){vs(r).start()}async function D5(r){vs(r).ra()}async function M5(r){const e=vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function O5(r,e,n){const s=r.Ta.shift(),o=Lp.from(s,e,n);await Ax(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ld(r)}async function V5(r,e){e&&vs(r).X_&&await(async function(s,o){if((function(f){return yN(f)&&f!==ee.ABORTED})(o.code)){const c=s.Ta.shift();vs(s).B_(),await Ax(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ld(s)}})(r,e),Rx(r)&&Nx(r)}async function W1(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),fe(da,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await Ac(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await od(n)}async function P5(r,e){const n=Ie(r);e?(n.Ea.delete(2),await od(n)):e||(n.Ea.add(2),await Ac(n),n.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,s,o){const c=Ie(n);return c.sa(),new b5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:R5.bind(null,r),t_:N5.bind(null,r),r_:C5.bind(null,r),H_:I5.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Yp(r)?Kp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Sx(r))}))),r.ma}function vs(r){return r.fa||(r.fa=(function(n,s,o){const c=Ie(n);return c.sa(),new w5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:D5.bind(null,r),r_:V5.bind(null,r),ta:M5.bind(null,r),na:O5.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ld(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const f=Date.now()+s,p=new Qp(e,n,f,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(r,e){if(di("AsyncQueue",`${e}: ${r}`),Do(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.ga=new ut(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,c,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new No(e,n,yo.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class U5{constructor(){this.queries=J1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),c=o.queries;o.queries=J1(),c.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function J1(){return new ga((r=>Q2(r)),td)}async function Cx(r,e){const n=Ie(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new L5,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Xp(f,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Wp(n)}async function Ix(r,e){const n=Ie(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function z5(r,e){const n=Ie(r);let s=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Wp(n)}function B5(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Wp(r){r.Ca.forEach((e=>{e.next()}))}var lp,e_;(e_=lp||(lp={})).Ma="default",e_.Cache="cache";class kx{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.key=e}}class Dx{constructor(e){this.key=e}}class F5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=X2(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Z1,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const A=o.get(_),O=nd(this.query,E)?E:null,z=!!A&&this.mutatedKeys.has(A.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;A&&O?A.data.isEqual(O.data)?z!==Y&&(s.track({type:3,doc:O}),L=!0):this.su(A,O)||(s.track({type:2,doc:O}),L=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!A&&O?(s.track({type:0,doc:O}),L=!0):A&&!O&&(s.track({type:1,doc:A}),L=!0,(g||y)&&(p=!0)),L&&(O?(f=f.add(O),c=Y?c.add(_):c.delete(_)):(f=f.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,E)=>(function(O,z){const Y=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return Y(O)-Y(z)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new No(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Dx(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new jx(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class q5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class H5{constructor(e){this.key=e,this.hu=!1}}class G5{constructor(e,n,s,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ga((p=>Q2(p)),td),this.Iu=new Map,this.Eu=new Set,this.du=new ut(_e.comparator),this.Au=new Map,this.Ru=new Bp,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $5(r,e,n=!0){const s=Ux(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Mx(s,e,n,!0),o}async function K5(r,e){const n=Ux(r);await Mx(n,e,!0,!1)}async function Mx(r,e,n,s){const o=await f5(r.localStore,Sr(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await Y5(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Ex(r.remoteStore,o),p}async function Y5(r,e,n,s,o){r.pu=(E,A,O)=>(async function(Y,L,K,F){let ie=L.view.ru(K);ie.Cs&&(ie=await $1(Y.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,ie))));const ae=F&&F.targetChanges.get(L.targetId),se=F&&F.targetMismatches.get(L.targetId)!=null,ue=L.view.applyChanges(ie,Y.isPrimaryClient,ae,se);return n_(Y,L.targetId,ue.au),ue.snapshot})(r,E,A,O);const c=await $1(r.localStore,e,!0),f=new F5(e,c.Qs),p=f.ru(c.documents),g=Sc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);n_(r,n,y.au);const _=new q5(e,n,f);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function Q5(r,e,n){const s=Ie(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!td(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(jo)):(cp(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function X5(r,e){const n=Ie(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function W5(r,e,n){const s=i4(r);try{const o=await(function(f,p){const g=Ie(f),y=tt.now(),_=p.reduce(((O,z)=>O.add(z.key)),Ue());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let z=mi(),Y=Ue();return g.Ns.getEntries(O,_).next((L=>{z=L,z.forEach(((K,F)=>{F.isValidDocument()||(Y=Y.add(K))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,z))).next((L=>{E=L;const K=[];for(const F of p){const ie=dN(F,E.get(F.key).overlayedDocument);ie!=null&&K.push(new Es(F.key,ie,B2(ie.value.mapValue),sr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,K,p)})).next((L=>{A=L;const K=L.applyToLocalDocumentSet(E,Y);return g.documentOverlayCache.saveOverlays(O,L.batchId,K)}))})).then((()=>({batchId:A.batchId,changes:Z2(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Le)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Rc(s,o.changes),await ld(s.remoteStore)}catch(o){const c=Xp(o,"Failed to persist write");n.reject(c)}}async function Ox(r,e){const n=Ie(r);try{const s=await u5(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await Rc(n,s,e)}catch(s){await jo(s)}}function t_(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Ie(f);g.onlineState=p;let y=!1;g.queries.forEach(((_,E)=>{for(const A of E.Sa)A.va(p)&&(y=!0)})),y&&Wp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Z5(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new ut(_e.comparator);f=f.insert(c,an.newNoDocument(c,Re.min()));const p=Ue().add(c),g=new sd(Re.min(),new Map,new ut(Le),f,p);await Ox(s,g),s.du=s.du.remove(c),s.Au.delete(e),Jp(s)}else await ap(s.localStore,e,!1).then((()=>cp(s,e,n))).catch(jo)}async function J5(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await c5(n.localStore,e);Px(n,s,null),Vx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rc(n,o)}catch(o){await jo(o)}}async function e4(r,e,n){const s=Ie(r);try{const o=await(function(f,p){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Ge(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);Px(s,e,n),Vx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Rc(s,o)}catch(o){await jo(o)}}function Vx(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Px(r,e,n){const s=Ie(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Lx(r,s)}))}function Lx(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Gp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Jp(r))}function n_(r,e,n){for(const s of n)s instanceof jx?(r.Ru.addReference(s.key,e),t4(r,s)):s instanceof Dx?(fe(Zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Lx(r,s.key)):Ee(19791,{wu:s})}function t4(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe(Zp,"New document in limbo: "+n),r.Eu.add(s),Jp(r))}function Jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(it.fromString(e)),s=r.fu.next();r.Au.set(s,new H5(n)),r.du=r.du.insert(n,s),Ex(r.remoteStore,new as(Sr(Op(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Rc(r,e,n){const s=Ie(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=qp.As(g.targetId,y);c.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const _=Ie(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(A=>ne.forEach(A.Es,(O=>_.persistence.referenceDelegate.addReference(E,A.targetId,O))).next((()=>ne.forEach(A.ds,(O=>_.persistence.referenceDelegate.removeReference(E,A.targetId,O)))))))))}catch(E){if(!Do(E))throw E;fe(Hp,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const O=_.Ms.get(A),z=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(A,Y)}}})(s.localStore,c))}async function n4(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){fe(Zp,"User change. New user:",e.toKey());const s=await _x(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(ee.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Rc(n,s.Ls)}}function r4(r,e){const n=Ie(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Ux(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z5.bind(null,e),e.Pu.H_=z5.bind(null,e.eventManager),e.Pu.yu=B5.bind(null,e.eventManager),e}function i4(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e4.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return l5(this.persistence,new s5,e.initialUser,this.serializer)}Cu(e){return new vx(Fp.mi,this.serializer)}Du(e){return new p5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class s4 extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new HN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new vx((s=>jh.mi(s,n)),this.serializer)}}class up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>t_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n4.bind(null,this.syncEngine),await P5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new U5})()}createDatastore(e){const n=ad(e.databaseInfo.databaseId),s=(function(c){return new x5(c)})(e.databaseInfo);return(function(c,f,p,g){return new T5(c,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,f,p){return new A5(s,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>t_(this.syncEngine,n,0)),(function(){return Q1.v()?new Q1:new g5})())}createSyncEngine(e,n){return(function(o,c,f,p,g,y,_){const E=new G5(o,c,f,p,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);fe(da,"RemoteStore shutting down."),s.Ea.add(5),await Ac(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class a4{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{fe(_s,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(_s,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Om(r,e){r.asyncQueue.verifyOperationInProgress(),fe(_s,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _x(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function r_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await o4(r);fe(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>W1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>W1(e.remoteStore,o))),r._onlineComponents=e}async function o4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(_s,"Using user provided OfflineComponentProvider");try{await Om(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Om(r,new Mh)}}else fe(_s,"Using default OfflineComponentProvider"),await Om(r,new s4(void 0));return r._offlineComponents}async function Bx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(_s,"Using user provided OnlineComponentProvider"),await r_(r,r._uninitializedComponentsProvider._online)):(fe(_s,"Using default OnlineComponentProvider"),await r_(r,new up))),r._onlineComponents}function l4(r){return Bx(r).then((e=>e.syncEngine))}async function Fx(r){const e=await Bx(r),n=e.eventManager;return n.onListen=$5.bind(null,e.syncEngine),n.onUnlisten=Q5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X5.bind(null,e.syncEngine),n}function c4(r,e,n={}){const s=new li;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const _=new zx({next:A=>{_.Nu(),f.enqueueAndForget((()=>Ix(c,E)));const O=A.docs.has(p);!O&&A.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&g&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new kx(Op(p.path),_,{includeMetadataChanges:!0,qa:!0});return Cx(c,E)})(await Fx(r),r.asyncQueue,e,n,s))),s.promise}function u4(r,e,n={}){const s=new li;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const _=new zx({next:A=>{_.Nu(),f.enqueueAndForget((()=>Ix(c,E))),A.fromCache&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new kx(p,_,{includeMetadataChanges:!0,qa:!0});return Cx(c,E)})(await Fx(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firestore.googleapis.com",s_=!0;class a_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hx,this.ssl=s_}else this.host=e.host,this.ssl=e.ssl??s_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new p3;switch(s.type){case"firstParty":return new _3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=i_.get(n);s&&(fe("ComponentProvider","Removing Datastore"),i_.delete(n),s.terminate())})(this),Promise.resolve()}}function h4(r,e,n,s={}){r=fi(r,cd);const o=bs(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Yh(`https://${p}`),Qh("Firestore",!0)),c.host!==Hx&&c.host!==p&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!ua(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=sn.MOCK_USER;else{y=g2(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(E)}r._authCredentials=new g3(new C2(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ec(n,Nt._jsonSchema))return new Nt(e,s||null,new _e(it.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Rt("string",Nt._jsonSchemaVersion),referencePath:Rt("string")};class hs extends va{constructor(e,n,s){super(e,n,Op(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function nr(r,e,...n){if(r=Ct(r),I2("collection","path",e),r instanceof cd){const s=it.fromString(e,...n);return _1(s),new hs(r,null,s)}{if(!(r instanceof Nt||r instanceof hs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return _1(s),new hs(r.firestore,null,s)}}function xs(r,e,...n){if(r=Ct(r),arguments.length===1&&(e=Cp.newId()),I2("doc","path",e),r instanceof cd){const s=it.fromString(e,...n);return v1(s),new Nt(r,null,new _e(s))}{if(!(r instanceof Nt||r instanceof hs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return v1(s),new Nt(r.firestore,r instanceof hs?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="AsyncQueue";class l_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bx(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&fe(o_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;fe(o_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,di("INTERNAL UNHANDLED ERROR: ",c_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:c_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function c_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Vo extends cd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new l_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function d4(r,e){const n=typeof r=="object"?r:Xh(),s=typeof r=="string"?r:Rh,o=wc(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Sp("firestore");c&&h4(o,...c)}return o}function eg(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||f4(r),r._firestoreClient}function f4(r){const e=r._freezeSettings(),n=(function(o,c,f,p){return new V3(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new a4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Zt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Rt("string",Fn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:Rt("string",Rr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Nr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Rt("string",Nr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=/^__.*__$/;class p4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class Gx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $x(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class tg{constructor(e,n,s,o,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($x(this.Ac)&&m4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class g4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ad(e)}Cc(e,n,s,o=!1){return new tg({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(r){const e=r._freezeSettings(),n=ad(r._databaseId);return new g4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function y4(r,e,n,s,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,o);ig("Data must be an object, but it was:",f,s);const p=Kx(s,f);let g,y;if(c.merge)g=new Cn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const A=hp(e,E,n);if(!f.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Qx(_,A)||_.push(A)}g=new Cn(_),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new p4(new _n(p),g,y)}class dd extends hd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dd}}class rg extends hd{_toFieldTransform(e){return new lN(e.path,new fc)}isEqual(e){return e instanceof rg}}function v4(r,e,n,s){const o=r.Cc(1,e,n);ig("Data must be an object, but it was:",o,s);const c=[],f=_n.empty();ws(s,((g,y)=>{const _=sg(e,g,n);y=Ct(y);const E=o.yc(_);if(y instanceof dd)c.push(_);else{const A=Nc(y,E);A!=null&&(c.push(_),f.set(_,A))}}));const p=new Cn(c);return new Gx(f,p,o.fieldTransforms)}function _4(r,e,n,s,o,c){const f=r.Cc(1,e,n),p=[hp(e,s,n)],g=[o];if(c.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(hp(e,c[A])),g.push(c[A+1]);const y=[],_=_n.empty();for(let A=p.length-1;A>=0;--A)if(!Qx(y,p[A])){const O=p[A];let z=g[A];z=Ct(z);const Y=f.yc(O);if(z instanceof dd)y.push(O);else{const L=Nc(z,Y);L!=null&&(y.push(O),_.set(O,L))}}const E=new Cn(y);return new Gx(_,E,f.fieldTransforms)}function x4(r,e,n,s=!1){return Nc(n,r.Cc(s?4:3,e))}function Nc(r,e){if(Yx(r=Ct(r)))return ig("Unsupported field value:",e,r),Kx(r,e);if(r instanceof hd)return(function(s,o){if(!$x(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const p of s){let g=Nc(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=tt.fromDate(s);return{timestampValue:kh(o.serializer,c)}}if(s instanceof tt){const c=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,c)}}if(s instanceof Rr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:ux(o.serializer,s._byteString)};if(s instanceof Nt){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Nr)return(function(f,p){return{mapValue:{fields:{[U2]:{stringValue:z2},[Nh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Vp(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(r,e)}function Kx(r,e){const n={};return D2(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,((s,o)=>{const c=Nc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Yx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Rr||r instanceof Fn||r instanceof Nt||r instanceof hd||r instanceof Nr)}function ig(r,e,n){if(!Yx(n)||!k2(n)){const s=Wh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function hp(r,e,n){if((e=Ct(e))instanceof ud)return e._internalPath;if(typeof e=="string")return sg(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const b4=new RegExp("[~\\*/\\[\\]]");function sg(r,e,n){if(e.search(b4)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new he(ee.INVALID_ARGUMENT,p+r+g)}function Qx(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w4 extends Xx{data(){return super.data()}}function fd(r,e){return typeof e=="string"?sg(r,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class Wx extends ag{}function og(r,e,...n){let s=[];e instanceof ag&&s.push(e),s=s.concat(n),(function(c){const f=c.filter((g=>g instanceof lg)).length,p=c.filter((g=>g instanceof md)).length;if(f>1||f>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class md extends Wx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new md(e,n,s)}_apply(e){const n=this._parse(e);return Zx(e._query,n),new va(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=ng(e.firestore);return(function(c,f,p,g,y,_,E){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){h_(E,_);const z=[];for(const Y of E)z.push(u_(g,c,Y));A={arrayValue:{values:z}}}else A=u_(g,c,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||h_(E,_),A=x4(p,f,E,_==="in"||_==="not-in");return At.create(y,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function T4(r,e,n){const s=e,o=fd("where",r);return md._create(o,s,n)}class lg extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)Zx(f,g),f=ep(f,g)})(e._query,n),new va(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends Wx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dc(c,f)})(e._query,this._field,this._direction);return new va(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new Mo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ug(r,e="asc"){const n=e,s=fd("orderBy",r);return cg._create(s,n)}function u_(r,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y2(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return R1(r,new _e(s))}if(n instanceof Nt)return R1(r,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function h_(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(r,e){const n=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class S4{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((s=>wt(s.doubleValue)));return new Nr(n)}convertGeoPoint(e){return new Rr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ed(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=ps(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ge(gx(s),9688,{name:e});const o=new uc(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(n)||di(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends Xx{constructor(e,n,s,o,c,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Rt("string",ca._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class dh extends ca{data(e={}){return super.data(e)}}class vo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new dh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new dh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),_=f.indexOf(p.doc.key)),{type:R4(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(r){r=fi(r,Nt);const e=fi(r.firestore,Vo);return c4(eg(e),r._key).then((n=>C4(e,r,n)))}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Rt("string",vo._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Jx extends S4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function _o(r){r=fi(r,va);const e=fi(r.firestore,Vo),n=eg(e),s=new Jx(e);return E4(r._query),u4(n,r._query).then((o=>new vo(e,s,r,o)))}function eb(r,e,n,...s){r=fi(r,Nt);const o=fi(r.firestore,Vo),c=ng(o);let f;return f=typeof(e=Ct(e))=="string"||e instanceof ud?_4(c,"updateDoc",r._key,e,n,s):v4(c,"updateDoc",r._key,e),hg(o,[f.toMutation(r._key,sr.exists(!0))])}function Vh(r){return hg(fi(r.firestore,Vo),[new Pp(r._key,sr.none())])}function nc(r,e){const n=fi(r.firestore,Vo),s=xs(r),o=A4(r.converter,e);return hg(n,[y4(ng(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,sr.exists(!1))]).then((()=>s))}function hg(r,e){return(function(s,o){const c=new li;return s.asyncQueue.enqueueAndForget((async()=>W5(await l4(s),o,c))),c.promise})(eg(r),e)}function C4(r,e,n){const s=n.docs.get(e._key),o=new Jx(r);return new ca(r,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function I4(){return new rg("serverTimestamp")}(function(e,n=!0){(function(o){ko=o})(pa),fs(new ui("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new Vo(new y3(s.getProvider("auth-internal")),new x3(f,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(y.options.projectId,_)})(f,o),f);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),qn(m1,p1,e),qn(m1,p1,"esm2020")})();var k4="firebase",j4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(k4,j4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firebasestorage.googleapis.com",D4="storageBucket",M4=120*1e3,O4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Mr{constructor(e,n,s=0){super(Vm(e),`Firebase Storage: ${n} (${Vm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kr||(kr={}));function Vm(r){return"storage/"+r}function V4(){const r="An unknown error occurred, please check the error payload for server response.";return new Or(kr.UNKNOWN,r)}function P4(){return new Or(kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L4(){return new Or(kr.CANCELED,"User canceled the upload/download.")}function U4(r){return new Or(kr.INVALID_URL,"Invalid URL '"+r+"'.")}function z4(r){return new Or(kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function d_(r){return new Or(kr.INVALID_ARGUMENT,r)}function nb(){return new Or(kr.APP_DELETED,"The Firebase app was deleted.")}function B4(r){return new Or(kr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(s.path==="")return s;throw z4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${E}/${_}/b/${o}/o${A}`,"i"),z={bucket:1,path:3},Y=n===tb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",K=new RegExp(`^https?://${Y}/${o}/${L}`,"i"),ie=[{regex:p,indices:g,postModify:c},{regex:O,indices:z,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<ie.length;ae++){const se=ie[ae],ue=se.regex.exec(e);if(ue){const I=ue[se.indices.bucket];let R=ue[se.indices.path];R||(R=""),s=new rr(I,R),se.postModify(s);break}}if(s==null)throw U4(e);return s}}class F4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(r,e,n){let s=1,o=null,c=null,f=!1,p=0;function g(){return p===2}let y=!1;function _(...L){y||(y=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,r(O,g())},L)}function A(){c&&clearTimeout(c)}function O(L,...K){if(y){A();return}if(L){A(),_.call(null,L,...K);return}if(g()||f){A(),_.call(null,L,...K);return}s<64&&(s*=2);let ie;p===1?(p=2,ie=0):ie=(s+Math.random())*1e3,E(ie)}let z=!1;function Y(L){z||(z=!0,A(),!y&&(o!==null?(L||(p=2),clearTimeout(o),E(0)):L||(p=1)))}return E(0),c=setTimeout(()=>{f=!0,Y(!0)},n),Y}function H4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(r){return r!==void 0}function f_(r,e,n,s){if(s<e)throw d_(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw d_(`Invalid value for '${r}'. Expected ${n} or less.`)}function $4(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ph;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ph||(Ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,s,o,c,f,p,g,y,_,E,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,Y)=>{this.resolve_=z,this.reject_=Y,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new rh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===Ph.NO_ERROR,g=c.getStatus();if(!p||K4(g,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===Ph.ABORT;s(!1,new rh(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new rh(y,c))})},n=(s,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());G4(g)?c(g):c()}catch(g){f(g)}else if(p!==null){const g=V4();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?nb():L4();f(g)}else{const g=P4();f(g)}};this.canceled_?n(!1,new rh(!1,null,!0)):this.backoffId_=q4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Q4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function X4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Z4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function J4(r,e,n,s,o,c,f=!0,p=!1){const g=$4(r.urlParams),y=r.url+g,_=Object.assign({},r.headers);return W4(_,e),Q4(_,n),X4(_,c),Z4(_,s),new Y4(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function tC(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Lh(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tC(this._location.path)}get storage(){return this._service}get parent(){const e=eC(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Lh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw B4(e)}}function m_(r,e){const n=e?.[D4];return n==null?null:rr.makeFromBucketSpec(n,r)}function nC(r,e,n,s={}){r.host=`${e}:${n}`;const o=bs(e);o&&(Yh(`https://${r.host}/b`),Qh("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:g2(c,r.app.options.projectId))}class rC{constructor(e,n,s,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=tb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M4,this._maxUploadRetryTime=O4,this._requests=new Set,o!=null?this._bucket=rr.makeFromBucketSpec(o,this._host):this._bucket=m_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=m_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lh(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new F4(nb());{const f=J4(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const p_="@firebase/storage",g_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="storage";function iC(r=Xh(),e){r=Ct(r);const s=wc(r,rb).getImmediate({identifier:e}),o=Sp("storage");return o&&sC(s,...o),s}function sC(r,e,n,s={}){nC(r,e,n,s)}function aC(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new rC(n,s,o,e,pa)}function oC(){fs(new ui(rb,aC,"PUBLIC").setMultipleInstances(!0)),qn(p_,g_,""),qn(p_,g_,"esm2020")}oC();function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=ib,sb=new xc("auth","Firebase",ib());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Ap("@firebase/auth");function cC(r,...e){Uh.logLevel<=Pe.WARN&&Uh.warn(`Auth (${pa}): ${r}`,...e)}function fh(r,...e){Uh.logLevel<=Pe.ERROR&&Uh.error(`Auth (${pa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r,...e){throw fg(r,...e)}function ar(r,...e){return fg(r,...e)}function dg(r,e,n){const s={...lC(),[e]:n};return new xc("auth","Firebase",s).create(e,{appName:r.name})}function ds(r){return dg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ab(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&jr(r,"argument-error"),dg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return sb.create(r,...e)}function Ae(r,e,...n){if(!r)throw fg(e,...n)}function si(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function pi(r,e){r||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return typeof self<"u"&&self.location?.href||""}function uC(){return y_()==="http:"||y_()==="https:"}function y_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||YA()||"connection"in navigator)?navigator.onLine:!0}function dC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=GA()||QA()}get(){return hC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){pi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pC=new Cc(3e4,6e4);function pg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Po(r,e,n,s,o={}){return lb(r,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const p=bc({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return KA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&bs(r.emulatorConfig.host)&&(y.credentials="include"),ob.fetch()(await cb(r,r.config.apiHost,n,p),y)})}async function lb(r,e,n){r._canInitEmulator=!1;const s={...fC,...e};try{const o=new yC(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw ih(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw ih(r,"user-disabled",f);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dg(r,_,y);jr(r,_)}}catch(o){if(o instanceof Mr)throw o;jr(r,"network-request-failed",{message:String(o)})}}async function gC(r,e,n,s,o={}){const c=await Po(r,e,n,s,o);return"mfaPendingCredential"in c&&jr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function cb(r,e,n,s){const o=`${e}${n}?${s}`,c=r,f=c.config.emulator?mg(r.config,o):`${r.config.apiScheme}://${o}`;return mC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class yC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ar(this.auth,"network-request-failed")),pC.get())})}}function ih(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ar(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e){return Po(r,"POST","/v1/accounts:delete",e)}async function zh(r,e){return Po(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _C(r,e=!1){const n=Ct(r),s=await n.getIdToken(e),o=gg(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:rc(Pm(o.auth_time)),issuedAtTime:rc(Pm(o.iat)),expirationTime:rc(Pm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pm(r){return Number(r)*1e3}function gg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=d2(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function v_(r){const e=gg(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Mr&&xC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){const e=r.auth,n=await r.getIdToken(),s=await gc(r,zh(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?ub(o.providerUserInfo):[],f=EC(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function wC(r){const e=Ct(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ub(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e){const n=await lb(r,{},async()=>{const s=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await cb(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&bs(r.emulatorConfig.host)&&(g.credentials="include"),ob.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SC(r,e){return Po(r,"POST","/v2/accounts:revokeToken",pg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=v_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await TC(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new xo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new bC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await gc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _C(this,e)}reload(){return wC(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await gc(this,vC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:z,stsTokenManager:Y}=n;Ae(E&&Y,e,"internal-error");const L=xo.fromJSON(this.name,Y);Ae(typeof E=="string",e,"internal-error"),ns(s,e.name),ns(o,e.name),Ae(typeof A=="boolean",e,"internal-error"),Ae(typeof O=="boolean",e,"internal-error"),ns(c,e.name),ns(f,e.name),ns(p,e.name),ns(g,e.name),ns(y,e.name),ns(_,e.name);const K=new ir({uid:E,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:_});return z&&Array.isArray(z)&&(K.providerData=z.map(F=>({...F}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,n,s=!1){const o=new xo;o.updateFromServerResponse(n);const c=new ir({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?ub(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,p=new xo;p.updateFromIdToken(s);const g=new ir({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;function ai(r){pi(r instanceof Function,"Expected a class definition");let e=__.get(r);return e?(pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,__.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hb.type="NONE";const x_=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,c),this.fullPersistenceKey=mh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?ir._fromGetAccountInfoResponse(this.auth,n,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bo(ai(x_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ai(x_);const f=mh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(f);if(_){let E;if(typeof _=="string"){const A=await zh(e,{idToken:_}).catch(()=>{});if(!A)break;E=await ir._fromGetAccountInfoResponse(e,A,_)}else E=ir._fromJSON(e,_);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new bo(c,e,s):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new bo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(vb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||mb(e))&&!e.includes("edge/"))return"Chrome";if(gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function db(r=ln()){return/firefox\//i.test(r)}function fb(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mb(r=ln()){return/crios\//i.test(r)}function pb(r=ln()){return/iemobile/i.test(r)}function gb(r=ln()){return/android/i.test(r)}function yb(r=ln()){return/blackberry/i.test(r)}function vb(r=ln()){return/webos/i.test(r)}function yg(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AC(r=ln()){return yg(r)&&!!window.navigator?.standalone}function RC(){return XA()&&document.documentMode===10}function _b(r=ln()){return yg(r)||gb(r)||vb(r)||yb(r)||/windows phone/i.test(r)||pb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r,e=[]){let n;switch(r){case"Browser":n=b_(ln());break;case"Worker":n=`${b_(ln())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,p)=>{try{const g=e(c);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e={}){return Po(r,"GET","/v2/passwordPolicy",pg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=6;class kC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),s=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(ds(this));const n=e?Ct(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CC(this),n=new kC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lo(r){return Ct(r)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iR(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(r){vg=r}function MC(r){return vg.loadJS(r)}function OC(){return vg.gapiScript}function VC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r,e){const n=wc(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ua(c,e??{}))return o;jr(o,"already-initialized")}return n.initialize({options:e})}function LC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ai);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function UC(r,e,n){const s=Lo(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=bb(e),{host:f,port:p}=zC(e),g=p===null?"":`:${p}`,y={url:`${c}//${f}${g}/`},_=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(ua(y,s.config.emulator)&&ua(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,bs(f)?(Yh(`${c}//${f}${g}`),Qh("Auth",!0)):BC()}function bb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zC(r){const e=bb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:E_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:E_(f)}}}function E_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function BC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e){return gC(r,"POST","/v1/accounts:signInWithIdp",pg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="http://localhost";class fa extends wb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const f=new fa(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,wo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Ic{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ii.credential(n,s)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Ic{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Ic{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await ir._fromIdTokenResponse(e,s,o),f=T_(s);return new Co({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=T_(s);return new Co({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function T_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fh(e,n,s,o)}}function Eb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(r,c,e,s):c})}async function qC(r,e,n=!1){const s=await gc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Co._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(r,e,n=!1){const{auth:s}=r;if(vn(s.app))return Promise.reject(ds(s));const o="reauthenticate";try{const c=await gc(r,Eb(s,o,e,r),n);Ae(c.idToken,s,"internal-error");const f=gg(c.idToken);Ae(f,s,"internal-error");const{sub:p}=f;return Ae(r.uid===p,s,"user-mismatch"),Co._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&jr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,e,n=!1){if(vn(r.app))return Promise.reject(ds(r));const s="signIn",o=await Eb(r,s,e),c=await Co._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}function $C(r,e,n,s){return Ct(r).onIdTokenChanged(e,n,s)}function KC(r,e,n){return Ct(r).beforeAuthStateChanged(e,n)}function YC(r,e,n,s){return Ct(r).onAuthStateChanged(e,n,s)}function QC(r){return Ct(r).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=1e3,WC=10;class Sb extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);RC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sb.type="LOCAL";const ZC=Sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ab.type="SESSION";const Rb=Ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,c)),g=await JC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const y=_g("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function tI(r){Cr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function nI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rI(){return navigator?.serviceWorker?.controller||null}function iI(){return Nb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebaseLocalStorageDb",sI=1,Hh="firebaseLocalStorage",Ib="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(r,e){return r.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function aI(){const r=indexedDB.deleteDatabase(Cb);return new kc(r).toPromise()}function mp(){const r=indexedDB.open(Cb,sI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hh,{keyPath:Ib})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await aI(),e(await mp()))})})}async function S_(r,e,n){const s=yd(r,!0).put({[Ib]:e,value:n});return new kc(s).toPromise()}async function oI(r,e){const n=yd(r,!1).get(e),s=await new kc(n).toPromise();return s===void 0?null:s.value}function A_(r,e){const n=yd(r,!0).delete(e);return new kc(n).toPromise()}const lI=800,cI=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(iI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nI(),!this.activeServiceWorker)return;this.sender=new eI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await S_(e,qh,"1"),await A_(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>S_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=yd(o,!1).getAll();return new kc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const uI=kb;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(r,e){return e?ai(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends wb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hI(r){return GC(r.auth,new bg(r),r.bypassAuthState)}function dI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),HC(n,new bg(r),r.bypassAuthState)}async function fI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),qC(n,new bg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:jr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Cc(2e3,1e4);async function pI(r,e,n){if(vn(r.app))return Promise.reject(ar(r,"operation-not-supported-in-this-environment"));const s=Lo(r);ab(r,e,pd);const o=xg(s,n);return new la(s,"signInViaPopup",e,o).executeNotNull()}class la extends jb{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mI.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="pendingRedirect",ph=new Map;class yI extends jb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await vI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vI(r,e){const n=Mb(e),s=Db(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function _I(r,e){return Db(r)._set(Mb(e),"true")}function xI(r,e){ph.set(r._key(),e)}function Db(r){return ai(r._redirectPersistence)}function Mb(r){return mh(gI,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r,e,n){return wI(r,e,n)}async function wI(r,e,n){if(vn(r.app))return Promise.reject(ds(r));const s=Lo(r);ab(r,e,pd),await s._initializationPromise;const o=xg(s,n);return await _I(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function EI(r,e){return await Lo(r)._initializationPromise,Ob(r,e,!1)}async function Ob(r,e,n=!1){if(vn(r.app))return Promise.reject(ds(r));const s=Lo(r),o=xg(s,e),f=await new yI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=600*1e3;class SI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Vb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TI&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Vb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function AI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,e={}){return Po(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CI=/^https?/;async function II(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RI(r);for(const n of e)try{if(kI(n))return}catch{}jr(r,"unauthorized-domain")}function kI(r){const e=dp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!CI.test(n))return!1;if(NI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Cc(3e4,6e4);function N_(){const r=Cr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DI(r){return new Promise((e,n)=>{function s(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),n(ar(r,"network-request-failed"))},timeout:jI.get()})}if(Cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cr().gapi?.load)s();else{const o=VC("iframefcb");return Cr()[o]=()=>{gapi.load?s():n(ar(r,"network-request-failed"))},MC(`${OC()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw gh=null,e})}let gh=null;function MI(r){return gh=gh||DI(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new Cc(5e3,15e3),VI="__/auth/iframe",PI="emulator/auth/iframe",LI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mg(e,PI):`https://${r.config.authDomain}/${VI}`,s={apiKey:e.apiKey,appName:r.name,v:pa},o=UI.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${bc(s).slice(1)}`}async function BI(r){const e=await MI(r),n=Cr().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:zI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=ar(r,"network-request-failed"),p=Cr().setTimeout(()=>{c(f)},OI.get());function g(){Cr().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qI=500,HI=600,GI="_blank",$I="http://localhost";class C_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KI(r,e,n,s=qI,o=HI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...FI,width:s.toString(),height:o.toString(),top:c,left:f},y=ln().toLowerCase();n&&(p=mb(y)?GI:n),db(y)&&(e=e||$I,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[O,z])=>`${A}${O}=${z},`,"");if(AC(y)&&p!=="_self")return YI(e||"",p),new C_(null);const E=window.open(e||"",p,_);Ae(E,r,"popup-blocked");try{E.focus()}catch{}return new C_(E)}function YI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="__/auth/handler",XI="emulator/auth/handler",WI=encodeURIComponent("fac");async function I_(r,e,n,s,o,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:pa,eventId:o};if(e instanceof pd){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",rR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof Ic){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await r._getAppCheckToken(),y=g?`#${WI}=${encodeURIComponent(g)}`:"";return`${ZI(r)}?${bc(p).slice(1)}${y}`}function ZI({config:r}){return r.emulator?mg(r,XI):`https://${r.authDomain}/${QI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class JI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=Ob,this._overrideRedirectResult=xI}async _openPopup(e,n,s,o){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I_(e,n,s,dp(),o);return KI(e,c,_g())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await I_(e,n,s,dp(),o);return tI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(pi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BI(e),s=new SI(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},o=>{const c=o?.[0]?.[Lm];c!==void 0&&n(!!c),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=II(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _b()||fb()||yg()}}const e6=JI;var k_="@firebase/auth",j_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r6(r){fs(new ui("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(r)},y=new jC(s,o,c,g);return LC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fs(new ui("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(s=>new t6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(k_,j_,n6(r)),qn(k_,j_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=300,s6=p2("authIdTokenMaxAge")||i6;let D_=null;const a6=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>s6)return;const o=n?.token;D_!==o&&(D_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o6(r=Xh()){const e=wc(r,"auth");if(e.isInitialized())return e.getImmediate();const n=PC(r,{popupRedirectResolver:e6,persistence:[uI,ZC,Rb]}),s=p2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=a6(c.toString());KC(n,f,()=>f(n.currentUser)),$C(n,p=>f(p))}}const o=f2("auth");return o&&UC(n,`http://${o}`),n}function l6(){return document.getElementsByTagName("head")?.[0]??document}DC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=ar("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",l6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r6("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,vn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="us-central1";class u6{constructor(e,n,s,o,c=pp,f=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new c6(e,n,s,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(c);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=pp}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function h6(r,e,n){const s=bs(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Yh(r.emulatorOrigin+"/backends"),Qh("Functions",!0))}const M_="@firebase/functions",O_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="auth-internal",f6="app-check-internal",m6="messaging-internal";function p6(r){const e=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(d6),f=n.getProvider(m6),p=n.getProvider(f6);return new u6(o,c,f,p,s)};fs(new ui(Pb,e,"PUBLIC").setMultipleInstances(!0)),qn(M_,O_,r),qn(M_,O_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(r=Xh(),e=pp){const s=wc(Ct(r),Pb).getImmediate({identifier:e}),o=Sp("functions");return o&&y6(s,...o),s}function y6(r,e,n){h6(Ct(r),e,n)}p6();const v6={apiKey:"AIzaSyDo7pLpmv04Eyk3K-fBZtUvKIZLCcqot1o",authDomain:"codme-cb7b4.firebaseapp.com",projectId:"codme-cb7b4",storageBucket:"codme-cb7b4.firebasestorage.app",messagingSenderId:"167915856115",appId:"1:167915856115:web:96cc761a1524122ab6d786",measurementId:"G-QK16ETLM16"},vd=_2(v6),Ht=d4(vd);iC(vd);const ic=o6(vd),gp=new ii;g6(vd);const Uo="news",Lb=(r,e=150)=>r.length<=e?r:r.substring(0,e).trim()+"...",_d=r=>{const e=r.toDate(),n={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("th-TH",n)},Ub=async()=>{try{const r=og(nr(Ht,Uo),T4("status","==","published"),ug("createdAt","desc")),e=await _o(r),n=[];return e.forEach(s=>{const o=s.data();n.push({id:s.id,...o,date:_d(o.createdAt),fullContent:o.content})}),n}catch(r){throw console.error("Error fetching published news:",r),r}},_6=async()=>{try{const r=og(nr(Ht,Uo),ug("createdAt","desc")),e=await _o(r),n=[];return e.forEach(s=>{const o=s.data();n.push({id:s.id,...o,date:_d(o.createdAt)})}),n}catch(r){throw console.error("Error fetching all news:",r),r}},x6=async r=>{try{const e=xs(Ht,Uo,r),n=await N4(e);if(n.exists()){const s=n.data();return{id:n.id,...s,date:_d(s.createdAt)}}else throw new Error("News not found")}catch(e){throw console.error("Error fetching news by ID:",e),e}},b6=async r=>{try{const e=tt.now(),n={title:r.title,content:r.content,excerpt:Lb(r.content),image:r.image||null,author:r.author||"ฝ่ายประชาสัมพันธ์",category:r.category||"ทั่วไป",status:r.status||"draft",createdAt:e,updatedAt:e};return{id:(await nc(nr(Ht,Uo),n)).id,...n,date:_d(e)}}catch(e){throw console.error("Error creating news:",e),e}},w6=async(r,e)=>{try{const n=xs(Ht,Uo,r),s={...e,excerpt:e.content?Lb(e.content):void 0,updatedAt:tt.now()};return Object.keys(s).forEach(o=>s[o]===void 0&&delete s[o]),await eb(n,s),await x6(r)}catch(n){throw console.error("Error updating news:",n),n}},E6=async r=>{try{const e=xs(Ht,Uo,r);return await Vh(e),{success:!0,id:r}}catch(e){throw console.error("Error deleting news:",e),e}},T6=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{s(!0);const f=(await Ub()).slice(0,3);e(f)}catch(c){console.error("Error loading news:",c),e([])}finally{s(!1)}})()},[]),h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
                    /* Mobile (default) */
                    .news-responsive {
                        margin-top: -130px;
                    }

                    /* Notebook - ประมาณ 1024px - 1599px */
                    @media (min-width: 1024px) and (max-width: 1599px) {
                        .news-responsive {
                            margin-top: -130px;
                        }
                    }

                    /* Desktop - 1600px ขึ้นไป */
                    @media (min-width: 1600px) {
                        .news-responsive {
                            margin-top: -430px;
                        }
                    }
                `}),h.jsxs("div",{className:"relative news-responsive",children:[h.jsx("img",{src:on.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",right:"-130px"}}),h.jsx("div",{id:"News",className:"relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:h.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[h.jsxs("div",{className:"text-center max-w-4xl",children:[h.jsx(Tp,{title:"ข่าวประชาสัมพันธ์",desc:"ติดตามข่าวสารและกิจกรรมต่างๆ ของคณะวิศวกรรมคอมพิวเตอร์และวิศวกรรมสื่อดิจิตอล มหาวิทยาลัยขอนแก่น"}),h.jsx(Mt,{to:"/activity",children:h.jsx("button",{className:"mt-6 px-5 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white text-sm font-semibold rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-300",children:"ดูข่าวทั้งหมด →"})})]}),n?h.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[h.jsx(Xl,{className:"animate-spin mb-4",size:48,color:"#dc2626"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"กำลังโหลดข่าวล่าสุด..."})]}):r.length>0?h.jsx(h.Fragment,{children:h.jsx("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((o,c)=>h.jsx(Mt,{to:"/activity",className:"block",children:h.jsx(DA,{news:o})},o.id||c))})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"ยังไม่มีข่าวสารในขณะนี้"}),h.jsx(Mt,{to:"/activity",children:h.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300",children:"ไปหน้าข่าวสาร"})})]})]})})]})]})},S6=({service:r})=>{const[e,n]=M.useState(!1);return h.jsxs("div",{className:`
        group relative overflow-hidden rounded-2xl p-6
        transition-all duration-500 ease-out
        hover:scale-[1.02] active:scale-[1.02]
        flex items-center gap-6
        min-h-[160px] w-full
        cursor-pointer
        liquid-glass
      `,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[h.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),h.jsx("div",{className:`\r
          absolute inset-0 rounded-2xl\r
          border-2 border-transparent\r
          group-hover:border-red-400/60 group-active:border-red-400/60\r
          transition-all duration-500\r
          pointer-events-none\r
        `}),h.jsx("div",{className:`\r
          flex-shrink-0 w-16 h-16 rounded-xl \r
          flex items-center justify-center\r
          group-hover:scale-105 group-active:scale-105\r
          transition-all duration-300 ease-out\r
          relative z-10\r
        `,children:r?.icon?h.jsx("img",{src:r.icon,alt:r.title,className:"w-8 h-8 object-contain filter drop-shadow-lg"}):h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-red-600 rounded-lg"})}),h.jsxs("div",{className:"relative z-10 flex-1 min-w-0",children:[h.jsx("h3",{className:"text-lg font-bold mb-2 truncate text-black",children:r?.title||"Service Title"}),h.jsx("p",{className:"leading-relaxed line-clamp-2 font-medium text-sm text-black",children:r?.description||"Service description goes here with details about what this service offers."})]})]})},A6=()=>{const r=[{title:"เกณฑ์การรับเข้า",description:"อธิบายคุณสมบัติและขั้นตอนการสมัครสำหรับผู้สนใจเข้าศึกษา",icon:on.graduation_hat,link:"/admission"},{title:"ข้อมูลหลักสูตร",description:"แนะนำรายละเอียดหลักสูตร โครงสร้างรายวิชา และโอกาสทางอาชีพหลังสำเร็จการศึกษา",icon:on.book_open,link:"/course"},{title:"แนะแนว & กิจกรรม",description:"ให้คำปรึกษาด้านการเรียน พร้อมกิจกรรมเสริมสร้างทักษะและประสบการณ์นอกห้องเรียน",icon:on.megaphone,link:"/activity"},{title:"ติดต่อ",description:"รวมช่องทางการติดต่อสถาบัน เช่น ที่อยู่ เบอร์โทร อีเมล และช่องทางออนไลน์",icon:on.location,link:"/contact"}];return h.jsxs("div",{className:"relative py-20",children:[h.jsx("style",{children:`
                .services-wrapper {
                    margin-top: -130px; /* mobile default */
                }

                @media (min-width: 640px) {
                    .services-wrapper {
                        margin-top: -40px; /* tablet */
                    }
                }

                @media (min-width: 1024px) {
                    .services-wrapper {
                        margin-top: -64px; /* laptop */
                    }
                }
            `}),h.jsx("img",{src:on.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",left:"-130px"}}),h.jsx("div",{id:"services",className:"services-wrapper relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:h.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[h.jsx("div",{className:"text-center max-w-4xl",children:h.jsx(Tp,{title:"ข้อมูลการศึกษา",desc:"รวมข้อมูลสำคัญสำหรับผู้สนใจ ตั้งแต่เกณฑ์การรับเข้า หลักสูตร กิจกรรม ไปจนถึงช่องทางการติดต่อสถาบัน"})}),h.jsx("div",{className:"w-full max-w-7xl mx-auto",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 place-items-center md:place-items-stretch",children:r.map((e,n)=>h.jsx(Mt,{to:e.link,className:"w-full max-w-lg md:max-w-none block",children:h.jsx(S6,{service:e,index:n})},n))})})]})})]})},R6=[{title:"วิศวกรรมศาสตรบัณฑิต (วิศวกรรมคอมพิวเตอร์)",engTitle:"Bachelor of Engineering (Computer Engineering)",campus:"ขอนแก่น",fee:"20,000 บาท/เทอม",seats:{r1:32,r2:38,r3:34,r4:"ยังไม่เปิดรับสมัคร"}},{title:"วิศวกรรมศาสตรบัณฑิต (วิศวกรรมสื่อดิจิทัล) หลักสูตรนานาชาติ",engTitle:"Bachelor of Engineering (Digital Media Engineering) International Program",campus:"ขอนแก่น",fee:"50,000 บาท/เทอม",seats:{r1:21,r2:10,r3:20,r4:"ยังไม่เปิดรับสมัคร"}}],N6={0:{1:[{title:"วิศวกรรมคอมพิวเตอร์ โครงการผู้มีศักยภาพสูง",seats:24,sections:{base:"รับผู้สมัครที่จบจาก รร. หลักสูตรแกนกลาง, นานาชาติ, อาชีวะ และ GED ไม่รับหลักสูตรตามอัธยาศัย คะแนน GPAX ต่ำสุด 3.00",detail:"เป็นผู้ที่กำลังศึกษาอยู่ในชั้น ม.6 หรือเทียบเท่า (ปวช.) หรือผู้ที่มีคะแนน GED",criteria:"พิจารณาคุณภาพผลงาน + สัมภาษณ์ (ถ้ามี)",extra:"มีผลงานทางวิชาการด้านวิทยาศาสตร์ คณิตศาสตร์ หรือคอมพิวเตอร์ ในระดับจังหวัด ภูมิภาค ชาติ หรือนานาชาติ"}},{title:"วิศวกรรมคอมพิวเตอร์ โครงการรับนักเรียนจากโรงเรียนที่มีศักยภาพสูง",seats:8,sections:{base:"ต้องเป็นโรงเรียนเครือข่ายที่ภาควิชากำหนด",detail:"แนบหนังสือรับรอง/ผลงานที่เกี่ยวข้อง",criteria:"คัดเลือกตามเกณฑ์โครงการ",extra:"ประสานครูแนะแนวเพื่อเอกสาร"}}],2:[{title:"วิศวกรรมคอมพิวเตอร์ โควตาภาคตะวันออกเฉียงเหนือ",seats:38,sections:{base:"เฉพาะโรงเรียนในพื้นที่ภาคตะวันออกเฉียงเหนือ",detail:"GPAX ≥ 3.00 และแนบผลสอบวิชาสามัญ/วิชาเฉพาะตามประกาศ",criteria:"เรียงตามคะแนนรวมตามสูตรที่ประกาศ",extra:"รายละเอียดอื่น ๆ เป็นไปตามประกาศมหาวิทยาลัย"}}],3:[{title:"วิศวกรรมคอมพิวเตอร์",seats:34,sections:{base:"รับผ่านระบบกลาง TCAS",detail:"องค์ประกอบ: GPAX, GAT/PAT, วิชาสามัญ",criteria:"ผ่านขั้นต่ำและเรียงคะแนนรวม",extra:"สูตรคะแนนระบุในประกาศรับสมัคร"}}]},1:{1:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โครงการรับนักเรียนจากโรงเรียนที่มีศักยภาพสูง",seats:4,sections:{base:"โชว์เคสงานสื่อดิจิทัล (PDF/ลิงก์)",detail:"แนะนำแนบวิดีโอ/รีล/สตอรี่บอร์ดประกอบ",criteria:"สัมภาษณ์อธิบายแนวคิด (EN/TH)",extra:"แนบลิงก์ผลงานออนไลน์ได้"}},{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โครงการผู้มีศักยภาพสูง",seats:20,sections:{base:"ยื่นผลงานภาพนิ่ง/วิดีโอ พร้อมอธิบายกระบวนการ",detail:"ควรมีเครดิต/เครื่องมือที่ใช้",criteria:"พิจารณาคุณภาพผลงานและการสื่อสาร",extra:"อาจมี Workshop/Interview เพิ่ม"}}],2:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ โควตาภาคตะวันออกเฉียงเหนือ",seats:12,sections:{base:"จบจาก EP/International หรือเทียบเท่า",detail:"ผลสอบภาษาอังกฤษขั้นต่ำ + GPAX ตามเกณฑ์",criteria:"คัดตามคะแนนรวม",extra:"สัมภาษณ์เป็นภาษาอังกฤษ"}}],3:[{title:"วิศวกรรมสื่อดิจิทัล หลักสูตรนานาชาติ",seats:9,sections:{base:"รับผ่าน TCAS",detail:"GPAX + วิชาสามัญ (EN, MTH, SCI)",criteria:"ผ่านขั้นต่ำและเรียงคะแนนรวม",extra:"สูตรคะแนนตามประกาศ"}}]}};function C6({title:r,seats:e,children:n,defaultOpen:s=!0}){const[o,c]=M.useState(s);return h.jsxs("div",{className:`accord ${o?"open":""}`,children:[h.jsxs("button",{className:"accord-head",onClick:()=>c(!o),children:[h.jsx("span",{className:"accord-title",children:r}),h.jsxs("span",{className:"accord-right",children:[typeof e<"u"&&h.jsxs("span",{className:"accord-badge",children:["รับ ",e," คน"]}),h.jsx("span",{className:`accord-caret ${o?"up":""}`,"aria-hidden":!0,children:"▾"})]})]}),o&&h.jsx("div",{className:"accord-body",children:n})]})}function I6({base:r,detail:e,criteria:n,extra:s}){return h.jsxs("div",{className:"section-wrap",children:[h.jsx("h4",{className:"section-title",children:"ข้อมูลพื้นฐาน"}),h.jsx("div",{className:"section-body",children:r}),h.jsx("h4",{className:"section-title",children:"รายละเอียด"}),h.jsx("div",{className:"section-body",children:e}),h.jsx("h4",{className:"section-title",children:"เงื่อนไขการรับ"}),h.jsx("div",{className:"section-body",children:n}),h.jsx("h4",{className:"section-title",children:"รายละเอียดเพิ่มเติม"}),h.jsx("div",{className:"section-body",children:s})]})}function k6({course:r,index:e}){const[n,s]=M.useState(0),o={0:"รายละเอียด",1:"รอบ 1 Portfolio",2:"รอบ 2 Quota",3:"รอบ 3 Admission",4:"รอบ 4 Direct Admission"},c=f=>{if(f===0)return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ชื่อหลักสูตร"}),h.jsx("div",{className:"v",children:r.title})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ชื่อหลักสูตรภาษาอังกฤษ"}),h.jsx("div",{className:"v",children:r.engTitle})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ประเภทหลักสูตร"}),h.jsx("div",{className:"v",children:e===0?"ภาษาไทย ปกติ":"หลักสูตรนานาชาติ"})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"วิทยาเขต"}),h.jsx("div",{className:"v",children:r.campus})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:"ค่าใช้จ่าย"}),h.jsx("div",{className:"v",children:r.fee})]}),h.jsx("hr",{className:"divider"}),h.jsxs("div",{className:"round-sum",children:[h.jsxs("div",{children:["รอบ 1 Portfolio: ",h.jsx("b",{children:r.seats.r1})," คน"]}),h.jsxs("div",{children:["รอบ 2 Quota: ",h.jsx("b",{children:r.seats.r2})," คน"]}),h.jsxs("div",{children:["รอบ 3 Admission: ",h.jsx("b",{children:r.seats.r3})," คน"]}),h.jsxs("div",{children:["รอบ 4 Direct Admission: ",h.jsx("b",{children:r.seats.r4})]})]})]});if(f===4)return h.jsx("p",{children:"ยังไม่เปิดรับสมัคร"});const p=N6[e]?.[f]||[];return h.jsx(h.Fragment,{children:p.map((g,y)=>h.jsx(C6,{title:g.title,seats:g.seats,defaultOpen:y===0,children:h.jsx(I6,{base:g.sections.base,detail:g.sections.detail,criteria:g.sections.criteria,extra:g.sections.extra})},y))})};return h.jsxs("section",{className:"card card-translucent",children:[h.jsxs("div",{className:"round-rail",children:[h.jsx("button",{className:`round-pill ${n===0?"is-active":""}`,onClick:()=>s(0),children:"i"}),[1,2,3,4].map(f=>h.jsxs("button",{className:`round-pill ${n===f?"is-active":""}`,onClick:()=>s(f),children:["รอบ ",f]},f))]}),h.jsxs("div",{className:"card-inner",children:[h.jsxs("header",{className:"card-head",children:[h.jsx("div",{className:"card-logo",children:h.jsx("img",{src:on.official_logo,alt:"KKU logo",className:"card-logo-img"})}),h.jsxs("div",{className:"card-title-wrap",children:[h.jsx("h2",{className:"card-title",children:r.title}),h.jsx("div",{className:"card-dash"})]})]}),h.jsx("h3",{className:"card-sub",children:o[n]}),h.jsx("div",{className:"card-detail fade-in",children:c(n)},n)]})]})}function j6(){return h.jsxs("main",{className:"card-wrap",style:{position:"relative",paddingBottom:"170px"},children:[h.jsx("img",{src:on.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),h.jsx("img",{src:on.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"700px",left:"10px",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[h.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"เกณฑ์การรับเข้า"}),h.jsx("div",{style:{width:"80px",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"คุณสมบัติและขั้นตอนการสมัครสำหรับผู้สนใจเข้าศึกษา"})]}),R6.map((r,e)=>h.jsx(k6,{course:r,index:e},e))]})]})}const V_=[{id:"com",title:"วิศวกรรมคอมพิวเตอร์",engTitle:"Computer Engineering",file:"/codme/course/มคอ2-COM-65.pdf",code:"COM",year:"2565"},{id:"dme",title:"วิศวกรรมสื่อดิจิทัล",engTitle:"Digital Media Engineering",file:"/codme/course/มคอ2-DME-65.pdf",code:"DME",year:"2565"}],D6=()=>{const[r,e]=M.useState(V_[0]),[n,s]=M.useState(!0),[o,c]=M.useState(!1);M.useEffect(()=>{const _=()=>{c(window.innerWidth<768)};return _(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[]),M.useEffect(()=>{s(!0)},[r]);const f=_=>{_.id!==r.id&&e(_)},p=()=>{s(!1)},g=()=>{console.error("Failed to load PDF in iframe or PDF is not displayable."),s(!1)},y=_=>`${_}#view=FitH`;return h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(500px, 80vh, 700px)",left:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ข้อมูลหลักสูตร"}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:"รายละเอียดหลักสูตรและเอกสาร มคอ.2"})]}),h.jsx("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",justifyContent:"center",flexWrap:"wrap",padding:"0 1rem"},children:V_.map(_=>h.jsx("button",{onClick:()=>f(_),style:{padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1.25rem, 3vw, 2rem)",borderRadius:"50px",border:r.id===_.id?"3px solid #dc2626":"2px solid rgba(0,0,0,0.1)",background:r.id===_.id?"#dc2626":"rgba(255,255,255,0.9)",color:r.id===_.id?"white":"#333",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:r.id===_.id?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0,0,0,0.1)",whiteSpace:"nowrap"},onMouseEnter:E=>{r.id!==_.id&&(E.target.style.transform="translateY(-2px)",E.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},onMouseLeave:E=>{r.id!==_.id&&(E.target.style.transform="translateY(0)",E.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")},children:_.title},_.id))}),h.jsxs("section",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[h.jsxs("header",{style:{display:"flex",flexDirection:o?"column":"row",alignItems:o?"center":"flex-start",textAlign:o?"center":"left",gap:"1.5rem",marginBottom:"clamp(1.5rem, 3vw, 2rem)",paddingBottom:"clamp(1rem, 2.5vw, 1.5rem)",borderBottom:"2px solid rgba(0,0,0,0.1)"},children:[h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"clamp(60px, 10vw, 80px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:h.jsx("span",{style:{fontSize:"clamp(2rem, 4vw, 2.5rem)"},children:"📚"})}),h.jsxs("div",{style:{flex:1},children:[h.jsx("h2",{style:{fontSize:"clamp(1.25rem, 3vw, 1.75rem)",fontWeight:"bold",marginBottom:"0.25rem",color:"#1a1a1a"},children:r.title}),h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"0.5rem",margin:o?"0.5rem auto":"0.5rem 0",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:r.engTitle})]})]}),h.jsx("div",{style:{background:"rgba(220, 38, 38, 0.05)",padding:"clamp(1rem, 2.5vw, 1.5rem)",borderRadius:"clamp(12px, 2vw, 16px)",marginBottom:"clamp(1rem, 2.5vw, 1.5rem)",border:"1px solid rgba(220, 38, 38, 0.1)"},children:h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"clamp(1rem, 2.5vw, 1.5rem)"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"รหัสหลักสูตร"}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:r.code})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"ปีหลักสูตร"}),h.jsxs("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:["พ.ศ. ",r.year]})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"ประเภทเอกสาร"}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:"มคอ.2"})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:"คณะ"}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:"วิศวกรรมศาสตร์"})]})]})}),h.jsx("div",{style:{position:"relative",minHeight:o?"auto":"clamp(600px, 80vh, 800px)"},children:o?h.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa",borderRadius:"12px",border:"2px solid rgba(0,0,0,0.1)"},children:[h.jsx("p",{style:{color:"#666",marginBottom:"1.5rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",lineHeight:"1.6"},children:"บนอุปกรณ์มือถือ ขอแนะนำให้เปิดเอกสารในแอปพลิเคชันภายนอกเพื่อประสบการณ์ที่ดีที่สุด"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"300px",margin:"0 auto"},children:[h.jsxs("a",{href:r.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},children:[h.jsx("span",{children:"🔗"}),h.jsx("span",{children:"เปิดเอกสาร"})]}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},children:[h.jsx("span",{children:"⬇"}),h.jsx("span",{children:"ดาวน์โหลดเอกสาร"})]})]})]}):h.jsxs(h.Fragment,{children:[n&&h.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,textAlign:"center"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",border:"4px solid rgba(220, 38, 38, 0.2)",borderTop:"4px solid #dc2626",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),h.jsx("p",{style:{color:"#666",fontWeight:"500",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"กำลังโหลดเอกสาร..."})]}),h.jsx("div",{style:{borderRadius:"12px",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",background:"#f8f9fa",visibility:n?"hidden":"visible",height:n?"0":"clamp(600px, 80vh, 800px)",transition:"visibility 0s, height 0s, opacity 0.3s ease-in-out",opacity:n?0:1},children:h.jsx("iframe",{src:y(r.file),title:`Course Document for ${r.title}`,width:"100%",height:"100%",style:{border:"none",display:"block"},onLoad:p,onError:g,allow:"fullscreen",children:h.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa"},children:[h.jsx("p",{style:{color:"#666",marginBottom:"1rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)"},children:"เบราว์เซอร์ของคุณไม่รองรับการแสดง PDF โดยตรง หรือเกิดข้อผิดพลาดในการโหลด"}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)"},children:[h.jsx("span",{children:"⬇"}),h.jsx("span",{children:"ดาวน์โหลดเอกสาร PDF"})]})]})},r.id)})]})}),!o&&h.jsxs("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginTop:"clamp(1rem, 2.5vw, 1.5rem)",justifyContent:"center",flexWrap:"wrap"},children:[h.jsxs("a",{href:r.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.5)"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.4)"},children:[h.jsx("span",{children:"🔗"}),h.jsx("span",{children:"เปิดในหน้าต่างใหม่"})]}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsx("span",{children:"⬇"}),h.jsx("span",{children:"ดาวน์โหลดเอกสาร"})]})]})]}),h.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:h.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsx("strong",{style:{color:"#1a1a1a"},children:"หมายเหตุ:"})," เอกสาร มคอ.2 เป็นรายละเอียดหลักสูตรตามมาตรฐานคุณวุฒิระดับอุดมศึกษา ประกอบด้วยข้อมูลโครงสร้างหลักสูตร แผนการศึกษา และรายละเอียดรายวิชา"]})})]}),h.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Um=6,M6=()=>{const[r,e]=M.useState(null),[n,s]=M.useState(1),[o,c]=M.useState([]),[f,p]=M.useState(!0),[g,y]=M.useState(null);M.useEffect(()=>{(async()=>{try{p(!0);const F=await Ub();c(F),y(null)}catch(F){console.error("Error loading news:",F),y("ไม่สามารถโหลดข่าวได้ กรุณาลองใหม่อีกครั้ง")}finally{p(!1)}})()},[]);const _=Math.ceil(o.length/Um),E=(n-1)*Um,A=E+Um,O=o.slice(E,A),z=()=>{n<_&&(s(n+1),window.scrollTo({top:0,behavior:"smooth"}))},Y=()=>{n>1&&(s(n-1),window.scrollTo({top:0,behavior:"smooth"}))},L=K=>({กิจกรรม:"bg-blue-100 text-blue-700",ความสำเร็จ:"bg-green-100 text-green-700",ประกาศ:"bg-red-100 text-red-700",อบรม:"bg-purple-100 text-purple-700",ความร่วมมือ:"bg-yellow-100 text-yellow-700",สัมมนา:"bg-indigo-100 text-indigo-700",ทุนวิจัย:"bg-pink-100 text-pink-700",กิจกรรมอาสา:"bg-teal-100 text-teal-700",ทั่วไป:"bg-gray-100 text-gray-700"})[K]||"bg-gray-100 text-gray-700";return f?h.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx(Xl,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"กำลังโหลดข่าวสาร..."})]})}):g?h.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:h.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.9)",padding:"2rem",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[h.jsx("p",{style:{color:"#dc2626",fontSize:"1.1rem",marginBottom:"1rem"},children:g}),h.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",cursor:"pointer"},children:"โหลดใหม่"})]})}):r?h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"900px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[h.jsxs("button",{onClick:()=>e(null),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 2vw, 0.75rem) clamp(1rem, 3vw, 1.5rem)",marginBottom:"clamp(1rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:K=>{K.target.style.transform="translateX(-4px)",K.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:K=>{K.target.style.transform="translateX(0)",K.target.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsx(ac,{size:20}),h.jsx("span",{children:"กลับไปหน้าข่าว"})]}),h.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[r.image&&h.jsx("img",{src:r.image,alt:r.title,style:{width:"100%",height:"clamp(250px, 40vw, 400px)",objectFit:"cover"}}),h.jsxs("div",{style:{padding:"clamp(1.5rem, 4vw, 2.5rem)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"clamp(1rem, 2vw, 1.5rem)",flexWrap:"wrap"},children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${L(r.category)}`,children:r.category}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[h.jsx(xh,{size:16}),h.jsx("span",{children:r.date})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[h.jsx(wh,{size:16}),h.jsx("span",{children:r.author})]})]}),h.jsx("h1",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a",lineHeight:"1.3"},children:r.title}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",borderRadius:"2px"}}),h.jsx("p",{style:{fontSize:"clamp(1rem, 2vw, 1.125rem)",lineHeight:"1.8",color:"#333",whiteSpace:"pre-line"},children:r.fullContent})]})]})]})]}):h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 5vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ข่าวสารและกิจกรรม"}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.9rem, 2vw, 1.1rem)"},children:"ติดตามข่าวสารและกิจกรรมของคณะวิศวกรรมคอมพิวเตอร์ มหาวิทยาลัยขอนแก่น"})]}),o.length===0?h.jsx("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.85)",borderRadius:"16px"},children:h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"ยังไม่มีข่าวสารในขณะนี้"})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:O.map(K=>h.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:F=>{F.currentTarget.style.transform="translateY(-8px)",F.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.15)"},onMouseLeave:F=>{F.currentTarget.style.transform="translateY(0)",F.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[K.image?h.jsx("img",{src:K.image,alt:K.title,style:{width:"100%",height:"clamp(180px, 30vw, 200px)",objectFit:"cover",transition:"transform 0.3s ease"},onMouseEnter:F=>{F.target.style.transform="scale(1.1)"},onMouseLeave:F=>{F.target.style.transform="scale(1)"}}):h.jsx("div",{style:{width:"100%",height:"clamp(180px, 30vw, 200px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem",fontWeight:"bold"},children:"ข่าว"}),h.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem"},children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L(K.category)}`,children:K.category})})]}),h.jsxs("div",{style:{padding:"clamp(1rem, 3vw, 1.5rem)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"1rem",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)",color:"#666",flexWrap:"wrap"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(xh,{size:14}),h.jsx("span",{children:K.date})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(wh,{size:14}),h.jsx("span",{children:K.author})]})]}),h.jsx("h3",{style:{fontSize:"clamp(1.1rem, 2.5vw, 1.25rem)",fontWeight:"bold",marginBottom:"0.75rem",color:"#1a1a1a",lineHeight:"1.4"},children:K.title}),h.jsx("p",{style:{color:"#666",lineHeight:"1.6",marginBottom:"1rem",fontSize:"clamp(0.85rem, 1.8vw, 0.95rem)"},children:K.excerpt}),h.jsxs("button",{onClick:()=>e(K),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.625rem) clamp(1rem, 2.5vw, 1.25rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"clamp(0.8rem, 1.5vw, 0.875rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseEnter:F=>{F.target.style.transform="translateX(4px)",F.target.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.4)"},onMouseLeave:F=>{F.target.style.transform="translateX(0)",F.target.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},children:[h.jsx("span",{children:"อ่านเพิ่มเติม"}),h.jsx(OS,{size:16})]})]})]},K.id))}),_>1&&h.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginTop:"clamp(2rem, 4vw, 3rem)",flexWrap:"wrap"},children:[h.jsxs("button",{onClick:Y,disabled:n===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:n===1?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:n===1?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:n===1?.5:1},children:[h.jsx(ac,{size:20}),h.jsx("span",{children:"ก่อนหน้า"})]}),h.jsx("div",{style:{display:"flex",gap:"clamp(0.25rem, 1vw, 0.5rem)",alignItems:"center"},children:Array.from({length:_},(K,F)=>F+1).map(K=>h.jsx("button",{onClick:()=>{s(K),window.scrollTo({top:0,behavior:"smooth"})},style:{width:"clamp(32px, 8vw, 40px)",height:"clamp(32px, 8vw, 40px)",borderRadius:"8px",border:n===K?"none":"2px solid rgba(0,0,0,0.1)",background:n===K?"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)":"rgba(255, 255, 255, 0.9)",color:n===K?"white":"#333",fontWeight:"600",fontSize:"clamp(0.85rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:n===K?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:K},K))}),h.jsxs("button",{onClick:z,disabled:n===_,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:n===_?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:n===_?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:n===_?.5:1},children:[h.jsx("span",{children:"ถัดไป"}),h.jsx(zS,{size:20})]})]})]})]})]})},O6=()=>{const[r,e]=M.useState({name:"",email:"",subject:"",message:""});return h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vh, 100px)",left:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"ติดต่อเรา"}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:"ติดต่อสอบถามข้อมูล หรือนัดหมายเยี่ยมชมคณะวิศวกรรมคอมพิวเตอร์"})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(cA,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"ที่อยู่"}),h.jsxs("p",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:["ภาควิชาวิศวกรรมคอมพิวเตอร์",h.jsx("br",{}),"คณะวิศวกรรมศาสตร์",h.jsx("br",{}),"มหาวิทยาลัยขอนแก่น",h.jsx("br",{}),"123 ถนนมิตรภาพ ต.ในเมือง",h.jsx("br",{}),"อ.เมือง จ.ขอนแก่น 40002"]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(pA,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"โทรศัพท์"}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"สำนักงานภาควิชา:"}),h.jsx("br",{}),"043-202-845"]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"หัวหน้าภาควิชา:"}),h.jsx("br",{}),"043-202-846"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"ฝ่ายวิชาการ:"}),h.jsx("br",{}),"043-202-847"]})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(Fm,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"อีเมล"}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)",wordBreak:"break-word"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"ทั่วไป:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"com@kku.ac.th"})]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"สอบถามหลักสูตร:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:admission.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"admission.com@kku.ac.th"})]}),h.jsxs("p",{children:[h.jsx("strong",{children:"ฝ่ายวิจัย:"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:research.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"research.com@kku.ac.th"})]})]})]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(KS,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"เวลาทำการ"}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"จันทร์ - ศุกร์"}),h.jsx("br",{}),"08:30 - 16:30 น."]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:"เสาร์ - อาทิตย์"}),h.jsx("br",{}),"ปิดทำการ"]}),h.jsx("p",{style:{padding:"0.75rem",background:"rgba(220, 38, 38, 0.1)",borderRadius:"8px",marginTop:"1rem",fontSize:"clamp(0.8rem, 1.8vw, 0.9rem)"},children:"💡 หยุดตามวันหยุดนักขัตฤกษ์"})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(Jv,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:"ช่องทางออนไลน์"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#1877f2",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.transform="translateX(4px)",n.currentTarget.style.boxShadow="0 4px 12px rgba(24, 119, 242, 0.3)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateX(0)",n.currentTarget.style.boxShadow="none"},children:[h.jsx(WS,{size:24}),h.jsx("span",{children:"Facebook Page"})]}),h.jsxs("a",{href:"https://eng.kku.ac.th",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#dc2626",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.transform="translateX(4px)",n.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateX(0)",n.currentTarget.style.boxShadow="none"},children:[h.jsx(Jv,{size:24}),h.jsx("span",{children:"เว็บไซต์คณะ"})]})]})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[h.jsx("h2",{style:{fontSize:"clamp(1.5rem, 3.5vw, 2rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:"แผนที่ตั้ง"}),h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}})]}),h.jsx("div",{style:{borderRadius:"clamp(12px, 2vw, 16px)",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",height:"clamp(300px, 50vw, 450px)",background:"#f0f0f0"},children:h.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3826.664755555556!2d102.81472!3d16.46778!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31228a1b3f0d1b1f%3A0x1b1b1b1b1b1b1b1b!2sKhon%20Kaen%20University!5e0!3m2!1sen!2sth!4v1234567890",width:"100%",height:"100%",style:{border:"none"},allowFullScreen:!0,loading:"lazy",title:"แผนที่คณะวิศวกรรมศาสตร์ มข."})})]}),h.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:h.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsx("strong",{style:{color:"#1a1a1a"},children:"หมายเหตุ:"})," หากต้องการข้อมูลเพิ่มเติมหรือนัดหมายเข้าพบ กรุณาติดต่อล่วงหน้าอย่างน้อย 3 วันทำการ เพื่อให้เราสามารถเตรียมการต้อนรับท่านได้อย่างเหมาะสม"]})})]})]})};class jc{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const V6=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},Xt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:V6()},wg=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},P6=(r,e="https://api.emailjs.com")=>{if(!r)return;const n=wg(r);Xt.publicKey=n.publicKey,Xt.blockHeadless=n.blockHeadless,Xt.storageProvider=n.storageProvider,Xt.blockList=n.blockList,Xt.limitRate=n.limitRate,Xt.origin=n.origin||e},zb=async(r,e,n={})=>{const s=await fetch(Xt.origin+r,{method:"POST",headers:n,body:e}),o=await s.text(),c=new jc(s.status,o);if(s.ok)return c;throw c},Bb=(r,e,n)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},L6=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Fb=r=>r.webdriver||!r.languages||r.languages.length===0,qb=()=>new jc(451,"Unavailable For Headless Browser"),U6=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},z6=r=>!r.list?.length||!r.watchVariable,B6=(r,e)=>r instanceof FormData?r.get(e):r[e],Hb=(r,e)=>{if(z6(r))return!1;U6(r.list,r.watchVariable);const n=B6(e,r.watchVariable);return typeof n!="string"?!1:r.list.includes(n)},Gb=()=>new jc(403,"Forbidden"),F6=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},q6=async(r,e,n)=>{const s=Number(await n.get(r)||0);return e-Date.now()+s},$b=async(r,e,n)=>{if(!e.throttle||!n)return!1;F6(e.throttle,e.id);const s=e.id||r;return await q6(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},Kb=()=>new jc(429,"Too Many Requests"),H6=async(r,e,n,s)=>{const o=wg(s),c=o.publicKey||Xt.publicKey,f=o.blockHeadless||Xt.blockHeadless,p=o.storageProvider||Xt.storageProvider,g={...Xt.blockList,...o.blockList},y={...Xt.limitRate,...o.limitRate};return f&&Fb(navigator)?Promise.reject(qb()):(Bb(c,r,e),L6(n),n&&Hb(g,n)?Promise.reject(Gb()):await $b(location.pathname,y,p)?Promise.reject(Kb()):zb("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:r,template_id:e,template_params:n}),{"Content-type":"application/json"}))},G6=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},$6=r=>typeof r=="string"?document.querySelector(r):r,K6=async(r,e,n,s)=>{const o=wg(s),c=o.publicKey||Xt.publicKey,f=o.blockHeadless||Xt.blockHeadless,p=Xt.storageProvider||o.storageProvider,g={...Xt.blockList,...o.blockList},y={...Xt.limitRate,...o.limitRate};if(f&&Fb(navigator))return Promise.reject(qb());const _=$6(n);Bb(c,r,e),G6(_);const E=new FormData(_);return Hb(g,E)?Promise.reject(Gb()):await $b(location.pathname,y,p)?Promise.reject(Kb()):(E.append("lib_version","4.4.1"),E.append("service_id",r),E.append("template_id",e),E.append("user_id",c),zb("/api/v1.0/email/send-form",E))},Y6={init:P6,send:H6,sendForm:K6,EmailJSResponseStatus:jc},Q6="service_0ouzgf9",X6="template_0kghkbr",W6="OF3aExeaYDE0LidPi",Z6=["suphatitsrichat@gmail.com","suphatit.s@kkumail.com","warunee.i@kkumail.com","konggidagon.o@kkumail.com"].join(", "),J6=({rating:r,onRatingChange:e})=>{const[n,s]=M.useState(0);return h.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(o=>h.jsx("button",{type:"button",className:`w-8 h-8 focus:outline-none transition-colors duration-200 ${o<=(n||r)?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-yellow-300"}`,onClick:()=>e(o),onMouseEnter:()=>s(o),onMouseLeave:()=>s(0),children:h.jsx("svg",{className:"w-full h-full fill-current",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},o)),h.jsx("span",{className:"ml-2 text-sm text-gray-600",children:r>0?`${r}/5 ดาว`:"กรุณาให้คะแนน"})]})};function ek(){const[r,e]=M.useState(""),[n,s]=M.useState(""),[o,c]=M.useState("general"),[f,p]=M.useState(""),[g,y]=M.useState(0),[_,E]=M.useState(!1),[A,O]=M.useState(!1),[z,Y]=M.useState(""),L=async F=>{if(F.preventDefault(),g===0){Y("กรุณาให้คะแนนก่อนส่ง");return}if(!f.trim()){Y("กรุณากรอกข้อความ");return}O(!0),Y("");try{const ie=await nc(nr(Ht,"feedbacks"),{name:r.trim()||"ไม่ระบุชื่อ",email:n.trim()||null,feedbackType:o,message:f.trim(),rating:g,timestamp:I4(),status:"unread"});console.log("✅ Feedback saved to Firebase!");const ae={general:"💬 ทั่วไป",bug:"🐛 แจ้งปัญหา/บั๊ก",suggestion:"💡 ข้อเสนอแนะ/ปรับปรุง",compliment:"👏 คำชม"},se={email:Z6,from_name:r.trim()||"ไม่ระบุชื่อ",from_email:n.trim()||"ไม่ระบุอีเมล",feedback_type:ae[o],message:f.trim(),rating:g,feedback_id:ie.id,timestamp:new Date().toLocaleString("th-TH")};await Y6.send(Q6,X6,se,W6),console.log("✅ Email sent successfully to admins!"),E(!0)}catch(ie){console.error("❌ Error:",ie),ie.text?Y(`ส่ง Feedback สำเร็จแต่ส่งอีเมลไม่สำเร็จ: ${ie.text}`):Y("เกิดข้อผิดพลาดในการส่ง Feedback กรุณาลองอีกครั้ง")}finally{O(!1)}},K=()=>{E(!1),e(""),s(""),c("general"),p(""),y(0),Y("")};return h.jsxs("main",{className:"card-wrap",style:{position:"relative"},children:[h.jsx("img",{src:on.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10},children:[h.jsx(Tp,{title:"ส่งความคิดเห็นถึงเรา",desc:"เรารับฟังทุกข้อเสนอแนะเพื่อการพัฒนาที่ดีขึ้น"}),h.jsx("section",{className:"card card-translucent",children:h.jsx("div",{className:"card-inner",children:_?h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),h.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"ขอบคุณสำหรับความคิดเห็นของคุณ! 🎉"}),h.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"เราได้รับข้อความของคุณแล้วและจะนำไปพิจารณา"}),h.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"📧 ทีมงานได้รับการแจ้งเตือนทางอีเมลแล้ว"}),g>0&&h.jsxs("p",{className:"text-md text-gray-500",children:["คะแนนที่ให้: ",g,"/5 ดาว ⭐"]})]}),h.jsx("button",{onClick:K,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl",children:"ส่งความคิดเห็นอีกครั้ง"})]}):h.jsxs("form",{onSubmit:L,className:"space-y-6",children:[z&&h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"text-red-800 text-sm",children:z})}),h.jsx("button",{type:"button",onClick:()=>Y(""),className:"text-red-600 hover:text-red-800",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),h.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg border border-yellow-200",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"ให้คะแนนความพึงพอใจโดยรวม *"}),h.jsx(J6,{rating:g,onRatingChange:y})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"ชื่อ (ไม่บังคับ)"}),h.jsx("input",{type:"text",id:"name",value:r,onChange:F=>e(F.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"กรอกชื่อของคุณ"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"อีเมล (สำหรับติดต่อกลับ, ไม่บังคับ)"}),h.jsx("input",{type:"email",id:"email",value:n,onChange:F=>s(F.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"example@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-gray-700",children:"ประเภทความคิดเห็น"}),h.jsxs("select",{id:"feedbackType",value:o,onChange:F=>c(F.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[h.jsx("option",{value:"general",children:"💬 ทั่วไป"}),h.jsx("option",{value:"bug",children:"🐛 แจ้งปัญหา/บั๊ก"}),h.jsx("option",{value:"suggestion",children:"💡 ข้อเสนอแนะ/ปรับปรุง"}),h.jsx("option",{value:"compliment",children:"👏 คำชม"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"ข้อความของคุณ *"}),h.jsx("textarea",{id:"message",rows:"5",value:f,onChange:F=>p(F.target.value),required:!0,disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"แบ่งปันความคิดเห็นของคุณกับเรา..."})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:K,disabled:A,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"เคลียร์ฟอร์ม"}),h.jsx("button",{type:"submit",disabled:!f.trim()||g===0||A,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"กำลังส่ง..."]}):h.jsx(h.Fragment,{children:"ส่งความคิดเห็น 📤"})})]}),(!f.trim()||g===0)&&!A&&h.jsx("div",{className:"text-sm text-gray-500 text-center",children:"* กรุณากรอกข้อความและให้คะแนนก่อนส่ง"})]})})})]})]})}const tk=({sidebarOpen:r,setSidebarOpen:e,currentMenu:n,setCurrentMenu:s,setSelectedCourse:o,setShowNewsForm:c,user:f,onLogout:p})=>h.jsxs("div",{className:`${r?"w-full md:w-64":"w-0"} bg-gradient-to-b from-[#dc2626] to-[#7d1315] transition-all duration-300 overflow-hidden flex flex-col fixed md:relative h-full z-20`,children:[h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-white",children:"CODME"}),h.jsx("button",{onClick:()=>e(!1),className:"text-white hover:bg-white/10 p-1 rounded md:hidden",children:h.jsx(ac,{size:24})})]}),h.jsxs("nav",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>{s("courses"),o(null),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="courses"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(a2,{size:20}),h.jsx("span",{children:"จัดการหลักสูตร"})]}),h.jsxs("button",{onClick:()=>{s("news"),o(null),c(!1),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="news"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(l2,{size:20}),h.jsx("span",{children:"จัดการข่าวสาร"})]}),h.jsxs("button",{onClick:()=>{s("feedback"),o(null),c(!1),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="feedback"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(go,{size:20}),h.jsx("span",{children:"จัดการ Feedback"})]})]})]}),h.jsxs("div",{className:"mt-auto p-6 border-t border-white/20",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[f?.photoURL?h.jsx("img",{src:f.photoURL,alt:f.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}):h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-bold",children:f?.displayName?.charAt(0)?.toUpperCase()||f?.email?.charAt(0)?.toUpperCase()||"A"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-white font-medium text-sm truncate",children:f?.displayName||f?.email?.split("@")[0]||"Admin User"}),h.jsx("p",{className:"text-red-200 text-xs truncate",children:f?.email||"admin@codme.com"})]})]}),h.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors text-sm",children:[h.jsx(aA,{size:16}),h.jsx("span",{children:"ออกจากระบบ"})]})]})]}),nk=()=>{const[r]=M.useState([{id:"com",name:"วิศวกรรมคอมพิวเตอร์",engName:"Computer Engineering",courseId:"COM-2565"},{id:"dme",name:"วิศวกรรมสื่อดิจิทัล",engName:"Digital Media Engineering",courseId:"DME-2565"}]),[e,n]=M.useState(null),[s,o]=M.useState({}),[c,f]=M.useState(!1),[p,g]=M.useState(0),[y,_]=M.useState(""),[E,A]=M.useState("");M.useEffect(()=>{O()},[]);const O=async()=>{try{const ae=await _o(nr(Ht,"courseFiles")),se={};ae.forEach(ue=>{const I=ue.data();se[I.courseId]||(se[I.courseId]=[]),se[I.courseId].push({id:ue.id,...I})}),o(se)}catch(ae){console.error("Error loading files:",ae),A("ไม่สามารถโหลดข้อมูลไฟล์ได้")}},z=async ae=>new Promise((se,ue)=>{const I=new FileReader;I.onload=async R=>{try{const T=R.target.result,j=new Uint8Array(T),C=1024*1024;let V="";for(let me=0;me<j.length;me+=C){const $=j.slice(me,Math.min(me+C,j.length));V+=btoa(Array.from($).reduce((W,oe)=>W+String.fromCharCode(oe),""))}V="data:application/pdf;base64,"+V;const N=ae.size,ve=V.length;se({data:V,originalSize:N,compressedSize:ve,compressionRatio:Math.round(ve/N*100)})}catch(T){ue(T)}},I.onerror=()=>ue(new Error("ไม่สามารถอ่านไฟล์ได้")),I.readAsArrayBuffer(ae)}),Y=(ae,se=3.5*1024*1024)=>{const ue=[],I=se;for(let R=0;R<ae.length;R+=I)ue.push(ae.substring(R,R+I));return ue},L=async ae=>{const se=Array.from(ae.target.files);if(se.length===0)return;const ue=se.filter(R=>R.type==="application/pdf");if(ue.length!==se.length){A("กรุณาอัพโหลดเฉพาะไฟล์ PDF เท่านั้น");return}f(!0),A(""),_("");let I=0;for(const R of ue)try{_(`กำลังประมวลผลไฟล์ ${R.name} (${F(R.size)})...`);const T=await z(R);100-T.compressionRatio>0&&_(`ประมวลผล: ${F(T.originalSize)} → ${F(T.compressedSize)}`);const C=T.data.length;if(C<=3.5*1024*1024)_(`กำลังอัพโหลด ${R.name}...`),await nc(nr(Ht,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:R.name,fileSize:F(R.size),originalSize:R.size,compressedSize:C,uploadDate:new Date().toLocaleDateString("th-TH"),fileData:T.data,fileType:R.type,isMultiPart:!1});else{_(`กำลังแบ่งไฟล์ ${R.name} เป็นส่วนๆ...`);const V=Y(T.data),N=`${e.id}_${Date.now()}_${R.name}`;_(`แบ่งไฟล์เป็น ${V.length} ส่วน กำลังอัพโหลด...`),await nc(nr(Ht,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:R.name,fileSize:F(R.size),originalSize:R.size,compressedSize:C,uploadDate:new Date().toLocaleDateString("th-TH"),fileType:R.type,isMultiPart:!0,totalParts:V.length,fileId:N});for(let ve=0;ve<V.length;ve++){_(`อัพโหลดส่วนที่ ${ve+1}/${V.length} ของ ${R.name}...`),await nc(nr(Ht,"courseFileParts"),{fileId:N,partNumber:ve,data:V[ve]});const me=(ve+1)/V.length*(100/ue.length);g(I+me)}}I+=100/ue.length,g(I),_(`อัพโหลด ${R.name} สำเร็จ!`)}catch(T){console.error("Error uploading file:",T),A(`ไม่สามารถอัพโหลด ${R.name} ได้: ${T.message}`)}f(!1),g(0),_(""),await O(),ae.target.value=""},K=async(ae,se,ue)=>{if(window.confirm("คุณต้องการลบไฟล์นี้หรือไม่?"))try{if(_("กำลังลบไฟล์..."),await Vh(xs(Ht,"courseFiles",se)),ue.isMultiPart){_(`กำลังลบไฟล์ส่วนๆ (${ue.totalParts} ส่วน)...`);const I=await _o(nr(Ht,"courseFileParts")),R=[];I.forEach(T=>{T.data().fileId===ue.fileId&&R.push(Vh(xs(Ht,"courseFileParts",T.id)))}),await Promise.all(R)}_("ลบไฟล์สำเร็จ!"),setTimeout(()=>_(""),2e3),await O()}catch(I){console.error("Error removing file:",I),A("ไม่สามารถลบไฟล์ได้")}},F=ae=>{if(ae===0)return"0 Bytes";const se=1024,ue=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(ae)/Math.log(se));return Math.round(ae/Math.pow(se,I)*100)/100+" "+ue[I]},ie=async ae=>{try{let se=ae.fileData;if(ae.isMultiPart){_(`กำลังเตรียมไฟล์ (${ae.totalParts} ส่วน)...`);const I=await _o(nr(Ht,"courseFileParts")),R=[];I.forEach(T=>{const j=T.data();j.fileId===ae.fileId&&R.push({partNumber:j.partNumber,data:j.data})}),R.sort((T,j)=>T.partNumber-j.partNumber),_("กำลังรวมไฟล์..."),se=R.map(T=>T.data).join(""),_("เตรียมดาวน์โหลด...")}const ue=document.createElement("a");ue.href=se,ue.download=ae.fileName,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),_("ดาวน์โหลดสำเร็จ!"),setTimeout(()=>_(""),2e3)}catch(se){console.error("Error downloading file:",se),A("ไม่สามารถดาวน์โหลดไฟล์ได้")}};return h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8 text-center",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"จัดการเอกสารหลักสูตร"}),h.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"อัพโหลดและจัดการเอกสาร PDF สำหรับแต่ละหลักสูตร"})]}),h.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx(o2,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsx("p",{className:"font-semibold mb-1",children:"ข้อมูลการอัพโหลด:"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"รองรับไฟล์ PDF ทุกขนาด (ไม่จำกัด)"}),h.jsx("li",{children:"ไฟล์ขนาดเล็ก (<3.5MB): อัพโหลดทันที"}),h.jsx("li",{children:"ไฟล์ขนาดใหญ่ (>3.5MB): แบ่งเก็บเป็นส่วนๆ อัตโนมัติ"}),h.jsx("li",{children:"ระบบจะแบ่งและรวมไฟล์โดยอัตโนมัติ"})]})]})]}),E&&h.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx(Ep,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-red-800",children:E}),h.jsx("button",{onClick:()=>A(""),className:"text-sm text-red-600 underline mt-1",children:"ปิด"})]})]}),y&&h.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:h.jsx("p",{className:"text-green-800 text-sm",children:y})}),e?h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>n(null),className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors font-medium",children:[h.jsx(ac,{size:20,className:"mr-1"}),"กลับ"]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.name}),h.jsx("p",{className:"text-gray-600",children:e.engName})]}),h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"อัพโหลดเอกสาร PDF"}),h.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors group",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx(c2,{className:"w-12 h-12 text-gray-400 mb-3 group-hover:text-red-600 transition-colors"}),h.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:[h.jsx("span",{className:"font-semibold",children:"คลิกเพื่อเลือกไฟล์"})," หรือลากไฟล์มาวาง"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"รองรับเฉพาะไฟล์ PDF (ทุกขนาด)"})]}),h.jsx("input",{type:"file",className:"hidden",accept:".pdf,application/pdf",multiple:!0,onChange:L,disabled:c})]}),c&&h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"กำลังอัพโหลด..."}),h.jsxs("span",{className:"text-sm font-medium text-red-600",children:[Math.round(p),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-800 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]})]}),s[e.id]?.length>0&&h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:["ไฟล์ที่อัพโหลด (",s[e.id].length,")"]}),h.jsx("div",{className:"space-y-3",children:s[e.id].map(ae=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[h.jsx(JS,{className:"text-red-600 flex-shrink-0",size:24}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"font-medium text-gray-800 truncate",children:ae.fileName}),h.jsxs("p",{className:"text-sm text-gray-500",children:[ae.fileSize," • อัพโหลดเมื่อ ",ae.uploadDate,ae.isMultiPart&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Multi-part"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[h.jsx("button",{onClick:()=>ie(ae),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"ดาวน์โหลด"}),h.jsx("button",{onClick:()=>K(e.id,ae.id,ae),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(bh,{size:18})})]})]},ae.id))})]})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ae=>h.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1",children:ae.name}),s[ae.id]?.length>0&&h.jsxs("span",{className:"bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full font-medium",children:[s[ae.id].length," ไฟล์"]})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-1",children:ae.engName}),h.jsxs("p",{className:"text-gray-500 text-xs",children:["รหัส: ",ae.courseId]})]}),h.jsx("button",{onClick:()=>n(ae),className:"w-full px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-800 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:"จัดการไฟล์"})]})},ae.id))})]})})},rk=async(r,e={})=>{const{maxWidth:n=1200,maxHeight:s=800,quality:o=.8,maxSizeKB:c=500}=e;return new Promise((f,p)=>{const g=new FileReader;g.onload=y=>{const _=new Image;_.onload=()=>{let E=_.width,A=_.height;if(E>n||A>s){const F=Math.min(n/E,s/A);E=Math.floor(E*F),A=Math.floor(A*F)}const O=document.createElement("canvas");O.width=E,O.height=A;const z=O.getContext("2d");z.imageSmoothingEnabled=!0,z.imageSmoothingQuality="high",z.drawImage(_,0,0,E,A);let Y=O.toDataURL("image/jpeg",o),L=o;for(;P_(Y)>c&&L>.1;)L-=.1,Y=O.toDataURL("image/jpeg",L);const K=P_(Y);console.log(`✅ Image compressed: ${Math.round(r.size/1024)}KB → ${K}KB (Quality: ${Math.round(L*100)}%)`),f(Y)},_.onerror=()=>{p(new Error("ไม่สามารถโหลดรูปภาพได้"))},_.src=y.target.result},g.onerror=()=>{p(new Error("ไม่สามารถอ่านไฟล์ได้"))},g.readAsDataURL(r)})},P_=r=>{const n=(r.split(",")[1]||r).length*3/4;return Math.round(n/1024)},ik=r=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type),sk=r=>r<1024?r+" B":r<1024*1024?(r/1024).toFixed(1)+" KB":(r/(1024*1024)).toFixed(1)+" MB",ak=({message:r,type:e,onClose:n})=>{const s={success:h.jsx(qS,{size:20}),error:h.jsx(GS,{size:20}),warning:h.jsx(Ep,{size:20}),info:h.jsx(o2,{size:20})},o={success:"bg-gradient-to-r from-green-500 to-emerald-600 text-white",error:"bg-gradient-to-r from-red-500 to-rose-600 text-white",warning:"bg-gradient-to-r from-amber-500 to-orange-600 text-white",info:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white"};return M.useEffect(()=>{const c=setTimeout(n,3500);return()=>clearTimeout(c)},[n]),h.jsxs("div",{className:`${o[e]} rounded-lg shadow-2xl p-4 flex items-center space-x-3 min-w-[300px] max-w-md animate-slide-in`,children:[h.jsx("div",{className:"flex-shrink-0",children:s[e]}),h.jsx("div",{className:"flex-1 font-medium",children:r}),h.jsx("button",{onClick:n,className:"flex-shrink-0 hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-colors",children:h.jsx(Eh,{size:18})})]})},ok=({toasts:r,removeToast:e})=>h.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3",children:r.map(n=>h.jsx(ak,{message:n.message,type:n.type,onClose:()=>e(n.id)},n.id))}),lk=({message:r,onConfirm:e,onCancel:n})=>h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 animate-fade-in",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:h.jsx(Ep,{size:24,className:"text-red-600"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"ยืนยันการลบ"})]}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:r}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:opacity-90 transition-opacity font-medium shadow-md",children:"ใช่, ลบเลย"}),h.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"ยกเลิก"})]})]})}),ck=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(!1),[o,c]=M.useState(null),[f,p]=M.useState(null),[g,y]=M.useState(!0),[_,E]=M.useState(!1),[A,O]=M.useState(!1),[z,Y]=M.useState([]),[L,K]=M.useState(null),[F,ie]=M.useState({title:"",content:"",author:"ฝ่ายประชาสัมพันธ์",category:"ทั่วไป",status:"draft"}),ae=["กิจกรรม","ความสำเร็จ","ประกาศ","อบรม","ความร่วมมือ","สัมมนา","ทุนวิจัย","กิจกรรมอาสา","ทั่วไป"],se=(W,oe="info")=>{const Te=Date.now()+Math.random();Y(D=>[...D,{id:Te,message:W,type:oe}])},ue=W=>{Y(oe=>oe.filter(Te=>Te.id!==W))},I=W=>new Promise(oe=>{K({message:W,resolve:oe})}),R=W=>{L&&(L.resolve(W),K(null))};M.useEffect(()=>{T()},[]),M.useEffect(()=>{o?(ie({title:o.title||"",content:o.content||"",author:o.author||"ฝ่ายประชาสัมพันธ์",category:o.category||"ทั่วไป",status:o.status||"draft"}),p(o.image)):j()},[o]);const T=async()=>{try{y(!0);const W=await _6();e(W)}catch(W){console.error("Error loading news:",W),se("ไม่สามารถโหลดข่าวได้: "+W.message,"error")}finally{y(!1)}},j=()=>{ie({title:"",content:"",author:"ฝ่ายประชาสัมพันธ์",category:"ทั่วไป",status:"draft"}),p(null)},C=async W=>{const oe=W.target.files[0];if(!oe)return;if(!ik(oe)){se("กรุณาเลือกไฟล์รูปภาพ (JPG, PNG, GIF, WEBP)","error");return}const Te=sk(oe.size);console.log("📸 Original image size:",Te);try{O(!0);const D=await rk(oe,{maxWidth:1200,maxHeight:800,quality:.85,maxSizeKB:400});p(D);const re=Math.round(D.length*3/4/1024);console.log(`✅ Compressed to: ${re}KB`),se("บีบอัดรูปภาพสำเร็จ!","success")}catch(D){console.error("Error compressing image:",D),se("ไม่สามารถประมวลผลรูปภาพได้: "+D.message,"error")}finally{O(!1)}},V=()=>{p(null)},N=async W=>{if(W.preventDefault(),!F.title||!F.content){se("กรุณากรอกข้อมูลให้ครบถ้วน","warning");return}E(!0);try{const oe={...F,image:f||null};o?(await w6(o.id,oe),se("แก้ไขข่าวสำเร็จ!","success")):(await b6(oe),se("เพิ่มข่าวสำเร็จ!","success")),await T(),$()}catch(oe){console.error("Error saving news:",oe),se("เกิดข้อผิดพลาด: "+oe.message,"error")}finally{E(!1)}},ve=async W=>{if(await I("คุณแน่ใจหรือไม่ว่าต้องการลบข่าวนี้?"))try{await E6(W),se("ลบข่าวสำเร็จ!","success"),await T()}catch(Te){console.error("Error deleting news:",Te),se("ไม่สามารถลบข่าวได้: "+Te.message,"error")}},me=W=>{c(W),s(!0)},$=()=>{s(!1),c(null),j()};return g?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Xl,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"กำลังโหลดข้อมูล..."})]})}):h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scale-in {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
        .animate-scale-in {
          animation: scale-in 0.3s ease-out;
        }
      `}),h.jsx(ok,{toasts:z,removeToast:ue}),L&&h.jsx(lk,{message:L.message,onConfirm:()=>R(!0),onCancel:()=>R(!1)}),h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8",children:"📰 จัดการข่าวสาร"}),n?h.jsxs("div",{children:[h.jsxs("button",{onClick:$,className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors group",children:[h.jsx(ac,{size:20,className:"mr-1 group-hover:-translate-x-1 transition-transform"}),h.jsx("span",{className:"font-medium",children:"กลับ"})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 max-w-4xl",children:[h.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-6",children:o?"✏️ แก้ไขข่าว":"📝 เขียนข่าวใหม่"}),h.jsxs("form",{onSubmit:N,children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🖼️ รูปภาพประกอบข่าว (ไม่บังคับ)"}),f?h.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-gray-300",children:[h.jsx("img",{src:f,alt:"Preview",className:"w-full h-64 object-cover"}),h.jsx("button",{type:"button",onClick:V,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:h.jsx(Eh,{size:20})}),h.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-3 py-1 rounded-full",children:"✅ รูปพร้อมใช้งาน"})]}):h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-[#dc2626] transition-colors cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",id:"image-upload",disabled:A}),h.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${A?"opacity-50":""}`,children:A?h.jsxs(h.Fragment,{children:[h.jsx(Xl,{className:"animate-spin text-[#dc2626] mb-2",size:40}),h.jsx("span",{className:"text-[#dc2626] font-medium",children:"กำลังบีบอัดรูปภาพ..."}),h.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"กรุณารอสักครู่"})]}):h.jsxs(h.Fragment,{children:[h.jsx(c2,{size:40,className:"text-gray-400 mb-2"}),h.jsx("span",{className:"text-gray-600 font-medium",children:"คลิกเพื่ออัปโหลดรูปภาพ"}),h.jsx("span",{className:"text-gray-400 text-sm mt-1",children:"รองรับไฟล์ JPG, PNG, GIF, WEBP"}),h.jsx("span",{className:"text-green-600 text-sm mt-2 font-medium",children:"✨ ระบบจะบีบอัดรูปอัตโนมัติให้ ~400KB"})]})})]}),h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["💡 ",h.jsx("strong",{children:"ระบบจะบีบอัดรูปอัตโนมัติ"})," เพื่อให้โหลดเร็วและประหยัดพื้นที่"]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["📌 หัวข้อข่าว ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",value:F.title,onChange:W=>ie({...F,title:W.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",placeholder:"ใส่หัวข้อข่าว..."})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["📄 เนื้อหาข่าว ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{value:F.content,onChange:W=>ie({...F,content:W.target.value}),required:!0,rows:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent resize-none",placeholder:"เขียนเนื้อหาข่าว..."}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ℹ️ Excerpt (ข้อความย่อ) จะถูกสร้างอัตโนมัติจาก 150 ตัวอักษรแรก"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"✍️ ผู้เขียน"}),h.jsx("input",{type:"text",value:F.author,onChange:W=>ie({...F,author:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🏷️ หมวดหมู่"}),h.jsx("select",{value:F.category,onChange:W=>ie({...F,category:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:ae.map(W=>h.jsx("option",{value:W,children:W},W))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"🔖 สถานะ"}),h.jsxs("select",{value:F.status,onChange:W=>ie({...F,status:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:[h.jsx("option",{value:"draft",children:"📝 ฉบับร่าง"}),h.jsx("option",{value:"published",children:"✅ เผยแพร่"})]})]})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{type:"submit",disabled:_,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:_?h.jsxs(h.Fragment,{children:[h.jsx(Xl,{className:"animate-spin",size:20}),h.jsx("span",{children:"กำลังบันทึก..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(xA,{size:20}),h.jsx("span",{children:o?"บันทึกการแก้ไข":"เผยแพร่ข่าว"})]})}),h.jsx("button",{type:"button",onClick:$,disabled:_,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:"ยกเลิก"})]})]})]})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("p",{className:"text-gray-600",children:["จำนวนข่าวทั้งหมด: ",h.jsx("span",{className:"font-bold text-[#dc2626]",children:r.length})," รายการ"]}),h.jsxs("button",{onClick:()=>{c(null),s(!0)},className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity shadow-md font-medium",children:[h.jsx(e1,{size:20}),h.jsx("span",{children:"เขียนข่าวใหม่"})]})]}),r.length===0?h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[h.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"ยังไม่มีข่าวสารในระบบ"}),h.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-[#dc2626] text-white rounded-lg hover:opacity-90 transition-opacity",children:[h.jsx(e1,{size:20}),h.jsx("span",{children:"สร้างข่าวแรก"})]})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(W=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 overflow-hidden hover:-translate-y-1",children:[W.image&&h.jsx("div",{className:"w-full h-48 overflow-hidden bg-gray-100",children:h.jsx("img",{src:W.image,alt:W.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1 pr-2 line-clamp-2",children:W.title}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium whitespace-nowrap ${W.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:W.status==="published"?"✅ เผยแพร่":"📝 ฉบับร่าง"})]}),h.jsx("div",{className:"flex items-center space-x-2 mb-3",children:h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:W.category})}),h.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:W.excerpt||W.content}),h.jsxs("p",{className:"text-gray-400 text-xs mb-4",children:["📅 ",W.date," • ✍️ ",W.author]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>me(W),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[h.jsx(wA,{size:16}),h.jsx("span",{children:"แก้ไข"})]}),h.jsxs("button",{onClick:()=>ve(W.id),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[h.jsx(bh,{size:16}),h.jsx("span",{children:"ลบ"})]})]})]})]},W.id))})]})]})})]})},uk=()=>{const[r,e]=M.useState([]),[n,s]=M.useState(!0),[o,c]=M.useState(null),[f,p]=M.useState("all"),[g,y]=M.useState("all"),[_,E]=M.useState({total:0,avgRating:0,byType:{},byRating:{}}),[A,O]=M.useState(""),[z,Y]=M.useState(!1);M.useEffect(()=>{L()},[]);const L=async()=>{try{s(!0),O("");const T=og(nr(Ht,"feedbacks"),ug("timestamp","desc")),C=(await _o(T)).docs.map(V=>({id:V.id,...V.data(),timestamp:V.data().timestamp?.toDate()||new Date}));e(C),F(C)}catch(T){console.error("Error loading feedbacks:",T),O("ไม่สามารถโหลดข้อมูล Feedback ได้ กรุณาลองอีกครั้ง")}finally{s(!1)}},K=async()=>{Y(!0),await L(),Y(!1)},F=T=>{const j=T.length,C=j>0?T.reduce((ve,me)=>ve+(me.rating||0),0)/j:0,V=T.reduce((ve,me)=>(ve[me.feedbackType]=(ve[me.feedbackType]||0)+1,ve),{}),N=T.reduce((ve,me)=>(ve[me.rating]=(ve[me.rating]||0)+1,ve),{});E({total:j,avgRating:C,byType:V,byRating:N})},ie=async T=>{if(window.confirm("คุณต้องการลบ Feedback นี้หรือไม่?"))try{O(""),await Vh(xs(Ht,"feedbacks",T));const j=r.filter(C=>C.id!==T);e(j),F(j),c(null)}catch(j){console.error("Error deleting feedback:",j),O("ไม่สามารถลบ Feedback ได้ กรุณาลองอีกครั้ง")}},ae=async T=>{try{await eb(xs(Ht,"feedbacks",T),{status:"read"});const j=r.map(C=>C.id===T?{...C,status:"read"}:C);e(j)}catch(j){console.error("Error updating feedback:",j)}},se=T=>({general:"💬",bug:"🐛",suggestion:"💡",compliment:"👏"})[T]||"💬",ue=T=>({general:"ทั่วไป",bug:"แจ้งปัญหา",suggestion:"ข้อเสนอแนะ",compliment:"คำชม"})[T]||"ทั่วไป",I=r.filter(T=>!(f!=="all"&&T.feedbackType!==f||g!=="all"&&T.rating!==parseInt(g))),R=({rating:T})=>h.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(j=>h.jsx(t1,{size:16,className:j<=T?"fill-yellow-400 text-yellow-400":"text-gray-300"},j)),h.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[T,"/5"]})]});return n?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"กำลังโหลดข้อมูล..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(go,{className:"text-red-600",size:32}),h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"จัดการ Feedback"})]}),h.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mb-4"}),h.jsx("p",{className:"text-gray-600",children:"ดูและจัดการความคิดเห็นจากผู้ใช้งาน"})]}),h.jsxs("button",{onClick:K,disabled:z,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 disabled:opacity-50",children:[h.jsx(vA,{size:18,className:z?"animate-spin":""}),"รีเฟรช"]})]})}),A&&h.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"text-red-800 text-sm",children:A})}),h.jsx("button",{onClick:()=>O(""),className:"text-red-600 hover:text-red-800",children:h.jsx(Eh,{size:18})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Feedback ทั้งหมด"}),h.jsx("p",{className:"text-3xl font-bold text-gray-800",children:_.total})]}),h.jsx(go,{className:"text-blue-600",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"คะแนนเฉลี่ย"}),h.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:_.avgRating.toFixed(1)})]}),h.jsx(t1,{className:"text-yellow-400 fill-yellow-400",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"คำชม"}),h.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.byType.compliment||0})]}),h.jsx(AA,{className:"text-green-600",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"แจ้งปัญหา"}),h.jsx("p",{className:"text-3xl font-bold text-red-600",children:_.byType.bug||0})]}),h.jsx("span",{className:"text-4xl",children:"🐛"})]})})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsx(tA,{className:"text-gray-600",size:20}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-gray-600",children:"ประเภท:"}),h.jsxs("select",{value:f,onChange:T=>p(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[h.jsx("option",{value:"all",children:"ทั้งหมด"}),h.jsx("option",{value:"general",children:"ทั่วไป"}),h.jsx("option",{value:"bug",children:"แจ้งปัญหา"}),h.jsx("option",{value:"suggestion",children:"ข้อเสนอแนะ"}),h.jsx("option",{value:"compliment",children:"คำชม"})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-gray-600",children:"คะแนน:"}),h.jsxs("select",{value:g,onChange:T=>y(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[h.jsx("option",{value:"all",children:"ทั้งหมด"}),h.jsx("option",{value:"5",children:"5 ดาว"}),h.jsx("option",{value:"4",children:"4 ดาว"}),h.jsx("option",{value:"3",children:"3 ดาว"}),h.jsx("option",{value:"2",children:"2 ดาว"}),h.jsx("option",{value:"1",children:"1 ดาว"})]})]})]})}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Feedback ทั้งหมด (",I.length,")"]})}),I.length===0?h.jsxs("div",{className:"p-12 text-center",children:[h.jsx(go,{className:"mx-auto mb-4 text-gray-400",size:48}),h.jsx("p",{className:"text-gray-600",children:r.length===0?"ยังไม่มี Feedback":"ไม่พบ Feedback ที่ตรงกับเงื่อนไขการค้นหา"})]}):h.jsx("div",{className:"divide-y divide-gray-200",children:I.map(T=>h.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${T.status==="unread"?"bg-blue-50":""}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[h.jsx("span",{className:"text-2xl",children:se(T.feedbackType)}),h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:ue(T.feedbackType)}),T.status==="unread"&&h.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"ใหม่"}),h.jsx(R,{rating:T.rating})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-600 flex-wrap",children:[T.name&&T.name!=="ไม่ระบุชื่อ"&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(wh,{size:14}),h.jsx("span",{children:T.name})]}),T.email&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Fm,{size:14}),h.jsx("span",{children:T.email})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(xh,{size:14}),h.jsx("span",{children:T.timestamp.toLocaleDateString("th-TH")})]})]}),h.jsx("p",{className:"text-gray-700 line-clamp-2",children:T.message})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{c(T),T.status==="unread"&&ae(T.id)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"ดูรายละเอียด",children:h.jsx(QS,{size:18})}),h.jsx("button",{onClick:()=>ie(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"ลบ",children:h.jsx(bh,{size:18})})]})]})},T.id))})]})]}),o&&h.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-white bg-opacity-30 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"รายละเอียด Feedback"}),h.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(Eh,{size:20})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-3xl",children:se(o.feedbackType)}),h.jsx("div",{children:h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full font-medium",children:ue(o.feedbackType)})})]}),h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"คะแนนความพึงพอใจ"}),h.jsx(R,{rating:o.rating})]}),o.name&&o.name!=="ไม่ระบุชื่อ"&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(wh,{size:16}),"ชื่อผู้ส่ง"]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.name})]}),o.email&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(Fm,{size:16}),"อีเมล"]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.email})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(xh,{size:16}),"วันที่ส่ง"]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.timestamp.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center gap-2",children:[h.jsx(go,{size:16}),"ข้อความ"]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:h.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.message})})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsxs("button",{onClick:()=>ie(o.id),className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[h.jsx(bh,{size:18}),"ลบ Feedback"]}),h.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"ปิด"})]})]})]})})]})};gp.setCustomParameters({prompt:"select_account"});const hk=({isOpen:r,onClose:e,onConfirm:n,userName:s})=>r?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full animate-[fadeIn_0.2s_ease-out]",children:h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"bg-red-100 rounded-full p-3",children:h.jsx(NA,{className:"text-[#dc2626]",size:32})})}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"ออกจากระบบ"}),h.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["คุณแน่ใจหรือไม่ว่าต้องการออกจากระบบ?",s&&h.jsxs("span",{className:"block mt-2 font-medium text-gray-800",children:["(",s,")"]})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:"ยกเลิก"}),h.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#dc2626] to-[#b91c1c] text-white rounded-lg font-semibold hover:from-[#b91c1c] hover:to-[#991b1b] transition-all shadow-lg",children:"ออกจากระบบ"})]})]})})}):null,dk=({onLoginSuccess:r})=>{const[e,n]=M.useState(!0),[s,o]=M.useState(!0),[c,f]=M.useState(null),p=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;M.useEffect(()=>{(async()=>{console.log("🔍 Checking redirect result..."),console.log("🌐 Current URL:",window.location.href);try{const _=await EI(ic);console.log("📊 Redirect result:",_),_&&_.user?(console.log("✅ Login successful via redirect!"),console.log("👤 User:",{uid:_.user.uid,email:_.user.email,name:_.user.displayName}),r(_.user)):console.log("ℹ️ No redirect result (normal page load)")}catch(_){console.error("❌ Redirect error:",_),console.error("Code:",_.code),console.error("Message:",_.message),f(`เกิดข้อผิดพลาด: ${_.message}`)}finally{n(!1),o(!1),console.log("✓ Check completed")}})()},[r]);const g=async()=>{if(!e){n(!0),f(null),console.log("🚀 Login button clicked"),console.log("📱 Device:",p()?"Mobile":"Desktop"),console.log("🌐 Origin:",window.location.origin);try{console.log("💻 Attempting popup login...");const y=await pI(ic,gp);console.log("✅ Popup login successful!"),console.log("👤 User:",{uid:y.user.uid,email:y.user.email,name:y.user.displayName}),r(y.user)}catch(y){if(console.error("❌ Popup error:",y),console.error("Code:",y.code),y.code==="auth/popup-blocked"&&p()){console.log("🔄 Popup blocked, trying redirect...");try{await bI(ic,gp),console.log("✓ Redirect initiated")}catch(_){console.error("❌ Redirect error:",_),f(`ไม่สามารถเข้าสู่ระบบได้: ${_.message}`),n(!1)}}else y.code==="auth/unauthorized-domain"?(console.error("🚫 Domain not authorized!"),f("⚠️ กรุณาเพิ่ม domain นี้ใน Firebase Console → Authentication → Authorized domains: "+window.location.hostname),n(!1)):(y.code!=="auth/popup-closed-by-user"&&y.code!=="auth/cancelled-popup-request"&&f(`เกิดข้อผิดพลาด: ${y.message}`),n(!1))}}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-block bg-gradient-to-r from-[#dc2626] to-[#7d1315] px-6 py-4 rounded-xl mb-4",children:h.jsx("h1",{className:"text-2xl font-bold text-white",children:"CODME"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),h.jsx("p",{className:"text-gray-600",children:"เข้าสู่ระบบเพื่อจัดการหลักสูตร"})]}),c&&h.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600 break-words",children:c})}),s&&h.jsxs("div",{className:"mb-4 text-center text-sm text-gray-600",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-[#dc2626] mx-auto mb-2"}),"กำลังตรวจสอบการเข้าสู่ระบบ..."]}),h.jsx("button",{onClick:g,disabled:e||s,className:"w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:e&&!s?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-[#dc2626]"}),h.jsx("span",{children:"กำลังเข้าสู่ระบบ..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h.jsx("span",{children:"เข้าสู่ระบบด้วย Google"})]})}),h.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[h.jsx("p",{children:"เฉพาะผู้ดูแลระบบเท่านั้น"}),h.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Domain: ",window.location.hostname]})]})]})})},fk=()=>{const[r,e]=M.useState(null),[n,s]=M.useState(!0),[o,c]=M.useState(!1),[f,p]=M.useState("courses"),[g,y]=M.useState(null),[_,E]=M.useState({course1:[],course2:[]}),[A,O]=M.useState(!0),[z,Y]=M.useState([{id:1,title:"ประกาศเปิดรับสมัครหลักสูตรใหม่",date:"2025-10-25",content:"เรามีหลักสูตรใหม่เปิดให้บริการแล้ว...",status:"published"},{id:2,title:"อัพเดทระบบใหม่",date:"2025-10-20",content:"ระบบได้รับการปรับปรุงให้ดีขึ้น...",status:"draft"}]),[L,K]=M.useState(null),[F,ie]=M.useState(!1);M.useEffect(()=>{const me=YC(ic,$=>{console.log("🔐 Auth state changed:",$?"✅ Logged in":"❌ Not logged in"),$&&console.log("👤 Current user:",{uid:$.uid,email:$.email,name:$.displayName}),e($),s(!1)});return()=>me()},[]);const ae=[{id:"course1",name:"หลักสูตรการเขียนโปรแกรม Python",courseId:"1"},{id:"course2",name:"หลักสูตรการตลาดดิจิทัลขั้นสูง",courseId:"2"}],se=me=>{const W=Array.from(me.target.files).filter(oe=>oe.type==="application/pdf");W.length>0&&E(oe=>({...oe,[g.id]:[...oe[g.id]||[],...W.map(Te=>({name:Te.name,size:(Te.size/1024).toFixed(2)+" KB",uploadDate:new Date().toLocaleDateString("th-TH")}))]}))},ue=(me,$)=>{E(W=>({...W,[me]:W[me].filter((oe,Te)=>Te!==$)}))},I=me=>{me.preventDefault();const $=new FormData(me.target),W={id:L?L.id:Date.now(),title:$.get("title"),content:$.get("content"),date:new Date().toISOString().split("T")[0],status:$.get("status")};Y(L?z.map(oe=>oe.id===L.id?W:oe):[W,...z]),ie(!1),K(null)},R=me=>{window.confirm("คุณต้องการลบข่าวนี้ใช่หรือไม่?")&&Y(z.filter($=>$.id!==me))},T=me=>{K(me),ie(!0)},j=()=>{c(!0)},C=async()=>{try{await QC(ic),console.log("✅ Logout successful"),e(null),c(!1)}catch(me){console.error("❌ Logout error:",me),alert("เกิดข้อผิดพลาดในการออกจากระบบ")}},V=()=>{c(!1)},N=()=>f==="news"?{icon:h.jsx(l2,{className:"mr-3 text-[#dc2626]",size:28}),title:F?L?"แก้ไขข่าวสาร":"เขียนข่าวสารใหม่":"จัดการข่าวสาร"}:f==="feedback"?{icon:h.jsx(go,{className:"mr-3 text-[#dc2626]",size:28}),title:"จัดการ Feedback"}:{icon:h.jsx(a2,{className:"mr-3 text-[#dc2626]",size:28}),title:g?g.name:"จัดการหลักสูตรทั้งหมด"};if(n)return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#dc2626] mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"กำลังตรวจสอบสิทธิ์..."})]})});if(!r)return h.jsx(dk,{onLoginSuccess:e});const ve=N();return h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsx(hk,{isOpen:o,onClose:V,onConfirm:C,userName:r?.displayName||r?.email?.split("@")[0]}),h.jsx(tk,{sidebarOpen:A,setSidebarOpen:O,currentMenu:f,setCurrentMenu:p,setSelectedCourse:y,setShowNewsForm:ie,user:r,onLogout:j}),h.jsxs("div",{className:"flex-1 overflow-auto",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between sticky top-0 z-10",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[!A&&h.jsx("button",{onClick:()=>O(!0),className:"p-2 hover:bg-gray-100 rounded-lg",children:h.jsx(hA,{size:24})}),h.jsx("div",{children:h.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[ve.icon,ve.title]})})]}),h.jsx("div",{className:"md:hidden flex items-center space-x-2",children:r?.photoURL?h.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-8 h-8 rounded-full"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-600 text-xs font-bold",children:r?.displayName?.charAt(0)?.toUpperCase()||"A"})})]}),h.jsx("div",{className:"p-8",children:f==="courses"?h.jsx(nk,{courses:ae,selectedCourse:g,setSelectedCourse:y,uploadedFiles:_,handleFileUpload:se,removeFile:ue}):f==="news"?h.jsx(ck,{news:z,showNewsForm:F,setShowNewsForm:ie,editingNews:L,setEditingNews:K,handleNewsSubmit:I,handleDeleteNews:R,handleEditNews:T}):h.jsx(uk,{})})]})]})},mk=()=>{const{pathname:r}=yi();return M.useEffect(()=>{window.scrollTo(0,0)},[r]),null},sa=({children:r})=>h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx(hS,{}),r,h.jsx(bS,{}),h.jsx(RS,{})]}),pk=({children:r})=>h.jsx("div",{className:"min-h-screen bg-white",children:r}),gk=()=>h.jsxs("div",{className:"overflow-x-hidden",children:[h.jsx(NS,{}),h.jsx(A6,{}),h.jsx(T6,{})]}),yk=()=>h.jsx("div",{className:"min-h-screen p-4",children:h.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"404"}),h.jsx("p",{className:"text-xl text-gray-600",children:"ไม่พบหน้าที่คุณค้นหา"})]})})}),vk=()=>h.jsxs(GT,{children:[h.jsx(mk,{}),h.jsxs(wT,{children:[h.jsx(ri,{path:"/",element:h.jsx(sa,{children:h.jsx(gk,{})})}),h.jsx(ri,{path:"/admission",element:h.jsx(sa,{children:h.jsx(j6,{})})}),h.jsx(ri,{path:"/course",element:h.jsx(sa,{children:h.jsx(D6,{})})}),h.jsx(ri,{path:"/activity",element:h.jsx(sa,{children:h.jsx(M6,{})})}),h.jsx(ri,{path:"/contact",element:h.jsx(sa,{children:h.jsx(O6,{})})}),h.jsx(ri,{path:"/feedback",element:h.jsx(sa,{children:h.jsx(ek,{})})}),h.jsx(ri,{path:"/AdminDashboard",element:h.jsx(pk,{children:h.jsx(fk,{})})}),h.jsx(ri,{path:"*",element:h.jsx(sa,{children:h.jsx(yk,{})})})]})]});kE.createRoot(document.getElementById("root")).render(h.jsx(os.StrictMode,{children:h.jsx(vk,{})}));
