(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function I2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function sE(){if(C1)return Ul;C1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var I1;function aE(){return I1||(I1=1,hm.exports=sE()),hm.exports}var h=aE(),dm={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function oE(){if(j1)return je;j1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function L(M,re,de){this.props=M,this.context=re,this.refs=K,this.updater=de||V}L.prototype.isReactComponent={},L.prototype.setState=function(M,re){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,re,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=L.prototype;function q(M,re,de){this.props=M,this.context=re,this.refs=K,this.updater=de||V}var se=q.prototype=new $;se.constructor=q,z(se,L.prototype),se.isPureReactComponent=!0;var ae=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function I(M,re,de,ce,ge,Me){return de=Me.ref,{$$typeof:r,type:M,key:re,ref:de!==void 0?de:null,props:Me}}function R(M,re){return I(M.type,re,void 0,void 0,void 0,M.props)}function T(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function C(M){var re={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return re[de]})}var D=/\/+/g;function k(M,re){return typeof M=="object"&&M!==null&&M.key!=null?C(""+M.key):re.toString(36)}function N(){}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(re){M.status==="pending"&&(M.status="fulfilled",M.value=re)},function(re){M.status==="pending"&&(M.status="rejected",M.reason=re)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function me(M,re,de,ce,ge){var Me=typeof M;(Me==="undefined"||Me==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(Me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case r:case e:be=!0;break;case _:return be=M._init,me(be(M._payload),re,de,ce,ge)}}if(be)return ge=ge(M),be=ce===""?"."+k(M,0):ce,ae(ge)?(de="",be!=null&&(de=be.replace(D,"$&/")+"/"),me(ge,re,de,"",function(cn){return cn})):ge!=null&&(T(ge)&&(ge=R(ge,de+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+be)),re.push(ge)),1;be=0;var At=ce===""?".":ce+":";if(ae(M))for(var Ge=0;Ge<M.length;Ge++)ce=M[Ge],Me=At+k(ce,Ge),be+=me(ce,re,de,Me,ge);else if(Ge=A(M),typeof Ge=="function")for(M=Ge.call(M),Ge=0;!(ce=M.next()).done;)ce=ce.value,Me=At+k(ce,Ge++),be+=me(ce,re,de,Me,ge);else if(Me==="object"){if(typeof M.then=="function")return me(ve(M),re,de,ce,ge);throw re=String(M),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return be}function Q(M,re,de){if(M==null)return M;var ce=[],ge=0;return me(M,ce,"","",function(Me){return re.call(de,Me,ge++)}),ce}function W(M){if(M._status===-1){var re=M._result;re=re(),re.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=re)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Se(){}return je.Children={map:Q,forEach:function(M,re,de){Q(M,function(){re.apply(this,arguments)},de)},count:function(M){var re=0;return Q(M,function(){re++}),re},toArray:function(M){return Q(M,function(re){return re})||[]},only:function(M){if(!T(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},je.Component=L,je.Fragment=n,je.Profiler=o,je.PureComponent=q,je.StrictMode=s,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,je.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ie.H.useMemoCache(M)}},je.cache=function(M){return function(){return M.apply(null,arguments)}},je.cloneElement=function(M,re,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=z({},M.props),ge=M.key,Me=void 0;if(re!=null)for(be in re.ref!==void 0&&(Me=void 0),re.key!==void 0&&(ge=""+re.key),re)!ue.call(re,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&re.ref===void 0||(ce[be]=re[be]);var be=arguments.length-2;if(be===1)ce.children=de;else if(1<be){for(var At=Array(be),Ge=0;Ge<be;Ge++)At[Ge]=arguments[Ge+2];ce.children=At}return I(M.type,ge,void 0,void 0,Me,ce)},je.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},je.createElement=function(M,re,de){var ce,ge={},Me=null;if(re!=null)for(ce in re.key!==void 0&&(Me=""+re.key),re)ue.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=re[ce]);var be=arguments.length-2;if(be===1)ge.children=de;else if(1<be){for(var At=Array(be),Ge=0;Ge<be;Ge++)At[Ge]=arguments[Ge+2];ge.children=At}if(M&&M.defaultProps)for(ce in be=M.defaultProps,be)ge[ce]===void 0&&(ge[ce]=be[ce]);return I(M,Me,void 0,void 0,null,ge)},je.createRef=function(){return{current:null}},je.forwardRef=function(M){return{$$typeof:p,render:M}},je.isValidElement=T,je.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:W}},je.memo=function(M,re){return{$$typeof:y,type:M,compare:re===void 0?null:re}},je.startTransition=function(M){var re=ie.T,de={};ie.T=de;try{var ce=M(),ge=ie.S;ge!==null&&ge(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Se,oe)}catch(Me){oe(Me)}finally{ie.T=re}},je.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},je.use=function(M){return ie.H.use(M)},je.useActionState=function(M,re,de){return ie.H.useActionState(M,re,de)},je.useCallback=function(M,re){return ie.H.useCallback(M,re)},je.useContext=function(M){return ie.H.useContext(M)},je.useDebugValue=function(){},je.useDeferredValue=function(M,re){return ie.H.useDeferredValue(M,re)},je.useEffect=function(M,re,de){var ce=ie.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(M,re)},je.useId=function(){return ie.H.useId()},je.useImperativeHandle=function(M,re,de){return ie.H.useImperativeHandle(M,re,de)},je.useInsertionEffect=function(M,re){return ie.H.useInsertionEffect(M,re)},je.useLayoutEffect=function(M,re){return ie.H.useLayoutEffect(M,re)},je.useMemo=function(M,re){return ie.H.useMemo(M,re)},je.useOptimistic=function(M,re){return ie.H.useOptimistic(M,re)},je.useReducer=function(M,re,de){return ie.H.useReducer(M,re,de)},je.useRef=function(M){return ie.H.useRef(M)},je.useState=function(M){return ie.H.useState(M)},je.useSyncExternalStore=function(M,re,de){return ie.H.useSyncExternalStore(M,re,de)},je.useTransition=function(){return ie.H.useTransition()},je.version="19.1.1",je}var D1;function cp(){return D1||(D1=1,dm.exports=oE()),dm.exports}var O=cp();const ns=I2(O);var fm={exports:{}},zl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function lE(){return k1||(k1=1,(function(r){function e(Q,W){var oe=Q.length;Q.push(W);e:for(;0<oe;){var Se=oe-1>>>1,M=Q[Se];if(0<o(M,W))Q[Se]=W,Q[oe]=M,oe=Se;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var W=Q[0],oe=Q.pop();if(oe!==W){Q[0]=oe;e:for(var Se=0,M=Q.length,re=M>>>1;Se<re;){var de=2*(Se+1)-1,ce=Q[de],ge=de+1,Me=Q[ge];if(0>o(ce,oe))ge<M&&0>o(Me,ce)?(Q[Se]=Me,Q[ge]=oe,Se=ge):(Q[Se]=ce,Q[de]=oe,Se=de);else if(ge<M&&0>o(Me,oe))Q[Se]=Me,Q[ge]=oe,Se=ge;else break e}}return W}function o(Q,W){var oe=Q.sortIndex-W.sortIndex;return oe!==0?oe:Q.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],_=1,E=null,A=3,V=!1,z=!1,K=!1,L=!1,$=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ae(Q){for(var W=n(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=Q)s(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=n(y)}}function ie(Q){if(K=!1,ae(Q),!z)if(n(g)!==null)z=!0,ue||(ue=!0,k());else{var W=n(y);W!==null&&me(ie,W.startTime-Q)}}var ue=!1,I=-1,R=5,T=-1;function C(){return L?!0:!(r.unstable_now()-T<R)}function D(){if(L=!1,ue){var Q=r.unstable_now();T=Q;var W=!0;try{e:{z=!1,K&&(K=!1,q(I),I=-1),V=!0;var oe=A;try{t:{for(ae(Q),E=n(g);E!==null&&!(E.expirationTime>Q&&C());){var Se=E.callback;if(typeof Se=="function"){E.callback=null,A=E.priorityLevel;var M=Se(E.expirationTime<=Q);if(Q=r.unstable_now(),typeof M=="function"){E.callback=M,ae(Q),W=!0;break t}E===n(g)&&s(g),ae(Q)}else s(g);E=n(g)}if(E!==null)W=!0;else{var re=n(y);re!==null&&me(ie,re.startTime-Q),W=!1}}break e}finally{E=null,A=oe,V=!1}W=void 0}}finally{W?k():ue=!1}}}var k;if(typeof se=="function")k=function(){se(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ve=N.port2;N.port1.onmessage=D,k=function(){ve.postMessage(null)}}else k=function(){$(D,0)};function me(Q,W){I=$(function(){Q(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var W=3;break;default:W=A}var oe=A;A=W;try{return Q()}finally{A=oe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(Q,W){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=A;A=Q;try{return W()}finally{A=oe}},r.unstable_scheduleCallback=function(Q,W,oe){var Se=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Se+oe:Se):oe=Se,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,Q={id:_++,callback:W,priorityLevel:Q,startTime:oe,expirationTime:M,sortIndex:-1},oe>Se?(Q.sortIndex=oe,e(y,Q),n(g)===null&&Q===n(y)&&(K?(q(I),I=-1):K=!0,me(ie,oe-Se))):(Q.sortIndex=M,e(g,Q),z||V||(z=!0,ue||(ue=!0,k()))),Q},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(Q){var W=A;return function(){var oe=A;A=W;try{return Q.apply(this,arguments)}finally{A=oe}}}})(pm)),pm}var M1;function cE(){return M1||(M1=1,mm.exports=lE()),mm.exports}var gm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function uE(){if(O1)return Wt;O1=1;var r=cp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},Wt.flushSync=function(g){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=_,s.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:V}):_==="script"&&s.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,_){return f.H.useFormState(g,y,_)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var V1;function hE(){if(V1)return gm.exports;V1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=uE(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function dE(){if(P1)return zl;P1=1;var r=cE(),e=cp(),n=hE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,w=d.child;w;){if(w===a){b=!0,a=d,l=m;break}if(w===l){b=!0,l=d,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,l=d;break}if(w===l){b=!0,l=m,a=d;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case L:return"Profiler";case K:return"StrictMode";case ie:return"Suspense";case ue:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case se:return(t.displayName||"Context")+".Provider";case q:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ve(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ve(t(i))}catch{}}return null}var me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Se=[],M=-1;function re(t){return{current:t}}function de(t){0>M||(t.current=Se[M],Se[M]=null,M--)}function ce(t,i){M++,Se[M]=t.current,t.current=i}var ge=re(null),Me=re(null),be=re(null),At=re(null);function Ge(t,i){switch(ce(be,i),ce(Me,t),ce(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?r1(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=r1(i),t=i1(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(ge),ce(ge,t)}function cn(){de(ge),de(Me),de(be)}function yn(t){t.memoizedState!==null&&ce(At,t);var i=ge.current,a=i1(i,t.type);i!==a&&(ce(Me,t),ce(ge,a))}function Dr(t){Me.current===t&&(de(ge),de(Me)),At.current===t&&(de(At),Ml._currentValue=oe)}var Nn=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,un=r.unstable_cancelCallback,ko=r.unstable_shouldYield,Mo=r.unstable_requestPaint,hn=r.unstable_now,Rc=r.unstable_getCurrentPriorityLevel,Rt=r.unstable_ImmediatePriority,kt=r.unstable_UserBlockingPriority,kr=r.unstable_NormalPriority,dd=r.unstable_LowPriority,Oo=r.unstable_IdlePriority,fd=r.log,vs=r.unstable_setDisableYieldValue,mi=null,Yt=null;function Cn(t){if(typeof fd=="function"&&vs(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(mi,t)}catch{}}var rn=Math.clz32?Math.clz32:Cc,md=Math.log,Nc=Math.LN2;function Cc(t){return t>>>=0,t===0?32:31-(md(t)/Nc|0)|0}var sr=256,pi=4194304;function qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?d=qn(l):(b&=w,b!==0?d=qn(b):a||(a=w&~t,a!==0&&(d=qn(a))))):(w=l&~m,w!==0?d=qn(w):b!==0?d=qn(b):a||(a=l&~t,a!==0&&(d=qn(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function gi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ga(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=sr;return sr<<=1,(sr&4194048)===0&&(sr=256),t}function yi(){var t=pi;return pi<<=1,(pi&62914560)===0&&(pi=4194304),t}function ya(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ft(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ic(t,i,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,j=t.expirationTimes,H=t.hiddenUpdates;for(a=b&~a;0<a;){var Z=31-rn(a),te=1<<Z;w[Z]=0,j[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var Y=G[Z];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&vi(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~i))}function vi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-rn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function _i(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-rn(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mr(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:E1(t.type))}function pd(t,i){var a=W.p;try{return W.p=t,i()}finally{W.p=a}}var ar=Math.random().toString(36).slice(2),mt="__reactFiber$"+ar,Bt="__reactProps$"+ar,Or="__reactContainer$"+ar,_s="__reactEvents$"+ar,xs="__reactListeners$"+ar,gd="__reactHandles$"+ar,Fn="__reactResources$"+ar,xi="__reactMarker$"+ar;function va(t){delete t[mt],delete t[Bt],delete t[_s],delete t[xs],delete t[gd]}function or(t){var i=t[mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Or]||a[mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=l1(t);t!==null;){if(a=t[mt])return a;t=l1(t)}return i}t=a,a=t.parentNode}return null}function lr(t){if(t=t[mt]||t[Or]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function bi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function wi(t){var i=t[Fn];return i||(i=t[Fn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[xi]=!0}var jc=new Set,bs={};function cr(t,i){ur(t,i),ur(t+"Capture",i)}function ur(t,i){for(bs[t]=i,t=0;t<i.length;t++)jc.add(i[t])}var ws=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hr={},_a={};function yd(t){return Nn.call(_a,t)?!0:Nn.call(hr,t)?!1:ws.test(t)?_a[t]=!0:(hr[t]=!0,!1)}function Es(t,i,a){if(yd(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ts(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function jn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ss,xa;function Vr(t){if(Ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ss=i&&i[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+xa}var ba=!1;function wa(t,i){if(!t||ba)return"";ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){G=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var j=b.split(`
`),H=w.split(`
`);for(d=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===j.length||d===H.length)for(l=j.length-1,d=H.length-1;1<=l&&0<=d&&j[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(j[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||j[l]!==H[d]){var Z=`
`+j[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{ba=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vr(a):""}function vd(t){switch(t.tag){case 26:case 27:case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return Vr("Activity");default:return""}}function Hn(t){try{var i="";do i+=vd(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ei(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function As(t){var i=Ei(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ti(t){t._valueTracker||(t._valueTracker=As(t))}function Xe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ei(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function Mt(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Uo(t,i,a,l,d,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ot(i)):t.value!==""+ot(i)&&(t.value=""+ot(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,b,ot(i)):a!=null?Bo(t,b,ot(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+ot(w):t.removeAttribute("name")}function zo(t,i,a,l,d,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+ot(a):"",i=i!=null?""+ot(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Bo(t,i,a){i==="number"&&Pr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ot(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Dc(t,i,a){if(i!=null&&(i=""+ot(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ot(a):""}function kc(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ot(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Lr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&qo(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&qo(t,m,i[m])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gn(t){return Oc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ho=null;function Go(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,sn=null;function Vc(t){var i=lr(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Uo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Bt]||null;if(!d)throw Error(s(90));Uo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Xe(l)}break e;case"textarea":Dc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Si(t,!!a.multiple,i,!1)}}}var Ns=!1;function Cs(t,i,a){if(Ns)return t(i,a);Ns=!0;try{var l=t(i);return l}finally{if(Ns=!1,(Ai!==null||sn!==null)&&(Su(),Ai&&(i=Ai,t=sn,sn=Ai=null,Vc(i),t)))for(i=0;i<t.length;i++)Vc(t[i])}}function Ri(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(an)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Ur=!1}var kn=null,nt=null,Ta=null;function Pc(){if(Ta)return Ta;var t,i=nt,a=i.length,l,d="value"in kn?kn.value:kn.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===d[m-l];l++);return Ta=d.slice(t,1<l?1-l:void 0)}function Is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function $o(){return!1}function Nt(t){function i(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?js:$o,this.isPropagationStopped=$o,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),i}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Nt(Qt),ks=_({},Qt,{view:0,detail:0}),Ms=Nt(ks),Sa,Os,dr,Vs=_({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dr&&(dr&&t.type==="mousemove"?(Sa=t.screenX-dr.screenX,Os=t.screenY-dr.screenY):Os=Sa=0,dr=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),Ps=Nt(Vs),_d=_({},Vs,{dataTransfer:0}),Lc=Nt(_d),Ls=_({},ks,{relatedTarget:0}),Aa=Nt(Ls),Uc=_({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Nt(Uc),Yo=_({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zc=Nt(Yo),Ra=_({},Qt,{data:0}),Qo=Nt(Ra),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qc[t])?!!i[t]:!1}function Na(){return Fc}var Hc=_({},ks,{key:function(t){if(t.key){var i=Bc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Nt(Hc),on=_({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Nt(on),Gc=_({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Ci=Nt(Gc),u=_({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Nt(u),x=_({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Nt(x),F=_({},Qt,{newState:0,oldState:0}),X=Nt(F),le=[9,13,27,32],Ce=an&&"CompositionEvent"in window,st=null;an&&"documentMode"in document&&(st=document.documentMode);var Ke=an&&"TextEvent"in window&&!st,gt=an&&(!Ce||st&&8<st&&11>=st),vn=" ",fr=!1;function $n(t,i){switch(t){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yn=!1;function Wo(t,i){switch(t){case"compositionend":return Kn(i);case"keypress":return i.which!==32?null:(fr=!0,vn);case"textInput":return t=i.data,t===vn&&fr?null:t;default:return null}}function Db(t,i){if(Yn)return t==="compositionend"||!Ce&&$n(t,i)?(t=Pc(),Ta=nt=kn=null,Yn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gt&&i.locale!=="ko"?null:i.data;default:return null}}var kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kb[t.type]:i==="textarea"}function vg(t,i,a,l){Ai?sn?sn.push(l):sn=[l]:Ai=l,i=ju(i,"onChange"),0<i.length&&(a=new Ds("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zo=null,Jo=null;function Mb(t){Zy(t,0)}function $c(t){var i=bi(t);if(Xe(i))return t}function _g(t,i){if(t==="change")return i}var xg=!1;if(an){var xd;if(an){var bd="oninput"in document;if(!bd){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),bd=typeof bg.oninput=="function"}xd=bd}else xd=!1;xg=xd&&(!document.documentMode||9<document.documentMode)}function wg(){Zo&&(Zo.detachEvent("onpropertychange",Eg),Jo=Zo=null)}function Eg(t){if(t.propertyName==="value"&&$c(Jo)){var i=[];vg(i,Jo,t,Go(t)),Cs(Mb,i)}}function Ob(t,i,a){t==="focusin"?(wg(),Zo=i,Jo=a,Zo.attachEvent("onpropertychange",Eg)):t==="focusout"&&wg()}function Vb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(Jo)}function Pb(t,i){if(t==="click")return $c(i)}function Lb(t,i){if(t==="input"||t==="change")return $c(i)}function Ub(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:Ub;function el(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Nn.call(i,d)||!_n(t[d],i[d]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,i){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Pr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Pr(t.document)}return i}function wd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zb=an&&"documentMode"in document&&11>=document.documentMode,Ia=null,Ed=null,tl=null,Td=!1;function Ng(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||Ia==null||Ia!==Pr(l)||(l=Ia,"selectionStart"in l&&wd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=ju(Ed,"onSelect"),0<l.length&&(i=new Ds("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Sd={},Cg={};an&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function zs(t){if(Sd[t])return Sd[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return Sd[t]=i[a];return t}var Ig=zs("animationend"),jg=zs("animationiteration"),Dg=zs("animationstart"),Bb=zs("transitionrun"),qb=zs("transitionstart"),Fb=zs("transitioncancel"),kg=zs("transitionend"),Mg=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function Qn(t,i){Mg.set(t,i),cr(i,[t])}var Og=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Og.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Hn(i)},Og.set(t,i),i)}return{value:t,source:i,stack:Hn(i)}}var On=[],Da=0,Rd=0;function Kc(){for(var t=Da,i=Rd=Da=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var d=On[i];On[i++]=null;var m=On[i];if(On[i++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&Vg(a,d,m)}}function Yc(t,i,a,l){On[Da++]=t,On[Da++]=i,On[Da++]=a,On[Da++]=l,Rd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nd(t,i,a,l){return Yc(t,i,a,l),Qc(t)}function ka(t,i){return Yc(t,null,null,i),Qc(t)}function Vg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-rn(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),m):null}function Qc(t){if(50<Al)throw Al=0,Of=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function Hb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new Hb(t,i,a,l)}function Cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xc(t,i,a,l,d,m){var b=0;if(l=t,typeof t=="function")Cd(t)&&(b=1);else if(typeof t=="string")b=$w(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=xn(31,a,i,d),t.elementType=T,t.lanes=m,t;case z:return Bs(a.children,d,m,i);case K:b=8,d|=24;break;case L:return t=xn(12,a,i,d|2),t.elementType=L,t.lanes=m,t;case ie:return t=xn(13,a,i,d),t.elementType=ie,t.lanes=m,t;case ue:return t=xn(19,a,i,d),t.elementType=ue,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case se:b=10;break e;case q:b=9;break e;case ae:b=11;break e;case I:b=14;break e;case R:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(b,a,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function Bs(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function Id(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function jd(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Oa=[],Va=0,Wc=null,Zc=0,Vn=[],Pn=0,qs=null,qr=1,Fr="";function Fs(t,i){Oa[Va++]=Zc,Oa[Va++]=Wc,Wc=t,Zc=i}function Lg(t,i,a){Vn[Pn++]=qr,Vn[Pn++]=Fr,Vn[Pn++]=qs,qs=t;var l=qr;t=Fr;var d=32-rn(l)-1;l&=~(1<<d),a+=1;var m=32-rn(i)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,qr=1<<32-rn(i)+d|a<<d|l,Fr=m+t}else qr=1<<m|a<<d|l,Fr=t}function Dd(t){t.return!==null&&(Fs(t,1),Lg(t,1,0))}function kd(t){for(;t===Wc;)Wc=Oa[--Va],Oa[Va]=null,Zc=Oa[--Va],Oa[Va]=null;for(;t===qs;)qs=Vn[--Pn],Vn[Pn]=null,Fr=Vn[--Pn],Vn[Pn]=null,qr=Vn[--Pn],Vn[Pn]=null}var ln=null,ht=null,He=!1,Hs=null,mr=!1,Md=Error(s(519));function Gs(t){var i=Error(s(418,""));throw il(Mn(i,t)),Md}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[mt]=t,i[Bt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ve(Nl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),zo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ti(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),kc(i,l.value,l.defaultValue,l.children),Ti(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n1(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Du),i=!0):i=!1,i||Gs(t)}function zg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:ln=ln.return}}function nl(t){if(t!==ln)return!1;if(!He)return zg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wf(t.type,t.memoizedProps)),a=!a),a&&ht&&Gs(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=Wn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,Gi(t.type)?(t=tm,tm=null,ht=t):ht=i):ht=ln?Wn(t.stateNode.nextSibling):null;return!0}function rl(){ht=ln=null,He=!1}function Bg(){var t=Hs;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Hs=null),t}function il(t){Hs===null?Hs=[t]:Hs.push(t)}var Od=re(null),$s=null,Hr=null;function Ii(t,i,a){ce(Od,i._currentValue),i._currentValue=a}function Gr(t){t._currentValue=Od.current,de(Od)}function Vd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Pd(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var j=0;j<i.length;j++)if(w.context===i[j]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Vd(m.return,a,t),l||(b=null);break e}m=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Vd(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function sl(t,i,a,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=d.type;_n(d.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(d===At.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}d=d.return}t!==null&&Pd(i,t,a,l),i.flags|=262144}function Jc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){$s=t,Hr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return qg($s,t)}function eu(t,i){return $s===null&&Ks(t),qg(t,i)}function qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hr===null){if(t===null)throw Error(s(308));Hr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hr=Hr.next=i;return a}var Gb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},$b=r.unstable_scheduleCallback,Kb=r.unstable_NormalPriority,Ct={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new Gb,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&$b(Kb,function(){t.controller.abort()})}var ol=null,Ud=0,Pa=0,La=null;function Yb(t,i){if(ol===null){var a=ol=[];Ud=0,Pa=qf(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ud++,i.then(Fg,Fg),i}function Fg(){if(--Ud===0&&ol!==null){La!==null&&(La.status="fulfilled");var t=ol;ol=null,Pa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Qb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Hg=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Yb(t,i),Hg!==null&&Hg(t,i)};var Ys=re(null);function zd(){var t=Ys.current;return t!==null?t:rt.pooledCache}function tu(t,i){i===null?ce(Ys,Ys.current):ce(Ys,i.pool)}function Gg(){var t=zd();return t===null?null:{parent:Ct._currentValue,pool:t}}var ll=Error(s(460)),$g=Error(s(474)),nu=Error(s(542)),Bd={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ru(){}function Yg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ru,ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Xg(t),t;default:if(typeof i.status=="string")i.then(ru,ru);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Xg(t),t}throw cl=i,ll}}var cl=null;function Qg(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Xg(t){if(t===ll||t===nu)throw Error(s(483))}var ji=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Qc(t),Vg(t,null,a),i}return Yc(t,l,i,a),Qc(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,_i(t,a)}}function Hd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gd=!1;function hl(){if(Gd){var t=La;if(t!==null)throw t}}function dl(t,i,a,l){Gd=!1;var d=t.updateQueue;ji=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var j=w,H=j.next;j.next=null,b===null?m=H:b.next=H,b=j;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==b&&(w===null?Z.firstBaseUpdate=H:w.next=H,Z.lastBaseUpdate=j))}if(m!==null){var te=d.baseState;b=0,Z=H=j=null,w=m;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(ze&G)===G:(l&G)===G){G!==0&&G===Pa&&(Gd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Te=t,xe=w;G=i;var Je=a;switch(xe.tag){case 1:if(Te=xe.payload,typeof Te=="function"){te=Te.call(Je,te,G);break e}te=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=xe.payload,G=typeof Te=="function"?Te.call(Je,te,G):Te,G==null)break e;te=_({},te,G);break e;case 2:ji=!0}}G=w.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(H=Z=Y,j=te):Z=Z.next=Y,b|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);Z===null&&(j=te),d.baseState=j,d.firstBaseUpdate=H,d.lastBaseUpdate=Z,m===null&&(d.shared.lanes=0),Bi|=b,t.lanes=b,t.memoizedState=te}}function Wg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],i)}var Ua=re(null),iu=re(0);function Jg(t,i){t=Zr,ce(iu,t),ce(Ua,i),Zr=t|i.baseLanes}function $d(){ce(iu,Zr),ce(Ua,Ua.current)}function Kd(){Zr=iu.current,de(Ua),de(iu)}var Mi=0,De=null,We=null,xt=null,su=!1,za=!1,Qs=!1,au=0,fl=0,Ba=null,Xb=0;function yt(){throw Error(s(321))}function Yd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Qd(t,i,a,l,d,m){return Mi=m,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?V0:P0,Qs=!1,m=a(l,d),Qs=!1,za&&(m=t0(i,a,l,d)),e0(t),m}function e0(t){Q.H=du;var i=We!==null&&We.next!==null;if(Mi=0,xt=We=De=null,su=!1,fl=0,Ba=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Jc(t)&&(Ot=!0))}function t0(t,i,a,l){De=t;var d=0;do{if(za&&(Ba=null),fl=0,za=!1,25<=d)throw Error(s(301));if(d+=1,xt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=rw,m=i(a,l)}while(za);return m}function Wb(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),i}function Xd(){var t=au!==0;return au=0,t}function Wd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zd(t){if(su){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}su=!1}Mi=0,xt=We=De=null,za=!1,fl=au=0,Ba=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=t:xt=xt.next=t,xt}function bt(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=xt===null?De.memoizedState:xt.next;if(i!==null)xt=i,We=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},xt===null?De.memoizedState=xt=t:xt=xt.next=t}return xt}function Jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var i=fl;return fl+=1,Ba===null&&(Ba=[]),t=Yg(Ba,t,i),i=De,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?V0:P0),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===se)return Xt(t)}throw Error(s(438,String(t)))}function ef(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Jd(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=C;return i.index++,a}function $r(t,i){return typeof i=="function"?i(t):i}function lu(t){var i=bt();return tf(i,We,t)}function tf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var w=b=null,j=null,H=i,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(ze&te)===te:(Mi&te)===te){var G=H.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Pa&&(Z=!0);else if((Mi&G)===G){H=H.next,G===Pa&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(w=j=te,b=m):j=j.next=te,De.lanes|=G,Bi|=G;te=H.action,Qs&&a(m,te),m=H.hasEagerState?H.eagerState:a(m,te)}else G={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(w=j=G,b=m):j=j.next=G,De.lanes|=te,Bi|=te;H=H.next}while(H!==null&&H!==i);if(j===null?b=m:j.next=w,!_n(m,t.memoizedState)&&(Ot=!0,Z&&(a=La,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=j,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nf(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);_n(m,i.memoizedState)||(Ot=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function n0(t,i,a){var l=De,d=bt(),m=He;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!_n((We||d).memoizedState,a);b&&(d.memoizedState=a,Ot=!0),d=d.queue;var w=s0.bind(null,l,d,t);if(pl(2048,8,w,[t]),d.getSnapshot!==i||b||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,qa(9,cu(),i0.bind(null,l,d,a,i),null),rt===null)throw Error(s(349));m||(Mi&124)!==0||r0(l,i,a)}return a}function r0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Jd(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function i0(t,i,a,l){i.value=a,i.getSnapshot=l,a0(i)&&o0(t)}function s0(t,i,a){return a(function(){a0(i)&&o0(t)})}function a0(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function o0(t){var i=ka(t,2);i!==null&&Sn(i,t,2)}function rf(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),Qs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:t},i}function l0(t,i,a,l){return t.baseState=a,tf(t,We,typeof l=="function"?l:$r)}function Zb(t,i,a,l,d){if(hu(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,c0(i,m)):(m.next=a.next,i.pending=a.next=m)}}function c0(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=Q.T,b={};Q.T=b;try{var w=a(d,l),j=Q.S;j!==null&&j(b,w),u0(t,i,w)}catch(H){sf(t,i,H)}finally{Q.T=m}}else try{m=a(d,l),u0(t,i,m)}catch(H){sf(t,i,H)}}function u0(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){h0(t,i,l)},function(l){return sf(t,i,l)}):h0(t,i,a)}function h0(t,i,a){i.status="fulfilled",i.value=a,d0(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,c0(t,a)))}function sf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,d0(i),i=i.next;while(i!==l)}t.action=null}function d0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function f0(t,i){return i}function m0(t,i){if(He){var a=rt.formState;if(a!==null){e:{var l=De;if(He){if(ht){t:{for(var d=ht,m=mr;d.nodeType!==8;){if(!m){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ht=Wn(d.nextSibling),l=d.data==="F!";break e}}Gs(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:i},a.queue=l,a=k0.bind(null,De,l),l.dispatch=a,l=rf(!1),m=uf.bind(null,De,!1,l.queue),l=dn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=Zb.bind(null,De,d,m,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function p0(t){var i=bt();return g0(i,We,t)}function g0(t,i,a){if(i=tf(t,i,f0)[0],t=lu($r)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(b){throw b===ll?nu:b}else l=i;i=bt();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(De.flags|=2048,qa(9,cu(),Jb.bind(null,d,a),null)),[l,m,t]}function Jb(t,i){t.action=i}function y0(t){var i=bt(),a=We;if(a!==null)return g0(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=Jd(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function cu(){return{destroy:void 0,resource:void 0}}function v0(){return bt().memoizedState}function uu(t,i,a,l){var d=dn();l=l===void 0?null:l,De.flags|=t,d.memoizedState=qa(1|i,cu(),a,l)}function pl(t,i,a,l){var d=bt();l=l===void 0?null:l;var m=d.memoizedState.inst;We!==null&&l!==null&&Yd(l,We.memoizedState.deps)?d.memoizedState=qa(i,m,a,l):(De.flags|=t,d.memoizedState=qa(1|i,m,a,l))}function _0(t,i){uu(8390656,8,t,i)}function x0(t,i){pl(2048,8,t,i)}function b0(t,i){return pl(4,2,t,i)}function w0(t,i){return pl(4,4,t,i)}function E0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function T0(t,i,a){a=a!=null?a.concat([t]):null,pl(4,4,E0.bind(null,i,t),a)}function af(){}function S0(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function A0(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yd(i,l[1]))return l[0];if(l=t(),Qs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function of(t,i,a){return a===void 0||(Mi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Cy(),De.lanes|=t,Bi|=t,a)}function R0(t,i,a,l){return _n(a,i)?a:Ua.current!==null?(t=of(t,a,l),_n(t,i)||(Ot=!0),t):(Mi&42)===0?(Ot=!0,t.memoizedState=a):(t=Cy(),De.lanes|=t,Bi|=t,i)}function N0(t,i,a,l,d){var m=W.p;W.p=m!==0&&8>m?m:8;var b=Q.T,w={};Q.T=w,uf(t,!1,i,a);try{var j=d(),H=Q.S;if(H!==null&&H(w,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=Qb(j,l);gl(t,i,Z,Tn(t))}else gl(t,i,l,Tn(t))}catch(te){gl(t,i,{then:function(){},status:"rejected",reason:te},Tn())}finally{W.p=m,Q.T=b}}function ew(){}function lf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=C0(t).queue;N0(t,d,i,oe,a===null?ew:function(){return I0(t),a(l)})}function C0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function I0(t){var i=C0(t).next.queue;gl(t,i,{},Tn())}function cf(){return Xt(Ml)}function j0(){return bt().memoizedState}function D0(){return bt().memoizedState}function tw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Di(a);var l=ki(i,t,a);l!==null&&(Sn(l,i,a),ul(l,i,a)),i={cache:Ld()},t.payload=i;return}i=i.return}}function nw(t,i,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?M0(i,a):(a=Nd(t,i,a,l),a!==null&&(Sn(a,t,l),O0(a,i,l)))}function k0(t,i,a){var l=Tn();gl(t,i,a,l)}function gl(t,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))M0(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,w=m(b,a);if(d.hasEagerState=!0,d.eagerState=w,_n(w,b))return Yc(t,i,d,0),rt===null&&Kc(),!1}catch{}finally{}if(a=Nd(t,i,d,l),a!==null)return Sn(a,t,l),O0(a,i,l),!0}return!1}function uf(t,i,a,l){if(l={lane:2,revertLane:qf(),action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(i)throw Error(s(479))}else i=Nd(t,a,l,2),i!==null&&Sn(i,t,2)}function hu(t){var i=t.alternate;return t===De||i!==null&&i===De}function M0(t,i){za=su=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function O0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,_i(t,a)}}var du={readContext:Xt,use:ou,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},V0={readContext:Xt,use:ou,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:_0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uu(4194308,4,E0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uu(4194308,4,t,i)},useInsertionEffect:function(t,i){uu(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(Qs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var d=a(i);if(Qs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=nw.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=rf(t);var i=t.queue,a=k0.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:af,useDeferredValue:function(t,i){var a=dn();return of(a,t,i)},useTransition:function(){var t=rf(!1);return t=N0.bind(null,De,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,d=dn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(ze&124)!==0||r0(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,_0(s0.bind(null,l,m,t),[t]),l.flags|=2048,qa(9,cu(),i0.bind(null,l,m,a,i),null),a},useId:function(){var t=dn(),i=rt.identifierPrefix;if(He){var a=Fr,l=qr;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=au++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Xb++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:cf,useFormState:m0,useActionState:m0,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=uf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:ef,useCacheRefresh:function(){return dn().memoizedState=tw.bind(null,De)}},P0={readContext:Xt,use:ou,useCallback:S0,useContext:Xt,useEffect:x0,useImperativeHandle:T0,useInsertionEffect:b0,useLayoutEffect:w0,useMemo:A0,useReducer:lu,useRef:v0,useState:function(){return lu($r)},useDebugValue:af,useDeferredValue:function(t,i){var a=bt();return R0(a,We.memoizedState,t,i)},useTransition:function(){var t=lu($r)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:n0,useId:j0,useHostTransitionStatus:cf,useFormState:p0,useActionState:p0,useOptimistic:function(t,i){var a=bt();return l0(a,We,t,i)},useMemoCache:ef,useCacheRefresh:D0},rw={readContext:Xt,use:ou,useCallback:S0,useContext:Xt,useEffect:x0,useImperativeHandle:T0,useInsertionEffect:b0,useLayoutEffect:w0,useMemo:A0,useReducer:nf,useRef:v0,useState:function(){return nf($r)},useDebugValue:af,useDeferredValue:function(t,i){var a=bt();return We===null?of(a,t,i):R0(a,We.memoizedState,t,i)},useTransition:function(){var t=nf($r)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:n0,useId:j0,useHostTransitionStatus:cf,useFormState:y0,useActionState:y0,useOptimistic:function(t,i){var a=bt();return We!==null?l0(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ef,useCacheRefresh:D0},Fa=null,yl=0;function fu(t){var i=yl;return yl+=1,Fa===null&&(Fa=[]),Yg(Fa,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function mu(t,i){throw i.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function L0(t){var i=t._init;return i(t._payload)}function U0(t){function i(U,P){if(t){var B=U.deletions;B===null?(U.deletions=[P],U.flags|=16):B.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function d(U,P){return U=Br(U,P),U.index=0,U.sibling=null,U}function m(U,P,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<P?(U.flags|=67108866,P):B):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,P,B,J){return P===null||P.tag!==6?(P=Id(B,U.mode,J),P.return=U,P):(P=d(P,B),P.return=U,P)}function j(U,P,B,J){var pe=B.type;return pe===z?Z(U,P,B.props.children,J,B.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&L0(pe)===P.type)?(P=d(P,B.props),vl(P,B),P.return=U,P):(P=Xc(B.type,B.key,B.props,null,U.mode,J),vl(P,B),P.return=U,P)}function H(U,P,B,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=jd(B,U.mode,J),P.return=U,P):(P=d(P,B.children||[]),P.return=U,P)}function Z(U,P,B,J,pe){return P===null||P.tag!==7?(P=Bs(B,U.mode,J,pe),P.return=U,P):(P=d(P,B),P.return=U,P)}function te(U,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Id(""+P,U.mode,B),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return B=Xc(P.type,P.key,P.props,null,U.mode,B),vl(B,P),B.return=U,B;case V:return P=jd(P,U.mode,B),P.return=U,P;case R:var J=P._init;return P=J(P._payload),te(U,P,B)}if(me(P)||k(P))return P=Bs(P,U.mode,B,null),P.return=U,P;if(typeof P.then=="function")return te(U,fu(P),B);if(P.$$typeof===se)return te(U,eu(U,P),B);mu(U,P)}return null}function G(U,P,B,J){var pe=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:w(U,P,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===pe?j(U,P,B,J):null;case V:return B.key===pe?H(U,P,B,J):null;case R:return pe=B._init,B=pe(B._payload),G(U,P,B,J)}if(me(B)||k(B))return pe!==null?null:Z(U,P,B,J,null);if(typeof B.then=="function")return G(U,P,fu(B),J);if(B.$$typeof===se)return G(U,P,eu(U,B),J);mu(U,B)}return null}function Y(U,P,B,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,w(P,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return U=U.get(J.key===null?B:J.key)||null,j(P,U,J,pe);case V:return U=U.get(J.key===null?B:J.key)||null,H(P,U,J,pe);case R:var ke=J._init;return J=ke(J._payload),Y(U,P,B,J,pe)}if(me(J)||k(J))return U=U.get(B)||null,Z(P,U,J,pe,null);if(typeof J.then=="function")return Y(U,P,B,fu(J),pe);if(J.$$typeof===se)return Y(U,P,B,eu(P,J),pe);mu(P,J)}return null}function Te(U,P,B,J){for(var pe=null,ke=null,ye=P,we=P=0,Pt=null;ye!==null&&we<B.length;we++){ye.index>we?(Pt=ye,ye=null):Pt=ye.sibling;var Fe=G(U,ye,B[we],J);if(Fe===null){ye===null&&(ye=Pt);break}t&&ye&&Fe.alternate===null&&i(U,ye),P=m(Fe,P,we),ke===null?pe=Fe:ke.sibling=Fe,ke=Fe,ye=Pt}if(we===B.length)return a(U,ye),He&&Fs(U,we),pe;if(ye===null){for(;we<B.length;we++)ye=te(U,B[we],J),ye!==null&&(P=m(ye,P,we),ke===null?pe=ye:ke.sibling=ye,ke=ye);return He&&Fs(U,we),pe}for(ye=l(ye);we<B.length;we++)Pt=Y(ye,U,we,B[we],J),Pt!==null&&(t&&Pt.alternate!==null&&ye.delete(Pt.key===null?we:Pt.key),P=m(Pt,P,we),ke===null?pe=Pt:ke.sibling=Pt,ke=Pt);return t&&ye.forEach(function(Xi){return i(U,Xi)}),He&&Fs(U,we),pe}function xe(U,P,B,J){if(B==null)throw Error(s(151));for(var pe=null,ke=null,ye=P,we=P=0,Pt=null,Fe=B.next();ye!==null&&!Fe.done;we++,Fe=B.next()){ye.index>we?(Pt=ye,ye=null):Pt=ye.sibling;var Xi=G(U,ye,Fe.value,J);if(Xi===null){ye===null&&(ye=Pt);break}t&&ye&&Xi.alternate===null&&i(U,ye),P=m(Xi,P,we),ke===null?pe=Xi:ke.sibling=Xi,ke=Xi,ye=Pt}if(Fe.done)return a(U,ye),He&&Fs(U,we),pe;if(ye===null){for(;!Fe.done;we++,Fe=B.next())Fe=te(U,Fe.value,J),Fe!==null&&(P=m(Fe,P,we),ke===null?pe=Fe:ke.sibling=Fe,ke=Fe);return He&&Fs(U,we),pe}for(ye=l(ye);!Fe.done;we++,Fe=B.next())Fe=Y(ye,U,we,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?we:Fe.key),P=m(Fe,P,we),ke===null?pe=Fe:ke.sibling=Fe,ke=Fe);return t&&ye.forEach(function(iE){return i(U,iE)}),He&&Fs(U,we),pe}function Je(U,P,B,J){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var pe=B.key;P!==null;){if(P.key===pe){if(pe=B.type,pe===z){if(P.tag===7){a(U,P.sibling),J=d(P,B.props.children),J.return=U,U=J;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&L0(pe)===P.type){a(U,P.sibling),J=d(P,B.props),vl(J,B),J.return=U,U=J;break e}a(U,P);break}else i(U,P);P=P.sibling}B.type===z?(J=Bs(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Xc(B.type,B.key,B.props,null,U.mode,J),vl(J,B),J.return=U,U=J)}return b(U);case V:e:{for(pe=B.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(U,P.sibling),J=d(P,B.children||[]),J.return=U,U=J;break e}else{a(U,P);break}else i(U,P);P=P.sibling}J=jd(B,U.mode,J),J.return=U,U=J}return b(U);case R:return pe=B._init,B=pe(B._payload),Je(U,P,B,J)}if(me(B))return Te(U,P,B,J);if(k(B)){if(pe=k(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),xe(U,P,B,J)}if(typeof B.then=="function")return Je(U,P,fu(B),J);if(B.$$typeof===se)return Je(U,P,eu(U,B),J);mu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(U,P.sibling),J=d(P,B),J.return=U,U=J):(a(U,P),J=Id(B,U.mode,J),J.return=U,U=J),b(U)):a(U,P)}return function(U,P,B,J){try{yl=0;var pe=Je(U,P,B,J);return Fa=null,pe}catch(ye){if(ye===ll||ye===nu)throw ye;var ke=xn(29,ye,null,U.mode);return ke.lanes=J,ke.return=U,ke}finally{}}}var Ha=U0(!0),z0=U0(!1),Ln=re(null),pr=null;function Oi(t){var i=t.alternate;ce(It,It.current&1),ce(Ln,t),pr===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(pr=t)}function B0(t){if(t.tag===22){if(ce(It,It.current),ce(Ln,t),pr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(pr=t)}}else Vi()}function Vi(){ce(It,It.current),ce(Ln,Ln.current)}function Kr(t){de(Ln),pr===t&&(pr=null),de(It)}var It=re(0);function pu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||em(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var df={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Tn(),d=Di(l);d.payload=i,a!=null&&(d.callback=a),i=ki(t,d,l),i!==null&&(Sn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Tn(),d=Di(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=ki(t,d,l),i!==null&&(Sn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),l=Di(a);l.tag=2,i!=null&&(l.callback=i),i=ki(t,l,a),i!==null&&(Sn(i,t,a),ul(i,t,a))}};function q0(t,i,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(d,m):!0}function F0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&df.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function H0(t){gu(t)}function G0(t){console.error(t)}function $0(t){gu(t)}function yu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function K0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ff(t,i,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){yu(t,i)},a}function Y0(t){return t=Di(t),t.tag=3,t}function Q0(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){K0(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){K0(i,a,l),typeof d!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function iw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&sl(i,a,d,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return pr===null?Pf():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Bd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Uf(t,l,d)),!1;case 22:return a.flags|=65536,l===Bd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Uf(t,l,d)),!1}throw Error(s(435,a.tag))}return Uf(t,l,d),Pf(),!1}if(He)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Md&&(t=Error(s(422),{cause:l}),il(Mn(t,a)))):(l!==Md&&(i=Error(s(423),{cause:l}),il(Mn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Mn(l,a),d=ff(t.stateNode,l,d),Hd(t,d),dt!==4&&(dt=2)),!1;var m=Error(s(520),{cause:l});if(m=Mn(m,a),Sl===null?Sl=[m]:Sl.push(m),dt!==4&&(dt=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=ff(a.stateNode,l,t),Hd(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qi===null||!qi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Y0(d),Q0(d,t,a,l),Hd(a,d),!1}a=a.return}while(a!==null);return!1}var X0=Error(s(461)),Ot=!1;function qt(t,i,a,l){i.child=t===null?z0(i,null,a,l):Ha(i,t.child,a,l)}function W0(t,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Ks(i),l=Qd(t,i,a,b,m,d),w=Xd(),t!==null&&!Ot?(Wd(t,i,d),Yr(t,i,d)):(He&&w&&Dd(i),i.flags|=1,qt(t,i,l,d),i.child)}function Z0(t,i,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Cd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,J0(t,i,m,l,d)):(t=Xc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!bf(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(b,l)&&t.ref===i.ref)return Yr(t,i,d)}return i.flags|=1,t=Br(m,l),t.ref=i.ref,t.return=i,i.child=t}function J0(t,i,a,l,d){if(t!==null){var m=t.memoizedProps;if(el(m,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=m,bf(t,d))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Yr(t,i,d)}return mf(t,i,a,l,d)}function ey(t,i,a){var l=i.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=i.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return ty(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(i,m!==null?m.cachePool:null),m!==null?Jg(i,m):$d(),B0(i);else return i.lanes=i.childLanes=536870912,ty(t,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(tu(i,m.cachePool),Jg(i,m),Vi(),i.memoizedState=null):(t!==null&&tu(i,null),$d(),Vi());return qt(t,i,d,a),i.child}function ty(t,i,a,l){var d=zd();return d=d===null?null:{parent:Ct._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&tu(i,null),$d(),B0(i),t!==null&&sl(t,i,l,!0),null}function vu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function mf(t,i,a,l,d){return Ks(i),a=Qd(t,i,a,l,void 0,d),l=Xd(),t!==null&&!Ot?(Wd(t,i,d),Yr(t,i,d)):(He&&l&&Dd(i),i.flags|=1,qt(t,i,a,d),i.child)}function ny(t,i,a,l,d,m){return Ks(i),i.updateQueue=null,a=t0(i,l,a,d),e0(t),l=Xd(),t!==null&&!Ot?(Wd(t,i,m),Yr(t,i,m)):(He&&l&&Dd(i),i.flags|=1,qt(t,i,a,m),i.child)}function ry(t,i,a,l,d){if(Ks(i),i.stateNode===null){var m=Ma,b=a.contextType;typeof b=="object"&&b!==null&&(m=Xt(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=df,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},qd(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?Xt(b):Ma,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(hf(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&df.enqueueReplaceState(m,m.state,null),dl(i,l,m,d),hl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,j=Xs(a,w);m.props=j;var H=m.context,Z=a.contextType;b=Ma,typeof Z=="object"&&Z!==null&&(b=Xt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||H!==b)&&F0(i,m,l,b),ji=!1;var G=i.memoizedState;m.state=G,dl(i,l,m,d),hl(),H=i.memoizedState,w||G!==H||ji?(typeof te=="function"&&(hf(i,a,te,l),H=i.memoizedState),(j=ji||q0(i,a,j,l,G,H,b))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),m.props=l,m.state=H,m.context=b,l=j):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Fd(t,i),b=i.memoizedProps,Z=Xs(a,b),m.props=Z,te=i.pendingProps,G=m.context,H=a.contextType,j=Ma,typeof H=="object"&&H!==null&&(j=Xt(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||G!==j)&&F0(i,m,l,j),ji=!1,G=i.memoizedState,m.state=G,dl(i,l,m,d),hl();var Y=i.memoizedState;b!==te||G!==Y||ji||t!==null&&t.dependencies!==null&&Jc(t.dependencies)?(typeof w=="function"&&(hf(i,a,w,l),Y=i.memoizedState),(Z=ji||q0(i,a,Z,l,G,Y,j)||t!==null&&t.dependencies!==null&&Jc(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,j)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),m.props=l,m.state=Y,m.context=j,l=Z):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,vu(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Ha(i,t.child,null,d),i.child=Ha(i,null,a,d)):qt(t,i,a,d),i.memoizedState=m.state,t=i.child):t=Yr(t,i,d),t}function iy(t,i,a,l){return rl(),i.flags|=256,qt(t,i,a,l),i.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(t){return{baseLanes:t,cachePool:Gg()}}function yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Un),t}function sy(t,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(d?Oi(i):Vi(),He){var w=ht,j;if(j=w){e:{for(j=w,w=mr;j.nodeType!==8;){if(!w){w=null;break e}if(j=Wn(j.nextSibling),j===null){w=null;break e}}w=j}w!==null?(i.memoizedState={dehydrated:w,treeContext:qs!==null?{id:qr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},j=xn(18,null,null,0),j.stateNode=w,j.return=i,i.child=j,ln=i,ht=null,j=!0):j=!1}j||Gs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return em(w)?i.lanes=32:i.lanes=536870912,null;Kr(i)}return w=l.children,l=l.fallback,d?(Vi(),d=i.mode,w=_u({mode:"hidden",children:w},d),l=Bs(l,d,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,d=i.child,d.memoizedState=gf(a),d.childLanes=yf(t,b,a),i.memoizedState=pf,l):(Oi(i),vf(i,w))}if(j=t.memoizedState,j!==null&&(w=j.dehydrated,w!==null)){if(m)i.flags&256?(Oi(i),i.flags&=-257,i=_f(t,i,a)):i.memoizedState!==null?(Vi(),i.child=t.child,i.flags|=128,i=null):(Vi(),d=l.fallback,w=i.mode,l=_u({mode:"visible",children:l.children},w),d=Bs(d,w,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,Ha(i,t.child,null,a),l=i.child,l.memoizedState=gf(a),l.childLanes=yf(t,b,a),i.memoizedState=pf,i=d);else if(Oi(i),em(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(s(419)),l.stack="",l.digest=b,il({value:l,source:null,stack:null}),i=_f(t,i,a)}else if(Ot||sl(t,i,a,!1),b=(a&t.childLanes)!==0,Ot||b){if(b=rt,b!==null&&(l=a&-a,l=(l&42)!==0?1:Po(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,ka(t,l),Sn(b,t,l),X0;w.data==="$?"||Pf(),i=_f(t,i,a)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=j.treeContext,ht=Wn(w.nextSibling),ln=i,He=!0,Hs=null,mr=!1,t!==null&&(Vn[Pn++]=qr,Vn[Pn++]=Fr,Vn[Pn++]=qs,qr=t.id,Fr=t.overflow,qs=i),i=vf(i,l.children),i.flags|=4096);return i}return d?(Vi(),d=l.fallback,w=i.mode,j=t.child,H=j.sibling,l=Br(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,H!==null?d=Br(H,d):(d=Bs(d,w,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,w=t.child.memoizedState,w===null?w=gf(a):(j=w.cachePool,j!==null?(H=Ct._currentValue,j=j.parent!==H?{parent:H,pool:H}:j):j=Gg(),w={baseLanes:w.baseLanes|a,cachePool:j}),d.memoizedState=w,d.childLanes=yf(t,b,a),i.memoizedState=pf,l):(Oi(i),a=t.child,t=a.sibling,a=Br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function vf(t,i){return i=_u({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _u(t,i){return t=xn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function _f(t,i,a){return Ha(i,t.child,null,a),t=vf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ay(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Vd(t.return,i,a)}function xf(t,i,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function oy(t,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;if(qt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,a,i);else if(t.tag===19)ay(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(It,l),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&pu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),xf(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&pu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}xf(i,!0,a,null,m);break;case"together":xf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Bi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(sl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Br(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Br(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Jc(t)))}function sw(t,i,a){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),Ii(i,Ct,t.memoizedState.cache),rl();break;case 27:case 5:yn(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:Ii(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?sy(t,i,a):(Oi(i),t=Yr(t,i,a),t!==null?t.sibling:null);Oi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(sl(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return oy(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,ey(t,i,a);case 24:Ii(i,Ct,t.memoizedState.cache)}return Yr(t,i,a)}function ly(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!bf(t,a)&&(i.flags&128)===0)return Ot=!1,sw(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(i.flags&1048576)!==0&&Lg(i,Zc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Cd(l)?(t=Xs(l,t),i.tag=1,i=ry(null,i,l,t,a)):(i.tag=0,i=mf(null,i,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===ae){i.tag=11,i=W0(null,i,l,t,a);break e}else if(d===I){i.tag=14,i=Z0(null,i,l,t,a);break e}}throw i=ve(l)||l,Error(s(306,i,""))}}return i;case 0:return mf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Xs(l,i.pendingProps),ry(t,i,l,d,a);case 3:e:{if(Ge(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,Fd(t,i),dl(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Ii(i,Ct,l),l!==m.cache&&Pd(i,[Ct],a,!0),hl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=iy(t,i,l,a);break e}else if(l!==d){d=Mn(Error(s(424)),i),il(d),i=iy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Wn(t.firstChild),ln=i,He=!0,Hs=null,mr=!0,a=z0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===d){i=Yr(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return vu(t,i),t===null?(a=d1(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=ku(be.current).createElement(a),l[mt]=i,l[Bt]=t,Ht(l,a,t),pt(l),i.stateNode=l):i.memoizedState=d1(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yn(i),t===null&&He&&(l=i.stateNode=c1(i.type,i.pendingProps,be.current),ln=i,mr=!0,d=ht,Gi(i.type)?(tm=d,ht=Wn(l.firstChild)):ht=d),qt(t,i,i.pendingProps.children,a),vu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((d=l=ht)&&(l=kw(l,i.type,i.pendingProps,mr),l!==null?(i.stateNode=l,ln=i,ht=Wn(l.firstChild),mr=!1,d=!0):d=!1),d||Gs(i)),yn(i),d=i.type,m=i.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,Wf(d,m)?l=null:b!==null&&Wf(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=Qd(t,i,Wb,null,null,a),Ml._currentValue=d),vu(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ht)&&(a=Mw(a,i.pendingProps,mr),a!==null?(i.stateNode=a,ln=i,ht=null,t=!0):t=!1),t||Gs(i)),null;case 13:return sy(t,i,a);case 4:return Ge(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ha(i,null,l,a):qt(t,i,l,a),i.child;case 11:return W0(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ii(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Ks(i),d=Xt(d),l=l(d),i.flags|=1,qt(t,i,l,a),i.child;case 14:return Z0(t,i,i.type,i.pendingProps,a);case 15:return J0(t,i,i.type,i.pendingProps,a);case 19:return oy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=_u(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Br(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ey(t,i,a);case 24:return Ks(i),l=Xt(Ct),t===null?(d=zd(),d===null&&(d=rt,m=Ld(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},qd(i),Ii(i,Ct,d)):((t.lanes&a)!==0&&(Fd(t,i),dl(i,null,null,a),hl()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ii(i,Ct,l)):(l=m.cache,Ii(i,Ct,l),l!==d.cache&&Pd(i,[Ct],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qr(t){t.flags|=4}function cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!y1(i)){if(i=Ln.current,i!==null&&((ze&4194048)===ze?pr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==pr))throw cl=Bd,$g;t.flags|=8192}}function xu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yi():536870912,t.lanes|=i,Ya|=i)}function _l(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function aw(t,i,a){var l=i.pendingProps;switch(kd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gr(Ct),cn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(nl(i)?Qr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bg())),lt(i),null;case 26:return a=i.memoizedState,t===null?(Qr(i),a!==null?(lt(i),cy(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Qr(i),lt(i),cy(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Qr(i),lt(i),i.flags&=-16777217),null;case 27:Dr(i),a=be.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ge.current,nl(i)?Ug(i):(t=c1(d,l,a),i.stateNode=t,Qr(i))}return lt(i),null;case 5:if(Dr(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=ge.current,nl(i))Ug(i);else{switch(d=ku(be.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[mt]=i,t[Bt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Qr(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,nl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=ln,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n1(t.nodeValue,a)),t||Gs(i)}else t=ku(t).createTextNode(l),t[mt]=i,i.stateNode=t}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=nl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[mt]=i}else rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),d=!1}else d=Bg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Kr(i),i):(Kr(i),null)}if(Kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),xu(i,i.updateQueue),lt(i),null;case 4:return cn(),t===null&&$f(i.stateNode.containerInfo),lt(i),null;case 10:return Gr(i.type),lt(i),null;case 19:if(de(It),d=i.memoizedState,d===null)return lt(i),null;if(l=(i.flags&128)!==0,m=d.rendering,m===null)if(l)_l(d,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=pu(t),m!==null){for(i.flags|=128,_l(d,!1),t=m.updateQueue,i.updateQueue=t,xu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Pg(a,t),a=a.sibling;return ce(It,It.current&1|2),i.child}t=t.sibling}d.tail!==null&&hn()>Eu&&(i.flags|=128,l=!0,_l(d,!1),i.lanes=4194304)}else{if(!l)if(t=pu(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,xu(i,t),_l(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!He)return lt(i),null}else 2*hn()-d.renderingStartTime>Eu&&a!==536870912&&(i.flags|=128,l=!0,_l(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(t=d.last,t!==null?t.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=hn(),i.sibling=null,t=It.current,ce(It,l?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return Kr(i),Kd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&xu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&de(Ys),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gr(Ct),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ow(t,i){switch(kd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gr(Ct),cn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Dr(i),null;case 13:if(Kr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));rl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return de(It),null;case 4:return cn(),null;case 10:return Gr(i.type),null;case 22:case 23:return Kr(i),Kd(),t!==null&&de(Ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gr(Ct),null;case 25:return null;default:return null}}function uy(t,i){switch(kd(i),i.tag){case 3:Gr(Ct),cn();break;case 26:case 27:case 5:Dr(i);break;case 4:cn();break;case 13:Kr(i);break;case 19:de(It);break;case 10:Gr(i.type);break;case 22:case 23:Kr(i),Kd(),t!==null&&de(Ys);break;case 24:Gr(Ct)}}function xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(w){et(i,i.return,w)}}function Pi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=i;var j=a,H=w;try{H()}catch(Z){et(d,j,Z)}}}l=l.next}while(l!==m)}}catch(Z){et(i,i.return,Z)}}function hy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Zg(i,a)}catch(l){et(t,t.return,l)}}}function dy(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){et(t,i,d)}}function gr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){et(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){et(t,i,d)}else a.current=null}function fy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){et(t,t.return,d)}}function wf(t,i,a){try{var l=t.stateNode;Nw(l,t.type,a,i),l[Bt]=i}catch(d){et(t,t.return,d)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gi(t.type)||t.tag===4}function Ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Du));else if(l!==4&&(l===27&&Gi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Tf(t,i,a),t=t.sibling;t!==null;)Tf(t,i,a),t=t.sibling}function bu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bu(t,i,a),t=t.sibling;t!==null;)bu(t,i,a),t=t.sibling}function py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Ht(i,l,a),i[mt]=t,i[Bt]=a}catch(m){et(t,t.return,m)}}var Xr=!1,vt=!1,Sf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function lw(t,i){if(t=t.containerInfo,Qf=Uu,t=Rg(t),wd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,w=-1,j=-1,H=0,Z=0,te=t,G=null;t:for(;;){for(var Y;te!==a||d!==0&&te.nodeType!==3||(w=b+d),te!==m||l!==0&&te.nodeType!==3||(j=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===t)break t;if(G===a&&++H===d&&(w=b),G===m&&++Z===l&&(j=b),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}a=w===-1||j===-1?null:{start:w,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xf={focusedElem:t,selectionRange:a},Uu=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Te=Xs(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){et(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function yy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&xl(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){et(a,a.return,b)}else{var d=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){et(a,a.return,b)}}l&64&&hy(a),l&512&&bl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zg(t,i)}catch(b){et(a,a.return,b)}}break;case 27:i===null&&l&4&&py(a);case 26:case 5:Li(t,a),i===null&&l&4&&fy(a),l&512&&bl(a,a.return);break;case 12:Li(t,a);break;case 13:Li(t,a),l&4&&xy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yw.bind(null,a),Ow(t,a))));break;case 22:if(l=a.memoizedState!==null||Xr,!l){i=i!==null&&i.memoizedState!==null||vt,d=Xr;var m=vt;Xr=l,(vt=i)&&!m?Ui(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),Xr=d,vt=m}break;case 30:break;default:Li(t,a)}}function vy(t){var i=t.alternate;i!==null&&(t.alternate=null,vy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,fn=!1;function Wr(t,i,a){for(a=a.child;a!==null;)_y(t,i,a),a=a.sibling}function _y(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(mi,a)}catch{}switch(a.tag){case 26:vt||gr(a,i),Wr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||gr(a,i);var l=at,d=fn;Gi(a.type)&&(at=a.stateNode,fn=!1),Wr(t,i,a),Il(a.stateNode),at=l,fn=d;break;case 5:vt||gr(a,i);case 6:if(l=at,d=fn,at=null,Wr(t,i,a),at=l,fn=d,at!==null)if(fn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(m){et(a,i,m)}else try{at.removeChild(a.stateNode)}catch(m){et(a,i,m)}break;case 18:at!==null&&(fn?(t=at,o1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):o1(at,a.stateNode));break;case 4:l=at,d=fn,at=a.stateNode.containerInfo,fn=!0,Wr(t,i,a),at=l,fn=d;break;case 0:case 11:case 14:case 15:vt||Pi(2,a,i),vt||Pi(4,a,i),Wr(t,i,a);break;case 1:vt||(gr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&dy(a,i,l)),Wr(t,i,a);break;case 21:Wr(t,i,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,Wr(t,i,a),vt=l;break;default:Wr(t,i,a)}}function xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){et(i,i.return,a)}}function cw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gy),i;default:throw Error(s(435,t.tag))}}function Af(t,i){var a=cw(t);i.forEach(function(l){var d=vw.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function bn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=i,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Gi(w.type)){at=w.stateNode,fn=!1;break e}break;case 5:at=w.stateNode,fn=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,fn=!0;break e}w=w.return}if(at===null)throw Error(s(160));_y(m,b,d),at=null,fn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)by(i,t),i=i.sibling}var Xn=null;function by(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),wn(t),l&4&&(Pi(3,t,t.return),xl(3,t),Pi(5,t,t.return));break;case 1:bn(i,t),wn(t),l&512&&(vt||a===null||gr(a,a.return)),l&64&&Xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Xn;if(bn(i,t),wn(t),l&512&&(vt||a===null||gr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[xi]||m[mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Ht(m,l,a),m[mt]=t,pt(m),l=m;break e;case"link":var b=p1("link","href",d).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}m=d.createElement(l),Ht(m,l,a),d.head.appendChild(m);break;case"meta":if(b=p1("meta","content",d).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}m=d.createElement(l),Ht(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[mt]=t,pt(m),l=m}t.stateNode=l}else g1(d,t.type,t.stateNode);else t.stateNode=m1(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?g1(d,t.type,t.stateNode):m1(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),wn(t),l&512&&(vt||a===null||gr(a,a.return)),a!==null&&l&4&&wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),wn(t),l&512&&(vt||a===null||gr(a,a.return)),t.flags&32){d=t.stateNode;try{Dn(d,"")}catch(Y){et(t,t.return,Y)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,wf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Sf=!0);break;case 6:if(bn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){et(t,t.return,Y)}}break;case 3:if(Vu=null,d=Xn,Xn=Mu(i.containerInfo),bn(i,t),Xn=d,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(i.containerInfo)}catch(Y){et(t,t.return,Y)}Sf&&(Sf=!1,wy(t));break;case 4:l=Xn,Xn=Mu(t.stateNode.containerInfo),bn(i,t),wn(t),Xn=l;break;case 12:bn(i,t),wn(t);break;case 13:bn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Df=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Af(t,l)));break;case 22:d=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,H=Xr,Z=vt;if(Xr=H||d,vt=Z||j,bn(i,t),vt=Z,Xr=H,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||j||Xr||vt||Ws(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){j=a=i;try{if(m=j.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=j.stateNode;var te=j.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){et(j,j.return,Y)}}}else if(i.tag===6){if(a===null){j=i;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(Y){et(j,j.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Af(t,a))));break;case 19:bn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Af(t,l)));break;case 30:break;case 21:break;default:bn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(my(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=Ef(t);bu(t,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Dn(b,""),a.flags&=-33);var w=Ef(t);bu(t,w,b);break;case 3:case 4:var j=a.stateNode.containerInfo,H=Ef(t);Tf(t,H,j);break;default:throw Error(s(161))}}catch(Z){et(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yy(t,i.alternate,i),i=i.sibling}function Ws(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pi(4,i,i.return),Ws(i);break;case 1:gr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&dy(i,i.return,a),Ws(i);break;case 27:Il(i.stateNode);case 26:case 5:gr(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}t=t.sibling}}function Ui(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ui(d,m,a),xl(4,m);break;case 1:if(Ui(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){et(l,l.return,H)}if(l=m,d=l.updateQueue,d!==null){var w=l.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)Wg(j[d],w)}catch(H){et(l,l.return,H)}}a&&b&64&&hy(m),bl(m,m.return);break;case 27:py(m);case 26:case 5:Ui(d,m,a),a&&l===null&&b&4&&fy(m),bl(m,m.return);break;case 12:Ui(d,m,a);break;case 13:Ui(d,m,a),a&&b&4&&xy(d,m);break;case 22:m.memoizedState===null&&Ui(d,m,a),bl(m,m.return);break;case 30:break;default:Ui(d,m,a)}i=i.sibling}}function Rf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Nf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function yr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ey(t,i,a,l),i=i.sibling}function Ey(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:yr(t,i,a,l),d&2048&&xl(9,i);break;case 1:yr(t,i,a,l);break;case 3:yr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(d&2048){yr(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){et(i,i.return,j)}}else yr(t,i,a,l);break;case 13:yr(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?yr(t,i,a,l):wl(t,i):m._visibility&2?yr(t,i,a,l):(m._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&Rf(b,i);break;case 24:yr(t,i,a,l),d&2048&&Nf(i.alternate,i);break;default:yr(t,i,a,l)}}function Ga(t,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,b=i,w=a,j=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:Ga(m,b,w,j,d),xl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Ga(m,b,w,j,d):wl(m,b):(Z._visibility|=2,Ga(m,b,w,j,d)),d&&H&2048&&Rf(b.alternate,b);break;case 24:Ga(m,b,w,j,d),d&&H&2048&&Nf(b.alternate,b);break;default:Ga(m,b,w,j,d)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:wl(a,l),d&2048&&Rf(l.alternate,l);break;case 24:wl(a,l),d&2048&&Nf(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var El=8192;function $a(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 26:$a(t),t.flags&El&&t.memoizedState!==null&&Yw(Xn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var i=Xn;Xn=Mu(t.stateNode.containerInfo),$a(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=El,El=16777216,$a(t),El=i):$a(t));break;default:$a(t)}}function Sy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Ry(l,t)}Sy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Pi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,wu(t)):Tl(t);break;default:Tl(t)}}function wu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Ry(l,t)}Sy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pi(8,i,i.return),wu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wu(i));break;default:wu(i)}t=t.sibling}}function Ry(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Pi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var d=l.sibling,m=l.return;if(vy(l),l===a){Vt=null;break e}if(d!==null){d.return=m,Vt=d;break e}Vt=m}}}var uw={getCacheForType:function(t){var i=Xt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},hw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Oe=null,ze=0,Qe=0,En=null,zi=!1,Ka=!1,Cf=!1,Zr=0,dt=0,Bi=0,Zs=0,If=0,Un=0,Ya=0,Sl=null,mn=null,jf=!1,Df=0,Eu=1/0,Tu=null,qi=null,Ft=0,Fi=null,Qa=null,Xa=0,kf=0,Mf=null,Ny=null,Al=0,Of=null;function Tn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(Q.T!==null){var t=Pa;return t!==0?t:qf()}return Mr()}function Cy(){Un===0&&(Un=(ze&536870912)===0||He?Vo():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),Un}function Sn(t,i,a){(t===rt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Hi(t,ze,Un,!1)),ft(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(Zs|=a),dt===4&&Hi(t,ze,Un,!1)),vr(t))}function Iy(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||gi(t,i),d=l?mw(t,i):Lf(t,i,!0),m=l;do{if(d===0){Ka&&!l&&Hi(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!dw(a)){d=Lf(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var w=t;d=Sl;var j=w.current.memoizedState.isDehydrated;if(j&&(Wa(w,b).flags|=256),b=Lf(w,b,!1),b!==2){if(Cf&&!j){w.errorRecoveryDisabledLanes|=m,Zs|=m,d=4;break e}m=mn,mn=d,m!==null&&(mn===null?mn=m:mn.push.apply(mn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Wa(t,0),Hi(t,i,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hi(l,i,Un,!zi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Df+300-hn(),10<d)){if(Hi(l,i,Un,!zi),In(l,0,!0)!==0)break e;l.timeoutHandle=s1(jy.bind(null,l,a,mn,Tu,jf,i,Un,Zs,Ya,zi,m,2,-0,0),d);break e}jy(l,a,mn,Tu,jf,i,Un,Zs,Ya,zi,m,0,-0,0)}}break}while(!0);vr(t)}function jy(t,i,a,l,d,m,b,w,j,H,Z,te,G,Y){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:Kw},Ty(i),te=Qw(),te!==null)){t.cancelPendingCommit=te(Ly.bind(null,t,i,m,a,l,d,b,w,j,Z,1,G,Y)),Hi(t,m,b,!H);return}Ly(t,i,m,a,l,d,b,w,j)}function dw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!_n(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(t,i,a,l){i&=~If,i&=~Zs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-rn(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&vi(t,a,i)}function Su(){return(Ye&6)===0?(Rl(0),!1):!0}function Vf(){if(Oe!==null){if(Qe===0)var t=Oe.return;else t=Oe,Hr=$s=null,Zd(t),Fa=null,yl=0,t=Oe;for(;t!==null;)uy(t.alternate,t),t=t.return;Oe=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vf(),rt=t,Oe=a=Br(t.current,null),ze=i,Qe=0,En=null,zi=!1,Ka=gi(t,i),Cf=!1,Ya=Un=If=Zs=Bi=dt=0,mn=Sl=null,jf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-rn(l),m=1<<d;i|=t[d],l&=~m}return Zr=i,Kc(),a}function Dy(t,i){De=null,Q.H=du,i===ll||i===nu?(i=Qg(),Qe=3):i===$g?(i=Qg(),Qe=4):Qe=i===X0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Oe===null&&(dt=1,yu(t,Mn(i,t.current)))}function ky(){var t=Q.H;return Q.H=du,t===null?du:t}function My(){var t=Q.A;return Q.A=uw,t}function Pf(){dt=4,zi||(ze&4194048)!==ze&&Ln.current!==null||(Ka=!0),(Bi&134217727)===0&&(Zs&134217727)===0||rt===null||Hi(rt,ze,Un,!1)}function Lf(t,i,a){var l=Ye;Ye|=2;var d=ky(),m=My();(rt!==t||ze!==i)&&(Tu=null,Wa(t,i)),i=!1;var b=dt;e:do try{if(Qe!==0&&Oe!==null){var w=Oe,j=En;switch(Qe){case 8:Vf(),b=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var H=Qe;if(Qe=0,En=null,Za(t,w,j,H),a&&Ka){b=0;break e}break;default:H=Qe,Qe=0,En=null,Za(t,w,j,H)}}fw(),b=dt;break}catch(Z){Dy(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Hr=$s=null,Ye=l,Q.H=d,Q.A=m,Oe===null&&(rt=null,ze=0,Kc()),b}function fw(){for(;Oe!==null;)Oy(Oe)}function mw(t,i){var a=Ye;Ye|=2;var l=ky(),d=My();rt!==t||ze!==i?(Tu=null,Eu=hn()+500,Wa(t,i)):Ka=gi(t,i);e:do try{if(Qe!==0&&Oe!==null){i=Oe;var m=En;t:switch(Qe){case 1:Qe=0,En=null,Za(t,i,m,1);break;case 2:case 9:if(Kg(m)){Qe=0,En=null,Vy(i);break}i=function(){Qe!==2&&Qe!==9||rt!==t||(Qe=7),vr(t)},m.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Kg(m)?(Qe=0,En=null,Vy(i)):(Qe=0,En=null,Za(t,i,m,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var w=Oe;if(!b||y1(b)){Qe=0,En=null;var j=w.sibling;if(j!==null)Oe=j;else{var H=w.return;H!==null?(Oe=H,Au(H)):Oe=null}break t}}Qe=0,En=null,Za(t,i,m,5);break;case 6:Qe=0,En=null,Za(t,i,m,6);break;case 8:Vf(),dt=6;break e;default:throw Error(s(462))}}pw();break}catch(Z){Dy(t,Z)}while(!0);return Hr=$s=null,Q.H=l,Q.A=d,Ye=a,Oe!==null?0:(rt=null,ze=0,Kc(),dt)}function pw(){for(;Oe!==null&&!ko();)Oy(Oe)}function Oy(t){var i=ly(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,i===null?Au(t):Oe=i}function Vy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ny(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=ny(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Zd(i);default:uy(a,i),i=Oe=Pg(i,Zr),i=ly(a,i,Zr)}t.memoizedProps=t.pendingProps,i===null?Au(t):Oe=i}function Za(t,i,a,l){Hr=$s=null,Zd(i),Fa=null,yl=0;var d=i.return;try{if(iw(t,d,i,a,ze)){dt=1,yu(t,Mn(a,t.current)),Oe=null;return}}catch(m){if(d!==null)throw Oe=d,m;dt=1,yu(t,Mn(a,t.current)),Oe=null;return}i.flags&32768?(He||l===1?t=!0:Ka||(ze&536870912)!==0?t=!1:(zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(i,t)):Au(i)}function Au(t){var i=t;do{if((i.flags&32768)!==0){Py(i,zi);return}t=i.return;var a=aw(i.alternate,i,Zr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function Py(t,i){do{var a=ow(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function Ly(t,i,a,l,d,m,b,w,j){t.cancelPendingCommit=null;do Ru();while(Ft!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Rd,Ic(t,a,m,b,w,j),t===rt&&(Oe=rt=null,ze=0),Qa=i,Fi=t,Xa=a,kf=m,Mf=d,Ny=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_w(kr,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=W.p,W.p=2,b=Ye,Ye|=4;try{lw(t,i,a)}finally{Ye=b,W.p=d,Q.T=l}}Ft=1,Uy(),zy(),By()}}function Uy(){if(Ft===1){Ft=0;var t=Fi,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=W.p;W.p=2;var d=Ye;Ye|=4;try{by(i,t);var m=Xf,b=Rg(t.containerInfo),w=m.focusedElem,j=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&Ag(w.ownerDocument.documentElement,w)){if(j!==null&&wd(w)){var H=j.start,Z=j.end;if(Z===void 0&&(Z=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(Z,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Y=G.getSelection(),Te=w.textContent.length,xe=Math.min(j.start,Te),Je=j.end===void 0?xe:Math.min(j.end,Te);!Y.extend&&xe>Je&&(b=Je,Je=xe,xe=b);var U=Sg(w,xe),P=Sg(w,Je);if(U&&P&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var B=te.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),xe>Je?(Y.addRange(B),Y.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),Y.addRange(B))}}}}for(te=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Uu=!!Qf,Xf=Qf=null}finally{Ye=d,W.p=l,Q.T=a}}t.current=i,Ft=2}}function zy(){if(Ft===2){Ft=0;var t=Fi,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=W.p;W.p=2;var d=Ye;Ye|=4;try{yy(t,i.alternate,i)}finally{Ye=d,W.p=l,Q.T=a}}Ft=3}}function By(){if(Ft===4||Ft===3){Ft=0,Mo();var t=Fi,i=Qa,a=Xa,l=Ny;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,Qa=Fi=null,qy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(qi=null),Lo(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(mi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,d=W.p,W.p=2,Q.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{Q.T=i,W.p=d}}(Xa&3)!==0&&Ru(),vr(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Of?Al++:(Al=0,Of=t):Al=0,Rl(0)}}function qy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Ru(t){return Uy(),zy(),By(),Fy()}function Fy(){if(Ft!==5)return!1;var t=Fi,i=kf;kf=0;var a=Lo(Xa),l=Q.T,d=W.p;try{W.p=32>a?32:a,Q.T=null,a=Mf,Mf=null;var m=Fi,b=Xa;if(Ft=0,Qa=Fi=null,Xa=0,(Ye&6)!==0)throw Error(s(331));var w=Ye;if(Ye|=4,Ay(m.current),Ey(m,m.current,b,a),Ye=w,Rl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(mi,m)}catch{}return!0}finally{W.p=d,Q.T=l,qy(t,i)}}function Hy(t,i,a){i=Mn(a,i),i=ff(t.stateNode,i,2),t=ki(t,i,2),t!==null&&(ft(t,2),vr(t))}function et(t,i,a){if(t.tag===3)Hy(t,t,a);else for(;i!==null;){if(i.tag===3){Hy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qi===null||!qi.has(l))){t=Mn(a,t),a=Y0(2),l=ki(i,a,2),l!==null&&(Q0(a,l,i,t),ft(l,2),vr(l));break}}i=i.return}}function Uf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Cf=!0,d.add(a),t=gw.bind(null,t,i,a),i.then(t,t))}function gw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(ze&a)===a&&(dt===4||dt===3&&(ze&62914560)===ze&&300>hn()-Df?(Ye&2)===0&&Wa(t,0):If|=a,Ya===ze&&(Ya=0)),vr(t)}function Gy(t,i){i===0&&(i=yi()),t=ka(t,i),t!==null&&(ft(t,i),vr(t))}function yw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gy(t,a)}function vw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Gy(t,a)}function _w(t,i){return Ne(t,i)}var Nu=null,Ja=null,zf=!1,Cu=!1,Bf=!1,Js=0;function vr(t){t!==Ja&&t.next===null&&(Ja===null?Nu=Ja=t:Ja=Ja.next=t),Cu=!0,zf||(zf=!0,bw())}function Rl(t,i){if(!Bf&&Cu){Bf=!0;do for(var a=!1,l=Nu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-rn(42|t)+1)-1,m&=d&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Qy(l,m))}else m=ze,m=In(l,l===rt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||gi(l,m)||(a=!0,Qy(l,m));l=l.next}while(a);Bf=!1}}function xw(){$y()}function $y(){Cu=zf=!1;var t=0;Js!==0&&(Cw()&&(t=Js),Js=0);for(var i=hn(),a=null,l=Nu;l!==null;){var d=l.next,m=Ky(l,i);m===0?(l.next=null,a===null?Nu=d:a.next=d,d===null&&(Ja=a)):(a=l,(t!==0||(m&3)!==0)&&(Cu=!0)),l=d}Rl(t)}function Ky(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-rn(m),w=1<<b,j=d[b];j===-1?((w&a)===0||(w&l)!==0)&&(d[b]=ga(w,i)):j<=i&&(t.expiredLanes|=w),m&=~w}if(i=rt,a=ze,a=In(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||gi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&un(l),Lo(a)){case 2:case 8:a=kt;break;case 32:a=kr;break;case 268435456:a=Oo;break;default:a=kr}return l=Yy.bind(null,t),a=Ne(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&un(l),t.callbackPriority=2,t.callbackNode=null,2}function Yy(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ru()&&t.callbackNode!==a)return null;var l=ze;return l=In(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,i),Ky(t,hn()),t.callbackNode!=null&&t.callbackNode===a?Yy.bind(null,t):null)}function Qy(t,i){if(Ru())return null;Iy(t,i,!0)}function bw(){jw(function(){(Ye&6)!==0?Ne(Rt,xw):$y()})}function qf(){return Js===0&&(Js=Vo()),Js}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gn(""+t)}function Wy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ww(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=Xy((d[Bt]||null).action),b=l.submitter;b&&(i=(i=b[Bt]||null)?Xy(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var w=new Ds("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var j=b?Wy(d,b):new FormData(d);lf(a,{pending:!0,data:j,method:d.method,action:m},null,j)}}else typeof m=="function"&&(w.preventDefault(),j=b?Wy(d,b):new FormData(d),lf(a,{pending:!0,data:j,method:d.method,action:m},m,j))},currentTarget:d}]})}}for(var Ff=0;Ff<Ad.length;Ff++){var Hf=Ad[Ff],Ew=Hf.toLowerCase(),Tw=Hf[0].toUpperCase()+Hf.slice(1);Qn(Ew,"on"+Tw)}Qn(Ig,"onAnimationEnd"),Qn(jg,"onAnimationIteration"),Qn(Dg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Bb,"onTransitionRun"),Qn(qb,"onTransitionStart"),Qn(Fb,"onTransitionCancel"),Qn(kg,"onTransitionEnd"),ur("onMouseEnter",["mouseout","mouseover"]),ur("onMouseLeave",["mouseout","mouseover"]),ur("onPointerEnter",["pointerout","pointerover"]),ur("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Zy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var w=l[b],j=w.instance,H=w.currentTarget;if(w=w.listener,j!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=H;try{m(d)}catch(Z){gu(Z)}d.currentTarget=null,m=j}else for(b=0;b<l.length;b++){if(w=l[b],j=w.instance,H=w.currentTarget,w=w.listener,j!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=H;try{m(d)}catch(Z){gu(Z)}d.currentTarget=null,m=j}}}}function Ve(t,i){var a=i[_s];a===void 0&&(a=i[_s]=new Set);var l=t+"__bubble";a.has(l)||(Jy(i,t,2,!1),a.add(l))}function Gf(t,i,a){var l=0;i&&(l|=4),Jy(a,t,l,i)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Iu]){t[Iu]=!0,jc.forEach(function(a){a!=="selectionchange"&&(Sw.has(a)||Gf(a,!1,t),Gf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Iu]||(i[Iu]=!0,Gf("selectionchange",!1,i))}}function Jy(t,i,a,l){switch(E1(i)){case 2:var d=Zw;break;case 8:d=Jw;break;default:d=am}a=d.bind(null,i,a,t),d=void 0,!Ur||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Kf(t,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=l.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=or(w),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){l=m=b;continue e}w=w.parentNode}}l=l.return}Cs(function(){var H=m,Z=Go(a),te=[];e:{var G=Mg.get(t);if(G!==void 0){var Y=Ds,Te=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":Y=Ca;break;case"focusin":Te="focus",Y=Aa;break;case"focusout":Te="blur",Y=Aa;break;case"beforeblur":case"afterblur":Y=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ci;break;case Ig:case jg:case Dg:Y=Ko;break;case kg:Y=v;break;case"scroll":case"scrollend":Y=Ms;break;case"wheel":Y=S;break;case"copy":case"cut":case"paste":Y=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xo;break;case"toggle":case"beforetoggle":Y=X}var xe=(i&4)!==0,Je=!xe&&(t==="scroll"||t==="scrollend"),U=xe?G!==null?G+"Capture":null:G;xe=[];for(var P=H,B;P!==null;){var J=P;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=Ri(P,U),J!=null&&xe.push(Cl(P,J,B))),Je)break;P=P.return}0<xe.length&&(G=new Y(G,Te,null,a,Z),te.push({event:G,listeners:xe}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==Ho&&(Te=a.relatedTarget||a.fromElement)&&(or(Te)||Te[Or]))break e;if((Y||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(Te=a.relatedTarget||a.toElement,Y=H,Te=Te?or(Te):null,Te!==null&&(Je=c(Te),xe=Te.tag,Te!==Je||xe!==5&&xe!==27&&xe!==6)&&(Te=null)):(Y=null,Te=H),Y!==Te)){if(xe=Ps,J="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Xo,J="onPointerLeave",U="onPointerEnter",P="pointer"),Je=Y==null?G:bi(Y),B=Te==null?G:bi(Te),G=new xe(J,P+"leave",Y,a,Z),G.target=Je,G.relatedTarget=B,J=null,or(Z)===H&&(xe=new xe(U,P+"enter",Te,a,Z),xe.target=B,xe.relatedTarget=Je,J=xe),Je=J,Y&&Te)t:{for(xe=Y,U=Te,P=0,B=xe;B;B=eo(B))P++;for(B=0,J=U;J;J=eo(J))B++;for(;0<P-B;)xe=eo(xe),P--;for(;0<B-P;)U=eo(U),B--;for(;P--;){if(xe===U||U!==null&&xe===U.alternate)break t;xe=eo(xe),U=eo(U)}xe=null}else xe=null;Y!==null&&e1(te,G,Y,xe,!1),Te!==null&&Je!==null&&e1(te,Je,Te,xe,!0)}}e:{if(G=H?bi(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var pe=_g;else if(yg(G))if(xg)pe=Lb;else{pe=Vb;var ke=Ob}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ea(H.elementType)&&(pe=_g):pe=Pb;if(pe&&(pe=pe(t,H))){vg(te,pe,a,Z);break e}ke&&ke(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Bo(G,"number",G.value)}switch(ke=H?bi(H):window,t){case"focusin":(yg(ke)||ke.contentEditable==="true")&&(Ia=ke,Ed=H,tl=null);break;case"focusout":tl=Ed=Ia=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Ng(te,a,Z);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":Ng(te,a,Z)}var ye;if(Ce)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Yn?$n(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(gt&&a.locale!=="ko"&&(Yn||we!=="onCompositionStart"?we==="onCompositionEnd"&&Yn&&(ye=Pc()):(kn=Z,nt="value"in kn?kn.value:kn.textContent,Yn=!0)),ke=ju(H,we),0<ke.length&&(we=new Qo(we,t,null,a,Z),te.push({event:we,listeners:ke}),ye?we.data=ye:(ye=Kn(a),ye!==null&&(we.data=ye)))),(ye=Ke?Wo(t,a):Db(t,a))&&(we=ju(H,"onBeforeInput"),0<we.length&&(ke=new Qo("onBeforeInput","beforeinput",null,a,Z),te.push({event:ke,listeners:we}),ke.data=ye)),ww(te,t,H,a,Z)}Zy(te,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ju(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ri(t,a),d!=null&&l.unshift(Cl(t,d,m)),d=Ri(t,i),d!=null&&l.push(Cl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e1(t,i,a,l,d){for(var m=i._reactName,b=[];a!==null&&a!==l;){var w=a,j=w.alternate,H=w.stateNode;if(w=w.tag,j!==null&&j===l)break;w!==5&&w!==26&&w!==27||H===null||(j=H,d?(H=Ri(a,m),H!=null&&b.unshift(Cl(a,H,j))):d||(H=Ri(a,m),H!=null&&b.push(Cl(a,H,j)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var Aw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function t1(t){return(typeof t=="string"?t:""+t).replace(Aw,`
`).replace(Rw,"")}function n1(t,i){return i=t1(i),t1(t)===i}function Du(){}function Ze(t,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(t,""+l);break;case"className":Ts(t,"class",l);break;case"tabIndex":Ts(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(t,a,l);break;case"style":Fo(t,l,m);break;case"data":if(i!=="object"){Ts(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",d.name,d,null),Ze(t,i,"formEncType",d.formEncType,d,null),Ze(t,i,"formMethod",d.formMethod,d,null),Ze(t,i,"formTarget",d.formTarget,d,null)):(Ze(t,i,"encType",d.encType,d,null),Ze(t,i,"method",d.method,d,null),Ze(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Du);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Gn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Es(t,"popover",l);break;case"xlinkActuate":jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mc.get(a)||a,Es(t,a,l))}}function Yf(t,i,a,l,d,m){switch(a){case"style":Fo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=t[Bt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Es(t,a,l)}}}function Ht(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,m,b,a,null)}}d&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var w=m=b=d=null,j=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":b=Z;break;case"checked":j=Z;break;case"defaultChecked":H=Z;break;case"value":m=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Z,a,null)}}zo(t,m,w,j,H,b,d,!1),Ti(t);return;case"select":Ve("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Ze(t,i,d,w,a,null)}i=m,a=b,t.multiple=!!l,i!=null?Si(t,!!l,i,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ze(t,i,b,w,a,null)}kc(t,l,d,m),Ti(t);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,j,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ve(Nl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(Ea(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Yf(t,i,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Ze(t,i,w,l,a,null))}function Nw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,w=null,j=null,H=null,Z=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":j=te;default:l.hasOwnProperty(Y)||Ze(t,i,Y,null,l,te)}}for(var G in l){var Y=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":m=Y;break;case"name":d=Y;break;case"checked":H=Y;break;case"defaultChecked":Z=Y;break;case"value":b=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==te&&Ze(t,i,G,Y,l,te)}}Uo(t,b,w,j,H,Z,m,d);return;case"select":Y=b=w=G=null;for(m in a)if(j=a[m],a.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":Y=j;default:l.hasOwnProperty(m)||Ze(t,i,m,null,l,j)}for(d in l)if(m=l[d],j=a[d],l.hasOwnProperty(d)&&(m!=null||j!=null))switch(d){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==j&&Ze(t,i,d,m,l,j)}i=w,a=b,l=Y,G!=null?Si(t,!!a,G,!1):!!l!=!!a&&(i!=null?Si(t,!!a,i,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(t,i,w,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":G=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Ze(t,i,b,d,l,m)}Dc(t,G,Y);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ze(t,i,Te,null,l,G)}for(j in l)if(G=l[j],Y=a[j],l.hasOwnProperty(j)&&G!==Y&&(G!=null||Y!=null))switch(j){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,i,j,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)G=a[xe],a.hasOwnProperty(xe)&&G!=null&&!l.hasOwnProperty(xe)&&Ze(t,i,xe,null,l,G);for(H in l)if(G=l[H],Y=a[H],l.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ze(t,i,H,G,l,Y)}return;default:if(Ea(i)){for(var Je in a)G=a[Je],a.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&Yf(t,i,Je,void 0,l,G);for(Z in l)G=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||G===Y||G===void 0&&Y===void 0||Yf(t,i,Z,G,l,Y);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,G);for(te in l)G=l[te],Y=a[te],!l.hasOwnProperty(te)||G===Y||G==null&&Y==null||Ze(t,i,te,G,l,Y)}var Qf=null,Xf=null;function ku(t){return t.nodeType===9?t:t.ownerDocument}function r1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zf=null;function Cw(){var t=window.event;return t&&t.type==="popstate"?t===Zf?!1:(Zf=t,!0):(Zf=null,!1)}var s1=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(t){return a1.resolve(null).then(t).catch(Dw)}:s1;function Dw(t){setTimeout(function(){throw t})}function Gi(t){return t==="head"}function o1(t,i){var a=i,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Il(b.documentElement),a&2&&Il(b.body),a&4)for(a=b.head,Il(a),b=a.firstChild;b;){var w=b.nextSibling,j=b.nodeName;b[xi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(d===0){t.removeChild(m),Ll(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Ll(i)}function Jf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jf(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Mw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ow(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var tm=null;function l1(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function c1(t,i,a){switch(i=ku(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var zn=new Map,u1=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jr=W.d;W.d={f:Vw,r:Pw,D:Lw,C:Uw,L:zw,m:Bw,X:Fw,S:qw,M:Hw};function Vw(){var t=Jr.f(),i=Su();return t||i}function Pw(t){var i=lr(t);i!==null&&i.tag===5&&i.type==="form"?I0(i):Jr.r(t)}var to=typeof document>"u"?null:document;function h1(t,i,a){var l=to;if(l&&typeof i=="string"&&i){var d=Mt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),u1.has(d)||(u1.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Ht(i,"link",t),pt(i),l.head.appendChild(i)))}}function Lw(t){Jr.D(t),h1("dns-prefetch",t,null)}function Uw(t,i){Jr.C(t,i),h1("preconnect",t,i)}function zw(t,i,a){Jr.L(t,i,a);var l=to;if(l&&t&&i){var d='link[rel="preload"][as="'+Mt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Mt(a.imageSizes)+'"]')):d+='[href="'+Mt(t)+'"]';var m=d;switch(i){case"style":m=no(t);break;case"script":m=ro(t)}zn.has(m)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(jl(m))||i==="script"&&l.querySelector(Dl(m))||(i=l.createElement("link"),Ht(i,"link",t),pt(i),l.head.appendChild(i)))}}function Bw(t,i){Jr.m(t,i);var a=to;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ro(t)}if(!zn.has(m)&&(t=_({rel:"modulepreload",href:t},i),zn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(m)))return}l=a.createElement("link"),Ht(l,"link",t),pt(l),a.head.appendChild(l)}}}function qw(t,i,a){Jr.S(t,i,a);var l=to;if(l&&t){var d=wi(l).hoistableStyles,m=no(t);i=i||"default";var b=d.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(jl(m)))w.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(m))&&nm(t,a);var j=b=l.createElement("link");pt(j),Ht(j,"link",t),j._p=new Promise(function(H,Z){j.onload=H,j.onerror=Z}),j.addEventListener("load",function(){w.loading|=1}),j.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ou(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(m,b)}}}function Fw(t,i){Jr.X(t,i);var a=to;if(a&&t){var l=wi(a).hoistableScripts,d=ro(t),m=l.get(d);m||(m=a.querySelector(Dl(d)),m||(t=_({src:t,async:!0},i),(i=zn.get(d))&&rm(t,i),m=a.createElement("script"),pt(m),Ht(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Hw(t,i){Jr.M(t,i);var a=to;if(a&&t){var l=wi(a).hoistableScripts,d=ro(t),m=l.get(d);m||(m=a.querySelector(Dl(d)),m||(t=_({src:t,async:!0,type:"module"},i),(i=zn.get(d))&&rm(t,i),m=a.createElement("script"),pt(m),Ht(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function d1(t,i,a,l){var d=(d=be.current)?Mu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=wi(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var m=wi(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(jl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),m||Gw(d,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=wi(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+Mt(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function f1(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Gw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),pt(i),t.head.appendChild(i))}function ro(t){return'[src="'+Mt(t)+'"]'}function Dl(t){return"script[async]"+t}function m1(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Ht(l,"style",d),Ou(l,a.precedence,t),i.instance=l;case"stylesheet":d=no(a.href);var m=t.querySelector(jl(d));if(m)return i.state.loading|=4,i.instance=m,pt(m),m;l=f1(a),(d=zn.get(d))&&nm(l,d),m=(t.ownerDocument||t).createElement("link"),pt(m);var b=m;return b._p=new Promise(function(w,j){b.onload=w,b.onerror=j}),Ht(m,"link",l),i.state.loading|=4,Ou(m,a.precedence,t),i.instance=m;case"script":return m=ro(a.src),(d=t.querySelector(Dl(m)))?(i.instance=d,pt(d),d):(l=a,(d=zn.get(m))&&(l=_({},a),rm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),pt(d),Ht(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ou(l,a.precedence,t));return i.instance}function Ou(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===i)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Vu=null;function p1(t,i,a){if(Vu===null){var l=new Map,d=Vu=new Map;d.set(a,l)}else d=Vu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[xi]||m[mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=t+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function g1(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function $w(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function Kw(){}function Yw(t,i,a){if(kl===null)throw Error(s(475));var l=kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=no(a.href),m=t.querySelector(jl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pu.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,pt(m);return}m=t.ownerDocument||t,a=f1(a),(d=zn.get(d))&&nm(a,d),m=m.createElement("link"),pt(m);var b=m;b._p=new Promise(function(w,j){b.onload=w,b.onerror=j}),Ht(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Pu.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Qw(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&im(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&im(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pu(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function im(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,i.forEach(Xw,t),Lu=null,Pu.call(t))}function Xw(t,i){if(!(i.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=i.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Pu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:se,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Ww(t,i,a,l,d,m,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function v1(t,i,a,l,d,m,b,w,j,H,Z,te){return t=new Ww(t,i,a,b,w,j,H,te),i=1,m===!0&&(i|=24),m=xn(3,null,null,i),t.current=m,m.stateNode=t,i=Ld(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},qd(m),t}function _1(t){return t?(t=Ma,t):Ma}function x1(t,i,a,l,d,m){d=_1(d),l.context===null?l.context=d:l.pendingContext=d,l=Di(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ki(t,l,i),a!==null&&(Sn(a,t,i),ul(a,t,i))}function b1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sm(t,i){b1(t,i),(t=t.alternate)&&b1(t,i)}function w1(t){if(t.tag===13){var i=ka(t,67108864);i!==null&&Sn(i,t,67108864),sm(t,67108864)}}var Uu=!0;function Zw(t,i,a,l){var d=Q.T;Q.T=null;var m=W.p;try{W.p=2,am(t,i,a,l)}finally{W.p=m,Q.T=d}}function Jw(t,i,a,l){var d=Q.T;Q.T=null;var m=W.p;try{W.p=8,am(t,i,a,l)}finally{W.p=m,Q.T=d}}function am(t,i,a,l){if(Uu){var d=om(l);if(d===null)Kf(t,i,l,zu,a),T1(t,l);else if(tE(d,t,i,a,l))l.stopPropagation();else if(T1(t,l),i&4&&-1<eE.indexOf(t)){for(;d!==null;){var m=lr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=qn(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var j=1<<31-rn(b);w.entanglements[1]|=j,b&=~j}vr(m),(Ye&6)===0&&(Eu=hn()+500,Rl(0))}}break;case 13:w=ka(m,2),w!==null&&Sn(w,m,2),Su(),sm(m,2)}if(m=om(l),m===null&&Kf(t,i,l,zu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Kf(t,i,l,null,a)}}function om(t){return t=Go(t),lm(t)}var zu=null;function lm(t){if(zu=null,t=or(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zu=t,null}function E1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case Rt:return 2;case kt:return 8;case kr:case dd:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var cm=!1,$i=null,Ki=null,Yi=null,Ol=new Map,Vl=new Map,Qi=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T1(t,i){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Pl(t,i,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=lr(i),i!==null&&w1(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function tE(t,i,a,l,d){switch(i){case"focusin":return $i=Pl($i,t,i,a,l,d),!0;case"dragenter":return Ki=Pl(Ki,t,i,a,l,d),!0;case"mouseover":return Yi=Pl(Yi,t,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ol.set(m,Pl(Ol.get(m)||null,t,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Vl.set(m,Pl(Vl.get(m)||null,t,i,a,l,d)),!0}return!1}function S1(t){var i=or(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,pd(t.priority,function(){if(a.tag===13){var l=Tn();l=Po(l);var d=ka(a,l);d!==null&&Sn(d,a,l),sm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=lr(a),i!==null&&w1(i),t.blockedOn=a,!1;i.shift()}return!0}function A1(t,i,a){Bu(t)&&a.delete(i)}function nE(){cm=!1,$i!==null&&Bu($i)&&($i=null),Ki!==null&&Bu(Ki)&&(Ki=null),Yi!==null&&Bu(Yi)&&(Yi=null),Ol.forEach(A1),Vl.forEach(A1)}function qu(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nE)))}var Fu=null;function R1(t){Fu!==t&&(Fu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var m=lr(a);m!==null&&(t.splice(i,3),i-=3,lf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ll(t){function i(j){return qu(j,t)}$i!==null&&qu($i,t),Ki!==null&&qu(Ki,t),Yi!==null&&qu(Yi,t),Ol.forEach(i),Vl.forEach(i);for(var a=0;a<Qi.length;a++){var l=Qi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)S1(a),a.blockedOn===null&&Qi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[Bt]||null;if(typeof m=="function")b||R1(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Bt]||null)w=b.formAction;else if(lm(d)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),R1(a)}}}function um(t){this._internalRoot=t}Hu.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();x1(a,l,t,i,null,null)},Hu.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;x1(t.current,2,null,t,null,null),Su(),i[Or]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qi.length&&i!==0&&i<Qi[a].priority;a++);Qi.splice(a,0,t),a===0&&S1(t)}};var N1=e.version;if(N1!=="19.1.1")throw Error(s(527,N1,"19.1.1"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var rE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{mi=Gu.inject(rE),Yt=Gu}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=H0,m=G0,b=$0,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=v1(t,1,!1,null,null,a,l,d,m,b,w,null),t[Or]=i.current,$f(t),new um(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",m=H0,b=G0,w=$0,j=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=v1(t,1,!0,i,a??null,l,d,m,b,w,j,H),i.context=_1(null),a=i.current,l=Tn(),l=Po(l),d=Di(l),d.callback=null,ki(a,d,l),a=l,i.current.lanes=a,ft(i,a),vr(i),t[Or]=i.current,$f(t),new Hu(i)},zl.version="19.1.1",zl}var L1;function fE(){if(L1)return fm.exports;L1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=dE(),fm.exports}var mE=fE();const pE=I2(mE);/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U1="popstate";function gE(r={}){function e(o,c){let{pathname:f="/",search:p="",hash:g=""}=ua(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),km("",{pathname:f,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:tc(c))}function s(o,c){rr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return vE(e,n,s,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yE(){return Math.random().toString(36).substring(2,10)}function z1(r,e){return{usr:r.state,key:r.key,idx:e}}function km(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ua(e):e,state:n,key:e&&e.key||s||yE()}}function tc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ua(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function vE(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,p="POP",g=null,y=_();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function _(){return(f.state||{idx:null}).idx}function E(){p="POP";let L=_(),$=L==null?null:L-y;y=L,g&&g({action:p,location:K.location,delta:$})}function A(L,$){p="PUSH";let q=km(K.location,L,$);n&&n(q,L),y=_()+1;let se=z1(q,y),ae=K.createHref(q);try{f.pushState(se,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ae)}c&&g&&g({action:p,location:K.location,delta:1})}function V(L,$){p="REPLACE";let q=km(K.location,L,$);n&&n(q,L),y=_();let se=z1(q,y),ae=K.createHref(q);f.replaceState(se,"",ae),c&&g&&g({action:p,location:K.location,delta:0})}function z(L){return _E(L)}let K={get action(){return p},get location(){return r(o,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(U1,E),g=L,()=>{o.removeEventListener(U1,E),g=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let $=z(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:V,go(L){return f.go(L)}};return K}function _E(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:tc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function j2(r,e,n="/"){return xE(r,e,n,!1)}function xE(r,e,n,s){let o=typeof e=="string"?ua(e):e,c=ai(o.pathname||"/",n);if(c==null)return null;let f=D2(r);bE(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=DE(c);p=IE(f[g],y,s)}return p}function D2(r,e=[],n=[],s="",o=!1){let c=(f,p,g=o,y)=>{let _={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&g)return;ct(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let E=ii([s,_.relativePath]),A=n.concat(_);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),D2(f.children,e,A,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:NE(E,f.index),routesMeta:A})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))c(f,p);else for(let g of k2(f.path))c(f,p,!0,g)}),e}function k2(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=k2(s.join("/")),p=[];return p.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function bE(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:CE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wE=/^:[\w-]+$/,EE=3,TE=2,SE=1,AE=10,RE=-2,B1=r=>r==="*";function NE(r,e){let n=r.split("/"),s=n.length;return n.some(B1)&&(s+=RE),e&&(s+=TE),n.filter(o=>!B1(o)).reduce((o,c)=>o+(wE.test(c)?EE:c===""?SE:AE),s)}function CE(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function IE(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,_=c==="/"?e:e.slice(c.length)||"/",E=dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),A=g.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:ii([c,E.pathname]),pathnameBase:VE(ii([c,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(c=ii([c,E.pathnameBase]))}return f}function dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jE(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:_,isOptional:E},A)=>{if(_==="*"){let z=p[A]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const V=p[A];return E&&!V?y[_]=void 0:y[_]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function jE(r,e=!1,n=!0){rr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ai(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function kE(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ua(r):r;return{pathname:n?n.startsWith("/")?n:ME(n,e):e,search:PE(s),hash:LE(o)}}function ME(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M2(r){let e=OE(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function O2(r,e,n,s=!1){let o;typeof r=="string"?o=ua(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,p;if(f==null)p=n;else{let E=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),E-=1;o.pathname=A.join("/")}p=E>=0?e[E]:"/"}let g=kE(o,p),y=f&&f!=="/"&&f.endsWith("/"),_=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var ii=r=>r.join("/").replace(/\/\/+/g,"/"),VE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,LE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function UE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var V2=["POST","PUT","PATCH","DELETE"];new Set(V2);var zE=["GET",...V2];new Set(zE);var Eo=O.createContext(null);Eo.displayName="DataRouter";var zh=O.createContext(null);zh.displayName="DataRouterState";O.createContext(!1);var P2=O.createContext({isTransitioning:!1});P2.displayName="ViewTransition";var BE=O.createContext(new Map);BE.displayName="Fetchers";var qE=O.createContext(null);qE.displayName="Await";var Cr=O.createContext(null);Cr.displayName="Navigation";var fc=O.createContext(null);fc.displayName="Location";var di=O.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var up=O.createContext(null);up.displayName="RouteError";function FE(r,{relative:e}={}){ct(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Cr),{hash:o,pathname:c,search:f}=pc(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ii([n,c])),s.createHref({pathname:p,search:f,hash:o})}function mc(){return O.useContext(fc)!=null}function fi(){return ct(mc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(fc).location}var L2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U2(r){O.useContext(Cr).static||O.useLayoutEffect(r)}function HE(){let{isDataRoute:r}=O.useContext(di);return r?rT():GE()}function GE(){ct(mc(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(Eo),{basename:e,navigator:n}=O.useContext(Cr),{matches:s}=O.useContext(di),{pathname:o}=fi(),c=JSON.stringify(M2(s)),f=O.useRef(!1);return U2(()=>{f.current=!0}),O.useCallback((g,y={})=>{if(rr(f.current,L2),!f.current)return;if(typeof g=="number"){n.go(g);return}let _=O2(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ii([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,c,o,r])}O.createContext(null);function pc(r,{relative:e}={}){let{matches:n}=O.useContext(di),{pathname:s}=fi(),o=JSON.stringify(M2(n));return O.useMemo(()=>O2(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $E(r,e){return z2(r,e)}function z2(r,e,n,s,o){ct(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(Cr),{matches:f}=O.useContext(di),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",E=p&&p.route;{let q=E&&E.path||"";B2(y,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let A=fi(),V;if(e){let q=typeof e=="string"?ua(e):e;ct(_==="/"||q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),V=q}else V=A;let z=V.pathname||"/",K=z;if(_!=="/"){let q=_.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=j2(r,{pathname:K});rr(E||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),rr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=WE(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:ii([_,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:ii([_,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),f,n,s,o);return e&&$?O.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},$):$}function KE(){let r=nT(),e=UE(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,f)}var YE=O.createElement(KE,null),QE=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?O.createElement(di.Provider,{value:this.props.routeContext},O.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XE({routeContext:r,match:e,children:n}){let s=O.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(di.Provider,{value:r},n)}function WE(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,f=n?.errors;if(f!=null){let y=c.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:E,errors:A}=n,V=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||V){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,_,E)=>{let A,V=!1,z=null,K=null;n&&(A=f&&_.route.id?f[_.route.id]:void 0,z=_.route.errorElement||YE,p&&(g<0&&E===0?(B2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,K=null):g===E&&(V=!0,K=_.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,E+1)),$=()=>{let q;return A?q=z:V?q=K:_.route.Component?q=O.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=y,O.createElement(XE,{match:_,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?O.createElement(QE,{location:n.location,revalidation:n.revalidation,component:z,error:A,children:$(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):$()},null)}function hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(r){let e=O.useContext(Eo);return ct(e,hp(r)),e}function JE(r){let e=O.useContext(zh);return ct(e,hp(r)),e}function eT(r){let e=O.useContext(di);return ct(e,hp(r)),e}function dp(r){let e=eT(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function tT(){return dp("useRouteId")}function nT(){let r=O.useContext(up),e=JE("useRouteError"),n=dp("useRouteError");return r!==void 0?r:e.errors?.[n]}function rT(){let{router:r}=ZE("useNavigate"),e=dp("useNavigate"),n=O.useRef(!1);return U2(()=>{n.current=!0}),O.useCallback(async(o,c={})=>{rr(n.current,L2),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var q1={};function B2(r,e,n){!e&&!q1[r]&&(q1[r]=!0,rr(!1,n))}O.memo(iT);function iT({routes:r,future:e,state:n,unstable_onError:s}){return z2(r,void 0,n,s,e)}function ei(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sT({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){ct(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof n=="string"&&(n=ua(n));let{pathname:g="/",search:y="",hash:_="",state:E=null,key:A="default"}=n,V=O.useMemo(()=>{let z=ai(g,f);return z==null?null:{location:{pathname:z,search:y,hash:_,state:E,key:A},navigationType:s}},[f,g,y,_,E,A,s]);return rr(V!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:O.createElement(Cr.Provider,{value:p},O.createElement(fc.Provider,{children:e,value:V}))}function aT({children:r,location:e}){return $E(Mm(r),e)}function Mm(r,e=[]){let n=[];return O.Children.forEach(r,(s,o)=>{if(!O.isValidElement(s))return;let c=[...e,o];if(s.type===O.Fragment){n.push.apply(n,Mm(s.props.children,c));return}ct(s.type===ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Mm(s.props.children,c)),n.push(f)}),n}var eh="get",th="application/x-www-form-urlencoded";function Bh(r){return r!=null&&typeof r.tagName=="string"}function oT(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function lT(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function cT(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function uT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hT(r,e){return r.button===0&&(!e||e==="_self")&&!uT(r)}var $u=null;function dT(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var fT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!fT.has(r)?(rr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):r}function mT(r,e){let n,s,o,c,f;if(lT(r)){let p=r.getAttribute("action");s=p?ai(p,e):null,n=r.getAttribute("method")||eh,o=vm(r.getAttribute("enctype"))||th,c=new FormData(r)}else if(oT(r)||cT(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?ai(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||eh,o=vm(r.getAttribute("formenctype"))||vm(p.getAttribute("enctype"))||th,c=new FormData(p,r),!dT()){let{name:y,type:_,value:E}=r;if(_==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,E)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,s=null,o=th,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pT(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ai(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vT(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await gT(c,n);return f.links?f.links():[]}return[]}));return wT(s.flat(1).filter(yT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function F1(r,e,n,s,o,c){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function _T(r,e,{includeHydrateFallback:n}={}){return xT(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function xT(r){return[...new Set(r)]}function bT(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function wT(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(bT(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function q2(){let r=O.useContext(Eo);return fp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ET(){let r=O.useContext(zh);return fp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mp=O.createContext(void 0);mp.displayName="FrameworkContext";function F2(){let r=O.useContext(mp);return fp(r,"You must render this element inside a <HydratedRouter> element"),r}function TT(r,e){let n=O.useContext(mp),[s,o]=O.useState(!1),[c,f]=O.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,A=O.useRef(null);O.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=$=>{$.forEach(q=>{f(q.isIntersecting)})},L=new IntersectionObserver(K,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),O.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let V=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[c,A,{}]:[c,A,{onFocus:Bl(p,V),onBlur:Bl(g,z),onMouseEnter:Bl(y,V),onMouseLeave:Bl(_,z),onTouchStart:Bl(E,V)}]:[!1,A,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ST({page:r,...e}){let{router:n}=q2(),s=O.useMemo(()=>j2(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?O.createElement(RT,{page:r,matches:s,...e}):null}function AT(r){let{manifest:e,routeModules:n}=F2(),[s,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return vT(r,e,n).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,n]),s}function RT({page:r,matches:e,...n}){let s=fi(),{manifest:o,routeModules:c}=F2(),{basename:f}=q2(),{loaderData:p,matches:g}=ET(),y=O.useMemo(()=>F1(r,e,g,o,s,"data"),[r,e,g,o,s]),_=O.useMemo(()=>F1(r,e,g,o,s,"assets"),[r,e,g,o,s]),E=O.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,K=!1;if(e.forEach($=>{let q=o.routes[$.route.id];!q||!q.hasLoader||(!y.some(se=>se.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||q.hasClientLoader?K=!0:z.add($.route.id))}),z.size===0)return[];let L=pT(r,f,"data");return K&&z.size>0&&L.searchParams.set("_routes",e.filter($=>z.has($.route.id)).map($=>$.route.id).join(",")),[L.pathname+L.search]},[f,p,s,o,y,e,r,c]),A=O.useMemo(()=>_T(_,o),[_,o]),V=AT(_);return O.createElement(O.Fragment,null,E.map(z=>O.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),A.map(z=>O.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),V.map(({key:z,link:K})=>O.createElement("link",{key:z,nonce:n.nonce,...K})))}function NT(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H2&&(window.__reactRouterVersion="7.9.2")}catch{}function CT({basename:r,children:e,window:n}){let s=O.useRef();s.current==null&&(s.current=gE({window:n,v5Compat:!0}));let o=s.current,[c,f]=O.useState({action:o.action,location:o.location}),p=O.useCallback(g=>{O.startTransition(()=>f(g))},[f]);return O.useLayoutEffect(()=>o.listen(p),[o,p]),O.createElement(sT,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var G2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:p,target:g,to:y,preventScrollReset:_,viewTransition:E,...A},V){let{basename:z}=O.useContext(Cr),K=typeof y=="string"&&G2.test(y),L,$=!1;if(typeof y=="string"&&K&&(L=y,H2))try{let T=new URL(window.location.href),C=y.startsWith("//")?new URL(T.protocol+y):new URL(y),D=ai(C.pathname,z);C.origin===T.origin&&D!=null?y=D+C.search+C.hash:$=!0}catch{rr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=FE(y,{relative:o}),[se,ae,ie]=TT(s,A),ue=kT(y,{replace:f,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:E});function I(T){e&&e(T),T.defaultPrevented||ue(T)}let R=O.createElement("a",{...A,...ie,href:L||q,onClick:$||c?e:I,ref:NT(V,ae),target:g,"data-discover":!K&&n==="render"?"true":void 0});return se&&!K?O.createElement(O.Fragment,null,R,O.createElement(ST,{page:q})):R});jt.displayName="Link";var IT=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:p,children:g,...y},_){let E=pc(f,{relative:y.relative}),A=fi(),V=O.useContext(zh),{navigator:z,basename:K}=O.useContext(Cr),L=V!=null&&LT(E)&&p===!0,$=z.encodeLocation?z.encodeLocation(E).pathname:E.pathname,q=A.pathname,se=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(q=q.toLowerCase(),se=se?se.toLowerCase():null,$=$.toLowerCase()),se&&K&&(se=ai(se,K)||se);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=q===$||!o&&q.startsWith($)&&q.charAt(ae)==="/",ue=se!=null&&(se===$||!o&&se.startsWith($)&&se.charAt($.length)==="/"),I={isActive:ie,isPending:ue,isTransitioning:L},R=ie?e:void 0,T;typeof s=="function"?T=s(I):T=[s,ie?"active":null,ue?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let C=typeof c=="function"?c(I):c;return O.createElement(jt,{...y,"aria-current":R,className:T,ref:_,style:C,to:f,viewTransition:p},typeof g=="function"?g(I):g)});IT.displayName="NavLink";var jT=O.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:f=eh,action:p,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:E,...A},V)=>{let z=VT(),K=PT(p,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&G2.test(p),q=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let ae=se.nativeEvent.submitter,ie=ae?.getAttribute("formmethod")||f;z(ae||se.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:c,relative:y,preventScrollReset:_,viewTransition:E})};return O.createElement("form",{ref:V,method:L,action:K,onSubmit:s?g:q,...A,"data-discover":!$&&r==="render"?"true":void 0})});jT.displayName="Form";function DT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $2(r){let e=O.useContext(Eo);return ct(e,DT(r)),e}function kT(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let p=HE(),g=fi(),y=pc(r,{relative:c});return O.useCallback(_=>{if(hT(_,e)){_.preventDefault();let E=n!==void 0?n:tc(g)===tc(y);p(r,{replace:E,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[g,p,y,n,s,e,r,o,c,f])}var MT=0,OT=()=>`__${String(++MT)}__`;function VT(){let{router:r}=$2("useSubmit"),{basename:e}=O.useContext(Cr),n=tT();return O.useCallback(async(s,o={})=>{let{action:c,method:f,encType:p,formData:g,body:y}=mT(s,e);if(o.navigate===!1){let _=o.fetcherKey||OT();await r.fetch(_,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function PT(r,{relative:e}={}){let{basename:n}=O.useContext(Cr),s=O.useContext(di);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...pc(r||".",{relative:e})},f=fi();if(r==null){c.search=f.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let _=p.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ii([n,c.pathname])),tc(c)}function LT(r,{relative:e}={}){let n=O.useContext(P2);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$2("useViewTransitionState"),o=pc(r,{relative:e});if(!n.isTransitioning)return!1;let c=ai(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ai(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dh(o.pathname,f)!=null||dh(o.pathname,c)!=null}const UT="/codme/assets/Logo-CAkruFtu.png",zT="/codme/assets/blur_bg-1-CSoOZOH3.png",BT="/codme/assets/Hero_arduino-DwUUAWH5.png",qT="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Menu_Alt_02'%3e%3cpath%20id='Vector'%20d='M11%2017H19M5%2012H19M11%207H19'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",FT="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%20id='Menu%20/%20Close_LG'%3e%3cpath%20id='Vector'%20d='M21%2021L12%2012M12%2012L3%203M12%2012L21.0001%203M12%2012L3%2021.0001'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",HT="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2017.211%2017.211'%20xml:space='preserve'%20fill='%239a1518'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cg%3e%3cpath%20style='fill:%239a1518;'%20d='M14.148,7.781l-5.579,3.327L3.097,7.781l-0.455,2.841c0.002-0.004,0.006-0.007,0.011-0.013%20c-0.065,0.109-0.102,0.222-0.102,0.337c0,1.003,4.418,4.094,5.821,4.094c1.404,0,6.323-3.091,6.323-4.094%20c0-0.109-0.036-0.214-0.092-0.532L14.148,7.781z'/%3e%3cpath%20style='fill:%239a1518;'%20d='M17.211,4.873L8.635,2.17l-7.66,2.443C0.867,4.63,0.765,4.658,0.684,4.706l0,0l0,0%20c-0.098,0.058-0.165,0.142-0.17,0.266C0.473,5.468,0,11.17,0,11.17l0.514,1.708l0.477-1.708L0.789,5.294l7.823,4.813L17.211,4.873%20z%20M8.015,5.118H0.783l0.756-0.413h6.385C8.007,4.56,8.203,4.458,8.431,4.458c0.304,0,0.55,0.181,0.55,0.403%20c0,0.223-0.246,0.404-0.55,0.404C8.261,5.267,8.115,5.207,8.015,5.118z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",GT="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10.063%2021.7917C10.3894%2022.1483%2011%2021.9534%2011%2021.4699V4C10%203%208.91255%202.57151%207.78361%202.32246C5.78311%201.88113%204.0024%201.97693%202.91265%202.11876C1.70543%202.27587%201%203.34931%201%204.40561V17.5662C1%2018.9895%202.18834%2020.1115%203.56807%2020.066C4.71011%2020.0284%206.2952%2020.0688%207.73105%2020.4158C8.82596%2020.6803%209.52237%2021.2009%2010.063%2021.7917Z'%20fill='%239a1518'/%3e%3cpath%20d='M13.937%2021.7917C13.6106%2022.1483%2013%2021.9534%2013%2021.4699V4C14%203%2015.0874%202.57151%2016.2164%202.32246C18.2169%201.88113%2019.9976%201.97693%2021.0873%202.11876C22.2946%202.27587%2023%203.34931%2023%204.40561V17.5662C23%2018.9895%2021.8117%2020.1115%2020.4319%2020.066C19.2899%2020.0284%2017.7048%2020.0688%2016.269%2020.4158C15.174%2020.6803%2014.4776%2021.2009%2013.937%2021.7917Z'%20fill='%239a1518'/%3e%3c/g%3e%3c/svg%3e",$T="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-1%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3emegaphone%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-206.000000,%20-310.000000)'%20fill='%239a1518'%3e%3cpath%20d='M224,330%20L227,330%20L227,316%20L224,316%20L224,330%20Z%20M236,310%20L229,314.667%20L229,331.333%20L236,336%20C237.104,336%20238,335.104%20238,334%20L238,312%20C238,310.896%20237.104,310%20236,310%20L236,310%20Z%20M206,323%20C206,326.733%20208.561,329.148%20212.019,329.81%20L212,330%20L212,338%20C212,339.104%20212.896,340%20214,340%20L217,340%20C218.104,340%20219,339.104%20219,338%20L219,330%20L222,330%20L222,316%20L214,316%20C209.582,316%20206,318.582%20206,323%20L206,323%20Z'%20id='megaphone'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",KT="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-4%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3elocation%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-106.000000,%20-413.000000)'%20fill='%239a1518'%3e%3cpath%20d='M118,422%20C116.343,422%20115,423.343%20115,425%20C115,426.657%20116.343,428%20118,428%20C119.657,428%20121,426.657%20121,425%20C121,423.343%20119.657,422%20118,422%20L118,422%20Z%20M118,430%20C115.239,430%20113,427.762%20113,425%20C113,422.238%20115.239,420%20118,420%20C120.761,420%20123,422.238%20123,425%20C123,427.762%20120.761,430%20118,430%20L118,430%20Z%20M118,413%20C111.373,413%20106,418.373%20106,425%20C106,430.018%20116.005,445.011%20118,445%20C119.964,445.011%20130,429.95%20130,425%20C130,418.373%20124.627,413%20118,413%20L118,413%20Z'%20id='location'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",YT="/codme/assets/official-logo-CJy_pXel.png",tn={official_logo:YT,location:KT,megaphone:$T,book_open:GT,graduation_hat:HT,logo:UT,bgImage1:zT,hero_img:BT,menu_icon:qT,close_icon:FT},QT=()=>{const[r,e]=O.useState(!1),n=fi(),s=o=>n.pathname===o;return h.jsxs("div",{className:`flex justify-between items-center px-4 sm:px-12 lg:px-24 xl:px-40 py-4\r
                 sticky top-0 z-50 backdrop-blur-xl bg-white/20 border border-white/30\r
                 shadow-[0_4px_30px_rgba(0,0,0,0.1)]\r
                 before:content-[""] before:absolute before:inset-0\r
                 before:bg-gradient-to-br before:from-white/40 before:to-transparent\r
                 before:pointer-events-none relative`,children:[h.jsx(jt,{to:"/",className:"flex-shrink-0",children:h.jsx("img",{src:tn.logo,className:"w-28 sm:w-32 md:w-36 lg:w-40 relative z-10 cursor-pointer",alt:"Logo"})}),h.jsxs("div",{className:"hidden lg:flex items-center gap-6 lg:gap-8 text-gray-700 text-base lg:text-lg",children:[h.jsx(jt,{to:"/",className:`hover:text-primary transition-colors ${s("/")?"text-primary font-semibold":""}`,children:""}),h.jsx(jt,{to:"/admission",className:`hover:text-primary transition-colors ${s("/admission")?"text-primary font-semibold":""}`,children:""}),h.jsx(jt,{to:"/course",className:`hover:text-primary transition-colors ${s("/course")?"text-primary font-semibold":""}`,children:""}),h.jsx(jt,{to:"/activity",className:`hover:text-primary transition-colors ${s("/activity")?"text-primary font-semibold":""}`,children:"&"}),h.jsx(jt,{to:"/contact",className:`hover:text-primary transition-colors ${s("/contact")?"text-primary font-semibold":""}`,children:""})]}),h.jsxs("div",{className:`fixed top-0 bottom-0 right-0 z-50
          ${r?"w-72":"w-0"}
          overflow-hidden transition-all duration-300 ease-in-out
          bg-primary text-white min-h-screen flex flex-col pt-16
          lg:hidden`,children:[h.jsx("img",{src:tn.close_icon,alt:"Close",className:"w-6 absolute right-4 top-4 cursor-pointer hover:scale-110 transition-transform",onClick:()=>e(!1)}),h.jsxs("div",{className:"flex flex-col gap-6 px-8 py-8",children:[h.jsx(jt,{to:"/",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/")?"font-semibold text-white":"text-white/90"}`,children:""}),h.jsx(jt,{to:"/admission",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/admission")?"font-semibold text-white":"text-white/90"}`,children:""}),h.jsx(jt,{to:"/course",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/course")?"font-semibold text-white":"text-white/90"}`,children:""}),h.jsx(jt,{to:"/activity",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/activity")?"font-semibold text-white":"text-white/90"}`,children:"&"}),h.jsx(jt,{to:"/contact",onClick:()=>e(!1),className:`text-lg py-2 border-b border-white/20 hover:text-white/80 transition-colors ${s("/contact")?"font-semibold text-white":"text-white/90"}`,children:""}),h.jsx(jt,{to:"/feedback",onClick:()=>e(!1),className:`flex items-center justify-center gap-2\r
                       bg-white text-primary px-6 py-3 rounded-full mt-6\r
                       cursor-pointer hover:scale-105 transition-all\r
                       font-semibold text-base shadow-lg`,children:" "})]})]}),h.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[h.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-black/10 rounded-lg transition-colors lg:hidden","aria-label":"Open menu",children:h.jsx("img",{src:tn.menu_icon,alt:"Menu",className:"w-6 h-6"})}),h.jsx(jt,{to:"/feedback",className:`hidden lg:flex items-center gap-2\r
                     bg-primary text-white px-4 py-2 lg:px-6 lg:py-3 rounded-full\r
                     cursor-pointer hover:scale-105 hover:bg-primary/90 \r
                     transition-all font-medium text-sm lg:text-base\r
                     shadow-lg hover:shadow-xl`,children:" "})]})]})};var K2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H1=ns.createContext&&ns.createContext(K2),XT=["attr","size","title"];function WT(r,e){if(r==null)return{};var n=ZT(r,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function ZT(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},fh.apply(this,arguments)}function G1(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function mh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(s){JT(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function JT(r,e,n){return e=eS(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function eS(r){var e=tS(r,"string");return typeof e=="symbol"?e:e+""}function tS(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Y2(r){return r&&r.map((e,n)=>ns.createElement(e.tag,mh({key:n},e.attr),Y2(e.child)))}function nS(r){return e=>ns.createElement(rS,fh({attr:mh({},r.attr)},e),Y2(r.child))}function rS(r){var e=n=>{var{attr:s,size:o,title:c}=r,f=WT(r,XT),p=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),ns.createElement("svg",fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:mh(mh({color:r.color||n.color},n.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&ns.createElement("title",null,c),r.children)};return H1!==void 0?ns.createElement(H1.Consumer,null,n=>e(n)):e(K2)}function iS(r){return nS({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}const sS=()=>h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
          @media (min-width: 1600px) {
            .footer-desktop {
              margin-top: -120px;
            }
          }
        `}),h.jsxs("footer",{className:"bg-gray-100 py-6 px-4 mt-10 footer-desktop",children:[h.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 mt-5",children:[h.jsxs("div",{className:"col-span-1",children:[h.jsx("div",{className:"flex items-center mb-4",children:h.jsx("img",{src:tn.logo,alt:"",className:"w-32 sm:w-40 relative z-10"})}),h.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"  "}),h.jsxs("nav",{className:"flex space-x-4",children:[h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:""}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:""}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:""}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:"&"}),h.jsx("a",{href:"#",className:"text-gray-700 hover:[color:#9a1518] text-sm transition-colors",children:""})]})]}),h.jsxs("div",{className:"col-span-1 flex flex-col items-start",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:""}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:" "}),h.jsx("div",{className:"flex space-x-4",children:h.jsx("a",{href:"#",className:"text-gray-600 hover:[color:#9a1518] transition-colors",children:h.jsx(iS,{size:20})})})]})]}),h.jsx("hr",{className:"my-8 border-gray-300"}),h.jsx("div",{className:"max-w-7xl mx-auto flex justify-center text-sm text-gray-600",children:h.jsx("p",{children:" 2568    - "})})]})]}),aS="AIzaSyBprj3OSZ2AI5OQNvzvuLu25UFF1biCLJo",oS="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",lS=()=>{const[r,e]=O.useState(!1),[n,s]=O.useState(!1),[o,c]=O.useState([]),[f,p]=O.useState(""),[g,y]=O.useState(!1),[_,E]=O.useState(!1),[A,V]=O.useState(""),[z,K]=O.useState(""),L=O.useRef(null),$=O.useRef(!1),q=O.useRef(!1),se=async(C,D)=>{try{console.log("Fetching course data from:",C);const k=await fetch(C);if(!k.ok)throw new Error(`HTTP error! status: ${k.status} from ${C}`);const N=await k.text();console.log(` Successfully loaded data from ${C}`),D(N)}catch(k){console.error(` Error loading course knowledge from ${C}:`,k)}},ae=O.useCallback(C=>{const k=C.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").split(`
`);let N=!1,ve=[];for(let me of k)if(me.trim().startsWith("*")&&!me.trim().startsWith("**")){N||(ve.push('<ul class="list-disc list-inside space-y-1 mt-2">'),N=!0);const Q=me.trim().substring(1).trim();ve.push(`<li>${Q}</li>`)}else N&&(ve.push("</ul>"),N=!1),me.trim()&&ve.push(`<p class="mb-2">${me}</p>`);return N&&ve.push("</ul>"),ve.join("")},[]);O.useEffect(()=>{if(!q.current){q.current=!0;const C="/codme/";se(`${C}data/course_coe.txt`,V),se(`${C}data/course_dme.txt`,K)}},[]),O.useEffect(()=>{$.current||(c([{sender:"ai",text:"!      ?"}]),$.current=!0)},[]),O.useEffect(()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight)},[o]);const ie=()=>{r?(e(!1),setTimeout(()=>s(!1),300)):(s(!0),setTimeout(()=>e(!0),10))},ue=O.useCallback(async(C,D)=>{if(!C.trim())return;const k=C.toLowerCase();[""," ","","","","","","","","","","",""].some(Ne=>C.includes(Ne))&&E(!0),["","",""," 22"," 22 ",""].some(Ne=>k.includes(Ne)),["","regrade","","",""].some(Ne=>k.includes(Ne)),["",""].some(Ne=>k.includes(Ne)),["F","f"," F","grade F"].some(Ne=>k.includes(Ne)),k.includes("")&&k.includes(""),k.includes("")&&k.includes("F"),["","","Portfolio","Port"," 1","1",""].some(Ne=>k.includes(Ne)),["","","Random"].some(Ne=>k.includes(Ne)),["","","Reserve"].some(Ne=>k.includes(Ne)),y(!0),c(Ne=>[...Ne,{sender:"user",text:C}]),p("");const de=" AI     ",ce=k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("")||k.includes("");let ge="";(A||z)&&ce&&(ge=` :
${A?`---  ---
${A}`:""}
${z?`---  ---
${z}`:""}
  `);const be=D.filter(Ne=>Ne.sender==="user"||Ne.sender==="ai").slice(Math.max(D.length-8,0)).map(Ne=>({role:Ne.sender==="user"?"user":"model",parts:[{text:Ne.text}]})),At=`${de}
${ge?`${ge}

`:""}: ${C}`,Ge=[...be,{role:"user",parts:[{text:At}]}],cn=3;let yn=0,Dr=!1,Nn="  AI ";for(;yn<cn&&!Dr;){yn++;try{const Ne=await fetch(oS,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":aS},body:JSON.stringify({contents:Ge,safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!Ne.ok){if(Ne.status===429||Ne.status>=500){console.warn(`Attempt ${yn} failed with status ${Ne.status}. Retrying...`),await new Promise(ko=>setTimeout(ko,1e3*yn));continue}throw new Error(`API error ${Ne.status}: ${await Ne.text()}`)}const un=await Ne.json();un.promptFeedback&&un.promptFeedback.blockReason?Nn=` AI: ${un.promptFeedback.blockReason}`:un.candidates?.[0]?.finishReason==="SAFETY"?Nn="  AI ":Nn=un.candidates?.[0]?.content?.parts?.[0]?.text||" AI ",Dr=!0}catch(Ne){console.error(`Attempt ${yn} failed:`,Ne),yn===cn&&(Nn=`  AI  API Key : ${Ne.message}`),await new Promise(un=>setTimeout(un,1e3*yn))}}c(Ne=>[...Ne,{sender:"ai",text:Nn}]),y(!1)},[A,z]),I=()=>{f.trim()&&!g&&ue(f,o)},R=C=>{C.key==="Enter"&&(C.preventDefault(),I())},T=o.length===1&&o[0].sender==="ai";return{isOpen:r,isVisible:n,messages:o,inputMessage:f,isLoading:g,chatContentRef:L,toggleChat:ie,setInputMessage:p,handleSendMessage:I,handleKeyPress:R,formatAIResponse:ae,showInitialWelcomeUI:T,setMessages:c,showPetitionAlert:_,setShowPetitionAlert:E}},Q2=({sender:r,text:e,formatAIResponse:n})=>h.jsx("div",{className:`flex ${r==="user"?"justify-end":"justify-start"} animate-fadeIn`,children:h.jsx("div",{className:`max-w-[80%] p-2 rounded-xl shadow-lg transition-all duration-200 hover:shadow-xl text-sm ${r==="user"?"bg-gradient-to-br from-[#9a1518] to-[#c41e22] text-white rounded-br-sm":"bg-white/80 backdrop-blur-sm text-gray-800 border border-white/50 rounded-bl-sm"}`,dangerouslySetInnerHTML:{__html:r==="ai"?n(e):e}})}),X2=({setInputMessage:r})=>h.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 px-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"mt-3 w-20 h-20 bg-gradient-to-br from-[#9a1518] to-[#c41e22] rounded-2xl flex items-center justify-center shadow-xl rotate-6 hover:rotate-12 transition-transform duration-300",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),h.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-green-400 rounded-full border-3 border-white animate-pulse"})]}),h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h4",{className:"text-xl font-bold text-gray-800",children:"! "}),h.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed max-w-xs",children:["  ",h.jsx("br",{}),h.jsx("span",{className:"text-[#9a1518] font-semibold",children:""})]})]}),h.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[h.jsx("p",{className:"text-xs text-gray-500 text-center font-medium",children:":"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("button",{onClick:()=>r(""),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:" "}),h.jsx("button",{onClick:()=>r(""),className:"w-full p-2 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-lg text-xs text-gray-700 text-left transition-all duration-200 border border-gray-200 hover:border-[#9a1518] hover:shadow-md",children:" "})]})]})]}),cS=({isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:V})=>{const z="bg-[#9a1518]",K="hover:bg-[#7e1214]";return e?h.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-96 md:w-[420px] lg:w-[460px]
                    h-[380px] md:h-[430px] lg:h-[480px] // 
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    hidden sm:flex`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[A&&h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[h.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:" : "}),h.jsx("p",{className:"text-gray-700 text-base",children:" ****"}),h.jsx("div",{className:"flex justify-end mt-4",children:h.jsx("button",{onClick:()=>V(!1),className:`${z} ${K} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:""})})]})}),h.jsxs("div",{className:`p-3 flex justify-between items-center ${z} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[h.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[h.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),h.jsx("p",{className:"text-xs text-white/80",children:" 24 ."})]})]}),h.jsx("button",{onClick:f,"aria-label":"",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),h.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[E?h.jsx(X2,{setInputMessage:p}):n.map((L,$)=>h.jsx(Q2,{sender:L.sender,text:L.text,formatAIResponse:_},$)),o&&h.jsx("div",{className:"flex justify-start animate-fadeIn",children:h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),h.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",placeholder:"...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200\r
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent\r
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:L=>p(L.target.value),onKeyPress:y,disabled:o,"aria-label":""}),h.jsx("button",{onClick:g,className:`${z} ${K} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"",children:o?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},uS=({isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:V})=>{const z="bg-[#9a1518]",K="hover:bg-[#7e1214]";return e?h.jsxs("div",{className:`fixed bottom-24 right-6 z-50 flex flex-col
                    w-[calc(100vw-3rem)] // Full width minus margin on mobile
                    h-[calc(100vh-150px)] // Adjusted height for mobile, e.g., slightly shorter than full screen
                    rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.3)]
                    transition-all duration-300 ease-out origin-bottom-right overflow-hidden
                    ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4"}
                    sm:hidden`,style:{background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[A&&h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60]",children:h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full mx-4 border-t-4 border-[#9a1518] transform transition-all duration-300 scale-100 animate-fadeIn",children:[h.jsx("h3",{className:"text-xl font-extrabold text-[#9a1518] mb-2",children:" : "}),h.jsx("p",{className:"text-gray-700 text-base",children:" ****"}),h.jsx("div",{className:"flex justify-end mt-4",children:h.jsx("button",{onClick:()=>V(!1),className:`${z} ${K} text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg active:scale-95`,children:""})})]})}),h.jsxs("div",{className:`p-3 flex justify-between items-center ${z} relative overflow-hidden flex-none`,style:{background:"linear-gradient(135deg, #9a1518 0%, #c41e22 100%)"},children:[h.jsxs("div",{className:"flex items-center space-x-2 z-10",children:[h.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base font-bold text-white",children:"CodMe AI Assistant"}),h.jsx("p",{className:"text-xs text-white/80",children:" 24 ."})]})]}),h.jsx("button",{onClick:f,"aria-label":"",className:"text-white/90 hover:text-white hover:bg-white/10 rounded-full p-1 transition-all duration-200 z-10",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-12 translate-x-12 blur-2xl"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/10 rounded-full translate-y-8 -translate-x-8 blur-2xl"})]}),h.jsxs("div",{ref:c,className:"flex-grow p-3 overflow-y-auto flex flex-col space-y-3 min-h-0 text-sm",children:[E?h.jsx(X2,{setInputMessage:p}):n.map((L,$)=>h.jsx(Q2,{sender:L.sender,text:L.text,formatAIResponse:_},$)),o&&h.jsx("div",{className:"flex justify-start animate-fadeIn",children:h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm text-gray-800 p-3 rounded-xl rounded-bl-sm shadow-lg border border-white/50 flex space-x-1.5",children:[h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-[#9a1518] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),h.jsx("div",{className:"p-3 border-t border-white/30 text-sm",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",placeholder:"...",className:`flex-grow px-3 py-2 rounded-lg bg-white/70 backdrop-blur-sm border border-gray-200\r
                     focus:outline-none focus:ring-2 focus:ring-[#9a1518] focus:border-transparent\r
                     placeholder-gray-400 text-gray-800 transition-all duration-200`,value:s,onChange:L=>p(L.target.value),onKeyPress:y,disabled:o,"aria-label":""}),h.jsx("button",{onClick:g,className:`${z} ${K} text-white p-2 rounded-lg shadow-lg
                      transition-all duration-200 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed
                      hover:scale-105 active:scale-95 min-w-[40px] flex items-center justify-center`,disabled:o||!s.trim(),"aria-label":"",children:o?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):null},hS=()=>{const{isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:V}=lS(),z="bg-[#9a1518]",K="hover:bg-[#7e1214]",L="focus:ring-[#9a1518]",$={isOpen:r,isVisible:e,messages:n,inputMessage:s,isLoading:o,chatContentRef:c,toggleChat:f,setInputMessage:p,handleSendMessage:g,handleKeyPress:y,formatAIResponse:_,showInitialWelcomeUI:E,showPetitionAlert:A,setShowPetitionAlert:V};return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:f,"aria-label":r?"":"",className:`fixed bottom-6 right-6 ${z} ${K} text-white p-4 rounded-full shadow-2xl z-50 focus:outline-none focus:ring-4 ${L} focus:ring-opacity-50 transition-all duration-300 hover:scale-110 active:scale-95 hover:shadow-[0_0_30px_rgba(154,21,24,0.5)]`,children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform duration-300 ${r?"rotate-90":"rotate-0"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r?h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"}):h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&h.jsx(cS,{...$}),e&&h.jsx(uS,{...$}),h.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }

        /* Custom Scrollbar */
        *::-webkit-scrollbar {
          width: 6px;
        }

        *::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb {
          background: rgba(154, 21, 24, 0.5);
          border-radius: 10px;
        }

        *::-webkit-scrollbar-thumb:hover {
          background: rgba(154, 21, 24, 0.7);
        }
      `})]})},dS=()=>h.jsxs("div",{id:"hero",className:`flex flex-col items-center gap-6 py-15 px-4 sm:px-12 lg:px-24\r
    xl:px-40 text-center w-full overflow-hidden text-gray-700 relative`,children:[h.jsxs("h1",{className:"font-medium xl:leading-[70px] max-w-5xl relative z-20 text-black",children:[h.jsx("span",{className:"text-lg sm:text-xl md:text-2xl xl:text-3xl font-regular",children:""})," ",h.jsx("br",{}),h.jsx("span",{className:"text-4xl sm:text-4xl md:text-4xl lg:text-5xl xl:text-6xl font-medium block sm:inline",children:""}),h.jsx("span",{className:"hidden sm:inline",children:" "}),h.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl xl:text-5xl bg-gradient-to-r from-[#dc2626] to-[#7d1315] bg-clip-text text-transparent font-medium",children:""})]}),h.jsx("p",{className:"text-sm sm:text-lg font-regular text-gray-500 max-w-4/5 sm:max-w-lg pb-3 -mt-5 relative z-20",children:"  "}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("img",{src:tn.hero_img,alt:"",className:"w-full max-w-6xl rounded-4xl relative z-10"}),h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute w-[1000px] h-[1000px] z-0 pointer-events-none",style:{top:"-350px",right:"-330px"}})]})]});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),$1=r=>{const e=mS(r);return e.charAt(0).toUpperCase()+e.slice(1)},W2=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),pS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=O.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...p},g)=>O.createElement("svg",{ref:g,...gS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:W2("lucide",o),...!c&&!pS(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,_])=>O.createElement(y,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(r,e)=>{const n=O.forwardRef(({className:s,...o},c)=>O.createElement(yS,{ref:c,iconNode:e,className:W2(`lucide-${fS($1(r))}`,`lucide-${r}`,s),...o}));return n.displayName=$1(r),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_S=qe("arrow-right",vS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Z2=qe("book-open",xS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ph=qe("calendar",bS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nc=qe("chevron-left",wS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TS=qe("chevron-right",ES);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pp=qe("circle-alert",SS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RS=qe("circle-check-big",AS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CS=qe("circle-x",NS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jS=qe("clock",IS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kS=qe("eye",DS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],OS=qe("facebook",MS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PS=qe("file-text",VS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],US=qe("funnel",LS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],K1=qe("globe",zS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],J2=qe("info",BS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],$l=qe("loader",qS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HS=qe("log-out",FS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Om=qe("mail",GS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],KS=qe("map-pin",$S);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],QS=qe("menu",YS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lo=qe("message-square",XS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],e_=qe("newspaper",WS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],JS=qe("phone",ZS);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Y1=qe("plus",eA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nA=qe("refresh-cw",tA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iA=qe("save",rA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],aA=qe("square-pen",sA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Q1=qe("star",oA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gh=qe("trash-2",lA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uA=qe("trending-up",cA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dA=qe("triangle-alert",hA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],t_=qe("upload",fA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yh=qe("user",mA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vh=qe("x",pA),gp=({title:r,desc:e})=>h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("h2",{className:"text-3xl sm:text-5xl font-medium text-center",children:r}),h.jsx("p",{className:"max-w-lg text-center text-gray-500 mt-5 font-regular",children:e})]}),gA=`
@keyframes liquid-gradient-animation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.liquid-glass {
    position: relative;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    overflow: hidden;
    transform-style: preserve-3d;
}

.liquid-overlay {
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.1) 0%,
        rgba(255, 255, 255, 0.05) 20%,
        transparent 50%,
        rgba(255, 255, 255, 0.05) 80%,
        rgba(255, 255, 255, 0.1) 100%
    );
    background-size: 200% 200%;
    animation: liquid-gradient-animation 15s ease infinite;
    opacity: 0.7;
    pointer-events: none;
    z-index: 0;
    filter: blur(5px);
    transition: opacity 0.3s ease;
}

.liquid-glass:hover .liquid-overlay {
    opacity: 0.9;
}

.liquid-glass::before,
.liquid-glass::after {
    content: '';
    position: absolute;
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
}

.liquid-glass::before {
    inset: 0;
    background: radial-gradient(
        circle at top left,
        rgba(255, 255, 255, 0.3) 0%,
        transparent 30%
    );
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::before {
    opacity: 1;
}

.liquid-glass::after {
    inset: 1px;
    background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%
    );
    opacity: 0.5;
    transition: opacity 0.3s ease;
}

.liquid-glass:hover::after {
    opacity: 0.7;
}

.liquid-glass h3 {
    color: #000000 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass:hover h3 {
    color: #111111 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.9);
}

.liquid-glass p {
    color: #333333 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.6);
}

.liquid-glass:hover p {
    color: #000000 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px) saturate(150%);
    -webkit-backdrop-filter: blur(10px) saturate(150%);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    color: #000000;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.liquid-glass-button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.2) 0%,
        transparent 50%,
        rgba(255, 255, 255, 0.1) 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
}

.liquid-glass-button:hover::before {
    opacity: 0.3;
}

.liquid-glass-button:hover {
    background: linear-gradient(
        135deg,
        rgba(154, 21, 24, 0.8) 0%,
        rgba(154, 21, 24, 0.9) 50%,
        rgba(120, 16, 19, 0.8) 100%
    );
    box-shadow: 0 6px 20px rgba(154, 21, 24, 0.4);
    transform: translateY(-1px);
    border-color: rgba(154, 21, 24, 0.6) !important;
    color: white !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
`,yA=({news:r})=>{const[e,n]=O.useState(!1),s=o=>({:"bg-blue-100 text-blue-700",:"bg-green-100 text-green-700",:"bg-red-100 text-red-700",:"bg-purple-100 text-purple-700",:"bg-yellow-100 text-yellow-700",:"bg-indigo-100 text-indigo-700",:"bg-pink-100 text-pink-700",:"bg-teal-100 text-teal-700",:"bg-gray-100 text-gray-700"})[o]||"bg-gray-100 text-gray-700";return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:gA}}),h.jsxs("div",{className:`
                    group relative overflow-hidden rounded-2xl
                    transition-all duration-500 ease-out
                    hover:scale-[1.02] active:scale-[1.02]
                    flex flex-col
                    cursor-pointer
                    liquid-glass
                    shadow-lg hover:shadow-2xl
                    bg-gradient-to-br from-blue-50 to-purple-50
                `,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{minHeight:"450px"},children:[h.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),h.jsx("div",{className:`\r
                        absolute inset-0 rounded-2xl\r
                        border-2 border-transparent\r
                        group-hover:border-red-400/60 group-active:border-red-400/60\r
                        transition-all duration-500\r
                        pointer-events-none\r
                    `}),h.jsxs("div",{className:"w-full h-48 sm:h-56 overflow-hidden relative rounded-t-2xl",children:[h.jsx("img",{src:r?.image||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=400&h=300&fit=crop",alt:r?.title||"",className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 ease-in-out"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-white/10 opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),r?.category&&h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold shadow-lg ${s(r.category)}`,children:r.category})})]}),h.jsxs("div",{className:"p-6 flex flex-col flex-grow relative z-10",children:[(r?.date||r?.author)&&h.jsxs("div",{className:"flex items-center gap-3 mb-3 text-xs text-gray-600 flex-wrap",children:[r?.date&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),h.jsx("span",{children:r.date})]}),r?.author&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),h.jsx("span",{children:r.author})]})]}),h.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-2",children:r?.title||""}),h.jsx("p",{className:"text-base mb-4 flex-grow line-clamp-3",children:r?.excerpt||"..."}),h.jsx("div",{className:"mt-auto pt-4",children:h.jsxs("div",{className:`
                                inline-flex items-center gap-2 px-4 py-2 rounded-lg
                                font-medium text-sm
                                liquid-glass-button
                                border border-white/30
                                hover:border-red-600/60
                                transition-all duration-300
                                group/button
                            `,children:["",h.jsx("span",{className:"transform group-hover/button:translate-x-1 transition-transform duration-300",children:""})]})})]})]})]})},vA=()=>{};var X1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_A=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,_=c>>2,E=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,V=y&63;g||(V=64,f||(A=64)),s.push(n[_],n[E],n[A],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(n_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_A(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new xA;const A=c<<2|p>>4;if(s.push(A),y!==64){const V=p<<4&240|y>>2;if(s.push(V),E!==64){const z=y<<6&192|E;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(r){const e=n_(r);return r_.encodeByteArray(e,!0)},_h=function(r){return bA(r).replace(/\./g,"")},i_=function(r){try{return r_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=()=>wA().__FIREBASE_DEFAULTS__,TA=()=>{if(typeof process>"u"||typeof X1>"u")return;const r=X1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&i_(r[1]);return e&&JSON.parse(e)},qh=()=>{try{return vA()||EA()||TA()||SA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},s_=r=>qh()?.emulatorHosts?.[r],a_=r=>{const e=s_(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},o_=()=>qh()?.config,l_=r=>qh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const Kl={};function RA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function NA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let W1=!1;function vp(r,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||Kl[r]===e||Kl[r]||W1)return;Kl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=RA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{W1=!0,f()},A}function _(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=NA(s),V=n("text"),z=document.getElementById(V)||document.createElement("span"),K=n("learnmore"),L=document.getElementById(K)||document.createElement("a"),$=n("preprendIcon"),q=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const se=A.element;p(se),_(L,K);const ae=y();g(q,$),se.append(q,z,L,ae),document.body.appendChild(se)}c?(z.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function IA(){const r=qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MA(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OA(){return!IA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="FirebaseError";class Ir extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LA,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?UA(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ir(o,p,s)}}function UA(r,e){return r.replace(zA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zA=/\{\$([^}]+)}/g;function BA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(Z1(c)&&Z1(f)){if(!sa(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Z1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qA(r,e){const n=new FA(r,e);return n.subscribe.bind(n)}class FA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r){return r&&r._delegate?r._delegate:r}class ls{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new AA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$A(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(r){return r===ta?void 0:r}function KA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const QA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},XA=Pe.INFO,WA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ZA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=WA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=XA,this._logHandler=ZA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const JA=(r,e)=>e.some(n=>r instanceof n);let J1,ev;function eR(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tR(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u_=new WeakMap,Vm=new WeakMap,h_=new WeakMap,xm=new WeakMap,xp=new WeakMap;function nR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&u_.set(n,r)}).catch(()=>{}),xp.set(e,r),e}function rR(r){if(Vm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Vm.set(r,e)}let Pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h_.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iR(r){Pm=r(Pm)}function sR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return h_.set(s,e.sort?e.sort():[e]),rs(s)}:tR().includes(r)?function(...e){return r.apply(bm(this),e),rs(u_.get(this))}:function(...e){return rs(r.apply(bm(this),e))}}function aR(r){return typeof r=="function"?sR(r):(r instanceof IDBTransaction&&rR(r),JA(r,eR())?new Proxy(r,Pm):r)}function rs(r){if(r instanceof IDBRequest)return nR(r);if(xm.has(r))return xm.get(r);const e=aR(r);return e!==r&&(xm.set(r,e),xp.set(e,r)),e}const bm=r=>xp.get(r);function oR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),p=rs(f);return s&&f.addEventListener("upgradeneeded",g=>{s(rs(f.result),g.oldVersion,g.newVersion,rs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const lR=["get","getKey","getAll","getAllKeys","count"],cR=["put","add","delete","clear"],wm=new Map;function tv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||lR.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return wm.set(e,c),c}iR(r=>({...r,get:(e,n,s)=>tv(e,n)||r.get(e,n,s),has:(e,n)=>!!tv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function hR(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",nv="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new _p("@firebase/app"),dR="@firebase/app-compat",fR="@firebase/analytics-compat",mR="@firebase/analytics",pR="@firebase/app-check-compat",gR="@firebase/app-check",yR="@firebase/auth",vR="@firebase/auth-compat",_R="@firebase/database",xR="@firebase/data-connect",bR="@firebase/database-compat",wR="@firebase/functions",ER="@firebase/functions-compat",TR="@firebase/installations",SR="@firebase/installations-compat",AR="@firebase/messaging",RR="@firebase/messaging-compat",NR="@firebase/performance",CR="@firebase/performance-compat",IR="@firebase/remote-config",jR="@firebase/remote-config-compat",DR="@firebase/storage",kR="@firebase/storage-compat",MR="@firebase/firestore",OR="@firebase/ai",VR="@firebase/firestore-compat",PR="firebase",LR="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",UR={[Lm]:"fire-core",[dR]:"fire-core-compat",[mR]:"fire-analytics",[fR]:"fire-analytics-compat",[gR]:"fire-app-check",[pR]:"fire-app-check-compat",[yR]:"fire-auth",[vR]:"fire-auth-compat",[_R]:"fire-rtdb",[xR]:"fire-data-connect",[bR]:"fire-rtdb-compat",[wR]:"fire-fn",[ER]:"fire-fn-compat",[TR]:"fire-iid",[SR]:"fire-iid-compat",[AR]:"fire-fcm",[RR]:"fire-fcm-compat",[NR]:"fire-perf",[CR]:"fire-perf-compat",[IR]:"fire-rc",[jR]:"fire-rc-compat",[DR]:"fire-gcs",[kR]:"fire-gcs-compat",[MR]:"fire-fst",[VR]:"fire-fst-compat",[OR]:"fire-vertex","fire-js":"fire-js",[PR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,zR=new Map,zm=new Map;function rv(r,e){try{r.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function aa(r){const e=r.name;if(zm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const n of xh.values())rv(n,r);for(const n of zR.values())rv(n,r);return!0}function Fh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function An(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new gc("app","Firebase",BR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=LR;function d_(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=o_()),!n)throw is.create("no-options");const c=xh.get(o);if(c){if(sa(n,c.options)&&sa(s,c.config))return c;throw is.create("duplicate-app",{appName:o})}const f=new YA(o);for(const g of zm.values())f.addComponent(g);const p=new qR(n,s,f);return xh.set(o,p),p}function bp(r=Um){const e=xh.get(r);if(!e&&r===Um&&o_())return d_();if(!e)throw is.create("no-app",{appName:r});return e}function xr(r,e,n){let s=UR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(f.join(" "));return}aa(new ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",HR=1,rc="firebase-heartbeat-store";let Em=null;function f_(){return Em||(Em=oR(FR,HR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Em}async function GR(r){try{const n=(await f_()).transaction(rc),s=await n.objectStore(rc).get(m_(r));return await n.done,s}catch(e){if(e instanceof Ir)oi.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}}async function iv(r,e){try{const s=(await f_()).transaction(rc,"readwrite");await s.objectStore(rc).put(e,m_(r)),await s.done}catch(n){if(n instanceof Ir)oi.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});oi.warn(s.message)}}}function m_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1024,KR=30;class YR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>KR){const o=WR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sv(),{heartbeatsToSend:n,unsentEntries:s}=QR(this._heartbeatsCache.heartbeats),o=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return oi.warn(e),""}}}function sv(){return new Date().toISOString().substring(0,10)}function QR(r,e=$R){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),av(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),av(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class XR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function av(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function WR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){aa(new ls("platform-logger",e=>new uR(e),"PRIVATE")),aa(new ls("heartbeat",e=>new YR(e),"PRIVATE")),xr(Lm,nv,r),xr(Lm,nv,"esm2020"),xr("fire-js","")}ZR("");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,p_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function T(){}T.prototype=R.prototype,I.F=R.prototype,I.prototype=new T,I.prototype.constructor=I,I.D=function(C,D,k){for(var N=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)N[ve-2]=arguments[ve];return R.prototype[D].apply(C,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,T){T||(T=0);const C=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)C[D]=R.charCodeAt(T++)|R.charCodeAt(T++)<<8|R.charCodeAt(T++)<<16|R.charCodeAt(T++)<<24;else for(D=0;D<16;++D)C[D]=R[T++]|R[T++]<<8|R[T++]<<16|R[T++]<<24;R=I.g[0],T=I.g[1],D=I.g[2];let k=I.g[3],N;N=R+(k^T&(D^k))+C[0]+3614090360&4294967295,R=T+(N<<7&4294967295|N>>>25),N=k+(D^R&(T^D))+C[1]+3905402710&4294967295,k=R+(N<<12&4294967295|N>>>20),N=D+(T^k&(R^T))+C[2]+606105819&4294967295,D=k+(N<<17&4294967295|N>>>15),N=T+(R^D&(k^R))+C[3]+3250441966&4294967295,T=D+(N<<22&4294967295|N>>>10),N=R+(k^T&(D^k))+C[4]+4118548399&4294967295,R=T+(N<<7&4294967295|N>>>25),N=k+(D^R&(T^D))+C[5]+1200080426&4294967295,k=R+(N<<12&4294967295|N>>>20),N=D+(T^k&(R^T))+C[6]+2821735955&4294967295,D=k+(N<<17&4294967295|N>>>15),N=T+(R^D&(k^R))+C[7]+4249261313&4294967295,T=D+(N<<22&4294967295|N>>>10),N=R+(k^T&(D^k))+C[8]+1770035416&4294967295,R=T+(N<<7&4294967295|N>>>25),N=k+(D^R&(T^D))+C[9]+2336552879&4294967295,k=R+(N<<12&4294967295|N>>>20),N=D+(T^k&(R^T))+C[10]+4294925233&4294967295,D=k+(N<<17&4294967295|N>>>15),N=T+(R^D&(k^R))+C[11]+2304563134&4294967295,T=D+(N<<22&4294967295|N>>>10),N=R+(k^T&(D^k))+C[12]+1804603682&4294967295,R=T+(N<<7&4294967295|N>>>25),N=k+(D^R&(T^D))+C[13]+4254626195&4294967295,k=R+(N<<12&4294967295|N>>>20),N=D+(T^k&(R^T))+C[14]+2792965006&4294967295,D=k+(N<<17&4294967295|N>>>15),N=T+(R^D&(k^R))+C[15]+1236535329&4294967295,T=D+(N<<22&4294967295|N>>>10),N=R+(D^k&(T^D))+C[1]+4129170786&4294967295,R=T+(N<<5&4294967295|N>>>27),N=k+(T^D&(R^T))+C[6]+3225465664&4294967295,k=R+(N<<9&4294967295|N>>>23),N=D+(R^T&(k^R))+C[11]+643717713&4294967295,D=k+(N<<14&4294967295|N>>>18),N=T+(k^R&(D^k))+C[0]+3921069994&4294967295,T=D+(N<<20&4294967295|N>>>12),N=R+(D^k&(T^D))+C[5]+3593408605&4294967295,R=T+(N<<5&4294967295|N>>>27),N=k+(T^D&(R^T))+C[10]+38016083&4294967295,k=R+(N<<9&4294967295|N>>>23),N=D+(R^T&(k^R))+C[15]+3634488961&4294967295,D=k+(N<<14&4294967295|N>>>18),N=T+(k^R&(D^k))+C[4]+3889429448&4294967295,T=D+(N<<20&4294967295|N>>>12),N=R+(D^k&(T^D))+C[9]+568446438&4294967295,R=T+(N<<5&4294967295|N>>>27),N=k+(T^D&(R^T))+C[14]+3275163606&4294967295,k=R+(N<<9&4294967295|N>>>23),N=D+(R^T&(k^R))+C[3]+4107603335&4294967295,D=k+(N<<14&4294967295|N>>>18),N=T+(k^R&(D^k))+C[8]+1163531501&4294967295,T=D+(N<<20&4294967295|N>>>12),N=R+(D^k&(T^D))+C[13]+2850285829&4294967295,R=T+(N<<5&4294967295|N>>>27),N=k+(T^D&(R^T))+C[2]+4243563512&4294967295,k=R+(N<<9&4294967295|N>>>23),N=D+(R^T&(k^R))+C[7]+1735328473&4294967295,D=k+(N<<14&4294967295|N>>>18),N=T+(k^R&(D^k))+C[12]+2368359562&4294967295,T=D+(N<<20&4294967295|N>>>12),N=R+(T^D^k)+C[5]+4294588738&4294967295,R=T+(N<<4&4294967295|N>>>28),N=k+(R^T^D)+C[8]+2272392833&4294967295,k=R+(N<<11&4294967295|N>>>21),N=D+(k^R^T)+C[11]+1839030562&4294967295,D=k+(N<<16&4294967295|N>>>16),N=T+(D^k^R)+C[14]+4259657740&4294967295,T=D+(N<<23&4294967295|N>>>9),N=R+(T^D^k)+C[1]+2763975236&4294967295,R=T+(N<<4&4294967295|N>>>28),N=k+(R^T^D)+C[4]+1272893353&4294967295,k=R+(N<<11&4294967295|N>>>21),N=D+(k^R^T)+C[7]+4139469664&4294967295,D=k+(N<<16&4294967295|N>>>16),N=T+(D^k^R)+C[10]+3200236656&4294967295,T=D+(N<<23&4294967295|N>>>9),N=R+(T^D^k)+C[13]+681279174&4294967295,R=T+(N<<4&4294967295|N>>>28),N=k+(R^T^D)+C[0]+3936430074&4294967295,k=R+(N<<11&4294967295|N>>>21),N=D+(k^R^T)+C[3]+3572445317&4294967295,D=k+(N<<16&4294967295|N>>>16),N=T+(D^k^R)+C[6]+76029189&4294967295,T=D+(N<<23&4294967295|N>>>9),N=R+(T^D^k)+C[9]+3654602809&4294967295,R=T+(N<<4&4294967295|N>>>28),N=k+(R^T^D)+C[12]+3873151461&4294967295,k=R+(N<<11&4294967295|N>>>21),N=D+(k^R^T)+C[15]+530742520&4294967295,D=k+(N<<16&4294967295|N>>>16),N=T+(D^k^R)+C[2]+3299628645&4294967295,T=D+(N<<23&4294967295|N>>>9),N=R+(D^(T|~k))+C[0]+4096336452&4294967295,R=T+(N<<6&4294967295|N>>>26),N=k+(T^(R|~D))+C[7]+1126891415&4294967295,k=R+(N<<10&4294967295|N>>>22),N=D+(R^(k|~T))+C[14]+2878612391&4294967295,D=k+(N<<15&4294967295|N>>>17),N=T+(k^(D|~R))+C[5]+4237533241&4294967295,T=D+(N<<21&4294967295|N>>>11),N=R+(D^(T|~k))+C[12]+1700485571&4294967295,R=T+(N<<6&4294967295|N>>>26),N=k+(T^(R|~D))+C[3]+2399980690&4294967295,k=R+(N<<10&4294967295|N>>>22),N=D+(R^(k|~T))+C[10]+4293915773&4294967295,D=k+(N<<15&4294967295|N>>>17),N=T+(k^(D|~R))+C[1]+2240044497&4294967295,T=D+(N<<21&4294967295|N>>>11),N=R+(D^(T|~k))+C[8]+1873313359&4294967295,R=T+(N<<6&4294967295|N>>>26),N=k+(T^(R|~D))+C[15]+4264355552&4294967295,k=R+(N<<10&4294967295|N>>>22),N=D+(R^(k|~T))+C[6]+2734768916&4294967295,D=k+(N<<15&4294967295|N>>>17),N=T+(k^(D|~R))+C[13]+1309151649&4294967295,T=D+(N<<21&4294967295|N>>>11),N=R+(D^(T|~k))+C[4]+4149444226&4294967295,R=T+(N<<6&4294967295|N>>>26),N=k+(T^(R|~D))+C[11]+3174756917&4294967295,k=R+(N<<10&4294967295|N>>>22),N=D+(R^(k|~T))+C[2]+718787259&4294967295,D=k+(N<<15&4294967295|N>>>17),N=T+(k^(D|~R))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const T=R-this.blockSize,C=this.C;let D=this.h,k=0;for(;k<R;){if(D==0)for(;k<=T;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<R;)if(C[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,C),D=0;break}}else for(;k<R;)if(C[D++]=I[k++],D==this.blockSize){o(this,C),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var T=I.length-8;T<I.length;++T)I[T]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,T=0;T<4;++T)for(let C=0;C<32;C+=8)I[R++]=this.g[T]>>>C&255;return I};function c(I,R){var T=p;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=R(I)}function f(I,R){this.h=R;const T=[];let C=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;C&&k==R||(T[D]=k,C=!1)}this.g=T}var p={};function g(I){return-128<=I&&I<128?c(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return L(y(-I));const R=[];let T=1;for(let C=0;I>=T;C++)R[C]=I/T|0,T*=4294967296;return new f(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return L(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=y(Math.pow(R,8));let C=E;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const N=parseInt(I.substring(k,k+D),R);D<8?(D=y(Math.pow(R,D)),C=C.j(D).add(y(N))):(C=C.j(T),C=C.add(y(N)))}return C}var E=g(0),A=g(1),V=g(16777216);r=f.prototype,r.m=function(){if(K(this))return-L(this).m();let I=0,R=1;for(let T=0;T<this.g.length;T++){const C=this.i(T);I+=(C>=0?C:4294967296+C)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(K(this))return"-"+L(this).toString(I);const R=y(Math.pow(I,6));var T=this;let C="";for(;;){const D=ae(T,R).g;T=$(T,D.j(R));let k=((T.g.length>0?T.g[0]:T.h)>>>0).toString(I);if(T=D,z(T))return k+C;for(;k.length<6;)k="0"+k;C=k+C}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function K(I){return I.h==-1}r.l=function(I){return I=$(this,I),K(I)?-1:z(I)?0:1};function L(I){const R=I.g.length,T=[];for(let C=0;C<R;C++)T[C]=~I.g[C];return new f(T,~I.h).add(A)}r.abs=function(){return K(this)?L(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),T=[];let C=0;for(let D=0;D<=R;D++){let k=C+(this.i(D)&65535)+(I.i(D)&65535),N=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);C=N>>>16,k&=65535,N&=65535,T[D]=N<<16|k}return new f(T,T[T.length-1]&-2147483648?-1:0)};function $(I,R){return I.add(L(R))}r.j=function(I){if(z(this)||z(I))return E;if(K(this))return K(I)?L(this).j(L(I)):L(L(this).j(I));if(K(I))return L(this.j(L(I)));if(this.l(V)<0&&I.l(V)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,T=[];for(var C=0;C<2*R;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(let D=0;D<I.g.length;D++){const k=this.i(C)>>>16,N=this.i(C)&65535,ve=I.i(D)>>>16,me=I.i(D)&65535;T[2*C+2*D]+=N*me,q(T,2*C+2*D),T[2*C+2*D+1]+=k*me,q(T,2*C+2*D+1),T[2*C+2*D+1]+=N*ve,q(T,2*C+2*D+1),T[2*C+2*D+2]+=k*ve,q(T,2*C+2*D+2)}for(I=0;I<R;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=R;I<2*R;I++)T[I]=0;return new f(T,0)};function q(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function se(I,R){this.g=I,this.h=R}function ae(I,R){if(z(R))throw Error("division by zero");if(z(I))return new se(E,E);if(K(I))return R=ae(L(I),R),new se(L(R.g),L(R.h));if(K(R))return R=ae(I,L(R)),new se(L(R.g),R.h);if(I.g.length>30){if(K(I)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var T=A,C=R;C.l(I)<=0;)T=ie(T),C=ie(C);var D=ue(T,1),k=ue(C,1);for(C=ue(C,2),T=ue(T,2);!z(C);){var N=k.add(C);N.l(I)<=0&&(D=D.add(T),k=N),C=ue(C,1),T=ue(T,1)}return R=$(I,D.j(R)),new se(D,R)}for(D=E;I.l(R)>=0;){for(T=Math.max(1,Math.floor(I.m()/R.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),k=y(T),N=k.j(R);K(N)||N.l(I)>0;)T-=C,k=y(T),N=k.j(R);z(k)&&(k=A),D=D.add(k),I=$(I,N)}return new se(D,I)}r.B=function(I){return ae(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let C=0;C<R;C++)T[C]=this.i(C)&I.i(C);return new f(T,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let C=0;C<R;C++)T[C]=this.i(C)|I.i(C);return new f(T,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),T=[];for(let C=0;C<R;C++)T[C]=this.i(C)^I.i(C);return new f(T,this.h^I.h)};function ie(I){const R=I.g.length+1,T=[];for(let C=0;C<R;C++)T[C]=I.i(C)<<1|I.i(C-1)>>>31;return new f(T,I.h)}function ue(I,R){const T=R>>5;R%=32;const C=I.g.length-T,D=[];for(let k=0;k<C;k++)D[k]=R>0?I.i(k+T)>>>R|I.i(k+T+1)<<32-R:I.i(k+T);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,p_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,ss=f}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g_,ql,y_,nh,Bm,v_,__,x_;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var v=0;v<u.length;++v){var x=u[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var x=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var F=u[S];if(!(F in x))break e;x=x[F]}u=u[u.length-1],S=x[u],v=v(S),v!=S&&v!=null&&e(x,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var x=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&x.push([S,v[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,x){return u.call.apply(u.bind,arguments)}function y(u,v,x){return y=g,y.apply(null,arguments)}function _(u,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,v){function x(){}x.prototype=v.prototype,u.Z=v.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(S,F,X){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return v.prototype[F].apply(S,le)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const v=u.length;if(v>0){const x=Array(v);for(let S=0;S<v;S++)x[S]=u[S];return x}return[]}function z(u,v){for(let S=1;S<arguments.length;S++){const F=arguments[S];var x=typeof F;if(x=x!="object"?x:F?Array.isArray(F)?"array":x:"null",x=="array"||x=="object"&&typeof F.length=="number"){x=u.length||0;const X=F.length||0;u.length=x+X;for(let le=0;le<X;le++)u[x+le]=F[le]}else u.push(F)}}class K{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(u){f.setTimeout(()=>{throw u},0)}function $(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,x){const S=se.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new K(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,I=new q,R=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(T)}};function T(){for(var u;u=$();){try{u.h.call(u.g)}catch(x){L(x)}var v=se;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ue=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};f.addEventListener("test",x,v),f.removeEventListener("test",x,v)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ve(u,v){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(ve,D),ve.prototype.init=function(u,v){const x=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(x=="mouseover"?v=u.fromElement:x=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function W(u,v,x,S,F){this.listener=u,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=F,this.key=++Q,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Se(u,v,x){for(const S in u)v.call(x,u[S],S,u)}function M(u,v){for(const x in u)v.call(void 0,u[x],x,u)}function re(u){const v={};for(const x in u)v[x]=u[x];return v}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,v){let x,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(x in S)u[x]=S[x];for(let X=0;X<de.length;X++)x=de[X],Object.prototype.hasOwnProperty.call(S,x)&&(u[x]=S[x])}}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,v,x,S,F){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const le=be(u,v,S,F);return le>-1?(v=u[le],x||(v.fa=!1)):(v=new W(v,this.src,X,!!S,F),v.fa=x,u.push(v)),v};function Me(u,v){const x=v.type;if(x in u.g){var S=u.g[x],F=Array.prototype.indexOf.call(S,v,void 0),X;(X=F>=0)&&Array.prototype.splice.call(S,F,1),X&&(oe(v),u.g[x].length==0&&(delete u.g[x],u.h--))}}function be(u,v,x,S){for(let F=0;F<u.length;++F){const X=u[F];if(!X.da&&X.listener==v&&X.capture==!!x&&X.ha==S)return F}return-1}var At="closure_lm_"+(Math.random()*1e6|0),Ge={};function cn(u,v,x,S,F){if(Array.isArray(v)){for(let X=0;X<v.length;X++)cn(u,v[X],x,S,F);return null}return x=Rc(x),u&&u[me]?u.J(v,x,p(S)?!!S.capture:!1,F):yn(u,v,x,!1,S,F)}function yn(u,v,x,S,F,X){if(!v)throw Error("Invalid event type");const le=p(F)?!!F.capture:!!F;let Ce=Mo(u);if(Ce||(u[At]=Ce=new ge(u)),x=Ce.add(v,x,S,le,X),x.proxy)return x;if(S=Dr(),x.proxy=S,S.src=u,S.listener=x,u.addEventListener)k||(F=le),F===void 0&&(F=!1),u.addEventListener(v.toString(),S,F);else if(u.attachEvent)u.attachEvent(un(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Dr(){function u(x){return v.call(u.src,u.listener,x)}const v=ko;return u}function Nn(u,v,x,S,F){if(Array.isArray(v))for(var X=0;X<v.length;X++)Nn(u,v[X],x,S,F);else S=p(S)?!!S.capture:!!S,x=Rc(x),u&&u[me]?(u=u.i,X=String(v).toString(),X in u.g&&(v=u.g[X],x=be(v,x,S,F),x>-1&&(oe(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete u.g[X],u.h--)))):u&&(u=Mo(u))&&(v=u.g[v.toString()],u=-1,v&&(u=be(v,x,S,F)),(x=u>-1?v[u]:null)&&Ne(x))}function Ne(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[me])Me(v.i,u);else{var x=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(x,S,u.capture):v.detachEvent?v.detachEvent(un(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=Mo(v))?(Me(x,u),x.h==0&&(x.src=null,v[At]=null)):oe(u)}}}function un(u){return u in Ge?Ge[u]:Ge[u]="on"+u}function ko(u,v){if(u.da)u=!0;else{v=new ve(v,this);const x=u.listener,S=u.ha||u.src;u.fa&&Ne(u),u=x.call(S,v)}return u}function Mo(u){return u=u[At],u instanceof ge?u:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rc(u){return typeof u=="function"?u:(u[hn]||(u[hn]=function(v){return u.handleEvent(v)}),u[hn])}function Rt(){C.call(this),this.i=new ge(this),this.M=this,this.G=null}E(Rt,C),Rt.prototype[me]=!0,Rt.prototype.removeEventListener=function(u,v,x,S){Nn(this,u,v,x,S)};function kt(u,v){var x,S=u.G;if(S)for(x=[];S;S=S.G)x.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new D(v,u);else if(v instanceof D)v.target=v.target||u;else{var F=v;v=new D(S,u),ce(v,F)}F=!0;let X,le;if(x)for(le=x.length-1;le>=0;le--)X=v.g=x[le],F=kr(X,S,!0,v)&&F;if(X=v.g=u,F=kr(X,S,!0,v)&&F,F=kr(X,S,!1,v)&&F,x)for(le=0;le<x.length;le++)X=v.g=x[le],F=kr(X,S,!1,v)&&F}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const x=u.g[v];for(let S=0;S<x.length;S++)oe(x[S]);delete u.g[v],u.h--}}this.G=null},Rt.prototype.J=function(u,v,x,S){return this.i.add(String(u),v,!1,x,S)},Rt.prototype.K=function(u,v,x,S){return this.i.add(String(u),v,!0,x,S)};function kr(u,v,x,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let X=0;X<v.length;++X){const le=v[X];if(le&&!le.da&&le.capture==x){const Ce=le.listener,st=le.ha||le.src;le.fa&&Me(u.i,le),F=Ce.call(st,S)!==!1&&F}}return F&&!S.defaultPrevented}function dd(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(u,v||0)}function Oo(u){u.g=dd(()=>{u.g=null,u.i&&(u.i=!1,Oo(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class fd extends C{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(u){C.call(this),this.h=u,this.g={}}E(vs,C);var mi=[];function Yt(u){Se(u.g,function(v,x){this.g.hasOwnProperty(x)&&Ne(v)},u),u.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Yt(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=f.JSON.stringify,rn=f.JSON.parse,md=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Nc(){}function Cc(){}var sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pi(){D.call(this,"d")}E(pi,D);function qn(){D.call(this,"c")}E(qn,D);var In={},gi=null;function ga(){return gi=gi||new Rt}In.Ia="serverreachability";function Vo(u){D.call(this,In.Ia,u)}E(Vo,D);function yi(u){const v=ga();kt(v,new Vo(v))}In.STAT_EVENT="statevent";function ya(u,v){D.call(this,In.STAT_EVENT,u),this.stat=v}E(ya,D);function ft(u){const v=ga();kt(v,new ya(v,u))}In.Ja="timingevent";function Ic(u,v){D.call(this,In.Ja,u),this.size=v}E(Ic,D);function vi(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},v)}function _i(){this.g=!0}_i.prototype.ua=function(){this.g=!1};function Po(u,v,x,S,F,X){u.info(function(){if(u.g)if(X){var le="",Ce=X.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var st=Ce[Ke].split("=");if(st.length>1){const gt=st[0];st=st[1];const vn=gt.split("_");le=vn.length>=2&&vn[1]=="type"?le+(gt+"="+st+"&"):le+(gt+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+x+`
`+le})}function Lo(u,v,x,S,F,X,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+x+`
`+X+" "+le})}function Mr(u,v,x,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+ar(u,x)+(S?" "+S:"")})}function pd(u,v){u.info(function(){return"TIMEOUT: "+v})}_i.prototype.info=function(){};function ar(u,v){if(!u.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var x=X[u];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var F=S[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return Cn(X)}catch{return v}}var mt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Or;function _s(){}E(_s,Nc),_s.prototype.g=function(){return new XMLHttpRequest},Or=new _s;function xs(u){return encodeURIComponent(String(u))}function gd(u){var v=1;u=u.split(":");const x=[];for(;v>0&&u.length;)x.push(u.shift()),v--;return u.length&&x.push(u.join(":")),x}function Fn(u,v,x,S){this.j=u,this.i=v,this.l=x,this.S=S||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var va={},or={};function lr(u,v,x){u.M=1,u.A=Pr(ot(v)),u.u=x,u.R=!0,bi(u,null)}function bi(u,v){u.F=Date.now(),bs(u),u.B=ot(u.A);var x=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Mc(x.i,"t",S),u.C=0,x=u.j.L,u.h=new xi,u.g=Na(u.j,x?v:null,!u.u),u.P>0&&(u.O=new fd(y(u.Y,u,u.g),u.P)),v=u.V,x=u.g,S=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(mi[0]=F.toString()),F=mi);for(let X=0;X<F.length;X++){const le=cn(x,F[X],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.J?re(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),yi(),Po(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const v=this.O;v&&Qt(u)==3?v.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=Qt(this.g),st=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ds(this.g)))){this.K||Ce!=4||st==7||(st==8||Ke<=0?yi(3):yi(2)),ur(this);var v=this.g.ca();this.X=v;var x=wi(this);if(this.o=v==200,Lo(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,F=this.g;if((S=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var X=S;break t}}X=null}if(u=X)Mr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_a(this,u);else{this.o=!1,this.m=3,ft(12),hr(this),ws(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<x.length;)if(gt=jc(this,x),gt==or){Ce==4&&(this.m=4,ft(14),u=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==va){this.m=4,ft(15),Mr(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Mr(this.i,this.l,gt,null),_a(this,gt);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||x.length!=0||this.h.h||(this.m=1,ft(16),u=!1),this.o=this.o&&u,!u)Mr(this.i,this.l,x,"[Invalid Chunked Response]"),hr(this),ws(this);else if(x.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Yo(le),le.P=!0,ft(11))}}else Mr(this.i,this.l,x,null),_a(this,x);Ce==4&&hr(this),this.o&&!this.K&&(Ce==4?Qo(this.j,this):(this.o=!1,bs(this)))}else ks(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),hr(this),ws(this)}}}catch{}finally{}};function wi(u){if(!pt(u))return u.g.la();const v=Ds(u.g);if(v==="")return"";let x="";const S=v.length,F=Qt(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hr(u),ws(u),"";u.h.i=new f.TextDecoder}for(let X=0;X<S;X++)u.h.h=!0,x+=u.h.i.decode(v[X],{stream:!(F&&X==S-1)});return v.length=0,u.h.g+=x,u.C=0,u.h.g}function pt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function jc(u,v){var x=u.C,S=v.indexOf(`
`,x);return S==-1?or:(x=Number(v.substring(x,S)),isNaN(x)?va:(S+=1,S+x>v.length?or:(v=v.slice(S,S+x),u.C=S+x,v)))}Fn.prototype.cancel=function(){this.K=!0,hr(this)};function bs(u){u.T=Date.now()+u.H,cr(u,u.H)}function cr(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(y(u.aa,u),v)}function ur(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pd(this.i,this.B),this.M!=2&&(yi(),ft(17)),hr(this),this.m=2,ws(this)):cr(this,this.T-u)};function ws(u){u.j.I==0||u.K||Qo(u.j,u)}function hr(u){ur(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Yt(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function _a(u,v){try{var x=u.j;if(x.I!=0&&(x.g==u||Ss(x.h,u))){if(!u.L&&Ss(x.h,u)&&x.I==3){try{var S=x.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Ra(x),dr(x);else break e;Ko(x),ft(18)}}else x.xa=F[1],0<x.xa-x.K&&F[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=vi(y(x.Va,x),6e3));jn(x.h)<=1&&x.ta&&(x.ta=void 0)}else zr(x,11)}else if((u.L||x.g==u)&&Ra(x),!N(v))for(F=x.Ba.g.parse(v),v=0;v<F.length;v++){let Ke=F[v];const gt=Ke[0];if(!(gt<=x.K))if(x.K=gt,Ke=Ke[1],x.I==2)if(Ke[0]=="c"){x.M=Ke[1],x.ba=Ke[2];const vn=Ke[3];vn!=null&&(x.ka=vn,x.j.info("VER="+x.ka));const fr=Ke[4];fr!=null&&(x.za=fr,x.j.info("SVER="+x.za));const $n=Ke[5];$n!=null&&typeof $n=="number"&&$n>0&&(S=1.5*$n,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const Kn=u.g;if(Kn){const Yn=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var X=S.h;X.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(xa(X,X.h),X.h=null))}if(S.G){const Wo=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(S.wa=Wo,Xe(S.J,S.G,Wo))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var le=u;if(S.na=Fc(S,S.L?S.ba:null,S.W),le.L){Vr(S.h,le);var Ce=le,st=S.O;st&&(Ce.H=st),Ce.D&&(ur(Ce),bs(Ce)),S.g=le}else Uc(S);x.i.length>0&&Ps(x)}else Ke[0]!="stop"&&Ke[0]!="close"||zr(x,7);else x.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?zr(x,7):Os(x):Ke[0]!="noop"&&x.l&&x.l.qa(Ke),x.A=0)}}yi(4)}catch{}}var yd=class{constructor(u,v){this.g=u,this.map=v}};function Es(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ts(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jn(u){return u.h?1:u.g?u.g.size:0}function Ss(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function xa(u,v){u.g?u.g.add(v):u.h=v}function Vr(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Es.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ba(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const x of u.g.values())v=v.concat(x.G);return v}return V(u.i)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vd(u,v){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const S=u[x].indexOf("=");let F,X=null;S>=0?(F=u[x].substring(0,S),X=u[x].substring(S+1)):F=u[x],v(F,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Hn?(this.l=u.l,Ei(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Ti(this,Oc(u.i)),this.m=u.m):u&&(v=String(u).match(wa))?(this.l=!1,Ei(this,v[1]||"",!0),this.o=Rs(v[2]||""),this.g=Rs(v[3]||"",!0),As(this,v[4]),this.h=Rs(v[5]||"",!0),Ti(this,v[6]||"",!0),this.m=Rs(v[7]||"")):(this.l=!1,this.i=new Dn(null,this.l))}Hn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Mt(v,zo,!0),":");var x=this.g;return(x||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Mt(v,zo,!0),"@"),u.push(xs(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Mt(x,x.charAt(0)=="/"?Si:Bo,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Mt(x,kc)),u.join("")},Hn.prototype.resolve=function(u){const v=ot(this);let x=!!u.j;x?Ei(v,u.j):x=!!u.o,x?v.o=u.o:x=!!u.g,x?v.g=u.g:x=u.u!=null;var S=u.h;if(x)As(v,u.u);else if(x=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var F=v.h.lastIndexOf("/");F!=-1&&(S=v.h.slice(0,F+1)+S)}if(F=S,F==".."||F==".")S="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){S=F.lastIndexOf("/",0)==0,F=F.split("/");const X=[];for(let le=0;le<F.length;){const Ce=F[le++];Ce=="."?S&&le==F.length&&X.push(""):Ce==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),S&&le==F.length&&X.push("")):(X.push(Ce),S=!0)}S=X.join("/")}else S=F}return x?v.h=S:x=u.i.toString()!=="",x?Ti(v,Oc(u.i)):x=!!u.m,x&&(v.m=u.m),v};function ot(u){return new Hn(u)}function Ei(u,v,x){u.j=x?Rs(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Ti(u,v,x){v instanceof Dn?(u.i=v,Ho(u.i,u.l)):(x||(v=Mt(v,Dc)),u.i=new Dn(v,u.l))}function Xe(u,v,x){u.i.set(v,x)}function Pr(u){return Xe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Rs(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mt(u,v,x){return typeof u=="string"?(u=encodeURI(u).replace(v,Uo),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Uo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zo=/[#\/\?@]/g,Bo=/[#\?:]/g,Si=/[#\?]/g,Dc=/[#\?@]/g,kc=/#/g;function Dn(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&vd(u.i,function(v,x){u.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}r=Dn.prototype,r.add=function(u,v){Lr(this),this.i=null,u=Gn(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(v),this.h+=1,this};function qo(u,v){Lr(u),v=Gn(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Fo(u,v){return Lr(u),v=Gn(u,v),u.g.has(v)}r.forEach=function(u,v){Lr(this),this.g.forEach(function(x,S){x.forEach(function(F){u.call(v,F,S,this)},this)},this)};function Ea(u,v){Lr(u);let x=[];if(typeof v=="string")Fo(u,v)&&(x=x.concat(u.g.get(Gn(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)x=x.concat(u[v]);return x}r.set=function(u,v){return Lr(this),this.i=null,u=Gn(this,u),Fo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=Ea(this,u),u.length>0?String(u[0]):v):v};function Mc(u,v,x){qo(u,v),x.length>0&&(u.i=null,u.g.set(Gn(u,v),V(x)),u.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var x=v[S];const F=xs(x);x=Ea(this,x);for(let X=0;X<x.length;X++){let le=F;x[X]!==""&&(le+="="+xs(x[X])),u.push(le)}}return this.i=u.join("&")};function Oc(u){const v=new Dn;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Gn(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Ho(u,v){v&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(x,S){const F=S.toLowerCase();S!=F&&(qo(this,S),Mc(this,F,x))},u)),u.j=v}function Go(u,v){const x=new _i;if(f.Image){const S=new Image;S.onload=_(sn,x,"TestLoadImage: loaded",!0,v,S),S.onerror=_(sn,x,"TestLoadImage: error",!1,v,S),S.onabort=_(sn,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=_(sn,x,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function Ai(u,v){const x=new _i,S=new AbortController,F=setTimeout(()=>{S.abort(),sn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(X=>{clearTimeout(F),X.ok?sn(x,"TestPingServer: ok",!0,v):sn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),sn(x,"TestPingServer: error",!1,v)})}function sn(u,v,x,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(x)}catch{}}function Vc(){this.g=new md}function Ns(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Ns,Nc),Ns.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(u,v){Rt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Cs,Rt),r=Cs.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Ur(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,an(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ri(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ri(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?an(this):Ur(this),this.readyState==3&&Ri(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,an(this))},r.Na=function(u){this.g&&(this.response=u,an(this))},r.ga=function(){this.g&&an(this)};function an(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ur(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=v.next();return u.join(`\r
`)};function Ur(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ni(u){let v="";return Se(u,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function kn(u,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Ni(x),typeof u=="string"?x!=null&&xs(x):Xe(u,v,x))}function nt(u){Rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(nt,Rt);var Ta=/^https?$/i,Pc=["POST","PUT"];r=nt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Or.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(X){Is(this,X);return}if(u=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)x.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())x.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Pc,v,void 0)>=0)||S||F||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of x)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){Is(this,X)}};function Is(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,js(u),Nt(u)}function js(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,kt(this,"complete"),kt(this,"abort"),Nt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nt(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$o(this):this.Xa())},r.Xa=function(){$o(this)};function $o(u){if(u.h&&typeof c<"u"){if(u.v&&Qt(u)==4)setTimeout(u.Ca.bind(u),0);else if(kt(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=X===0){let le=String(u.D).match(wa)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),S=!Ta.test(le?le.toLowerCase():"")}x=S}if(x)kt(u,"complete"),kt(u,"success");else{u.o=6;try{var F=Qt(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",js(u)}}finally{Nt(u)}}}}function Nt(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,v||kt(u,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),rn(v)}};function Ds(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(u){const v={};u=(u.g&&Qt(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var x=gd(u[S]);const F=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=v[F]||[];v[F]=X,X.push(x)}M(v,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(u,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||v}function Sa(u){this.za=0,this.i=[],this.j=new _i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ms("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ms("baseRetryDelayMs",5e3,u),this.Za=Ms("retryDelaySeedMs",1e4,u),this.Ta=Ms("forwardChannelMaxRetries",2,u),this.va=Ms("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Es(u&&u.concurrentRequestLimit),this.Ba=new Vc,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sa.prototype,r.ka=8,r.I=1,r.connect=function(u,v,x,S){ft(0),this.W=u,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=Fc(this,null,this.W),Ps(this)};function Os(u){if(Vs(u),u.I==3){var v=u.V++,x=ot(u.J);if(Xe(x,"SID",u.M),Xe(x,"RID",v),Xe(x,"TYPE","terminate"),Ls(u,x),v=new Fn(u,u.j,v),v.M=2,v.A=Pr(ot(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=v.A,x=!0),x||(v.g=Na(v.j,null),v.g.ea(v.A)),v.F=Date.now(),bs(v)}qc(u)}function dr(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function Vs(u){dr(u),u.v&&(f.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ps(u){if(!Ts(u.h)&&!u.m){u.m=!0;var v=u.Ea;ie||R(),ue||(ie(),ue=!0),I.add(v,u),u.D=0}}function _d(u,v){return jn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(y(u.Ea,u,v),Bc(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new Fn(this,this.j,u);let X=this.o;if(this.U&&(X?(X=re(X),ce(X,this.U)):X=this.U),this.u!==null||this.R||(F.J=X,X=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Aa(this,F,v),x=ot(this.J),Xe(x,"RID",u),Xe(x,"CVER",22),this.G&&Xe(x,"X-HTTP-Session-Id",this.G),Ls(this,x),X&&(this.R?v="headers="+xs(Ni(X))+"&"+v:this.u&&kn(x,this.u,X)),xa(this.h,F),this.Ra&&Xe(x,"TYPE","init"),this.S?(Xe(x,"$req",v),Xe(x,"SID","null"),F.U=!0,lr(F,x,null)):lr(F,x,v),this.I=2}}else this.I==3&&(u?Lc(this,u):this.i.length==0||Ts(this.h)||Lc(this))};function Lc(u,v){var x;v?x=v.l:x=u.V++;const S=ot(u.J);Xe(S,"SID",u.M),Xe(S,"RID",x),Xe(S,"AID",u.K),Ls(u,S),u.u&&u.o&&kn(S,u.u,u.o),x=new Fn(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Aa(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xa(u.h,x),lr(x,S,v)}function Ls(u,v){u.H&&Se(u.H,function(x,S){Xe(v,S,x)}),u.l&&Se({},function(x,S){Xe(v,S,x)})}function Aa(u,v,x){x=Math.min(u.i.length,x);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var F=u.i;let Ce=-1;for(;;){const st=["count="+x];Ce==-1?x>0?(Ce=F[0].g,st.push("ofs="+Ce)):Ce=0:st.push("ofs="+Ce);let Ke=!0;for(let gt=0;gt<x;gt++){var X=F[gt].g;const vn=F[gt].map;if(X-=Ce,X<0)Ce=Math.max(0,F[gt].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var le=vn instanceof Map?vn:Object.entries(vn);for(const[fr,$n]of le){let Kn=$n;p($n)&&(Kn=Cn($n)),st.push(X+fr+"="+encodeURIComponent(Kn))}}catch(fr){throw st.push(X+"type="+encodeURIComponent("_badmap")),fr}}catch{S&&S(vn)}}if(Ke){le=st.join("&");break e}}le=void 0}return u=u.i.splice(0,x),v.G=u,le}function Uc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ie||R(),ue||(ie(),ue=!0),I.add(v,u),u.A=0}}function Ko(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(y(u.Da,u),Bc(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),dr(this),zc(this))};function Yo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function zc(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=ot(u.na);Xe(v,"RID","rpc"),Xe(v,"SID",u.M),Xe(v,"AID",u.K),Xe(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xe(v,"TO",u.ia),Xe(v,"TYPE","xmlhttp"),Ls(u,v),u.u&&u.o&&kn(v,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Pr(ot(v)),x.u=null,x.R=!0,bi(x,u)}r.Va=function(){this.C!=null&&(this.C=null,dr(this),Ko(this),ft(19))};function Ra(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Qo(u,v){var x=null;if(u.g==v){Ra(u),Yo(u),u.g=null;var S=2}else if(Ss(u.h,v))x=v.G,Vr(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var F=u.D;S=ga(),kt(S,new Ic(S,x)),Ps(u)}else Uc(u);else if(F=v.m,F==3||F==0&&v.X>0||!(S==1&&_d(u,v)||S==2&&Ko(u)))switch(x&&x.length>0&&(v=u.h,v.i=v.i.concat(x)),F){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function Bc(u,v){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*v}function zr(u,v){if(u.j.info("Error code "+v),v==2){var x=y(u.bb,u),S=u.Ua;const F=!S;S=new Hn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ei(S,"https"),Pr(S),F?Go(S.toString(),x):Ai(S.toString(),x)}else ft(2);u.I=0,u.l&&u.l.pa(v),qc(u),Vs(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function qc(u){if(u.I=0,u.ja=[],u.l){const v=ba(u.h);(v.length!=0||u.i.length!=0)&&(z(u.ja,v),z(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function Fc(u,v,x){var S=x instanceof Hn?ot(x):new Hn(x);if(S.g!="")v&&(S.g=v+"."+S.g),As(S,S.u);else{var F=f.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const X=new Hn(null);S&&Ei(X,S),v&&(X.g=v),F&&As(X,F),x&&(X.h=x),S=X}return x=u.G,v=u.wa,x&&v&&Xe(S,x,v),Xe(S,"VER",u.ka),Ls(u,S),S}function Na(u,v,x){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new nt(new Ns({ab:x})):new nt(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}r=Hc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ca(){}Ca.prototype.g=function(u,v){return new on(u,v)};function on(u,v){Rt.call(this),this.g=new Sa(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!N(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Ci(this)}E(on,Rt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Os(this.g)},on.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=Cn(u),u=x);v.i.push(new yd(v.Ya++,u)),v.I==3&&Ps(v)},on.prototype.N=function(){this.g.l=null,delete this.j,Os(this.g),delete this.g,on.Z.N.call(this)};function Xo(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const x in v){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(Xo,pi);function Gc(){qn.call(this),this.status=1}E(Gc,qn);function Ci(u){this.g=u}E(Ci,Hc),Ci.prototype.ra=function(){kt(this.g,"a")},Ci.prototype.qa=function(u){kt(this.g,new Xo(u))},Ci.prototype.pa=function(u){kt(this.g,new Gc)},Ci.prototype.oa=function(){kt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,x_=function(){return new Ca},__=function(){return ga()},v_=In,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,nh=mt,Bt.COMPLETE="complete",y_=Bt,Cc.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,ql=Cc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,g_=nt}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",cv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new _p("@firebase/firestore");function io(){return oa.logLevel}function fe(r,...e){if(oa.logLevel<=Pe.DEBUG){const n=e.map(wp);oa.debug(`Firestore (${To}): ${r}`,...n)}}function li(r,...e){if(oa.logLevel<=Pe.ERROR){const n=e.map(wp);oa.error(`Firestore (${To}): ${r}`,...n)}}function go(r,...e){if(oa.logLevel<=Pe.WARN){const n=e.map(wp);oa.warn(`Firestore (${To}): ${r}`,...n)}}function wp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,b_(r,s,n)}function b_(r,e,n){let s=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw li(s),new Error(s)}function $e(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||b_(e,o,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class e3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class t3{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new si;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new si,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new si)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new w_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class n3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new n3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=s3(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function qm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Tm(o)===Tm(c)?Le(o,c):Tm(o)?1:-1}return Le(r.length,e.length)}const a3=55296,o3=57343;function Tm(r){const e=r.charCodeAt(0);return e>=a3&&e<=o3}function yo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__name__";class _r{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=_r.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const s=_r.isNumericId(e),o=_r.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class it extends _r{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const l3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends _r{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return l3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new $t([hv])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(r,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function c3(r,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dv(r){if(!_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function T_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ci(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function vc(r,e){if(!T_(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=-62135596800,pv=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pv);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mv)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vc(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Tt("string",tt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new tt(0,0))}static max(){return new Re(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function u3(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new cs(o,_e.empty(),e)}function h3(r){return new cs(r.readTime,r.key,ic)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(Re.min(),_e.empty(),ic)}static max(){return new cs(Re.max(),_e.empty(),ic)}}function d3(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==f3)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,c=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++c,f&&c===o&&n()}),(g=>s(g)))})),f=!0,c===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{f[y]=_,++p,p===c&&s(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function p3(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=-1;function $h(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function g3(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="";function y3(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=gv(e)),e=v3(r.get(n),e);return gv(e)}function v3(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case S_:n+="";break;default:n+=c}}return n}function gv(r){return r+S_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function A_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(e){return new vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Dt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new R_("Invalid base64 string: "+c):c}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const _3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=_3.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="server_timestamp",C_="__type__",I_="__previous_value__",j_="__local_write_time__";function Sp(r){return(r?.mapValue?.fields||{})[C_]?.stringValue===N_}function Kh(r){const e=r.mapValue.fields[I_];return Sp(e)?Kh(e):e}function sc(r){const e=us(r.mapValue.fields[j_].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,s,o,c,f,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const wh="(default)";class ac{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__type__",b3="__max__",Qu={mapValue:{}},k_="__vector__",Eh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:E3(r)?9007199254740991:w3(r)?10:11:Ee(28295,{value:r})}function Ar(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return sc(r).isEqual(sc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=us(o.timestampValue),p=us(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return hs(o.bytesValue).isEqual(hs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return _t(o.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _t(o.integerValue)===_t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=_t(o.doubleValue),p=_t(c.doubleValue);return f===p?bh(f)===bh(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(yv(f)!==yv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Ar(f[g],p[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function oc(r,e){return(r.values||[]).find((n=>Ar(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const p=_t(c.integerValue||c.doubleValue),g=_t(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return _v(r.timestampValue,e.timestampValue);case 4:return _v(sc(r),sc(e));case 5:return qm(r.stringValue,e.stringValue);case 6:return(function(c,f){const p=hs(c),g=hs(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const p=c.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Le(p[y],g[y]);if(_!==0)return _}return Le(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const p=Le(_t(c.latitude),_t(f.latitude));return p!==0?p:Le(_t(c.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return xv(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const p=c.fields||{},g=f.fields||{},y=p[Eh]?.arrayValue,_=g[Eh]?.arrayValue,E=Le(y?.values?.length||0,_?.values?.length||0);return E!==0?E:xv(y,_)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Qu.mapValue&&f===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(f===Qu.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=f.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const A=qm(g[E],_[E]);if(A!==0)return A;const V=vo(p[g[E]],y[_[E]]);if(V!==0)return V}return Le(g.length,_.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function _v(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=us(r),s=us(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function xv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=vo(n[o],s[o]);if(c)return c}return Le(n.length,s.length)}function _o(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Fm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function rh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+rh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((c,f)=>{o+=c.length+rh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function bv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hm(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function w3(r){return(r?.mapValue?.fields||{})[D_]?.stringValue===k_}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function E3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===b3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Yl(f):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new gn(Yl(this.value))}}function M_(r){const e=[];return gs(r.fields,((n,s)=>{const o=new $t([n]);if(ih(s)){const c=M_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,c,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Re.min(),Re.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Re.min(),Re.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function Tv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ar(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function T3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{}class Et extends O_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new A3(e,n,s):n==="array-contains"?new C3(e,s):n==="in"?new I3(e,s):n==="not-in"?new j3(e,s):n==="array-contains-any"?new D3(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new R3(e,s):new N3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends O_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return V_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V_(r){return r.op==="and"}function P_(r){return S3(r)&&V_(r)}function S3(r){for(const e of r.filters)if(e instanceof ir)return!1;return!0}function Gm(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(P_(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((n=>Gm(n))).join(",");return`${r.op}(${e})`}}function L_(r,e){return r instanceof Et?(function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&Ar(s.value,o.value)})(r,e):r instanceof ir?(function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,p)=>c&&L_(f,o.filters[p])),!0):!1})(r,e):void Ee(19439)}function U_(r){return r instanceof Et?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(U_).join(" ,")+"}"})(r):"Filter"}class A3 extends Et{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class R3 extends Et{constructor(e,n){super(e,"in",n),this.keys=z_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class N3 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=z_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z_(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class C3 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&oc(n.arrayValue,this.value)}}class I3 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class j3 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class D3 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>oc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n=null,s=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function Av(r,e=null,n=[],s=[],o=null,c=null,f=null){return new k3(r,e,n,s,o,c,f)}function Rp(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!T3(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L_(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sv(r.startAt,e.startAt)&&Sv(r.endAt,e.endAt)}function $m(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M3(r,e,n,s,o,c,f,p){return new Ro(r,e,n,s,o,c,f,p)}function Cp(r){return new Ro(r)}function Rv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function B_(r){return r.collectionGroup!==null}function Ql(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Dt($t.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lc(c,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new lc($t.keyField(),s))}return e.Ie}function br(r){const e=Ie(r);return e.Ee||(e.Ee=O3(e,Ql(r))),e.Ee}function O3(r,e){if(r.limitType==="F")return Av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lc(o.field,c)}));const n=r.endAt?new Th(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Th(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Km(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ym(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return Np(br(r),br(e))&&r.limitType===e.limitType}function q_(r){return`${Rp(br(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>U_(o))).join(", ")}]`),$h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(br(r))}; limitType=${r.limitType})`}function Qh(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Ql(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=Tv(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,p,g){const y=Tv(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Ql(s),o))})(r,e)}function V3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F_(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const c=P3(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function P3(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,f,p){const g=f.data.field(c),y=p.data.field(c);return g!==null&&y!==null?vo(g,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return A_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new ut(_e.comparator);function ui(){return L3}const H_=new ut(_e.comparator);function Fl(...r){let e=H_;for(const n of r)e=e.insert(n.key,n);return e}function G_(r){let e=H_;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function na(){return Xl()}function $_(){return Xl()}function Xl(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const U3=new ut(_e.comparator),z3=new Dt(_e.comparator);function Ue(...r){let e=z3;for(const n of r)e=e.add(n);return e}const B3=new Dt(Le);function q3(){return B3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function K_(r){return{integerValue:""+r}}function F3(r,e){return g3(e)?K_(e):Ip(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function H3(r,e,n){return r instanceof cc?(function(o,c){const f={fields:{[C_]:{stringValue:N_},[j_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Sp(c)&&(c=Kh(c)),c&&(f.fields[I_]=c),{mapValue:f}})(n,e):r instanceof uc?Q_(r,e):r instanceof hc?X_(r,e):(function(o,c){const f=Y_(o,c),p=Nv(f)+Nv(o.Ae);return Hm(f)&&Hm(o.Ae)?K_(p):Ip(o.serializer,p)})(r,e)}function G3(r,e,n){return r instanceof uc?Q_(r,e):r instanceof hc?X_(r,e):n}function Y_(r,e){return r instanceof Sh?(function(s){return Hm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class cc extends Xh{}class uc extends Xh{constructor(e){super(),this.elements=e}}function Q_(r,e){const n=W_(e);for(const s of r.elements)n.some((o=>Ar(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hc extends Xh{constructor(e){super(),this.elements=e}}function X_(r,e){let n=W_(e);for(const s of r.elements)n=n.filter((o=>!Ar(o,s)));return{arrayValue:{values:n}}}class Sh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nv(r){return _t(r.integerValue||r.doubleValue)}function W_(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.field=e,this.transform=n}}function K3(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof uc&&o instanceof uc||s instanceof hc&&o instanceof hc?yo(s.elements,o.elements,Ar):s instanceof Sh&&o instanceof Sh?Ar(s.Ae,o.Ae):s instanceof cc&&o instanceof cc})(r.transform,e.transform)}class Y3{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function Z_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new jp(r.key,tr.none()):new _c(r.key,r.data,tr.none());{const n=r.data,s=gn.empty();let o=new Dt($t.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new ys(r.key,s,new Rn(o.toArray()),tr.none())}}function Q3(r,e,n){r instanceof _c?(function(o,c,f){const p=o.value.clone(),g=Iv(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,c,f){if(!sh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=Iv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(J_(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Wl(r,e,n,s){return r instanceof _c?(function(c,f,p,g){if(!sh(c.precondition,f))return p;const y=c.value.clone(),_=jv(c.fieldTransforms,g,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(c,f,p,g){if(!sh(c.precondition,f))return p;const y=jv(c.fieldTransforms,g,f),_=f.data;return _.setAll(J_(c)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(c,f,p){return sh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function X3(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Y_(s.transform,o||null);c!=null&&(n===null&&(n=gn.empty()),n.set(s.field,c))}return n||null}function Cv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((c,f)=>K3(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _c extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends Wh{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function J_(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Iv(r,e,n){const s=new Map;$e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=e.data.field(c.field);s.set(c.field,G3(f,p,n[o]))}return s}function jv(r,e,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,H3(c,f,e))}return s}class jp extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W3 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Q3(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$_();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=Z_(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>Cv(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>Cv(n,s)))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return U3})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Dp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function tN(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function ex(r){if(r===void 0)return li("GRPC error has no .code"),ee.UNKNOWN;switch(r){case wt.OK:return ee.OK;case wt.CANCELLED:return ee.CANCELLED;case wt.UNKNOWN:return ee.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ee.INTERNAL;case wt.UNAVAILABLE:return ee.UNAVAILABLE;case wt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wt.NOT_FOUND:return ee.NOT_FOUND;case wt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wt.ABORTED:return ee.ABORTED;case wt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new ss([4294967295,4294967295],0);function Dv(r){const e=nN().encode(r),n=new p_;return n.update(e),new Uint8Array(n.digest())}function kv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,c],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(rN)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Dv(e),[s,o]=kv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new kp(c,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=Dv(e),[s,o]=kv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Re.min(),o,new ut(Le),ui(),Ue())}}class xc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xc(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class tx{constructor(e,n){this.targetId=e,this.Ce=n}}class nx{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Mv{constructor(){this.ve=0,this.Fe=Ov(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:c})}})),new xc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ov()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iN{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=Xu(),this.He=Xu(),this.Ye=new ut(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if($m(c))if(s===0){const f=new _e(c.path);this.et(n,f,en.newNoDocument(f,Re.min()))}else $e(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=hs(s).toUint8Array()}catch(g){if(g instanceof R_)return go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new kp(f,o,c)}catch(g){return go(g instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const p=this.ot(f);if(p){if(c.current&&$m(p.target)){const g=new _e(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,en.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Ue();this.He.forEach(((c,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ye,this.je,s);return this.je=ui(),this.Je=Xu(),this.He=Xu(),this.Ye=new ut(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Mv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xu(){return new ut(_e.comparator)}function Ov(){return new ut(_e.comparator)}const sN={asc:"ASCENDING",desc:"DESCENDING"},aN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oN={and:"AND",or:"OR"};class lN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function cN(r,e){return Ah(r,e.toTimestamp())}function wr(r){return $e(!!r,49232),Re.fromTimestamp((function(n){const s=us(n);return new tt(s.seconds,s.nanos)})(r))}function Mp(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function ix(r){const e=it.fromString(r);return $e(cx(e),10190,{key:e.toString()}),e}function Wm(r,e){return Mp(r.databaseId,e.path)}function Sm(r,e){const n=ix(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(ax(n))}function sx(r,e){return Mp(r.databaseId,e)}function uN(r){const e=ix(r);return e.length===4?it.emptyPath():ax(e)}function Zm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ax(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,e,n){return{name:Wm(r,e),fields:n.value.mapValue.fields}}function hN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?($e(_===void 0||typeof _=="string",58123),Kt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Kt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const _=y.code===void 0?ee.UNKNOWN:ex(y.code);return new he(_,y.message||"")})(f);n=new nx(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),c=wr(s.document.updateTime),f=s.document.createTime?wr(s.document.createTime):Re.min(),p=new gn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(o,c,f,p),y=s.targetIds||[],_=s.removedTargetIds||[];n=new ah(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),c=s.readTime?wr(s.readTime):Re.min(),f=en.newNoDocument(o,c),p=s.removedTargetIds||[];n=new ah([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),c=s.removedTargetIds||[];n=new ah([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new eN(o,c),p=s.targetId;n=new tx(p,f)}}return n}function dN(r,e){let n;if(e instanceof _c)n={update:Vv(r,e.key,e.value)};else if(e instanceof jp)n={delete:Wm(r,e.key)};else if(e instanceof ys)n={update:Vv(r,e.key,e.data),updateMask:bN(e.fieldMask)};else{if(!(e instanceof W3))return Ee(16599,{Vt:e.type});n={verify:Wm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const p=f.transform;if(p instanceof cc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:cN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),n}function fN(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((n=>(function(o,c){let f=o.updateTime?wr(o.updateTime):wr(c);return f.isEqual(Re.min())&&(f=wr(c)),new Y3(f,o.transformResults||[])})(n,e)))):[]}function mN(r,e){return{documents:[sx(r,e.path)]}}function pN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sx(r,o);const c=(function(y){if(y.length!==0)return lx(ir.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((_=>(function(A){return{field:ao(A.field),direction:vN(A.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Qm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function gN(r){let e=uN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(E){const A=ox(E);return A instanceof ir&&P_(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((A=>(function(z){return new lc(oo(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,$h(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(E){const A=!!E.before,V=E.values||[];return new Th(V,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const A=!E.before,V=E.values||[];return new Th(V,A)})(n.endAt)),M3(e,o,f,c,p,"F",g,y)}function yN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ox(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(n.unaryFilter.field);return Et.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Et.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ir.create(n.compositeFilter.filters.map((s=>ox(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function vN(r){return sN[r]}function _N(r){return aN[r]}function xN(r){return oN[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return $t.fromServerFormat(r.fieldPath)}function lx(r){return r instanceof Et?(function(n){if(n.op==="=="){if(Ev(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ev(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:_N(n.op),value:n.value}}})(r):r instanceof ir?(function(n){const s=n.getFilters().map((o=>lx(o)));return s.length===1?s[0]:{compositeFilter:{op:xN(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function bN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,c=Re.min(),f=Re.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.yt=e}}function EN(r){const e=gN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Cn=new SN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(cs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class SN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(it.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ux=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(ux,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="LruGarbageCollector",AN=1048576;function Uv([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class RN{constructor(e){this.Ir=e,this.buffer=new Dt(Uv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Uv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?fe(Lv,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class CN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Gh.ce);const s=new RN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Pv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,f,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),io()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function IN(r,e){return new CN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Wl(s.mutation,o,Rn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let f=Fl();return c.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let c=ui();const f=Xl(),p=(function(){return Xl()})();return n.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ys)?c=c.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),Wl(_.mutation,y,_.mutation.getFieldMask(),tt.now())):f.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>f.set(y,_))),n.forEach(((y,_)=>p.set(y,new DN(_,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ut(((f,p)=>f-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=s.get(g)||Rn.empty();_=p.applyToLocalView(y,_),s.set(g,_);const E=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,E=$_();_.forEach((A=>{if(!c.has(A)){const V=Z_(n.get(A),s.get(A));V!==null&&E.set(A,V),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ne.resolve(na());let p=ic,g=c;return f.next((y=>ne.forEach(y,((_,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((_=>({batchId:p,changes:G_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(E,A){return new Ro(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((E,A)=>{f=f.insert(E,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((f=>{c.forEach(((g,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,en.newInvalidDocument(_)))}));let p=Fl();return f.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&Wl(_.mutation,y,Rn.empty(),tt.now()),Qh(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:wr(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.overlays=new ut(_e.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return ne.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=na(),c=n.length+1,f=new _e(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ut(((y,_)=>y-_));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let _=c.get(y.largestBatchId);_===null&&(_=na(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=na(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return ne.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new J3(n,s));let c=this.qr.get(n);c===void 0&&(c=Ue(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new Dt(Lt.$r),this.Ur=new Dt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new it([])),s=new Lt(n,e),o=new Lt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new it([])),s=new Lt(n,e),o=new Lt(n,e+1);let c=Ue();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Lt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Lt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Z3(c,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Lt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Tp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Le);return n.forEach((o=>{const c=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const f=new Lt(new _e(c),0);let p=new Dt(Le);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const c=new Lt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.ri=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=ui();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=ui();const f=n.path,p=new _e(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||d3(h3(_),s)<=0||(o.has(_.key)||Qh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new UN(this)}getSize(e){return ne.resolve(this.size)}}class UN extends jN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.persistence=e,this.si=new fa((n=>Rp(n)),Np),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new VN,this.referenceDelegate=e(this),this.Pi=new zN(this),this.indexManager=new TN,this.remoteDocumentCache=(function(o){return new LN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wN(n),this.Ii=new MN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ON,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new PN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new BN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class BN extends m3{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new fa((s=>y3(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=IN(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,c.removeEntry(f,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Pp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OA()?8:p3(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new qN;return this.Ss(e,n,f).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(io()<=Pe.DEBUG&&fe("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):ne.resolve())}ys(e,n){if(Rv(n))return ne.resolve(null);let s=br(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ym(n,null,"F"),s=br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Ue(...c);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return Rv(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,o)?ne.resolve(null):(io()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,f,n,u3(o,ic)).next((p=>p)))}))}Ds(e,n){let s=new Dt(F_(e));return n.forEach(((o,c)=>{Qh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,cs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",HN=3e8;class GN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Le),this.xs=new fa((c=>Rp(c)),Np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $N(r,e,n,s){return new GN(r,e,n,s)}async function dx(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],p=[];let g=Ue();for(const y of o){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function KN(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const E=y.batch,A=E.keys();let V=ne.resolve();return A.forEach((z=>{V=V.next((()=>_.getEntry(g,z))).next((K=>{const L=y.docVersions.get(z);$e(L!==null,48541),K.version.compareTo(L)<0&&(E.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),_.addEntry(K)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function fx(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function YN(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,E)=>{const A=o.get(E);if(!A)return;p.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,E))));let V=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(Kt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,s)),o=o.insert(E,V),(function(K,L,$){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=HN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,V,_)&&p.push(n.Pi.updateTargetData(c,V))}));let g=ui(),y=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(QN(c,f,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Re.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return ne.waitFor(p).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function QN(r,e,n){let s=Ue(),o=Ue();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=ui();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):fe(Lp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function XN(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Tp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WN(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(r,e,n){const s=Ie(r),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;fe(Lp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zv(r,e,n){const s=Ie(r);let o=Re.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,_){const E=Ie(g),A=E.xs.get(_);return A!==void 0?ne.resolve(E.Ms.get(A)):E.Pi.getTargetData(y,_)})(s,f,br(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?c:Ue()))).next((p=>(ZN(s,V3(e),p),{documents:p,Qs:c})))))}function ZN(r,e,n){let s=r.Os.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class Bv{constructor(){this.activeTargetIds=q3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.Mo=new Bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="ConnectivityMonitor";class Fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(qv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(qv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function ep(){return Wu===null?Wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",t5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const f=ep(),p=this.zo(e,n.toUriEncodedString());fe(Am,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),_=ha(y);return this.Jo(e,p,g,s,_).then((E=>(fe(Am,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw go(Am,`RPC '${e}' ${f} failed with error: `,E,"url: ",p,"request:",s),E}))}Ho(e,n,s,o,c,f){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=t5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class i5 extends n5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const f=ep();return new Promise(((p,g)=>{const y=new g_;y.setWithCredentials(!0),y.listenOnce(y_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const E=y.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),p(E);break;case nh.TIMEOUT:fe(Zt,`RPC '${e}' ${f} timed out`),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const A=y.getStatus();if(fe(Zt,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const z=V?.error;if(z&&z.status&&z.message){const K=(function($){const q=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(q)>=0?q:ee.UNKNOWN})(z.status);g(new he(K,z.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(Zt,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);fe(Zt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=ep(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=x_(),p=__(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const _=c.join("");fe(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const E=f.createWebChannel(_,g);this.I_(E);let A=!1,V=!1;const z=new r5({Yo:L=>{V?fe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(fe(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),fe(Zt,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),K=(L,$,q)=>{L.listen($,(se=>{try{q(se)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return K(E,ql.EventType.OPEN,(()=>{V||(fe(Zt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),K(E,ql.EventType.CLOSE,(()=>{V||(V=!0,fe(Zt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(E))})),K(E,ql.EventType.ERROR,(L=>{V||(V=!0,go(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),z.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),K(E,ql.EventType.MESSAGE,(L=>{if(!V){const $=L.data[0];$e(!!$,16349);const q=$,se=q?.error||q[0]?.error;if(se){fe(Zt,`RPC '${e}' stream ${o} received error:`,se);const ae=se.status;let ie=(function(R){const T=wt[R];if(T!==void 0)return ex(T)})(ae),ue=se.message;ie===void 0&&(ie=ee.INTERNAL,ue="Unknown error status: "+ae+" with message "+se.message),V=!0,z.a_(new he(ie,ue)),E.close()}else fe(Zt,`RPC '${e}' stream ${o} received:`,$),z.u_($)}})),K(p,v_.STAT_EVENT,(L=>{L.stat===Bm.PROXY?fe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Bm.NOPROXY&&fe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(r){return new lN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="PersistentStream";class px{constructor(e,n,s,o,c,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s5 extends px{constructor(e,n,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hN(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?wr(f.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(c,f){let p;const g=f.target;if(p=$m(g)?{documents:mN(c,g)}:{query:pN(c,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=rx(c,f.resumeToken);const y=Qm(c,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){p.readTime=Ah(c,f.snapshotVersion.toTimestamp());const y=Qm(c,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=yN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class a5 extends px{constructor(e,n,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fN(e.writeResults,e.commitTime),s=wr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{}class l5 extends o5{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Xm(n,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Xm(n,s),o,f,p,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class c5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class u5{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ma(this)&&(fe(la,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await bc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ed(y)})(this))}))})),this.Ra=new c5(s,o)}}async function ed(r){if(ma(r))for(const e of r.da)await e(!0)}async function bc(r){for(const e of r.da)await e(!1)}function gx(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Bp(n):No(n).O_()&&zp(n,e))}function Up(r,e){const n=Ie(r),s=No(n);n.Ia.delete(e),s.O_()&&yx(n,e),n.Ia.size===0&&(s.O_()?s.L_():ma(n)&&n.Ra.set("Unknown"))}function zp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Y_(e)}function yx(r,e){r.Va.Ue(e),No(r).Z_(e)}function Bp(r){r.Va=new iN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Ra.ua()}function qp(r){return ma(r)&&!No(r).x_()&&r.Ia.size>0}function ma(r){return Ie(r).Ea.size===0}function vx(r){r.Va=void 0}async function h5(r){r.Ra.set("Online")}async function d5(r){r.Ia.forEach(((e,n)=>{zp(r,e)}))}async function f5(r,e){vx(r),qp(r)?(r.Ra.ha(e),Bp(r)):r.Ra.set("Unknown")}async function m5(r,e,n){if(r.Ra.set("Online"),e instanceof nx&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){fe(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof ah?r.Va.Ze(e):e instanceof tx?r.Va.st(e):r.Va.tt(e),!n.isEqual(Re.min()))try{const s=await fx(r.localStore);n.compareTo(s)>=0&&await(function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(Kt.EMPTY_BYTE_STRING,_.snapshotVersion)),yx(c,g);const E=new ts(_.target,g,y,_.sequenceNumber);zp(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){fe(la,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!Ao(e))throw e;r.Ea.add(1),await bc(r),r.Ra.set("Offline"),n||(n=()=>fx(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(la,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ed(r)}))}function _x(r,e){return e().catch((n=>Nh(r,n,e)))}async function td(r){const e=Ie(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tp;for(;p5(e);)try{const o=await XN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,g5(e,o)}catch(o){await Nh(e,o)}xx(e)&&bx(e)}function p5(r){return ma(r)&&r.Ta.length<10}function g5(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function xx(r){return ma(r)&&!fs(r).x_()&&r.Ta.length>0}function bx(r){fs(r).start()}async function y5(r){fs(r).ra()}async function v5(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function _5(r,e,n){const s=r.Ta.shift(),o=Dp.from(s,e,n);await _x(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await td(r)}async function x5(r,e){e&&fs(r).X_&&await(async function(s,o){if((function(f){return tN(f)&&f!==ee.ABORTED})(o.code)){const c=s.Ta.shift();fs(s).B_(),await _x(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await td(s)}})(r,e),xx(r)&&bx(r)}async function Gv(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),fe(la,"RemoteStore received new credentials");const s=ma(n);n.Ea.add(3),await bc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ed(n)}async function b5(r,e){const n=Ie(r);e?(n.Ea.delete(2),await ed(n)):e||(n.Ea.add(2),await bc(n),n.Ra.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const c=Ie(n);return c.sa(),new s5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:h5.bind(null,r),t_:d5.bind(null,r),r_:f5.bind(null,r),H_:m5.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),qp(r)?Bp(r):r.Ra.set("Unknown")):(await r.ma.stop(),vx(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,o){const c=Ie(n);return c.sa(),new a5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:y5.bind(null,r),r_:x5.bind(null,r),ta:v5.bind(null,r),na:_5.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await td(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const f=Date.now()+s,p=new Fp(e,n,f,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,e){if(li("AsyncQueue",`${e}: ${r}`),Ao(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.ga=new ut(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bo{constructor(e,n,s,o,c,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new bo(e,n,co.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E5{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),c=o.queries;o.queries=Kv(),c.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Kv(){return new fa((r=>q_(r)),Yh)}async function wx(r,e){const n=Ie(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new w5,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Hp(f,`Initialization of query '${so(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Gp(n)}async function Ex(r,e){const n=Ie(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function T5(r,e){const n=Ie(r);let s=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Gp(n)}function S5(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Gp(r){r.Ca.forEach((e=>{e.next()}))}var tp,Yv;(Yv=tp||(tp={})).Ma="default",Yv.Cache="cache";class Tx{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.key=e}}class Ax{constructor(e){this.key=e}}class A5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=F_(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new $v,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const A=o.get(_),V=Qh(this.query,E)?E:null,z=!!A&&this.mutatedKeys.has(A.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;A&&V?A.data.isEqual(V.data)?z!==K&&(s.track({type:3,doc:V}),L=!0):this.su(A,V)||(s.track({type:2,doc:V}),L=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(p=!0)):!A&&V?(s.track({type:0,doc:V}),L=!0):A&&!V&&(s.track({type:1,doc:A}),L=!0,(g||y)&&(p=!0)),L&&(V?(f=f.add(V),c=K?c.add(_):c.delete(_)):(f=f.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,E)=>(function(V,z){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return K(V)-K(z)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new bo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Ax(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Sx(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $p="SyncEngine";class R5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class N5{constructor(e){this.key=e,this.hu=!1}}class C5{constructor(e,n,s,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fa((p=>q_(p)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(_e.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function I5(r,e,n=!0){const s=Dx(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Rx(s,e,n,!0),o}async function j5(r,e){const n=Dx(r);await Rx(n,e,!0,!1)}async function Rx(r,e,n,s){const o=await WN(r.localStore,br(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await D5(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&gx(r.remoteStore,o),p}async function D5(r,e,n,s,o){r.pu=(E,A,V)=>(async function(K,L,$,q){let se=L.view.ru($);se.Cs&&(se=await zv(K.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,se))));const ae=q&&q.targetChanges.get(L.targetId),ie=q&&q.targetMismatches.get(L.targetId)!=null,ue=L.view.applyChanges(se,K.isPrimaryClient,ae,ie);return Xv(K,L.targetId,ue.au),ue.snapshot})(r,E,A,V);const c=await zv(r.localStore,e,!0),f=new A5(e,c.Qs),p=f.ru(c.documents),g=xc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);Xv(r,n,y.au);const _=new R5(e,n,f);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function k5(r,e,n){const s=Ie(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!Yh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Up(s.remoteStore,o.targetId),np(s,o.targetId)})).catch(So)):(np(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function M5(r,e){const n=Ie(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Up(n.remoteStore,s.targetId))}async function O5(r,e,n){const s=q5(r);try{const o=await(function(f,p){const g=Ie(f),y=tt.now(),_=p.reduce(((V,z)=>V.add(z.key)),Ue());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let z=ui(),K=Ue();return g.Ns.getEntries(V,_).next((L=>{z=L,z.forEach((($,q)=>{q.isValidDocument()||(K=K.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,z))).next((L=>{E=L;const $=[];for(const q of p){const se=X3(q,E.get(q.key).overlayedDocument);se!=null&&$.push(new ys(q.key,se,M_(se.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,$,p)})).next((L=>{A=L;const $=L.applyToLocalDocumentSet(E,K);return g.documentOverlayCache.saveOverlays(V,L.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:G_(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Le)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await wc(s,o.changes),await td(s.remoteStore)}catch(o){const c=Hp(o,"Failed to persist write");n.reject(c)}}async function Nx(r,e){const n=Ie(r);try{const s=await YN(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$e(f.hu,14607):o.removedDocuments.size>0&&($e(f.hu,42227),f.hu=!1))})),await wc(n,s,e)}catch(s){await So(s)}}function Qv(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Ie(f);g.onlineState=p;let y=!1;g.queries.forEach(((_,E)=>{for(const A of E.Sa)A.va(p)&&(y=!0)})),y&&Gp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function V5(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new ut(_e.comparator);f=f.insert(c,en.newNoDocument(c,Re.min()));const p=Ue().add(c),g=new Zh(Re.min(),new Map,new ut(Le),f,p);await Nx(s,g),s.du=s.du.remove(c),s.Au.delete(e),Kp(s)}else await Jm(s.localStore,e,!1).then((()=>np(s,e,n))).catch(So)}async function P5(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await KN(n.localStore,e);Ix(n,s,null),Cx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wc(n,o)}catch(o){await So(o)}}async function L5(r,e,n){const s=Ie(r);try{const o=await(function(f,p){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>($e(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);Ix(s,e,n),Cx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wc(s,o)}catch(o){await So(o)}}function Cx(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Ix(r,e,n){const s=Ie(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function np(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||jx(r,s)}))}function jx(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Up(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Kp(r))}function Xv(r,e,n){for(const s of n)s instanceof Sx?(r.Ru.addReference(s.key,e),U5(r,s)):s instanceof Ax?(fe($p,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||jx(r,s.key)):Ee(19791,{wu:s})}function U5(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe($p,"New document in limbo: "+n),r.Eu.add(s),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(it.fromString(e)),s=r.fu.next();r.Au.set(s,new N5(n)),r.du=r.du.insert(n,s),gx(r.remoteStore,new ts(br(Cp(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function wc(r,e,n){const s=Ie(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=Pp.As(g.targetId,y);c.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const _=Ie(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(A=>ne.forEach(A.Es,(V=>_.persistence.referenceDelegate.addReference(E,A.targetId,V))).next((()=>ne.forEach(A.ds,(V=>_.persistence.referenceDelegate.removeReference(E,A.targetId,V)))))))))}catch(E){if(!Ao(E))throw E;fe(Lp,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const V=_.Ms.get(A),z=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(A,K)}}})(s.localStore,c))}async function z5(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){fe($p,"User change. New user:",e.toKey());const s=await dx(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(ee.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wc(n,s.Ls)}}function B5(r,e){const n=Ie(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Dx(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V5.bind(null,e),e.Pu.H_=T5.bind(null,e.eventManager),e.Pu.yu=S5.bind(null,e.eventManager),e}function q5(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L5.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $N(this.persistence,new FN,e.initialUser,this.serializer)}Cu(e){return new hx(Vp.mi,this.serializer)}Du(e){return new JN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class F5 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new hx((s=>Rh.mi(s,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z5.bind(null,this.syncEngine),await b5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E5})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=(function(c){return new i5(c)})(e.databaseInfo);return(function(c,f,p,g){return new l5(c,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,f,p){return new u5(s,o,c,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Qv(this.syncEngine,n,0)),(function(){return Fv.v()?new Fv:new e5})())}createSyncEngine(e,n){return(function(o,c,f,p,g,y,_){const E=new C5(o,c,f,p,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);fe(la,"RemoteStore shutting down."),s.Ea.add(5),await bc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class H5{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{fe(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dx(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Wv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await G5(r);fe(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Gv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Gv(e.remoteStore,o))),r._onlineComponents=e}async function G5(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ms,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new Ch)}}else fe(ms,"Using default OfflineComponentProvider"),await Nm(r,new F5(void 0));return r._offlineComponents}async function Mx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ms,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(fe(ms,"Using default OnlineComponentProvider"),await Wv(r,new rp))),r._onlineComponents}function $5(r){return Mx(r).then((e=>e.syncEngine))}async function Ox(r){const e=await Mx(r),n=e.eventManager;return n.onListen=I5.bind(null,e.syncEngine),n.onUnlisten=k5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M5.bind(null,e.syncEngine),n}function K5(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const _=new kx({next:A=>{_.Nu(),f.enqueueAndForget((()=>Ex(c,E)));const V=A.docs.has(p);!V&&A.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&g&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new Tx(Cp(p.path),_,{includeMetadataChanges:!0,qa:!0});return wx(c,E)})(await Ox(r),r.asyncQueue,e,n,s))),s.promise}function Y5(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,p,g,y){const _=new kx({next:A=>{_.Nu(),f.enqueueAndForget((()=>Ex(c,E))),A.fromCache&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new Tx(p,_,{includeMetadataChanges:!0,qa:!0});return wx(c,E)})(await Ox(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firestore.googleapis.com",Jv=!0;class e2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Px,this.ssl=Jv}else this.host=e.host,this.ssl=e.ssl??Jv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new JR;switch(s.type){case"firstParty":return new r3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Zv.get(n);s&&(fe("ComponentProvider","Removing Datastore"),Zv.delete(n),s.terminate())})(this),Promise.resolve()}}function Q5(r,e,n,s={}){r=ci(r,nd);const o=ha(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(yp(`https://${p}`),vp("Firestore",!0)),c.host!==Px&&c.host!==p&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!sa(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=Jt.MOCK_USER;else{y=c_(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Jt(E)}r._authCredentials=new e3(new w_(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class St{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vc(n,St._jsonSchema))return new St(e,s||null,new _e(it.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Tt("string",St._jsonSchemaVersion),referencePath:Tt("string")};class as extends pa{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new _e(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function Zn(r,e,...n){if(r=zt(r),E_("collection","path",e),r instanceof nd){const s=it.fromString(e,...n);return fv(s),new as(r,null,s)}{if(!(r instanceof St||r instanceof as))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return fv(s),new as(r.firestore,null,s)}}function ps(r,e,...n){if(r=zt(r),arguments.length===1&&(e=Ep.newId()),E_("doc","path",e),r instanceof nd){const s=it.fromString(e,...n);return dv(s),new St(r,null,new _e(s))}{if(!(r instanceof St||r instanceof as))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return dv(s),new St(r.firestore,r instanceof as?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="AsyncQueue";class n2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mx(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&fe(t2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;fe(t2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",r2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:r2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r2(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Co extends nd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new n2,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n2(e),this._firestoreClient=void 0,await e}}}function X5(r,e){const n=typeof r=="object"?r:bp(),s=typeof r=="string"?r:wh,o=Fh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=a_("firestore");c&&Q5(o,...c)}return o}function Yp(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||W5(r),r._firestoreClient}function W5(r){const e=r._freezeSettings(),n=(function(o,c,f,p){return new x3(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Vx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new H5(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Kt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vc(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Tt("string",Bn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(vc(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:Tt("string",Er._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vc(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Tr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:Tt("string",Tr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=/^__.*__$/;class J5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}class Lx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ux(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Qp{constructor(e,n,s,o,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ux(this.Ac)&&Z5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}Cc(e,n,s,o=!1){return new Qp({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xp(r){const e=r._freezeSettings(),n=Jh(r._databaseId);return new e4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function t4(r,e,n,s,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",f,s);const p=zx(s,f);let g,y;if(c.merge)g=new Rn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const A=ip(e,E,n);if(!f.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);qx(_,A)||_.push(A)}g=new Rn(_),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new J5(new gn(p),g,y)}class sd extends id{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}class Wp extends id{_toFieldTransform(e){return new $3(e.path,new cc)}isEqual(e){return e instanceof Wp}}function n4(r,e,n,s){const o=r.Cc(1,e,n);Zp("Data must be an object, but it was:",o,s);const c=[],f=gn.empty();gs(s,((g,y)=>{const _=Jp(e,g,n);y=zt(y);const E=o.yc(_);if(y instanceof sd)c.push(_);else{const A=Ec(y,E);A!=null&&(c.push(_),f.set(_,A))}}));const p=new Rn(c);return new Lx(f,p,o.fieldTransforms)}function r4(r,e,n,s,o,c){const f=r.Cc(1,e,n),p=[ip(e,s,n)],g=[o];if(c.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(ip(e,c[A])),g.push(c[A+1]);const y=[],_=gn.empty();for(let A=p.length-1;A>=0;--A)if(!qx(y,p[A])){const V=p[A];let z=g[A];z=zt(z);const K=f.yc(V);if(z instanceof sd)y.push(V);else{const L=Ec(z,K);L!=null&&(y.push(V),_.set(V,L))}}const E=new Rn(y);return new Lx(_,E,f.fieldTransforms)}function i4(r,e,n,s=!1){return Ec(n,r.Cc(s?4:3,e))}function Ec(r,e){if(Bx(r=zt(r)))return Zp("Unsupported field value:",e,r),zx(r,e);if(r instanceof id)return(function(s,o){if(!Ux(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const p of s){let g=Ec(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F3(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=tt.fromDate(s);return{timestampValue:Ah(o.serializer,c)}}if(s instanceof tt){const c=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,c)}}if(s instanceof Er)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:rx(o.serializer,s._byteString)};if(s instanceof St){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Tr)return(function(f,p){return{mapValue:{fields:{[D_]:{stringValue:k_},[Eh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ip(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Hh(s)}`)})(r,e)}function zx(r,e){const n={};return A_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const c=Ec(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Bx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Er||r instanceof Bn||r instanceof St||r instanceof id||r instanceof Tr)}function Zp(r,e,n){if(!Bx(n)||!T_(n)){const s=Hh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ip(r,e,n){if((e=zt(e))instanceof rd)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const s4=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(s4)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rd(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new he(ee.INVALID_ARGUMENT,p+r+g)}function qx(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ad("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a4 extends Fx{data(){return super.data()}}function ad(r,e){return typeof e=="string"?Jp(r,e):e instanceof rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class Hx extends eg{}function tg(r,e,...n){let s=[];e instanceof eg&&s.push(e),s=s.concat(n),(function(c){const f=c.filter((g=>g instanceof ng)).length,p=c.filter((g=>g instanceof od)).length;if(f>1||f>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class od extends Hx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new od(e,n,s)}_apply(e){const n=this._parse(e);return Gx(e._query,n),new pa(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=Xp(e.firestore);return(function(c,f,p,g,y,_,E){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){s2(E,_);const z=[];for(const K of E)z.push(i2(g,c,K));A={arrayValue:{values:z}}}else A=i2(g,c,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||s2(E,_),A=i4(p,f,E,_==="in"||_==="not-in");return Et.create(y,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function l4(r,e,n){const s=e,o=ad("where",r);return od._create(o,s,n)}class ng extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)Gx(f,g),f=Km(f,g)})(e._query,n),new pa(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends Hx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(c,f)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new Ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ig(r,e="asc"){const n=e,s=ad("orderBy",r);return rg._create(s,n)}function i2(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B_(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bv(r,new _e(s))}if(n instanceof St)return bv(r,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function s2(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gx(r,e){const n=(function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c4{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Tr(n)}convertGeoPoint(e){return new Er(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=us(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);$e(cx(s),9688,{name:e});const o=new ac(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(n)||li(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends Fx{constructor(e,n,s,o,c,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ad("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Tt("string",ia._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class oh extends ia{data(e={}){return super.data(e)}}class uo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),_=f.indexOf(p.doc.key)),{type:h4(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(r){r=ci(r,St);const e=ci(r.firestore,Co);return K5(Yp(e),r._key).then((n=>f4(e,r,n)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Tt("string",uo._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class $x extends c4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function ho(r){r=ci(r,pa);const e=ci(r.firestore,Co),n=Yp(e),s=new $x(e);return o4(r._query),Y5(n,r._query).then((o=>new uo(e,s,r,o)))}function Kx(r,e,n,...s){r=ci(r,St);const o=ci(r.firestore,Co),c=Xp(o);let f;return f=typeof(e=zt(e))=="string"||e instanceof rd?r4(c,"updateDoc",r._key,e,n,s):n4(c,"updateDoc",r._key,e),sg(o,[f.toMutation(r._key,tr.exists(!0))])}function jh(r){return sg(ci(r.firestore,Co),[new jp(r._key,tr.none())])}function Zl(r,e){const n=ci(r.firestore,Co),s=ps(r),o=u4(r.converter,e);return sg(n,[t4(Xp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,tr.exists(!1))]).then((()=>s))}function sg(r,e){return(function(s,o){const c=new si;return s.asyncQueue.enqueueAndForget((async()=>O5(await $5(s),o,c))),c.promise})(Yp(r),e)}function f4(r,e,n){const s=n.docs.get(e._key),o=new $x(r);return new ia(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function m4(){return new Wp("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(da),aa(new ls("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new Co(new t3(s.getProvider("auth-internal")),new i3(f,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(y.options.projectId,_)})(f,o),f);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),xr(lv,cv,e),xr(lv,cv,"esm2020")})();var p4="firebase",g4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(p4,g4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="firebasestorage.googleapis.com",y4="storageBucket",v4=120*1e3,_4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ir{constructor(e,n,s=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function Cm(r){return"storage/"+r}function x4(){const r="An unknown error occurred, please check the error payload for server response.";return new jr(Rr.UNKNOWN,r)}function b4(){return new jr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w4(){return new jr(Rr.CANCELED,"User canceled the upload/download.")}function E4(r){return new jr(Rr.INVALID_URL,"Invalid URL '"+r+"'.")}function T4(r){return new jr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function a2(r){return new jr(Rr.INVALID_ARGUMENT,r)}function Qx(){return new jr(Rr.APP_DELETED,"The Firebase app was deleted.")}function S4(r){return new jr(Rr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(s.path==="")return s;throw T4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",V=new RegExp(`^https?://${E}/${_}/b/${o}/o${A}`,"i"),z={bucket:1,path:3},K=n===Yx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",$=new RegExp(`^https?://${K}/${o}/${L}`,"i"),se=[{regex:p,indices:g,postModify:c},{regex:V,indices:z,postModify:y},{regex:$,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<se.length;ae++){const ie=se[ae],ue=ie.regex.exec(e);if(ue){const I=ue[ie.indices.bucket];let R=ue[ie.indices.path];R||(R=""),s=new Jn(I,R),ie.postModify(s);break}}if(s==null)throw E4(e);return s}}class A4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(r,e,n){let s=1,o=null,c=null,f=!1,p=0;function g(){return p===2}let y=!1;function _(...L){y||(y=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,r(V,g())},L)}function A(){c&&clearTimeout(c)}function V(L,...$){if(y){A();return}if(L){A(),_.call(null,L,...$);return}if(g()||f){A(),_.call(null,L,...$);return}s<64&&(s*=2);let se;p===1?(p=2,se=0):se=(s+Math.random())*1e3,E(se)}let z=!1;function K(L){z||(z=!0,A(),!y&&(o!==null?(L||(p=2),clearTimeout(o),E(0)):L||(p=1)))}return E(0),c=setTimeout(()=>{f=!0,K(!0)},n),K}function N4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(r){return r!==void 0}function o2(r,e,n,s){if(s<e)throw a2(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw a2(`Invalid value for '${r}'. Expected ${n} or less.`)}function I4(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Dh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Dh||(Dh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,s,o,c,f,p,g,y,_,E,A=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,K)=>{this.resolve_=z,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Zu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===Dh.NO_ERROR,g=c.getStatus();if(!p||j4(g,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===Dh.ABORT;s(!1,new Zu(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Zu(y,c))})},n=(s,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());C4(g)?c(g):c()}catch(g){f(g)}else if(p!==null){const g=x4();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?Qx():w4();f(g)}else{const g=b4();f(g)}};this.canceled_?n(!1,new Zu(!1,null,!0)):this.backoffId_=R4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zu{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function k4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function M4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function V4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function P4(r,e,n,s,o,c,f=!0,p=!1){const g=I4(r.urlParams),y=r.url+g,_=Object.assign({},r.headers);return O4(_,e),k4(_,n),M4(_,c),V4(_,s),new D4(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function U4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kh(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U4(this._location.path)}get storage(){return this._service}get parent(){const e=L4(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw S4(e)}}function l2(r,e){const n=e?.[y4];return n==null?null:Jn.makeFromBucketSpec(n,r)}function z4(r,e,n,s={}){r.host=`${e}:${n}`;const o=ha(e);o&&(yp(`https://${r.host}/b`),vp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:c_(c,r.app.options.projectId))}class B4{constructor(e,n,s,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=Yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=v4,this._maxUploadRetryTime=_4,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=l2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=l2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kh(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new A4(Qx());{const f=P4(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const c2="@firebase/storage",u2="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="storage";function q4(r=bp(),e){r=zt(r);const s=Fh(r,Xx).getImmediate({identifier:e}),o=a_("storage");return o&&F4(s,...o),s}function F4(r,e,n,s={}){z4(r,e,n,s)}function H4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new B4(n,s,o,e,da)}function G4(){aa(new ls(Xx,H4,"PUBLIC").setMultipleInstances(!0)),xr(c2,u2,""),xr(c2,u2,"esm2020")}G4();function Wx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $4=Wx,Zx=new gc("auth","Firebase",Wx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new _p("@firebase/auth");function K4(r,...e){Mh.logLevel<=Pe.WARN&&Mh.warn(`Auth (${da}): ${r}`,...e)}function lh(r,...e){Mh.logLevel<=Pe.ERROR&&Mh.error(`Auth (${da}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,...e){throw og(r,...e)}function nr(r,...e){return og(r,...e)}function ag(r,e,n){const s={...$4(),[e]:n};return new gc("auth","Firebase",s).create(e,{appName:r.name})}function os(r){return ag(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Nr(r,"argument-error"),ag(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function og(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Zx.create(r,...e)}function Ae(r,e,...n){if(!r)throw og(e,...n)}function ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lh(e),new Error(e)}function hi(r,e){r||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return typeof self<"u"&&self.location?.href||""}function Y4(){return h2()==="http:"||h2()==="https:"}function h2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y4()||DA()||"connection"in navigator)?navigator.onLine:!0}function X4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=CA()||kA()}get(){return Q4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e){hi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J4=new Tc(3e4,6e4);function cg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Io(r,e,n,s,o={}){return tb(r,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const p=yc({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return jA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ha(r.emulatorConfig.host)&&(y.credentials="include"),eb.fetch()(await nb(r,r.config.apiHost,n,p),y)})}async function tb(r,e,n){r._canInitEmulator=!1;const s={...W4,...e};try{const o=new tC(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ju(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ju(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ju(r,"user-disabled",f);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ag(r,_,y);Nr(r,_)}}catch(o){if(o instanceof Ir)throw o;Nr(r,"network-request-failed",{message:String(o)})}}async function eC(r,e,n,s,o={}){const c=await Io(r,e,n,s,o);return"mfaPendingCredential"in c&&Nr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function nb(r,e,n,s){const o=`${e}${n}?${s}`,c=r,f=c.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`;return Z4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class tC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(nr(this.auth,"network-request-failed")),J4.get())})}}function Ju(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=nr(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,e){return Io(r,"POST","/v1/accounts:delete",e)}async function Oh(r,e){return Io(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(r,e=!1){const n=zt(r),s=await n.getIdToken(e),o=ug(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:Jl(Im(o.auth_time)),issuedAtTime:Jl(Im(o.iat)),expirationTime:Jl(Im(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function ug(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=i_(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d2(r){const e=ug(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ir&&iC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(r){const e=r.auth,n=await r.getIdToken(),s=await dc(r,Oh(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?rb(o.providerUserInfo):[],f=oC(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function aC(r){const e=zt(r);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,e){const n=await tb(r,{},async()=>{const s=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await nb(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&ha(r.emulatorConfig.host)&&(g.credentials="include"),eb.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cC(r,e){return Io(r,"POST","/v2/accounts:revokeToken",cg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=d2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await lC(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new fo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rC(this,e)}reload(){return aC(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await dc(this,nC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:V,providerData:z,stsTokenManager:K}=n;Ae(E&&K,e,"internal-error");const L=fo.fromJSON(this.name,K);Ae(typeof E=="string",e,"internal-error"),Wi(s,e.name),Wi(o,e.name),Ae(typeof A=="boolean",e,"internal-error"),Ae(typeof V=="boolean",e,"internal-error"),Wi(c,e.name),Wi(f,e.name),Wi(p,e.name),Wi(g,e.name),Wi(y,e.name),Wi(_,e.name);const $=new er({uid:E,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:_});return z&&Array.isArray(z)&&($.providerData=z.map(q=>({...q}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const c=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?rb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,p=new fo;p.updateFromIdToken(s);const g=new er({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Map;function ri(r){hi(r instanceof Function,"Expected a class definition");let e=f2.get(r);return e?(hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,f2.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ib.type="NONE";const m2=ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,c),this.fullPersistenceKey=ch("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(ri(m2),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ri(m2);const f=ch(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(f);if(_){let E;if(typeof _=="string"){const A=await Oh(e,{idToken:_}).catch(()=>{});if(!A)break;E=await er._fromGetAccountInfoResponse(e,A,_)}else E=er._fromJSON(e,_);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new mo(c,e,s):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new mo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ub(e))return"Blackberry";if(hb(e))return"Webos";if(ab(e))return"Safari";if((e.includes("chrome/")||ob(e))&&!e.includes("edge/"))return"Chrome";if(cb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function sb(r=nn()){return/firefox\//i.test(r)}function ab(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(r=nn()){return/crios\//i.test(r)}function lb(r=nn()){return/iemobile/i.test(r)}function cb(r=nn()){return/android/i.test(r)}function ub(r=nn()){return/blackberry/i.test(r)}function hb(r=nn()){return/webos/i.test(r)}function hg(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uC(r=nn()){return hg(r)&&!!window.navigator?.standalone}function hC(){return MA()&&document.documentMode===10}function db(r=nn()){return hg(r)||cb(r)||hb(r)||ub(r)||/windows phone/i.test(r)||lb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r,e=[]){let n;switch(r){case"Browser":n=p2(nn());break;case"Worker":n=`${p2(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,p)=>{try{const g=e(c);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(r,e={}){return Io(r,"GET","/v2/passwordPolicy",cg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=6;class pC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g2(this),this.idTokenSubscription=new g2(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(os(this));const n=e?zt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fC(this),n=new pC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&K4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jo(r){return zt(r)}class g2{constructor(e){this.auth=e,this.observer=null,this.addObserver=qA(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yC(r){dg=r}function vC(r){return dg.loadJS(r)}function _C(){return dg.gapiScript}function xC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r,e){const n=Fh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(sa(c,e??{}))return o;Nr(o,"already-initialized")}return n.initialize({options:e})}function wC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function EC(r,e,n){const s=jo(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=mb(e),{host:f,port:p}=TC(e),g=p===null?"":`:${p}`,y={url:`${c}//${f}${g}/`},_=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(sa(y,s.config.emulator)&&sa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,ha(f)?(yp(`${c}//${f}${g}`),vp("Auth",!0)):SC()}function mb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function TC(r){const e=mb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:y2(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:y2(f)}}}function y2(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function SC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return eC(r,"POST","/v1/accounts:signInWithIdp",cg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="http://localhost";class ca extends pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const f=new ca(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:AC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends ld{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Sc{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ti.credential(n,s)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Sc{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Sc{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await er._fromIdTokenResponse(e,s,o),f=v2(s);return new wo({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=v2(s);return new wo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function v2(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Ir{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function gb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,c,e,s):c})}async function RC(r,e,n=!1){const s=await dc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return wo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,e,n=!1){const{auth:s}=r;if(An(s.app))return Promise.reject(os(s));const o="reauthenticate";try{const c=await dc(r,gb(s,o,e,r),n);Ae(c.idToken,s,"internal-error");const f=ug(c.idToken);Ae(f,s,"internal-error");const{sub:p}=f;return Ae(r.uid===p,s,"user-mismatch"),wo._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Nr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e,n=!1){if(An(r.app))return Promise.reject(os(r));const s="signIn",o=await gb(r,s,e),c=await wo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}function IC(r,e,n,s){return zt(r).onIdTokenChanged(e,n,s)}function jC(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function DC(r,e,n,s){return zt(r).onAuthStateChanged(e,n,s)}function kC(r){return zt(r).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,OC=10;class vb extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);hC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const VC=vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_b.type="SESSION";const xb=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,c)),g=await PC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const y=fg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function UC(r){Sr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function zC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BC(){return navigator?.serviceWorker?.controller||null}function qC(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",FC=1,Uh="firebaseLocalStorage",Eb="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(r,e){return r.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function HC(){const r=indexedDB.deleteDatabase(wb);return new Ac(r).toPromise()}function op(){const r=indexedDB.open(wb,FC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Uh,{keyPath:Eb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await HC(),e(await op()))})})}async function _2(r,e,n){const s=ud(r,!0).put({[Eb]:e,value:n});return new Ac(s).toPromise()}async function GC(r,e){const n=ud(r,!1).get(e),s=await new Ac(n).toPromise();return s===void 0?null:s.value}function x2(r,e){const n=ud(r,!0).delete(e);return new Ac(n).toPromise()}const $C=800,KC=3;class Tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>KC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(qC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zC(),!this.activeServiceWorker)return;this.sender=new LC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await _2(e,Lh,"1"),await x2(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ud(o,!1).getAll();return new Ac(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tb.type="LOCAL";const YC=Tb;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){return e?ri(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QC(r){return CC(r.auth,new pg(r),r.bypassAuthState)}function XC(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),NC(n,new pg(r),r.bypassAuthState)}async function WC(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),RC(n,new pg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QC;case"linkViaPopup":case"linkViaRedirect":return WC;case"reauthViaPopup":case"reauthViaRedirect":return XC;default:Nr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Tc(2e3,1e4);async function JC(r,e,n){if(An(r.app))return Promise.reject(nr(r,"operation-not-supported-in-this-environment"));const s=jo(r);Jx(r,e,ld);const o=mg(s,n);return new ra(s,"signInViaPopup",e,o).executeNotNull()}class ra extends Sb{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZC.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="pendingRedirect",uh=new Map;class tI extends Sb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await nI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nI(r,e){const n=Rb(e),s=Ab(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function rI(r,e){return Ab(r)._set(Rb(e),"true")}function iI(r,e){uh.set(r._key(),e)}function Ab(r){return ri(r._redirectPersistence)}function Rb(r){return ch(eI,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r,e,n){return aI(r,e,n)}async function aI(r,e,n){if(An(r.app))return Promise.reject(os(r));const s=jo(r);Jx(r,e,ld),await s._initializationPromise;const o=mg(s,n);return await rI(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function oI(r,e){return await jo(r)._initializationPromise,Nb(r,e,!1)}async function Nb(r,e,n=!1){if(An(r.app))return Promise.reject(os(r));const s=jo(r),o=mg(s,e),f=await new tI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=600*1e3;class cI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Cb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(nr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lI&&this.cachedEventUids.clear(),this.cachedEventUids.has(b2(e))}saveEventToCache(e){this.cachedEventUids.add(b2(e)),this.lastProcessedEventTime=Date.now()}}function b2(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Cb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function uI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(r,e={}){return Io(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fI=/^https?/;async function mI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await hI(r);for(const n of e)try{if(pI(n))return}catch{}Nr(r,"unauthorized-domain")}function pI(r){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!fI.test(n))return!1;if(dI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new Tc(3e4,6e4);function w2(){const r=Sr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yI(r){return new Promise((e,n)=>{function s(){w2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w2(),n(nr(r,"network-request-failed"))},timeout:gI.get()})}if(Sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sr().gapi?.load)s();else{const o=xC("iframefcb");return Sr()[o]=()=>{gapi.load?s():n(nr(r,"network-request-failed"))},vC(`${_C()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw hh=null,e})}let hh=null;function vI(r){return hh=hh||yI(r),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new Tc(5e3,15e3),xI="__/auth/iframe",bI="emulator/auth/iframe",wI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TI(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?lg(e,bI):`https://${r.config.authDomain}/${xI}`,s={apiKey:e.apiKey,appName:r.name,v:da},o=EI.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${yc(s).slice(1)}`}async function SI(r){const e=await vI(r),n=Sr().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:TI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=nr(r,"network-request-failed"),p=Sr().setTimeout(()=>{c(f)},_I.get());function g(){Sr().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RI=500,NI=600,CI="_blank",II="http://localhost";class E2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jI(r,e,n,s=RI,o=NI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...AI,width:s.toString(),height:o.toString(),top:c,left:f},y=nn().toLowerCase();n&&(p=ob(y)?CI:n),sb(y)&&(e=e||II,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[V,z])=>`${A}${V}=${z},`,"");if(uC(y)&&p!=="_self")return DI(e||"",p),new E2(null);const E=window.open(e||"",p,_);Ae(E,r,"popup-blocked");try{E.focus()}catch{}return new E2(E)}function DI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="__/auth/handler",MI="emulator/auth/handler",OI=encodeURIComponent("fac");async function T2(r,e,n,s,o,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:da,eventId:o};if(e instanceof ld){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",BA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof Sc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await r._getAppCheckToken(),y=g?`#${OI}=${encodeURIComponent(g)}`:"";return`${VI(r)}?${yc(p).slice(1)}${y}`}function VI({config:r}){return r.emulator?lg(r,MI):`https://${r.authDomain}/${kI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class PI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xb,this._completeRedirectFn=Nb,this._overrideRedirectResult=iI}async _openPopup(e,n,s,o){hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T2(e,n,s,sp(),o);return jI(e,c,fg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await T2(e,n,s,sp(),o);return UC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(hi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await SI(e),s=new cI(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},o=>{const c=o?.[0]?.[jm];c!==void 0&&n(!!c),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return db()||ab()||hg()}}const LI=PI;var S2="@firebase/auth",A2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BI(r){aa(new ls("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fb(r)},y=new gC(s,o,c,g);return wC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),aa(new ls("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(s=>new UI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(S2,A2,zI(r)),xr(S2,A2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=300,FI=l_("authIdTokenMaxAge")||qI;let R2=null;const HI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FI)return;const o=n?.token;R2!==o&&(R2=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GI(r=bp()){const e=Fh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=bC(r,{popupRedirectResolver:LI,persistence:[YC,VC,xb]}),s=l_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=HI(c.toString());jC(n,f,()=>f(n.currentUser)),IC(n,p=>f(p))}}const o=s_("auth");return o&&EC(n,`http://${o}`),n}function $I(){return document.getElementsByTagName("head")?.[0]??document}yC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=nr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",$I().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BI("Browser");const KI={apiKey:"AIzaSyDo7pLpmv04Eyk3K-fBZtUvKIZLCcqot1o",authDomain:"codme-cb7b4.firebaseapp.com",projectId:"codme-cb7b4",storageBucket:"codme-cb7b4.firebasestorage.app",messagingSenderId:"167915856115",appId:"1:167915856115:web:96cc761a1524122ab6d786",measurementId:"G-QK16ETLM16"},gg=d_(KI),Ut=X5(gg);q4(gg);const ec=GI(gg),lp=new ti,Do="news",Ib=(r,e=150)=>r.length<=e?r:r.substring(0,e).trim()+"...",hd=r=>{const e=r.toDate(),n={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("th-TH",n)},jb=async()=>{try{const r=tg(Zn(Ut,Do),l4("status","==","published"),ig("createdAt","desc")),e=await ho(r),n=[];return e.forEach(s=>{const o=s.data();n.push({id:s.id,...o,date:hd(o.createdAt),fullContent:o.content})}),n}catch(r){throw console.error("Error fetching published news:",r),r}},YI=async()=>{try{const r=tg(Zn(Ut,Do),ig("createdAt","desc")),e=await ho(r),n=[];return e.forEach(s=>{const o=s.data();n.push({id:s.id,...o,date:hd(o.createdAt)})}),n}catch(r){throw console.error("Error fetching all news:",r),r}},QI=async r=>{try{const e=ps(Ut,Do,r),n=await d4(e);if(n.exists()){const s=n.data();return{id:n.id,...s,date:hd(s.createdAt)}}else throw new Error("News not found")}catch(e){throw console.error("Error fetching news by ID:",e),e}},XI=async r=>{try{const e=tt.now(),n={title:r.title,content:r.content,excerpt:Ib(r.content),image:r.image||null,author:r.author||"",category:r.category||"",status:r.status||"draft",createdAt:e,updatedAt:e};return{id:(await Zl(Zn(Ut,Do),n)).id,...n,date:hd(e)}}catch(e){throw console.error("Error creating news:",e),e}},WI=async(r,e)=>{try{const n=ps(Ut,Do,r),s={...e,excerpt:e.content?Ib(e.content):void 0,updatedAt:tt.now()};return Object.keys(s).forEach(o=>s[o]===void 0&&delete s[o]),await Kx(n,s),await QI(r)}catch(n){throw console.error("Error updating news:",n),n}},ZI=async r=>{try{const e=ps(Ut,Do,r);return await jh(e),{success:!0,id:r}}catch(e){throw console.error("Error deleting news:",e),e}},JI=()=>{const[r,e]=O.useState([]),[n,s]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{s(!0);const f=(await jb()).slice(0,3);e(f)}catch(c){console.error("Error loading news:",c),e([])}finally{s(!1)}})()},[]),h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
                    /* Mobile (default) */
                    .news-responsive {
                        margin-top: -130px;
                    }

                    /* Notebook -  1024px - 1599px */
                    @media (min-width: 1024px) and (max-width: 1599px) {
                        .news-responsive {
                            margin-top: -130px;
                        }
                    }

                    /* Desktop - 1600px  */
                    @media (min-width: 1600px) {
                        .news-responsive {
                            margin-top: -430px;
                        }
                    }
                `}),h.jsxs("div",{className:"relative news-responsive",children:[h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",right:"-130px"}}),h.jsx("div",{id:"News",className:"relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:h.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[h.jsxs("div",{className:"text-center max-w-4xl",children:[h.jsx(gp,{title:"",desc:"  "}),h.jsx(jt,{to:"/activity",children:h.jsx("button",{className:"mt-6 px-5 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white text-sm font-semibold rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-300",children:" "})})]}),n?h.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[h.jsx($l,{className:"animate-spin mb-4",size:48,color:"#dc2626"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"..."})]}):r.length>0?h.jsx(h.Fragment,{children:h.jsx("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((o,c)=>h.jsx(jt,{to:"/activity",className:"block",children:h.jsx(yA,{news:o})},o.id||c))})}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("p",{className:"text-gray-600 text-lg mb-4",children:""}),h.jsx(jt,{to:"/activity",children:h.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-red-600 to-red-800 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300",children:""})})]})]})})]})]})},e6=({service:r})=>{const[e,n]=O.useState(!1);return h.jsxs("div",{className:`
        group relative overflow-hidden rounded-2xl p-6
        transition-all duration-500 ease-out
        hover:scale-[1.02] active:scale-[1.02]
        flex items-center gap-6
        min-h-[160px] w-full
        cursor-pointer
        liquid-glass
      `,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[h.jsx("div",{className:"liquid-overlay absolute inset-0 rounded-2xl pointer-events-none"}),h.jsx("div",{className:`\r
          absolute inset-0 rounded-2xl\r
          border-2 border-transparent\r
          group-hover:border-red-400/60 group-active:border-red-400/60\r
          transition-all duration-500\r
          pointer-events-none\r
        `}),h.jsx("div",{className:`\r
          flex-shrink-0 w-16 h-16 rounded-xl \r
          flex items-center justify-center\r
          group-hover:scale-105 group-active:scale-105\r
          transition-all duration-300 ease-out\r
          relative z-10\r
        `,children:r?.icon?h.jsx("img",{src:r.icon,alt:r.title,className:"w-8 h-8 object-contain filter drop-shadow-lg"}):h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-red-600 rounded-lg"})}),h.jsxs("div",{className:"relative z-10 flex-1 min-w-0",children:[h.jsx("h3",{className:"text-lg font-bold mb-2 truncate text-black",children:r?.title||"Service Title"}),h.jsx("p",{className:"leading-relaxed line-clamp-2 font-medium text-sm text-black",children:r?.description||"Service description goes here with details about what this service offers."})]})]})},t6=()=>{const r=[{title:"",description:"",icon:tn.graduation_hat,link:"/admission"},{title:"",description:"  ",icon:tn.book_open,link:"/course"},{title:" & ",description:" ",icon:tn.megaphone,link:"/activity"},{title:"",description:"     ",icon:tn.location,link:"/contact"}];return h.jsxs("div",{className:"relative py-20",children:[h.jsx("style",{children:`
                .services-wrapper {
                    margin-top: -130px; /* mobile default */
                }

                @media (min-width: 640px) {
                    .services-wrapper {
                        margin-top: -40px; /* tablet */
                    }
                }

                @media (min-width: 1024px) {
                    .services-wrapper {
                        margin-top: -64px; /* laptop */
                    }
                }
            `}),h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute top-0 right-0 w-[800px] h-[800px] object-contain opacity-70 pointer-events-none z-0",style:{top:"-160px",left:"-130px"}}),h.jsx("div",{id:"services",className:"services-wrapper relative min-h-screen px-4 sm:px-12 lg:px-24 xl:px-40 py-16 overflow-hidden z-10",children:h.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-12",children:[h.jsx("div",{className:"text-center max-w-4xl",children:h.jsx(gp,{title:"",desc:"    "})}),h.jsx("div",{className:"w-full max-w-7xl mx-auto",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 place-items-center md:place-items-stretch",children:r.map((e,n)=>h.jsx(jt,{to:e.link,className:"w-full max-w-lg md:max-w-none block",children:h.jsx(e6,{service:e,index:n})},n))})})]})})]})},n6=[{title:" ()",engTitle:"Bachelor of Engineering (Computer Engineering)",campus:"",fee:"20,000 /",seats:{r1:32,r2:38,r3:34,r4:""}},{title:" () ",engTitle:"Bachelor of Engineering (Digital Media Engineering) International Program",campus:"",fee:"50,000 /",seats:{r1:21,r2:10,r3:20,r4:""}}],r6={0:{1:[{title:" ",seats:24,sections:{base:" . , ,   GED   GPAX  3.00",detail:" .6  (.)  GED",criteria:" +  ()",extra:"      "}},{title:" ",seats:8,sections:{base:"",detail:"/",criteria:"",extra:""}}],2:[{title:" ",seats:38,sections:{base:"",detail:"GPAX  3.00 /",criteria:"",extra:"  "}}],3:[{title:"",seats:34,sections:{base:" TCAS",detail:": GPAX, GAT/PAT, ",criteria:"",extra:""}}]},1:{1:[{title:"  ",seats:4,sections:{base:" (PDF/)",detail:"//",criteria:" (EN/TH)",extra:""}},{title:"  ",seats:20,sections:{base:"/ ",detail:"/",criteria:"",extra:" Workshop/Interview "}}],2:[{title:"  ",seats:12,sections:{base:" EP/International ",detail:" + GPAX ",criteria:"",extra:""}}],3:[{title:" ",seats:9,sections:{base:" TCAS",detail:"GPAX +  (EN, MTH, SCI)",criteria:"",extra:""}}]}};function i6({title:r,seats:e,children:n,defaultOpen:s=!0}){const[o,c]=O.useState(s);return h.jsxs("div",{className:`accord ${o?"open":""}`,children:[h.jsxs("button",{className:"accord-head",onClick:()=>c(!o),children:[h.jsx("span",{className:"accord-title",children:r}),h.jsxs("span",{className:"accord-right",children:[typeof e<"u"&&h.jsxs("span",{className:"accord-badge",children:[" ",e," "]}),h.jsx("span",{className:`accord-caret ${o?"up":""}`,"aria-hidden":!0,children:""})]})]}),o&&h.jsx("div",{className:"accord-body",children:n})]})}function s6({base:r,detail:e,criteria:n,extra:s}){return h.jsxs("div",{className:"section-wrap",children:[h.jsx("h4",{className:"section-title",children:""}),h.jsx("div",{className:"section-body",children:r}),h.jsx("h4",{className:"section-title",children:""}),h.jsx("div",{className:"section-body",children:e}),h.jsx("h4",{className:"section-title",children:""}),h.jsx("div",{className:"section-body",children:n}),h.jsx("h4",{className:"section-title",children:""}),h.jsx("div",{className:"section-body",children:s})]})}function a6({course:r,index:e}){const[n,s]=O.useState(0),o={0:"",1:" 1 Portfolio",2:" 2 Quota",3:" 3 Admission",4:" 4 Direct Admission"},c=f=>{if(f===0)return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:""}),h.jsx("div",{className:"v",children:r.title})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:""}),h.jsx("div",{className:"v",children:r.engTitle})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:""}),h.jsx("div",{className:"v",children:e===0?" ":""})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:""}),h.jsx("div",{className:"v",children:r.campus})]}),h.jsxs("div",{className:"kv",children:[h.jsx("div",{className:"k",children:""}),h.jsx("div",{className:"v",children:r.fee})]}),h.jsx("hr",{className:"divider"}),h.jsxs("div",{className:"round-sum",children:[h.jsxs("div",{children:[" 1 Portfolio: ",h.jsx("b",{children:r.seats.r1})," "]}),h.jsxs("div",{children:[" 2 Quota: ",h.jsx("b",{children:r.seats.r2})," "]}),h.jsxs("div",{children:[" 3 Admission: ",h.jsx("b",{children:r.seats.r3})," "]}),h.jsxs("div",{children:[" 4 Direct Admission: ",h.jsx("b",{children:r.seats.r4})]})]})]});if(f===4)return h.jsx("p",{children:""});const p=r6[e]?.[f]||[];return h.jsx(h.Fragment,{children:p.map((g,y)=>h.jsx(i6,{title:g.title,seats:g.seats,defaultOpen:y===0,children:h.jsx(s6,{base:g.sections.base,detail:g.sections.detail,criteria:g.sections.criteria,extra:g.sections.extra})},y))})};return h.jsxs("section",{className:"card card-translucent",children:[h.jsxs("div",{className:"round-rail",children:[h.jsx("button",{className:`round-pill ${n===0?"is-active":""}`,onClick:()=>s(0),children:"i"}),[1,2,3,4].map(f=>h.jsxs("button",{className:`round-pill ${n===f?"is-active":""}`,onClick:()=>s(f),children:[" ",f]},f))]}),h.jsxs("div",{className:"card-inner",children:[h.jsxs("header",{className:"card-head",children:[h.jsx("div",{className:"card-logo",children:h.jsx("img",{src:tn.official_logo,alt:"KKU logo",className:"card-logo-img"})}),h.jsxs("div",{className:"card-title-wrap",children:[h.jsx("h2",{className:"card-title",children:r.title}),h.jsx("div",{className:"card-dash"})]})]}),h.jsx("h3",{className:"card-sub",children:o[n]}),h.jsx("div",{className:"card-detail fade-in",children:c(n)},n)]})]})}function o6(){return h.jsxs("main",{className:"card-wrap",style:{position:"relative",paddingBottom:"170px"},children:[h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"700px",left:"10px",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[h.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:""}),h.jsx("div",{style:{width:"80px",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:""})]}),n6.map((r,e)=>h.jsx(a6,{course:r,index:e},e))]})]})}const N2=[{id:"com",title:"",engTitle:"Computer Engineering",file:"/codme/course/2-COM-65.pdf",code:"COM",year:"2565"},{id:"dme",title:"",engTitle:"Digital Media Engineering",file:"/codme/course/2-DME-65.pdf",code:"DME",year:"2565"}],l6=()=>{const[r,e]=O.useState(N2[0]),[n,s]=O.useState(!0),[o,c]=O.useState(!1);O.useEffect(()=>{const _=()=>{c(window.innerWidth<768)};return _(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[]),O.useEffect(()=>{s(!0)},[r]);const f=_=>{_.id!==r.id&&e(_)},p=()=>{s(!1)},g=()=>{console.error("Failed to load PDF in iframe or PDF is not displayable."),s(!1)},y=_=>`${_}#view=FitH`;return h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",pointerEvents:"none",opacity:.7,width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(500px, 80vh, 700px)",left:"clamp(-100px, 1vw, 10px)",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:""}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:" .2"})]}),h.jsx("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",justifyContent:"center",flexWrap:"wrap",padding:"0 1rem"},children:N2.map(_=>h.jsx("button",{onClick:()=>f(_),style:{padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1.25rem, 3vw, 2rem)",borderRadius:"50px",border:r.id===_.id?"3px solid #dc2626":"2px solid rgba(0,0,0,0.1)",background:r.id===_.id?"#dc2626":"rgba(255,255,255,0.9)",color:r.id===_.id?"white":"#333",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:r.id===_.id?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0,0,0,0.1)",whiteSpace:"nowrap"},onMouseEnter:E=>{r.id!==_.id&&(E.target.style.transform="translateY(-2px)",E.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)")},onMouseLeave:E=>{r.id!==_.id&&(E.target.style.transform="translateY(0)",E.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")},children:_.title},_.id))}),h.jsxs("section",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[h.jsxs("header",{style:{display:"flex",flexDirection:o?"column":"row",alignItems:o?"center":"flex-start",textAlign:o?"center":"left",gap:"1.5rem",marginBottom:"clamp(1.5rem, 3vw, 2rem)",paddingBottom:"clamp(1rem, 2.5vw, 1.5rem)",borderBottom:"2px solid rgba(0,0,0,0.1)"},children:[h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"clamp(60px, 10vw, 80px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:h.jsx("span",{style:{fontSize:"clamp(2rem, 4vw, 2.5rem)"},children:""})}),h.jsxs("div",{style:{flex:1},children:[h.jsx("h2",{style:{fontSize:"clamp(1.25rem, 3vw, 1.75rem)",fontWeight:"bold",marginBottom:"0.25rem",color:"#1a1a1a"},children:r.title}),h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"0.5rem",margin:o?"0.5rem auto":"0.5rem 0",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:r.engTitle})]})]}),h.jsx("div",{style:{background:"rgba(220, 38, 38, 0.05)",padding:"clamp(1rem, 2.5vw, 1.5rem)",borderRadius:"clamp(12px, 2vw, 16px)",marginBottom:"clamp(1rem, 2.5vw, 1.5rem)",border:"1px solid rgba(220, 38, 38, 0.1)"},children:h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"clamp(1rem, 2.5vw, 1.5rem)"},children:[h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:""}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:r.code})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:""}),h.jsxs("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:[".. ",r.year]})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:""}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:".2"})]}),h.jsxs("div",{children:[h.jsx("div",{style:{color:"#666",fontSize:"clamp(0.75rem, 1.8vw, 0.875rem)",marginBottom:"0.25rem",fontWeight:"500"},children:""}),h.jsx("div",{style:{fontSize:"clamp(1rem, 2.2vw, 1.125rem)",fontWeight:"bold",color:"#1a1a1a"},children:""})]})]})}),h.jsx("div",{style:{position:"relative",minHeight:o?"auto":"clamp(600px, 80vh, 800px)"},children:o?h.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa",borderRadius:"12px",border:"2px solid rgba(0,0,0,0.1)"},children:[h.jsx("p",{style:{color:"#666",marginBottom:"1.5rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",lineHeight:"1.6"},children:" "}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"300px",margin:"0 auto"},children:[h.jsxs("a",{href:r.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},children:[h.jsx("span",{children:""}),h.jsx("span",{children:""})]}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},children:[h.jsx("span",{children:""}),h.jsx("span",{children:""})]})]})]}):h.jsxs(h.Fragment,{children:[n&&h.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10,textAlign:"center"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",border:"4px solid rgba(220, 38, 38, 0.2)",borderTop:"4px solid #dc2626",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),h.jsx("p",{style:{color:"#666",fontWeight:"500",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"..."})]}),h.jsx("div",{style:{borderRadius:"12px",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",background:"#f8f9fa",visibility:n?"hidden":"visible",height:n?"0":"clamp(600px, 80vh, 800px)",transition:"visibility 0s, height 0s, opacity 0.3s ease-in-out",opacity:n?0:1},children:h.jsx("iframe",{src:y(r.file),title:`Course Document for ${r.title}`,width:"100%",height:"100%",style:{border:"none",display:"block"},onLoad:p,onError:g,allow:"fullscreen",children:h.jsxs("div",{style:{padding:"clamp(2rem, 5vw, 3rem)",textAlign:"center",background:"#f8f9fa"},children:[h.jsx("p",{style:{color:"#666",marginBottom:"1rem",fontSize:"clamp(0.95rem, 2vw, 1.1rem)"},children:" PDF  "}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)"},children:[h.jsx("span",{children:""}),h.jsx("span",{children:" PDF"})]})]})},r.id)})]})}),!o&&h.jsxs("div",{style:{display:"flex",gap:"clamp(0.75rem, 2vw, 1rem)",marginTop:"clamp(1rem, 2.5vw, 1.5rem)",justifyContent:"center",flexWrap:"wrap"},children:[h.jsxs("a",{href:r.file,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.4)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.5)"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.4)"},children:[h.jsx("span",{children:""}),h.jsx("span",{children:""})]}),h.jsxs("a",{href:r.file,download:!0,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.75rem, 2vw, 0.875rem) clamp(1.5rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",textDecoration:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsx("span",{children:""}),h.jsx("span",{children:""})]})]})]}),h.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:h.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsx("strong",{style:{color:"#1a1a1a"},children:":"}),"  .2    "]})})]}),h.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},Dm=6,c6=()=>{const[r,e]=O.useState(null),[n,s]=O.useState(1),[o,c]=O.useState([]),[f,p]=O.useState(!0),[g,y]=O.useState(null);O.useEffect(()=>{(async()=>{try{p(!0);const q=await jb();c(q),y(null)}catch(q){console.error("Error loading news:",q),y(" ")}finally{p(!1)}})()},[]);const _=Math.ceil(o.length/Dm),E=(n-1)*Dm,A=E+Dm,V=o.slice(E,A),z=()=>{n<_&&(s(n+1),window.scrollTo({top:0,behavior:"smooth"}))},K=()=>{n>1&&(s(n-1),window.scrollTo({top:0,behavior:"smooth"}))},L=$=>({:"bg-blue-100 text-blue-700",:"bg-green-100 text-green-700",:"bg-red-100 text-red-700",:"bg-purple-100 text-purple-700",:"bg-yellow-100 text-yellow-700",:"bg-indigo-100 text-indigo-700",:"bg-pink-100 text-pink-700",:"bg-teal-100 text-teal-700",:"bg-gray-100 text-gray-700"})[$]||"bg-gray-100 text-gray-700";return f?h.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx($l,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"..."})]})}):g?h.jsx("main",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:h.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.9)",padding:"2rem",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[h.jsx("p",{style:{color:"#dc2626",fontSize:"1.1rem",marginBottom:"1rem"},children:g}),h.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",cursor:"pointer"},children:""})]})}):r?h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"900px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[h.jsxs("button",{onClick:()=>e(null),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 2vw, 0.75rem) clamp(1rem, 3vw, 1.5rem)",marginBottom:"clamp(1rem, 3vw, 2rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:$=>{$.target.style.transform="translateX(-4px)",$.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:$=>{$.target.style.transform="translateX(0)",$.target.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsx(nc,{size:20}),h.jsx("span",{children:""})]}),h.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[r.image&&h.jsx("img",{src:r.image,alt:r.title,style:{width:"100%",height:"clamp(250px, 40vw, 400px)",objectFit:"cover"}}),h.jsxs("div",{style:{padding:"clamp(1.5rem, 4vw, 2.5rem)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"clamp(1rem, 2vw, 1.5rem)",flexWrap:"wrap"},children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${L(r.category)}`,children:r.category}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[h.jsx(ph,{size:16}),h.jsx("span",{children:r.date})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#666",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)"},children:[h.jsx(yh,{size:16}),h.jsx("span",{children:r.author})]})]}),h.jsx("h1",{style:{fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a",lineHeight:"1.3"},children:r.title}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",marginBottom:"clamp(1.5rem, 3vw, 2rem)",borderRadius:"2px"}}),h.jsx("p",{style:{fontSize:"clamp(1rem, 2vw, 1.125rem)",lineHeight:"1.8",color:"#333",whiteSpace:"pre-line"},children:r.fullContent})]})]})]})]}):h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vw, -80px)",right:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vw, 100px)",left:"clamp(10px, 2vw, 50px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 4vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 5vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:""}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.9rem, 2vw, 1.1rem)"},children:" "})]}),o.length===0?h.jsx("div",{style:{textAlign:"center",padding:"3rem",background:"rgba(255, 255, 255, 0.85)",borderRadius:"16px"},children:h.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:""})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:V.map($=>h.jsxs("article",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:q=>{q.currentTarget.style.transform="translateY(-8px)",q.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.15)"},onMouseLeave:q=>{q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[$.image?h.jsx("img",{src:$.image,alt:$.title,style:{width:"100%",height:"clamp(180px, 30vw, 200px)",objectFit:"cover",transition:"transform 0.3s ease"},onMouseEnter:q=>{q.target.style.transform="scale(1.1)"},onMouseLeave:q=>{q.target.style.transform="scale(1)"}}):h.jsx("div",{style:{width:"100%",height:"clamp(180px, 30vw, 200px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem",fontWeight:"bold"},children:""}),h.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem"},children:h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L($.category)}`,children:$.category})})]}),h.jsxs("div",{style:{padding:"clamp(1rem, 3vw, 1.5rem)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginBottom:"1rem",fontSize:"clamp(0.75rem, 1.5vw, 0.875rem)",color:"#666",flexWrap:"wrap"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(ph,{size:14}),h.jsx("span",{children:$.date})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.jsx(yh,{size:14}),h.jsx("span",{children:$.author})]})]}),h.jsx("h3",{style:{fontSize:"clamp(1.1rem, 2.5vw, 1.25rem)",fontWeight:"bold",marginBottom:"0.75rem",color:"#1a1a1a",lineHeight:"1.4"},children:$.title}),h.jsx("p",{style:{color:"#666",lineHeight:"1.6",marginBottom:"1rem",fontSize:"clamp(0.85rem, 1.8vw, 0.95rem)"},children:$.excerpt}),h.jsxs("button",{onClick:()=>e($),style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.625rem) clamp(1rem, 2.5vw, 1.25rem)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",color:"white",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"clamp(0.8rem, 1.5vw, 0.875rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseEnter:q=>{q.target.style.transform="translateX(4px)",q.target.style.boxShadow="0 6px 16px rgba(220, 38, 38, 0.4)"},onMouseLeave:q=>{q.target.style.transform="translateX(0)",q.target.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},children:[h.jsx("span",{children:""}),h.jsx(_S,{size:16})]})]})]},$.id))}),_>1&&h.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"clamp(0.5rem, 2vw, 1rem)",marginTop:"clamp(2rem, 4vw, 3rem)",flexWrap:"wrap"},children:[h.jsxs("button",{onClick:K,disabled:n===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:n===1?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:n===1?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:n===1?.5:1},children:[h.jsx(nc,{size:20}),h.jsx("span",{children:""})]}),h.jsx("div",{style:{display:"flex",gap:"clamp(0.25rem, 1vw, 0.5rem)",alignItems:"center"},children:Array.from({length:_},($,q)=>q+1).map($=>h.jsx("button",{onClick:()=>{s($),window.scrollTo({top:0,behavior:"smooth"})},style:{width:"clamp(32px, 8vw, 40px)",height:"clamp(32px, 8vw, 40px)",borderRadius:"8px",border:n===$?"none":"2px solid rgba(0,0,0,0.1)",background:n===$?"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)":"rgba(255, 255, 255, 0.9)",color:n===$?"white":"#333",fontWeight:"600",fontSize:"clamp(0.85rem, 2vw, 1rem)",cursor:"pointer",transition:"all 0.3s ease",boxShadow:n===$?"0 4px 12px rgba(220, 38, 38, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:$},$))}),h.jsxs("button",{onClick:z,disabled:n===_,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 2.5vw, 1.5rem)",background:n===_?"rgba(200, 200, 200, 0.5)":"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",fontWeight:"600",fontSize:"clamp(0.85rem, 1.8vw, 1rem)",cursor:n===_?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",opacity:n===_?.5:1},children:[h.jsx("span",{children:""}),h.jsx(TS,{size:20})]})]})]})]})]})},u6=()=>{const[r,e]=O.useState({name:"",email:"",subject:"",message:""});return h.jsxs("main",{style:{position:"relative",minHeight:"100vh",paddingBottom:"170px",overflow:"hidden"},children:[h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",top:"clamp(-180px, -10vh, 0px)",right:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(220, 38, 38, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsx("div",{style:{position:"absolute",width:"min(700px, 80vw)",height:"min(700px, 80vw)",bottom:"clamp(50px, 10vh, 100px)",left:"clamp(-100px, 1vw, 10px)",opacity:.7,pointerEvents:"none",background:"radial-gradient(circle, rgba(125, 19, 21, 0.15) 0%, transparent 70%)",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"clamp(1rem, 3vw, 2rem)"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2rem, 5vw, 3rem)"},children:[h.jsx("h1",{style:{fontSize:"clamp(1.75rem, 4vw, 2.5rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:""}),h.jsx("div",{style:{width:"clamp(60px, 10vw, 80px)",height:"4px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}}),h.jsx("p",{style:{color:"#666",fontSize:"clamp(0.95rem, 2vw, 1.1rem)",padding:"0 1rem"},children:" "})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(KS,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:""}),h.jsxs("p",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:["",h.jsx("br",{}),"",h.jsx("br",{}),"",h.jsx("br",{}),"123  .",h.jsx("br",{}),". . 40002"]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(JS,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:""}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:":"}),h.jsx("br",{}),"043-202-845"]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:":"}),h.jsx("br",{}),"043-202-846"]}),h.jsxs("p",{children:[h.jsx("strong",{children:":"}),h.jsx("br",{}),"043-202-847"]})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(Om,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:""}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)",wordBreak:"break-word"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:":"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"com@kku.ac.th"})]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:":"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:admission.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"admission.com@kku.ac.th"})]}),h.jsxs("p",{children:[h.jsx("strong",{children:":"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:research.com@kku.ac.th",style:{color:"#dc2626",textDecoration:"none"},children:"research.com@kku.ac.th"})]})]})]})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(300px, 100%), 1fr))",gap:"clamp(1rem, 3vw, 2rem)",marginBottom:"clamp(2rem, 4vw, 3rem)"},children:[h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(jS,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:""}),h.jsxs("div",{style:{color:"#666",lineHeight:"1.8",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:" - "}),h.jsx("br",{}),"08:30 - 16:30 ."]}),h.jsxs("p",{style:{marginBottom:"0.5rem"},children:[h.jsx("strong",{children:" - "}),h.jsx("br",{}),""]}),h.jsx("p",{style:{padding:"0.75rem",background:"rgba(220, 38, 38, 0.1)",borderRadius:"8px",marginTop:"1rem",fontSize:"clamp(0.8rem, 1.8vw, 0.9rem)"},children:" "})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"clamp(50px, 8vw, 60px)",background:"linear-gradient(135deg, #dc2626 0%, #7d1315 100%)",borderRadius:"clamp(12px, 2vw, 16px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:h.jsx(K1,{size:Math.min(30,window.innerWidth*.05),color:"white"})}),h.jsx("h3",{style:{fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"bold",marginBottom:"1rem",color:"#1a1a1a"},children:""}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[h.jsxs("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#1877f2",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.transform="translateX(4px)",n.currentTarget.style.boxShadow="0 4px 12px rgba(24, 119, 242, 0.3)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateX(0)",n.currentTarget.style.boxShadow="none"},children:[h.jsx(OS,{size:24}),h.jsx("span",{children:"Facebook Page"})]}),h.jsxs("a",{href:"https://eng.kku.ac.th",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(0.75rem, 2.5vw, 1rem)",background:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(0,0,0,0.1)",borderRadius:"12px",color:"#dc2626",textDecoration:"none",fontWeight:"600",fontSize:"clamp(0.875rem, 2vw, 1rem)",transition:"all 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.transform="translateX(4px)",n.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateX(0)",n.currentTarget.style.boxShadow="none"},children:[h.jsx(K1,{size:24}),h.jsx("span",{children:""})]})]})]})]}),h.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(16px, 3vw, 24px)",padding:"clamp(1.5rem, 3vw, 2rem)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.18)",marginBottom:"2rem"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[h.jsx("h2",{style:{fontSize:"clamp(1.5rem, 3.5vw, 2rem)",fontWeight:"bold",marginBottom:"0.5rem",color:"#1a1a1a"},children:""}),h.jsx("div",{style:{width:"clamp(50px, 8vw, 60px)",height:"3px",background:"linear-gradient(to right, #dc2626, #7d1315)",margin:"1rem auto",borderRadius:"2px"}})]}),h.jsx("div",{style:{borderRadius:"clamp(12px, 2vw, 16px)",overflow:"hidden",border:"2px solid rgba(0,0,0,0.1)",height:"clamp(300px, 50vw, 450px)",background:"#f0f0f0"},children:h.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3826.664755555556!2d102.81472!3d16.46778!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31228a1b3f0d1b1f%3A0x1b1b1b1b1b1b1b1b!2sKhon%20Kaen%20University!5e0!3m2!1sen!2sth!4v1234567890",width:"100%",height:"100%",style:{border:"none"},allowFullScreen:!0,loading:"lazy",title:" ."})})]}),h.jsx("div",{style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",borderRadius:"clamp(12px, 2vw, 16px)",padding:"clamp(1rem, 2.5vw, 1.5rem)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 255, 255, 0.18)",textAlign:"center"},children:h.jsxs("p",{style:{color:"#666",margin:0,lineHeight:"1.6",fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:[h.jsx("strong",{style:{color:"#1a1a1a"},children:":"}),"   3  "]})})]})]})},h6=({rating:r,onRatingChange:e})=>{const[n,s]=O.useState(0);return h.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(o=>h.jsx("button",{type:"button",className:`w-8 h-8 focus:outline-none transition-colors duration-200 ${o<=(n||r)?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-yellow-300"}`,onClick:()=>e(o),onMouseEnter:()=>s(o),onMouseLeave:()=>s(0),children:h.jsx("svg",{className:"w-full h-full fill-current",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},o)),h.jsx("span",{className:"ml-2 text-sm text-gray-600",children:r>0?`${r}/5 `:""})]})};function d6(){const[r,e]=O.useState(""),[n,s]=O.useState(""),[o,c]=O.useState("general"),[f,p]=O.useState(""),[g,y]=O.useState(0),[_,E]=O.useState(!1),[A,V]=O.useState(!1),[z,K]=O.useState(""),L=async q=>{if(q.preventDefault(),g===0){K("");return}if(!f.trim()){K("");return}V(!0),K("");try{await Zl(Zn(Ut,"feedbacks"),{name:r.trim()||"",email:n.trim()||null,feedbackType:o,message:f.trim(),rating:g,timestamp:m4(),status:"unread"}),console.log("Feedback saved to Firebase successfully!"),E(!0)}catch(se){console.error("Error saving feedback:",se),K(" Feedback ")}finally{V(!1)}},$=()=>{E(!1),e(""),s(""),c("general"),p(""),y(0),K("")};return h.jsxs("main",{className:"card-wrap",style:{position:"relative"},children:[h.jsx("img",{src:tn.bgImage1,alt:"",className:"absolute pointer-events-none opacity-70",style:{width:"700px",height:"700px",top:"-180px",right:"10px",zIndex:0}}),h.jsxs("div",{style:{position:"relative",zIndex:10},children:[h.jsx(gp,{title:"",desc:""}),h.jsx("section",{className:"card card-translucent",children:h.jsx("div",{className:"card-inner",children:_?h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),h.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"! "}),h.jsx("p",{className:"text-lg text-gray-600 mb-2",children:""}),g>0&&h.jsxs("p",{className:"text-md text-gray-500",children:[": ",g,"/5  "]})]}),h.jsx("button",{onClick:$,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl",children:""})]}):h.jsxs("form",{onSubmit:L,className:"space-y-6",children:[z&&h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"text-red-800 text-sm",children:z})}),h.jsx("button",{type:"button",onClick:()=>K(""),className:"text-red-600 hover:text-red-800",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),h.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-lg border border-yellow-200",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:" *"}),h.jsx(h6,{rating:g,onRatingChange:y})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:" ()"}),h.jsx("input",{type:"text",id:"name",value:r,onChange:q=>e(q.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:""})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" (, )"}),h.jsx("input",{type:"email",id:"email",value:n,onChange:q=>s(q.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"example@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-gray-700",children:""}),h.jsxs("select",{id:"feedbackType",value:o,onChange:q=>c(q.target.value),disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[h.jsx("option",{value:"general",children:" "}),h.jsx("option",{value:"bug",children:" /"}),h.jsx("option",{value:"suggestion",children:" /"}),h.jsx("option",{value:"compliment",children:" "})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:" *"}),h.jsx("textarea",{id:"message",rows:"5",value:f,onChange:q=>p(q.target.value),required:!0,disabled:A,className:"mt-1 block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"..."})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:$,disabled:A,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),h.jsx("button",{type:"submit",disabled:!f.trim()||g===0||A,className:"px-8 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:from-[#b91c1c] hover:to-[#6b1513] focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):h.jsx(h.Fragment,{children:" "})})]}),(!f.trim()||g===0)&&!A&&h.jsx("div",{className:"text-sm text-gray-500 text-center",children:"* "})]})})})]})]})}const f6=({sidebarOpen:r,setSidebarOpen:e,currentMenu:n,setCurrentMenu:s,setSelectedCourse:o,setShowNewsForm:c,user:f,onLogout:p})=>h.jsxs("div",{className:`${r?"w-full md:w-64":"w-0"} bg-gradient-to-b from-[#dc2626] to-[#7d1315] transition-all duration-300 overflow-hidden flex flex-col fixed md:relative h-full z-20`,children:[h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-white",children:"CODME"}),h.jsx("button",{onClick:()=>e(!1),className:"text-white hover:bg-white/10 p-1 rounded md:hidden",children:h.jsx(nc,{size:24})})]}),h.jsxs("nav",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>{s("courses"),o(null)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="courses"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(Z2,{size:20}),h.jsx("span",{children:""})]}),h.jsxs("button",{onClick:()=>{s("news"),o(null),c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="news"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(e_,{size:20}),h.jsx("span",{children:""})]}),h.jsxs("button",{onClick:()=>{s("feedback"),o(null),c(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 text-white rounded-lg transition-colors ${n==="feedback"?"bg-white/10":"hover:bg-white/10"}`,children:[h.jsx(lo,{size:20}),h.jsx("span",{children:" Feedback"})]})]})]}),h.jsxs("div",{className:"mt-auto p-6 border-t border-white/20",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[f?.photoURL?h.jsx("img",{src:f.photoURL,alt:f.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}):h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white font-bold",children:f?.displayName?.charAt(0)?.toUpperCase()||f?.email?.charAt(0)?.toUpperCase()||"A"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-white font-medium text-sm truncate",children:f?.displayName||f?.email?.split("@")[0]||"Admin User"}),h.jsx("p",{className:"text-red-200 text-xs truncate",children:f?.email||"admin@codme.com"})]})]}),h.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors text-sm",children:[h.jsx(HS,{size:16}),h.jsx("span",{children:""})]})]})]}),m6=()=>{const[r]=O.useState([{id:"com",name:"",engName:"Computer Engineering",courseId:"COM-2565"},{id:"dme",name:"",engName:"Digital Media Engineering",courseId:"DME-2565"}]),[e,n]=O.useState(null),[s,o]=O.useState({}),[c,f]=O.useState(!1),[p,g]=O.useState(0),[y,_]=O.useState(""),[E,A]=O.useState("");O.useEffect(()=>{V()},[]);const V=async()=>{try{const ae=await ho(Zn(Ut,"courseFiles")),ie={};ae.forEach(ue=>{const I=ue.data();ie[I.courseId]||(ie[I.courseId]=[]),ie[I.courseId].push({id:ue.id,...I})}),o(ie)}catch(ae){console.error("Error loading files:",ae),A("")}},z=async ae=>new Promise((ie,ue)=>{const I=new FileReader;I.onload=async R=>{try{const T=R.target.result,C=new Uint8Array(T),D=1024*1024;let k="";for(let me=0;me<C.length;me+=D){const Q=C.slice(me,Math.min(me+D,C.length));k+=btoa(Array.from(Q).reduce((W,oe)=>W+String.fromCharCode(oe),""))}k="data:application/pdf;base64,"+k;const N=ae.size,ve=k.length;ie({data:k,originalSize:N,compressedSize:ve,compressionRatio:Math.round(ve/N*100)})}catch(T){ue(T)}},I.onerror=()=>ue(new Error("")),I.readAsArrayBuffer(ae)}),K=(ae,ie=3.5*1024*1024)=>{const ue=[],I=ie;for(let R=0;R<ae.length;R+=I)ue.push(ae.substring(R,R+I));return ue},L=async ae=>{const ie=Array.from(ae.target.files);if(ie.length===0)return;const ue=ie.filter(R=>R.type==="application/pdf");if(ue.length!==ie.length){A(" PDF ");return}f(!0),A(""),_("");let I=0;for(const R of ue)try{_(` ${R.name} (${q(R.size)})...`);const T=await z(R);100-T.compressionRatio>0&&_(`: ${q(T.originalSize)}  ${q(T.compressedSize)}`);const D=T.data.length;if(D<=3.5*1024*1024)_(` ${R.name}...`),await Zl(Zn(Ut,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:R.name,fileSize:q(R.size),originalSize:R.size,compressedSize:D,uploadDate:new Date().toLocaleDateString("th-TH"),fileData:T.data,fileType:R.type,isMultiPart:!1});else{_(` ${R.name} ...`);const k=K(T.data),N=`${e.id}_${Date.now()}_${R.name}`;_(` ${k.length}  ...`),await Zl(Zn(Ut,"courseFiles"),{courseId:e.id,courseName:e.name,fileName:R.name,fileSize:q(R.size),originalSize:R.size,compressedSize:D,uploadDate:new Date().toLocaleDateString("th-TH"),fileType:R.type,isMultiPart:!0,totalParts:k.length,fileId:N});for(let ve=0;ve<k.length;ve++){_(` ${ve+1}/${k.length}  ${R.name}...`),await Zl(Zn(Ut,"courseFileParts"),{fileId:N,partNumber:ve,data:k[ve]});const me=(ve+1)/k.length*(100/ue.length);g(I+me)}}I+=100/ue.length,g(I),_(` ${R.name} !`)}catch(T){console.error("Error uploading file:",T),A(` ${R.name} : ${T.message}`)}f(!1),g(0),_(""),await V(),ae.target.value=""},$=async(ae,ie,ue)=>{if(window.confirm("?"))try{if(_("..."),await jh(ps(Ut,"courseFiles",ie)),ue.isMultiPart){_(` (${ue.totalParts} )...`);const I=await ho(Zn(Ut,"courseFileParts")),R=[];I.forEach(T=>{T.data().fileId===ue.fileId&&R.push(jh(ps(Ut,"courseFileParts",T.id)))}),await Promise.all(R)}_("!"),setTimeout(()=>_(""),2e3),await V()}catch(I){console.error("Error removing file:",I),A("")}},q=ae=>{if(ae===0)return"0 Bytes";const ie=1024,ue=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(ae)/Math.log(ie));return Math.round(ae/Math.pow(ie,I)*100)/100+" "+ue[I]},se=async ae=>{try{let ie=ae.fileData;if(ae.isMultiPart){_(` (${ae.totalParts} )...`);const I=await ho(Zn(Ut,"courseFileParts")),R=[];I.forEach(T=>{const C=T.data();C.fileId===ae.fileId&&R.push({partNumber:C.partNumber,data:C.data})}),R.sort((T,C)=>T.partNumber-C.partNumber),_("..."),ie=R.map(T=>T.data).join(""),_("...")}const ue=document.createElement("a");ue.href=ie,ue.download=ae.fileName,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),_("!"),setTimeout(()=>_(""),2e3)}catch(ie){console.error("Error downloading file:",ie),A("")}};return h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8 text-center",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:""}),h.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:" PDF "})]}),h.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx(J2,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{className:"text-sm text-blue-800",children:[h.jsx("p",{className:"font-semibold mb-1",children:":"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:" PDF  ()"}),h.jsx("li",{children:" (<3.5MB): "}),h.jsx("li",{children:" (>3.5MB):  "}),h.jsx("li",{children:""})]})]})]}),E&&h.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx(pp,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-red-800",children:E}),h.jsx("button",{onClick:()=>A(""),className:"text-sm text-red-600 underline mt-1",children:""})]})]}),y&&h.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:h.jsx("p",{className:"text-green-800 text-sm",children:y})}),e?h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>n(null),className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors font-medium",children:[h.jsx(nc,{size:20,className:"mr-1"}),""]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.name}),h.jsx("p",{className:"text-gray-600",children:e.engName})]}),h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:" PDF"}),h.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors group",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx(t_,{className:"w-12 h-12 text-gray-400 mb-3 group-hover:text-red-600 transition-colors"}),h.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:[h.jsx("span",{className:"font-semibold",children:""})," "]}),h.jsx("p",{className:"text-xs text-gray-500",children:" PDF ()"})]}),h.jsx("input",{type:"file",className:"hidden",accept:".pdf,application/pdf",multiple:!0,onChange:L,disabled:c})]}),c&&h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"..."}),h.jsxs("span",{className:"text-sm font-medium text-red-600",children:[Math.round(p),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-800 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]})]}),s[e.id]?.length>0&&h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:[" (",s[e.id].length,")"]}),h.jsx("div",{className:"space-y-3",children:s[e.id].map(ae=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[h.jsx(PS,{className:"text-red-600 flex-shrink-0",size:24}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"font-medium text-gray-800 truncate",children:ae.fileName}),h.jsxs("p",{className:"text-sm text-gray-500",children:[ae.fileSize,"   ",ae.uploadDate,ae.isMultiPart&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Multi-part"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[h.jsx("button",{onClick:()=>se(ae),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""}),h.jsx("button",{onClick:()=>$(e.id,ae.id,ae),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:h.jsx(gh,{size:18})})]})]},ae.id))})]})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ae=>h.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1",children:ae.name}),s[ae.id]?.length>0&&h.jsxs("span",{className:"bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full font-medium",children:[s[ae.id].length," "]})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-1",children:ae.engName}),h.jsxs("p",{className:"text-gray-500 text-xs",children:[": ",ae.courseId]})]}),h.jsx("button",{onClick:()=>n(ae),className:"w-full px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-800 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:""})]})},ae.id))})]})})},p6=async(r,e={})=>{const{maxWidth:n=1200,maxHeight:s=800,quality:o=.8,maxSizeKB:c=500}=e;return new Promise((f,p)=>{const g=new FileReader;g.onload=y=>{const _=new Image;_.onload=()=>{let E=_.width,A=_.height;if(E>n||A>s){const q=Math.min(n/E,s/A);E=Math.floor(E*q),A=Math.floor(A*q)}const V=document.createElement("canvas");V.width=E,V.height=A;const z=V.getContext("2d");z.imageSmoothingEnabled=!0,z.imageSmoothingQuality="high",z.drawImage(_,0,0,E,A);let K=V.toDataURL("image/jpeg",o),L=o;for(;C2(K)>c&&L>.1;)L-=.1,K=V.toDataURL("image/jpeg",L);const $=C2(K);console.log(` Image compressed: ${Math.round(r.size/1024)}KB  ${$}KB (Quality: ${Math.round(L*100)}%)`),f(K)},_.onerror=()=>{p(new Error(""))},_.src=y.target.result},g.onerror=()=>{p(new Error(""))},g.readAsDataURL(r)})},C2=r=>{const n=(r.split(",")[1]||r).length*3/4;return Math.round(n/1024)},g6=r=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type),y6=r=>r<1024?r+" B":r<1024*1024?(r/1024).toFixed(1)+" KB":(r/(1024*1024)).toFixed(1)+" MB",v6=({message:r,type:e,onClose:n})=>{const s={success:h.jsx(RS,{size:20}),error:h.jsx(CS,{size:20}),warning:h.jsx(pp,{size:20}),info:h.jsx(J2,{size:20})},o={success:"bg-gradient-to-r from-green-500 to-emerald-600 text-white",error:"bg-gradient-to-r from-red-500 to-rose-600 text-white",warning:"bg-gradient-to-r from-amber-500 to-orange-600 text-white",info:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white"};return O.useEffect(()=>{const c=setTimeout(n,3500);return()=>clearTimeout(c)},[n]),h.jsxs("div",{className:`${o[e]} rounded-lg shadow-2xl p-4 flex items-center space-x-3 min-w-[300px] max-w-md animate-slide-in`,children:[h.jsx("div",{className:"flex-shrink-0",children:s[e]}),h.jsx("div",{className:"flex-1 font-medium",children:r}),h.jsx("button",{onClick:n,className:"flex-shrink-0 hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-colors",children:h.jsx(vh,{size:18})})]})},_6=({toasts:r,removeToast:e})=>h.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3",children:r.map(n=>h.jsx(v6,{message:n.message,type:n.type,onClose:()=>e(n.id)},n.id))}),x6=({message:r,onConfirm:e,onCancel:n})=>h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 animate-fade-in",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-scale-in",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:h.jsx(pp,{size:24,className:"text-red-600"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:""})]}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:r}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:opacity-90 transition-opacity font-medium shadow-md",children:", "}),h.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:""})]})]})}),b6=()=>{const[r,e]=O.useState([]),[n,s]=O.useState(!1),[o,c]=O.useState(null),[f,p]=O.useState(null),[g,y]=O.useState(!0),[_,E]=O.useState(!1),[A,V]=O.useState(!1),[z,K]=O.useState([]),[L,$]=O.useState(null),[q,se]=O.useState({title:"",content:"",author:"",category:"",status:"draft"}),ae=["","","","","","","","",""],ie=(W,oe="info")=>{const Se=Date.now()+Math.random();K(M=>[...M,{id:Se,message:W,type:oe}])},ue=W=>{K(oe=>oe.filter(Se=>Se.id!==W))},I=W=>new Promise(oe=>{$({message:W,resolve:oe})}),R=W=>{L&&(L.resolve(W),$(null))};O.useEffect(()=>{T()},[]),O.useEffect(()=>{o?(se({title:o.title||"",content:o.content||"",author:o.author||"",category:o.category||"",status:o.status||"draft"}),p(o.image)):C()},[o]);const T=async()=>{try{y(!0);const W=await YI();e(W)}catch(W){console.error("Error loading news:",W),ie(": "+W.message,"error")}finally{y(!1)}},C=()=>{se({title:"",content:"",author:"",category:"",status:"draft"}),p(null)},D=async W=>{const oe=W.target.files[0];if(!oe)return;if(!g6(oe)){ie(" (JPG, PNG, GIF, WEBP)","error");return}const Se=y6(oe.size);console.log(" Original image size:",Se);try{V(!0);const M=await p6(oe,{maxWidth:1200,maxHeight:800,quality:.85,maxSizeKB:400});p(M);const re=Math.round(M.length*3/4/1024);console.log(` Compressed to: ${re}KB`),ie("!","success")}catch(M){console.error("Error compressing image:",M),ie(": "+M.message,"error")}finally{V(!1)}},k=()=>{p(null)},N=async W=>{if(W.preventDefault(),!q.title||!q.content){ie("","warning");return}E(!0);try{const oe={...q,image:f||null};o?(await WI(o.id,oe),ie("!","success")):(await XI(oe),ie("!","success")),await T(),Q()}catch(oe){console.error("Error saving news:",oe),ie(": "+oe.message,"error")}finally{E(!1)}},ve=async W=>{if(await I("?"))try{await ZI(W),ie("!","success"),await T()}catch(Se){console.error("Error deleting news:",Se),ie(": "+Se.message,"error")}},me=W=>{c(W),s(!0)},Q=()=>{s(!1),c(null),C()};return g?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx($l,{className:"animate-spin mx-auto mb-4",size:48,color:"#dc2626"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"..."})]})}):h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scale-in {
          from {
            transform: scale(0.9);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
        .animate-scale-in {
          animation: scale-in 0.3s ease-out;
        }
      `}),h.jsx(_6,{toasts:z,removeToast:ue}),L&&h.jsx(x6,{message:L.message,onConfirm:()=>R(!0),onCancel:()=>R(!1)}),h.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 md:mb-8",children:" "}),n?h.jsxs("div",{children:[h.jsxs("button",{onClick:Q,className:"mb-6 flex items-center text-gray-600 hover:text-gray-800 transition-colors group",children:[h.jsx(nc,{size:20,className:"mr-1 group-hover:-translate-x-1 transition-transform"}),h.jsx("span",{className:"font-medium",children:""})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 max-w-4xl",children:[h.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-6",children:o?" ":" "}),h.jsxs("form",{onSubmit:N,children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"  ()"}),f?h.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-gray-300",children:[h.jsx("img",{src:f,alt:"Preview",className:"w-full h-64 object-cover"}),h.jsx("button",{type:"button",onClick:k,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:h.jsx(vh,{size:20})}),h.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-60 text-white text-xs px-3 py-1 rounded-full",children:" "})]}):h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-[#dc2626] transition-colors cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"hidden",id:"image-upload",disabled:A}),h.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${A?"opacity-50":""}`,children:A?h.jsxs(h.Fragment,{children:[h.jsx($l,{className:"animate-spin text-[#dc2626] mb-2",size:40}),h.jsx("span",{className:"text-[#dc2626] font-medium",children:"..."}),h.jsx("span",{className:"text-gray-400 text-sm mt-1",children:""})]}):h.jsxs(h.Fragment,{children:[h.jsx(t_,{size:40,className:"text-gray-400 mb-2"}),h.jsx("span",{className:"text-gray-600 font-medium",children:""}),h.jsx("span",{className:"text-gray-400 text-sm mt-1",children:" JPG, PNG, GIF, WEBP"}),h.jsx("span",{className:"text-green-600 text-sm mt-2 font-medium",children:"  ~400KB"})]})})]}),h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" ",h.jsx("strong",{children:""})," "]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",value:q.title,onChange:W=>se({...q,title:W.target.value}),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",placeholder:"..."})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{value:q.content,onChange:W=>se({...q,content:W.target.value}),required:!0,rows:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent resize-none",placeholder:"..."}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Excerpt ()  150 "})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:" "}),h.jsx("input",{type:"text",value:q.author,onChange:W=>se({...q,author:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:" "}),h.jsx("select",{value:q.category,onChange:W=>se({...q,category:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:ae.map(W=>h.jsx("option",{value:W,children:W},W))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:" "}),h.jsxs("select",{value:q.status,onChange:W=>se({...q,status:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#dc2626] focus:border-transparent",children:[h.jsx("option",{value:"draft",children:" "}),h.jsx("option",{value:"published",children:" "})]})]})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{type:"submit",disabled:_,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:_?h.jsxs(h.Fragment,{children:[h.jsx($l,{className:"animate-spin",size:20}),h.jsx("span",{children:"..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(iA,{size:20}),h.jsx("span",{children:o?"":""})]})}),h.jsx("button",{type:"button",onClick:Q,disabled:_,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50",children:""})]})]})]})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("p",{className:"text-gray-600",children:[": ",h.jsx("span",{className:"font-bold text-[#dc2626]",children:r.length})," "]}),h.jsxs("button",{onClick:()=>{c(null),s(!0)},className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-[#dc2626] to-[#7d1315] text-white rounded-lg hover:opacity-90 transition-opacity shadow-md font-medium",children:[h.jsx(Y1,{size:20}),h.jsx("span",{children:""})]})]}),r.length===0?h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[h.jsx("p",{className:"text-gray-500 text-lg mb-4",children:""}),h.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-[#dc2626] text-white rounded-lg hover:opacity-90 transition-opacity",children:[h.jsx(Y1,{size:20}),h.jsx("span",{children:""})]})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(W=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 overflow-hidden hover:-translate-y-1",children:[W.image&&h.jsx("div",{className:"w-full h-48 overflow-hidden bg-gray-100",children:h.jsx("img",{src:W.image,alt:W.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 flex-1 pr-2 line-clamp-2",children:W.title}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium whitespace-nowrap ${W.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:W.status==="published"?" ":" "})]}),h.jsx("div",{className:"flex items-center space-x-2 mb-3",children:h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:W.category})}),h.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:W.excerpt||W.content}),h.jsxs("p",{className:"text-gray-400 text-xs mb-4",children:[" ",W.date,"   ",W.author]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>me(W),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[h.jsx(aA,{size:16}),h.jsx("span",{children:""})]}),h.jsxs("button",{onClick:()=>ve(W.id),className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[h.jsx(gh,{size:16}),h.jsx("span",{children:""})]})]})]})]},W.id))})]})]})})]})},w6=()=>{const[r,e]=O.useState([]),[n,s]=O.useState(!0),[o,c]=O.useState(null),[f,p]=O.useState("all"),[g,y]=O.useState("all"),[_,E]=O.useState({total:0,avgRating:0,byType:{},byRating:{}}),[A,V]=O.useState(""),[z,K]=O.useState(!1);O.useEffect(()=>{L()},[]);const L=async()=>{try{s(!0),V("");const T=tg(Zn(Ut,"feedbacks"),ig("timestamp","desc")),D=(await ho(T)).docs.map(k=>({id:k.id,...k.data(),timestamp:k.data().timestamp?.toDate()||new Date}));e(D),q(D)}catch(T){console.error("Error loading feedbacks:",T),V(" Feedback  ")}finally{s(!1)}},$=async()=>{K(!0),await L(),K(!1)},q=T=>{const C=T.length,D=C>0?T.reduce((ve,me)=>ve+(me.rating||0),0)/C:0,k=T.reduce((ve,me)=>(ve[me.feedbackType]=(ve[me.feedbackType]||0)+1,ve),{}),N=T.reduce((ve,me)=>(ve[me.rating]=(ve[me.rating]||0)+1,ve),{});E({total:C,avgRating:D,byType:k,byRating:N})},se=async T=>{if(window.confirm(" Feedback ?"))try{V(""),await jh(ps(Ut,"feedbacks",T));const C=r.filter(D=>D.id!==T);e(C),q(C),c(null)}catch(C){console.error("Error deleting feedback:",C),V(" Feedback  ")}},ae=async T=>{try{await Kx(ps(Ut,"feedbacks",T),{status:"read"});const C=r.map(D=>D.id===T?{...D,status:"read"}:D);e(C)}catch(C){console.error("Error updating feedback:",C)}},ie=T=>({general:"",bug:"",suggestion:"",compliment:""})[T]||"",ue=T=>({general:"",bug:"",suggestion:"",compliment:""})[T]||"",I=r.filter(T=>!(f!=="all"&&T.feedbackType!==f||g!=="all"&&T.rating!==parseInt(g))),R=({rating:T})=>h.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(C=>h.jsx(Q1,{size:16,className:C<=T?"fill-yellow-400 text-yellow-400":"text-gray-300"},C)),h.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[T,"/5"]})]});return n?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(lo,{className:"text-red-600",size:32}),h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:" Feedback"})]}),h.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-red-600 to-red-800 mb-4"}),h.jsx("p",{className:"text-gray-600",children:""})]}),h.jsxs("button",{onClick:$,disabled:z,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 disabled:opacity-50",children:[h.jsx(nA,{size:18,className:z?"animate-spin":""}),""]})]})}),A&&h.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h.jsx("div",{className:"flex-1",children:h.jsx("p",{className:"text-red-800 text-sm",children:A})}),h.jsx("button",{onClick:()=>V(""),className:"text-red-600 hover:text-red-800",children:h.jsx(vh,{size:18})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Feedback "}),h.jsx("p",{className:"text-3xl font-bold text-gray-800",children:_.total})]}),h.jsx(lo,{className:"text-blue-600",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),h.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:_.avgRating.toFixed(1)})]}),h.jsx(Q1,{className:"text-yellow-400 fill-yellow-400",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),h.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.byType.compliment||0})]}),h.jsx(uA,{className:"text-green-600",size:32})]})}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),h.jsx("p",{className:"text-3xl font-bold text-red-600",children:_.byType.bug||0})]}),h.jsx("span",{className:"text-4xl",children:""})]})})]}),h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsx(US,{className:"text-gray-600",size:20}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-gray-600",children:":"}),h.jsxs("select",{value:f,onChange:T=>p(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"general",children:""}),h.jsx("option",{value:"bug",children:""}),h.jsx("option",{value:"suggestion",children:""}),h.jsx("option",{value:"compliment",children:""})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-gray-600",children:":"}),h.jsxs("select",{value:g,onChange:T=>y(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"5",children:"5 "}),h.jsx("option",{value:"4",children:"4 "}),h.jsx("option",{value:"3",children:"3 "}),h.jsx("option",{value:"2",children:"2 "}),h.jsx("option",{value:"1",children:"1 "})]})]})]})}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Feedback  (",I.length,")"]})}),I.length===0?h.jsxs("div",{className:"p-12 text-center",children:[h.jsx(lo,{className:"mx-auto mb-4 text-gray-400",size:48}),h.jsx("p",{className:"text-gray-600",children:r.length===0?" Feedback":" Feedback "})]}):h.jsx("div",{className:"divide-y divide-gray-200",children:I.map(T=>h.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${T.status==="unread"?"bg-blue-50":""}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[h.jsx("span",{className:"text-2xl",children:ie(T.feedbackType)}),h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:ue(T.feedbackType)}),T.status==="unread"&&h.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:""}),h.jsx(R,{rating:T.rating})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-600 flex-wrap",children:[T.name&&T.name!==""&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(yh,{size:14}),h.jsx("span",{children:T.name})]}),T.email&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Om,{size:14}),h.jsx("span",{children:T.email})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ph,{size:14}),h.jsx("span",{children:T.timestamp.toLocaleDateString("th-TH")})]})]}),h.jsx("p",{className:"text-gray-700 line-clamp-2",children:T.message})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{c(T),T.status==="unread"&&ae(T.id)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:h.jsx(kS,{size:18})}),h.jsx("button",{onClick:()=>se(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:h.jsx(gh,{size:18})})]})]})},T.id))})]})]}),o&&h.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-white bg-opacity-30 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" Feedback"}),h.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(vh,{size:20})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-3xl",children:ie(o.feedbackType)}),h.jsx("div",{children:h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full font-medium",children:ue(o.feedbackType)})})]}),h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:""}),h.jsx(R,{rating:o.rating})]}),o.name&&o.name!==""&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(yh,{size:16}),""]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.name})]}),o.email&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(Om,{size:16}),""]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.email})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[h.jsx(ph,{size:16}),""]}),h.jsx("p",{className:"text-gray-800 font-medium",children:o.timestamp.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center gap-2",children:[h.jsx(lo,{size:16}),""]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:h.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.message})})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsxs("button",{onClick:()=>se(o.id),className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[h.jsx(gh,{size:18})," Feedback"]}),h.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:""})]})]})]})})]})};lp.setCustomParameters({prompt:"select_account"});const E6=({isOpen:r,onClose:e,onConfirm:n,userName:s})=>r?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full animate-[fadeIn_0.2s_ease-out]",children:h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"bg-red-100 rounded-full p-3",children:h.jsx(dA,{className:"text-[#dc2626]",size:32})})}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:""}),h.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["?",s&&h.jsxs("span",{className:"block mt-2 font-medium text-gray-800",children:["(",s,")"]})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:""}),h.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#dc2626] to-[#b91c1c] text-white rounded-lg font-semibold hover:from-[#b91c1c] hover:to-[#991b1b] transition-all shadow-lg",children:""})]})]})})}):null,T6=({onLoginSuccess:r})=>{const[e,n]=O.useState(!0),[s,o]=O.useState(!0),[c,f]=O.useState(null),p=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;O.useEffect(()=>{(async()=>{console.log(" Checking redirect result..."),console.log(" Current URL:",window.location.href);try{const _=await oI(ec);console.log(" Redirect result:",_),_&&_.user?(console.log(" Login successful via redirect!"),console.log(" User:",{uid:_.user.uid,email:_.user.email,name:_.user.displayName}),r(_.user)):console.log(" No redirect result (normal page load)")}catch(_){console.error(" Redirect error:",_),console.error("Code:",_.code),console.error("Message:",_.message),f(`: ${_.message}`)}finally{n(!1),o(!1),console.log(" Check completed")}})()},[r]);const g=async()=>{if(!e){n(!0),f(null),console.log(" Login button clicked"),console.log(" Device:",p()?"Mobile":"Desktop"),console.log(" Origin:",window.location.origin);try{console.log(" Attempting popup login...");const y=await JC(ec,lp);console.log(" Popup login successful!"),console.log(" User:",{uid:y.user.uid,email:y.user.email,name:y.user.displayName}),r(y.user)}catch(y){if(console.error(" Popup error:",y),console.error("Code:",y.code),y.code==="auth/popup-blocked"&&p()){console.log(" Popup blocked, trying redirect...");try{await sI(ec,lp),console.log(" Redirect initiated")}catch(_){console.error(" Redirect error:",_),f(`: ${_.message}`),n(!1)}}else y.code==="auth/unauthorized-domain"?(console.error(" Domain not authorized!"),f("  domain  Firebase Console  Authentication  Authorized domains: "+window.location.hostname),n(!1)):(y.code!=="auth/popup-closed-by-user"&&y.code!=="auth/cancelled-popup-request"&&f(`: ${y.message}`),n(!1))}}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-block bg-gradient-to-r from-[#dc2626] to-[#7d1315] px-6 py-4 rounded-xl mb-4",children:h.jsx("h1",{className:"text-2xl font-bold text-white",children:"CODME"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),h.jsx("p",{className:"text-gray-600",children:""})]}),c&&h.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600 break-words",children:c})}),s&&h.jsxs("div",{className:"mb-4 text-center text-sm text-gray-600",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-[#dc2626] mx-auto mb-2"}),"..."]}),h.jsx("button",{onClick:g,disabled:e||s,className:"w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:e&&!s?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-[#dc2626]"}),h.jsx("span",{children:"..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h.jsx("span",{children:" Google"})]})}),h.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[h.jsx("p",{children:""}),h.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Domain: ",window.location.hostname]})]})]})})},S6=()=>{const[r,e]=O.useState(null),[n,s]=O.useState(!0),[o,c]=O.useState(!1),[f,p]=O.useState("courses"),[g,y]=O.useState(null),[_,E]=O.useState({course1:[],course2:[]}),[A,V]=O.useState(!0),[z,K]=O.useState([{id:1,title:"",date:"2025-10-25",content:"...",status:"published"},{id:2,title:"",date:"2025-10-20",content:"...",status:"draft"}]),[L,$]=O.useState(null),[q,se]=O.useState(!1);O.useEffect(()=>{const me=DC(ec,Q=>{console.log(" Auth state changed:",Q?" Logged in":" Not logged in"),Q&&console.log(" Current user:",{uid:Q.uid,email:Q.email,name:Q.displayName}),e(Q),s(!1)});return()=>me()},[]);const ae=[{id:"course1",name:" Python",courseId:"1"},{id:"course2",name:"",courseId:"2"}],ie=me=>{const W=Array.from(me.target.files).filter(oe=>oe.type==="application/pdf");W.length>0&&E(oe=>({...oe,[g.id]:[...oe[g.id]||[],...W.map(Se=>({name:Se.name,size:(Se.size/1024).toFixed(2)+" KB",uploadDate:new Date().toLocaleDateString("th-TH")}))]}))},ue=(me,Q)=>{E(W=>({...W,[me]:W[me].filter((oe,Se)=>Se!==Q)}))},I=me=>{me.preventDefault();const Q=new FormData(me.target),W={id:L?L.id:Date.now(),title:Q.get("title"),content:Q.get("content"),date:new Date().toISOString().split("T")[0],status:Q.get("status")};K(L?z.map(oe=>oe.id===L.id?W:oe):[W,...z]),se(!1),$(null)},R=me=>{window.confirm("?")&&K(z.filter(Q=>Q.id!==me))},T=me=>{$(me),se(!0)},C=()=>{c(!0)},D=async()=>{try{await kC(ec),console.log(" Logout successful"),e(null),c(!1)}catch(me){console.error(" Logout error:",me),alert("")}},k=()=>{c(!1)},N=()=>f==="news"?{icon:h.jsx(e_,{className:"mr-3 text-[#dc2626]",size:28}),title:q?L?"":"":""}:f==="feedback"?{icon:h.jsx(lo,{className:"mr-3 text-[#dc2626]",size:28}),title:" Feedback"}:{icon:h.jsx(Z2,{className:"mr-3 text-[#dc2626]",size:28}),title:g?g.name:""};if(n)return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#dc2626] mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})});if(!r)return h.jsx(T6,{onLoginSuccess:e});const ve=N();return h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsx(E6,{isOpen:o,onClose:k,onConfirm:D,userName:r?.displayName||r?.email?.split("@")[0]}),h.jsx(f6,{sidebarOpen:A,setSidebarOpen:V,currentMenu:f,setCurrentMenu:p,setSelectedCourse:y,setShowNewsForm:se,user:r,onLogout:C}),h.jsxs("div",{className:"flex-1 overflow-auto",children:[h.jsxs("div",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between sticky top-0 z-10",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[!A&&h.jsx("button",{onClick:()=>V(!0),className:"p-2 hover:bg-gray-100 rounded-lg",children:h.jsx(QS,{size:24})}),h.jsx("div",{children:h.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[ve.icon,ve.title]})})]}),h.jsx("div",{className:"md:hidden flex items-center space-x-2",children:r?.photoURL?h.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-8 h-8 rounded-full"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-600 text-xs font-bold",children:r?.displayName?.charAt(0)?.toUpperCase()||"A"})})]}),h.jsx("div",{className:"p-8",children:f==="courses"?h.jsx(m6,{courses:ae,selectedCourse:g,setSelectedCourse:y,uploadedFiles:_,handleFileUpload:ie,removeFile:ue}):f==="news"?h.jsx(b6,{news:z,showNewsForm:q,setShowNewsForm:se,editingNews:L,setEditingNews:$,handleNewsSubmit:I,handleDeleteNews:R,handleEditNews:T}):h.jsx(w6,{})})]})]})},A6=()=>{const{pathname:r}=fi();return O.useEffect(()=>{window.scrollTo(0,0)},[r]),null},ea=({children:r})=>h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx(QT,{}),r,h.jsx(sS,{}),h.jsx(hS,{})]}),R6=({children:r})=>h.jsx("div",{className:"min-h-screen bg-white",children:r}),N6=()=>h.jsxs("div",{className:"overflow-x-hidden",children:[h.jsx(dS,{}),h.jsx(t6,{}),h.jsx(JI,{})]}),C6=()=>h.jsx("div",{className:"min-h-screen p-4",children:h.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"404"}),h.jsx("p",{className:"text-xl text-gray-600",children:""})]})})}),I6=()=>h.jsxs(CT,{children:[h.jsx(A6,{}),h.jsxs(aT,{children:[h.jsx(ei,{path:"/",element:h.jsx(ea,{children:h.jsx(N6,{})})}),h.jsx(ei,{path:"/admission",element:h.jsx(ea,{children:h.jsx(o6,{})})}),h.jsx(ei,{path:"/course",element:h.jsx(ea,{children:h.jsx(l6,{})})}),h.jsx(ei,{path:"/activity",element:h.jsx(ea,{children:h.jsx(c6,{})})}),h.jsx(ei,{path:"/contact",element:h.jsx(ea,{children:h.jsx(u6,{})})}),h.jsx(ei,{path:"/feedback",element:h.jsx(ea,{children:h.jsx(d6,{})})}),h.jsx(ei,{path:"/AdminDashboard",element:h.jsx(R6,{children:h.jsx(S6,{})})}),h.jsx(ei,{path:"*",element:h.jsx(ea,{children:h.jsx(C6,{})})})]})]});pE.createRoot(document.getElementById("root")).render(h.jsx(ns.StrictMode,{children:h.jsx(I6,{})}));
